---
title: Database-System
date: 2020-01-02 11:15:07
tags: [Database, StudyNote]
categories: Database
description:
password:
---





#  数据库系统概念





## 引言



DBMS定义：由一个相互关联的数据集合和一组用以访问这些数据的程序组成，这个数据集合同城称作**数据库(Database)**。

DBMS的目标：方便、高效地存取数据库信息



* 四个基本概念
  * 数据（Data）
  * 数据库（Database）
  * 数据库管理系统（DBMS）
  * 数据库系统（DBS）



### 数据

数据（Data）是数据库中存储的基本对象

**数据的定义**：描述事物的符号记录

**数据的种类**：文字、图形、图像、声音

**数据的特点**：数据与其语义是不可分的

！数据的形式不能完全表达其内容



#### 数据结构

**逻辑结构**：数据之间存在的逻辑关系，如表、树、图、数组等

**物理结构**：数据在计算机内的存储方式，如顺序方式、链接方式



### 数据库

数据库（Database，简称DB）是**长期**储存在计算机内、**有组织的**、**可共享**的**大量**数据集合

#### 数据库的特征

* 数据按一定的数据模型组织、描述和储存
* 可为各种用户共享
* 冗余度较小
* 数据独立性较高
* 易扩展



### 数据库管理系统

数据库管理系统（Database Management System，简称DBMS）由一个相互关联的数据的集合和一组用以访问这些数据的程序组成，是位于用户与操作系统之间的一层数据管理软件。

**用途**：科学地组织和存储数据、高效地获取和维护数据



* **数据定义功能**：提供数据定义语言（DDL），定义数据库中的数据对象
* **数据操作功能**：提供数据操纵语言（DML），操纵数据实现对数据库的基本操作（增删改查）
* **数据库的运行管理**：保证数据的安全性、完整性，保证多用户对数据的并发使用，发生故障后的系统恢复
* **数据库的建立和维护功能**：数据库数据批量装载，数据库转储，介质故障恢复，数据库的重组织，性能监视





### 数据库系统

数据库系统（Database System，简称DBS）是指在计算机系统中引入数据库后的系统，在不引起混淆的情况下常常把数据库系统简称为数据库

**数据库系统的组成**：由数据库、数据库管理系统、应用系统（及其开发工具）、数据库管理员（和用户）构成

如下图所示

![](Database-System\1.jpg)



下图为各系统间的关系

![](Database-System\2.jpg)



### 数据管理技术

数据管理：对数据进行分类、组织、编码、存储、检索和维护，是数据处理的中心问题

数据管理的发展动力：应用需求的推动；计算机硬件的发展；计算机软件的发展。

发展阶段：①人工管理阶段（50年代中期以前）②文件系统阶段（50年代后期~60年代中期）③数据库系统阶段（60年代后期开始）



> 早期，数据库应用程序直接建立在文件系统之上，文件系统的弊端如下：
>
> * 数据的冗余和不一致性：多种文件格式，相同的信息在几个文件重复存储
> * 数据访问困难：对于每一个新任务，需要写一个程序
> * 数据孤立：数据分散在不同格式的多个文件中
> * 完整性问题：一致性约束“淹没”在程序代码中，增加新约束或修改现有约束很困难
> * 更新的原子性问题：难以保持原子性，执行部分更新，是的数据处于不一致状态
> * 多用户的并发访问异常：系统的总体性能和相应速度要求：并发访问数据，没有控制的并发访问导致不一致性
> * 安全性问题：控制用户只存取部分数据难以实现
>
> 



数据库的观点：数据不是依赖于处理过程的附属品，而是现实世界中独立存在的对象

数据统一按表结构存放

<center>数据库VS文件系统</center>  
![](Database-System\3.jpg)



### 实例与模式

Instance and Schemas

型(Schema)与值(Instance)的区别：

* 型是对数据的结构和属性的说明——模式
* 值是型的一个具体赋值——实例
* 型是相对稳定的，值是随时间不断变化的



```c++
class person{
	public:	string name;
			string address;
};
person Tom;
//person是型,Tom是变量,Tom在某时刻的值是实例
```



#### 模式：数据库的总体设计

* 通过高级程序设计语言进行类比
* **物理模式**：在物理层描述的数据库设计
* **逻辑模式（子模式）**：在逻辑层描述的数据库设计

#### 实例：在特定时刻存储在数据库中的信息集合

* 类似于一个变量的值

#### 物理数据的独立性：物理模式的改变而不会影响逻辑模式

* 应用依赖于逻辑模式
* 在一般情况下，应明确定义不同层次之间和组件之间的接口，这样某些部分的改变不会对其他部分造成较大影响

#### 逻辑数据的独立性

* 当模式改变时，修改外模式（模式映像），使外模式保持不变，从而应用程序可以保持不变，称为数据的逻辑独立性



### 数据视图



**物理层**：描述数据存储

**逻辑层**：描述存储在数据库中的数据，以及数据间的关系

**视图层**：最高层次的抽象，只描述整个数据库的某部分数据。视图层提供了防止用户访问数据库的某些部分的安全性机制

![](Database-System\4.jpg)

如图，下图的COBOL和PL/I是由由逻辑层创建的两个视图，而最下面那个即是物理层所存放的数据

![](Database-System\5.jpg)





### 数据模型

**数据库结构的基础是数据模型**

数据模型描述的内容：数据、数据关系、数据语义、数据约束

常用数据模型：关系模型、实体-联系数据模型（ER模型，主要用于数据库设计）、基于对象的数据模型（oo数据模型，面向对象和对象关系）、半结构化数据模型（XML，可扩展标记语言）、其他模型（如网状模型、层次模型）等





### 数据库语言



* DML（Data Manipulaton Language）：操纵按照某种适当的数据模型组织起来的数据的语言
  - 查询
  - 更新（增、删、改）

DML分类：①过程化：用户指定需要什么数据以及如何获得这些数据；②声明式（非过程化）：用户指定需要什么数据，而不指明如何获得这些数据

SQL是应用最广泛的DML



* DDL（Data Definition Language）：用于定义数据库模式以及其他特征的语言
  * 数据库模式
  * 完整性约束：
    * 主键（ID，用来确定唯一的instructor）
    * 参照完整性（SQL中的参照约束）
  * 断言
  * 授权

DDL编译器产生一系列存储在**数据字典**中的表，数据字典包含元数据（元数据是关于数据的数据）



### 关系数据库

SQL：是一门广泛使用的非过程化语言

```sql
# 例
# SQL-DML
select instructor.ID, department.building
from instructor, department
where instructor.dept_name = department.dept_name and
		department.dept_nmae = 'Physics';

# SQL-DDL
create table deptment(
	dept_name char(20),
    building char(20),
    budget numberic(12,2)
);

```



来自应用程序的数据库访问：DML由宿主语言执行



### 数据库设计

数据库设计的主要内容是数据库模式的设计

数据库设计过程：

* 获取用户需求
* 概念设计
* 逻辑设计
* 物理设计



现实世界是实体及其实体之间关系的集合

实体：现实世界中区别于其他对象的事情或物体，实体被一组属性所描述

关系：几个实体之间的关联

可以用实体关系图（entity-relationship diagram，E-R图）来表示

![](Database-System\6.jpg)



规范化：数据库设计的另外一种方法，目标是生成一个关系模式集合，是我们的存储信息是没有不必要的冗余，同时又能方便地检索数据

规范化最常用的方法就是使用函数依赖

规范化也提供了判定一个关系模式优劣的标准



### 数据存储和查询

存储管理器是一个程序模块，提供了数据库中存储的低层数据与应用程序以及向系统提交的查询之间的接口

* 存储管理器的任务
  * 与文件管理器交互
  * 对数据的有效的存储、查询、更新
* 存储管理器部件
  * 权限及完整性管理器
  * 事务管理器
  * 文件管理器
  * 缓冲区管理器



#### 查询管理器

查询管理器的组件包括

* DDL解释器：他解释DDL语句，并将这些定义记录在数据字典中
* DML编译器：将查询语言中的DML语句翻译成为一个执行方案
* 查询执行引擎：执行由DML编译器产生的低级指令



![](Database-System\7.jpg)



* 查询处理器的工作过程
  * 解析和转换
  * 优化
  * 计算



过程如下图

![](Database-System\8.jpg)

两方面来评估一个给定查询：①正则表达式②每个操作有不同的实现算法

需要估计操作的开销：关键取决于数据库需要维护的关系的统计信息；需要顾及中间结果的统计数据，从而计算复杂的表达式成本



### 事务管理

**事务**是由一系列操作序列构成的程序执行单元，是一个不可分割的工作单位

**事务管理组件**保证了当系统出现了故障（例如电源故障、操作系统崩溃）或事务失败时，数据库仍然保持一致性（正确性）

**并发控制管理器**控制了并发事务间的相互影响，保证数据库的一致性



### 数据库系统内部结构



![](Database-System\9.jpg)





#### 数据库体系结构

数据库系统的体系结构很大程度上取决于数据库系统所运行的计算机系统

* 集中式
* 客户/服务器式
  * 远程数据库用户工作用的客户机（Clinet）
  * 运行数据库系统的服务器（Server）
* 并行（多处理器）
  * 并行系统通过并行地使用多个处理器和磁盘来提高处理速度和I/O速度
* 分布式
  * 在分布式数据库系统中，数据库存储于几台计算机中，分布式系统中的计算机之间通过网络相互通信，他们不共享主存储器或磁盘



### 数据挖掘

数据挖掘式应用一系列技术从大型数据库或数据仓库中提取人马感兴趣的信息和知识，这些知识或信息式隐含的，实现未知而潜在有用的，提取的知识表示为概念、规则、规律、模式等形式

数据挖掘式一类深层次的数据分析



### 数据库管理员

对数据库系统进行集中控制的人称作数据库管理员（Database Administrator）

* DBA的作用
  * 模式定义
  * 存储结构及存取方法定义
  * 模式及物理组织的修改
  * 数据访问授权
  * 日常维护





## 关系模型

























































































